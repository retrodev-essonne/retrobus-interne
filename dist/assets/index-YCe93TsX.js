function wz(t,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H0={exports:{}},xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function _z(){if(m_)return xf;m_=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:t,type:i,key:d,ref:l!==void 0?l:null,props:u}}return xf.Fragment=n,xf.jsx=r,xf.jsxs=r,xf}var g_;function Ez(){return g_||(g_=1,H0.exports=_z()),H0.exports}var e=Ez(),W0={exports:{}},hn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function Az(){if(x_)return hn;x_=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=j&&B[j]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function T(B,ie,pe){this.props=B,this.context=ie,this.refs=A,this.updater=pe||C}T.prototype.isReactComponent={},T.prototype.setState=function(B,ie){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ie,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=T.prototype;function P(B,ie,pe){this.props=B,this.context=ie,this.refs=A,this.updater=pe||C}var k=P.prototype=new z;k.constructor=P,_(k,T.prototype),k.isPureReactComponent=!0;var I=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function Y(B,ie,pe,$,V,M){return pe=M.ref,{$$typeof:t,type:B,key:ie,ref:pe!==void 0?pe:null,props:M}}function q(B,ie){return Y(B.type,ie,void 0,void 0,void 0,B.props)}function ce(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function de(B){var ie={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return ie[pe]})}var le=/\/+/g;function ve(B,ie){return typeof B=="object"&&B!==null&&B.key!=null?de(""+B.key):ie.toString(36)}function Pe(){}function me(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Pe,Pe):(B.status="pending",B.then(function(ie){B.status==="pending"&&(B.status="fulfilled",B.value=ie)},function(ie){B.status==="pending"&&(B.status="rejected",B.reason=ie)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function G(B,ie,pe,$,V){var M=typeof B;(M==="undefined"||M==="boolean")&&(B=null);var Q=!1;if(B===null)Q=!0;else switch(M){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(B.$$typeof){case t:case n:Q=!0;break;case x:return Q=B._init,G(Q(B._payload),ie,pe,$,V)}}if(Q)return V=V(B),Q=$===""?"."+ve(B,0):$,I(V)?(pe="",Q!=null&&(pe=Q.replace(le,"$&/")+"/"),G(V,ie,pe,"",function(Ae){return Ae})):V!=null&&(ce(V)&&(V=q(V,pe+(V.key==null||B&&B.key===V.key?"":(""+V.key).replace(le,"$&/")+"/")+Q)),ie.push(V)),1;Q=0;var Ee=$===""?".":$+":";if(I(B))for(var Le=0;Le<B.length;Le++)$=B[Le],M=Ee+ve($,Le),Q+=G($,ie,pe,M,V);else if(Le=S(B),typeof Le=="function")for(B=Le.call(B),Le=0;!($=B.next()).done;)$=$.value,M=Ee+ve($,Le++),Q+=G($,ie,pe,M,V);else if(M==="object"){if(typeof B.then=="function")return G(me(B),ie,pe,$,V);throw ie=String(B),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Q}function Z(B,ie,pe){if(B==null)return B;var $=[],V=0;return G(B,$,"","",function(M){return ie.call(pe,M,V++)}),$}function H(B){if(B._status===-1){var ie=B._result;ie=ie(),ie.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=ie)}if(B._status===1)return B._result.default;throw B._result}var W=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Se(){}return hn.Children={map:Z,forEach:function(B,ie,pe){Z(B,function(){ie.apply(this,arguments)},pe)},count:function(B){var ie=0;return Z(B,function(){ie++}),ie},toArray:function(B){return Z(B,function(ie){return ie})||[]},only:function(B){if(!ce(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},hn.Component=T,hn.Fragment=r,hn.Profiler=l,hn.PureComponent=P,hn.StrictMode=i,hn.Suspense=p,hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,hn.__COMPILER_RUNTIME={__proto__:null,c:function(B){return N.H.useMemoCache(B)}},hn.cache=function(B){return function(){return B.apply(null,arguments)}},hn.cloneElement=function(B,ie,pe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var $=_({},B.props),V=B.key,M=void 0;if(ie!=null)for(Q in ie.ref!==void 0&&(M=void 0),ie.key!==void 0&&(V=""+ie.key),ie)!F.call(ie,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&ie.ref===void 0||($[Q]=ie[Q]);var Q=arguments.length-2;if(Q===1)$.children=pe;else if(1<Q){for(var Ee=Array(Q),Le=0;Le<Q;Le++)Ee[Le]=arguments[Le+2];$.children=Ee}return Y(B.type,V,void 0,void 0,M,$)},hn.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},hn.createElement=function(B,ie,pe){var $,V={},M=null;if(ie!=null)for($ in ie.key!==void 0&&(M=""+ie.key),ie)F.call(ie,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(V[$]=ie[$]);var Q=arguments.length-2;if(Q===1)V.children=pe;else if(1<Q){for(var Ee=Array(Q),Le=0;Le<Q;Le++)Ee[Le]=arguments[Le+2];V.children=Ee}if(B&&B.defaultProps)for($ in Q=B.defaultProps,Q)V[$]===void 0&&(V[$]=Q[$]);return Y(B,M,void 0,void 0,null,V)},hn.createRef=function(){return{current:null}},hn.forwardRef=function(B){return{$$typeof:m,render:B}},hn.isValidElement=ce,hn.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:H}},hn.memo=function(B,ie){return{$$typeof:g,type:B,compare:ie===void 0?null:ie}},hn.startTransition=function(B){var ie=N.T,pe={};N.T=pe;try{var $=B(),V=N.S;V!==null&&V(pe,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Se,W)}catch(M){W(M)}finally{N.T=ie}},hn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},hn.use=function(B){return N.H.use(B)},hn.useActionState=function(B,ie,pe){return N.H.useActionState(B,ie,pe)},hn.useCallback=function(B,ie){return N.H.useCallback(B,ie)},hn.useContext=function(B){return N.H.useContext(B)},hn.useDebugValue=function(){},hn.useDeferredValue=function(B,ie){return N.H.useDeferredValue(B,ie)},hn.useEffect=function(B,ie,pe){var $=N.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(B,ie)},hn.useId=function(){return N.H.useId()},hn.useImperativeHandle=function(B,ie,pe){return N.H.useImperativeHandle(B,ie,pe)},hn.useInsertionEffect=function(B,ie){return N.H.useInsertionEffect(B,ie)},hn.useLayoutEffect=function(B,ie){return N.H.useLayoutEffect(B,ie)},hn.useMemo=function(B,ie){return N.H.useMemo(B,ie)},hn.useOptimistic=function(B,ie){return N.H.useOptimistic(B,ie)},hn.useReducer=function(B,ie,pe){return N.H.useReducer(B,ie,pe)},hn.useRef=function(B){return N.H.useRef(B)},hn.useState=function(B){return N.H.useState(B)},hn.useSyncExternalStore=function(B,ie,pe){return N.H.useSyncExternalStore(B,ie,pe)},hn.useTransition=function(){return N.H.useTransition()},hn.version="19.1.1",hn}var v_;function Ej(){return v_||(v_=1,W0.exports=Az()),W0.exports}var y=Ej();const fn=Dp(y),y_=wz({__proto__:null,default:fn},[y]);var q0={exports:{}},vf={},G0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function Tz(){return b_||(b_=1,(function(t){function n(Z,H){var W=Z.length;Z.push(H);e:for(;0<W;){var Se=W-1>>>1,B=Z[Se];if(0<l(B,H))Z[Se]=H,Z[W]=B,W=Se;else break e}}function r(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var H=Z[0],W=Z.pop();if(W!==H){Z[0]=W;e:for(var Se=0,B=Z.length,ie=B>>>1;Se<ie;){var pe=2*(Se+1)-1,$=Z[pe],V=pe+1,M=Z[V];if(0>l($,W))V<B&&0>l(M,$)?(Z[Se]=M,Z[V]=W,Se=V):(Z[Se]=$,Z[pe]=W,Se=pe);else if(V<B&&0>l(M,W))Z[Se]=M,Z[V]=W,Se=V;else break e}}return H}function l(Z,H){var W=Z.sortIndex-H.sortIndex;return W!==0?W:Z.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,j=null,S=3,C=!1,_=!1,A=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function I(Z){for(var H=r(g);H!==null;){if(H.callback===null)i(g);else if(H.startTime<=Z)i(g),H.sortIndex=H.expirationTime,n(p,H);else break;H=r(g)}}function N(Z){if(A=!1,I(Z),!_)if(r(p)!==null)_=!0,F||(F=!0,ve());else{var H=r(g);H!==null&&G(N,H.startTime-Z)}}var F=!1,Y=-1,q=5,ce=-1;function de(){return T?!0:!(t.unstable_now()-ce<q)}function le(){if(T=!1,F){var Z=t.unstable_now();ce=Z;var H=!0;try{e:{_=!1,A&&(A=!1,P(Y),Y=-1),C=!0;var W=S;try{t:{for(I(Z),j=r(p);j!==null&&!(j.expirationTime>Z&&de());){var Se=j.callback;if(typeof Se=="function"){j.callback=null,S=j.priorityLevel;var B=Se(j.expirationTime<=Z);if(Z=t.unstable_now(),typeof B=="function"){j.callback=B,I(Z),H=!0;break t}j===r(p)&&i(p),I(Z)}else i(p);j=r(p)}if(j!==null)H=!0;else{var ie=r(g);ie!==null&&G(N,ie.startTime-Z),H=!1}}break e}finally{j=null,S=W,C=!1}H=void 0}}finally{H?ve():F=!1}}}var ve;if(typeof k=="function")ve=function(){k(le)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,me=Pe.port2;Pe.port1.onmessage=le,ve=function(){me.postMessage(null)}}else ve=function(){z(le,0)};function G(Z,H){Y=z(function(){Z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var W=S;S=H;try{return Z()}finally{S=W}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Z,H){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var W=S;S=Z;try{return H()}finally{S=W}},t.unstable_scheduleCallback=function(Z,H,W){var Se=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Se+W:Se):W=Se,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,Z={id:x++,callback:H,priorityLevel:Z,startTime:W,expirationTime:B,sortIndex:-1},W>Se?(Z.sortIndex=W,n(g,Z),r(p)===null&&Z===r(g)&&(A?(P(Y),Y=-1):A=!0,G(N,W-Se))):(Z.sortIndex=B,n(p,Z),_||C||(_=!0,F||(F=!0,ve()))),Z},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(Z){var H=S;return function(){var W=S;S=H;try{return Z.apply(this,arguments)}finally{S=W}}}})(Z0)),Z0}var j_;function kz(){return j_||(j_=1,G0.exports=Tz()),G0.exports}var Y0={exports:{}},Hs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function Pz(){if(S_)return Hs;S_=1;var t=Ej();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:j==null?null:""+j,children:p,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Hs.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(p,g,null,x)},Hs.flushSync=function(p){var g=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=x,i.d.f()}},Hs.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Hs.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Hs.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,j=m(x,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:j,integrity:S,fetchPriority:C}):x==="script"&&i.d.X(p,{crossOrigin:j,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Hs.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Hs.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,j=m(x,g.crossOrigin);i.d.L(p,x,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Hs.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Hs.requestFormReset=function(p){i.d.r(p)},Hs.unstable_batchedUpdates=function(p,g){return p(g)},Hs.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},Hs.useFormStatus=function(){return d.H.useHostTransitionStatus()},Hs.version="19.1.1",Hs}var C_;function WA(){if(C_)return Y0.exports;C_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Y0.exports=Pz(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function Rz(){if(w_)return vf;w_=1;var t=kz(),n=Ej(),r=WA();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function d(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function m(s){if(u(s)!==s)throw Error(i(188))}function p(s){var o=s.alternate;if(!o){if(o=u(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,f=o;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(f=b.return,f!==null){c=f;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return m(b),s;if(w===f)return m(b),o;w=w.sibling}throw Error(i(188))}if(c.return!==f.return)c=b,f=w;else{for(var U=!1,K=b.child;K;){if(K===c){U=!0,c=b,f=w;break}if(K===f){U=!0,f=b,c=w;break}K=K.sibling}if(!U){for(K=w.child;K;){if(K===c){U=!0,c=w,f=b;break}if(K===f){U=!0,f=w,c=b;break}K=K.sibling}if(!U)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),k=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var Pe=Symbol.for("react.client.reference");function me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Pe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case F:return"SuspenseList";case ce:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case k:return(s.displayName||"Context")+".Provider";case P:return(s._context.displayName||"Context")+".Consumer";case I:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return o=s.displayName||null,o!==null?o:me(s.type)||"Memo";case q:o=s._payload,s=s._init;try{return me(s(o))}catch{}}return null}var G=Array.isArray,Z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Se=[],B=-1;function ie(s){return{current:s}}function pe(s){0>B||(s.current=Se[B],Se[B]=null,B--)}function $(s,o){B++,Se[B]=s.current,s.current=o}var V=ie(null),M=ie(null),Q=ie(null),Ee=ie(null);function Le(s,o){switch($(Q,o),$(M,s),$(V,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Uw(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Uw(o),s=Hw(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}pe(V),$(V,s)}function Ae(){pe(V),pe(M),pe(Q)}function it(s){s.memoizedState!==null&&$(Ee,s);var o=V.current,c=Hw(o,s.type);o!==c&&($(M,s),$(V,c))}function ct(s){M.current===s&&(pe(V),pe(M)),Ee.current===s&&(pe(Ee),hf._currentValue=W)}var Je=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Ve=t.unstable_cancelCallback,$t=t.unstable_shouldYield,be=t.unstable_requestPaint,Ze=t.unstable_now,Ot=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,nt=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,kn=t.unstable_IdlePriority,ar=t.log,Ue=t.unstable_setDisableYieldValue,rt=null,Mt=null;function Ye(s){if(typeof ar=="function"&&Ue(s),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(rt,s)}catch{}}var gt=Math.clz32?Math.clz32:wt,Pn=Math.log,qe=Math.LN2;function wt(s){return s>>>=0,s===0?32:31-(Pn(s)/qe|0)|0}var nn=256,mn=4194304;function Kt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mn(s,o,c){var f=s.pendingLanes;if(f===0)return 0;var b=0,w=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var K=f&134217727;return K!==0?(f=K&~w,f!==0?b=Kt(f):(U&=K,U!==0?b=Kt(U):c||(c=K&~s,c!==0&&(b=Kt(c))))):(K=f&~w,K!==0?b=Kt(K):U!==0?b=Kt(U):c||(c=f&~s,c!==0&&(b=Kt(c)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:b}function ot(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Fn(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var s=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),s}function Dr(){var s=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),s}function vn(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function pi(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Os(s,o,c,f,b,w){var U=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var K=s.entanglements,fe=s.expirationTimes,ke=s.hiddenUpdates;for(c=U&~c;0<c;){var He=31-gt(c),Ge=1<<He;K[He]=0,fe[He]=-1;var Re=ke[He];if(Re!==null)for(ke[He]=null,He=0;He<Re.length;He++){var ze=Re[He];ze!==null&&(ze.lane&=-536870913)}c&=~Ge}f!==0&&aa(s,f,0),w!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=w&~(U&~o))}function aa(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-gt(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|c&4194090}function po(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-gt(c),b=1<<f;b&o|s[f]&o&&(s[f]|=o),c&=~b}}function Io(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Bo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Wa(){var s=H.p;return s!==0?s:(s=window.event,s===void 0?32:c_(s.type))}function cs(s,o){var c=H.p;try{return H.p=s,o()}finally{H.p=c}}var fr=Math.random().toString(36).slice(2),pr="__reactFiber$"+fr,Jr="__reactProps$"+fr,mo="__reactContainer$"+fr,es="__reactEvents$"+fr,xt="__reactListeners$"+fr,qa="__reactHandles$"+fr,$o="__reactResources$"+fr,mi="__reactMarker$"+fr;function la(s){delete s[pr],delete s[Jr],delete s[es],delete s[xt],delete s[qa]}function Ns(s){var o=s[pr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[mo]||c[pr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Zw(s);s!==null;){if(c=s[pr])return c;s=Zw(s)}return o}s=c,c=s.parentNode}return null}function Wr(s){if(s=s[pr]||s[mo]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function tt(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function zi(s){var o=s[$o];return o||(o=s[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tr(s){s[mi]=!0}var ca=new Set,Ml={};function Li(s,o){Es(s,o),Es(s+"Capture",o)}function Es(s,o){for(Ml[s]=o,s=0;s<o.length;s++)ca.add(o[s])}var Rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},go={};function Mc(s){return Je.call(go,s)?!0:Je.call(Ys,s)?!1:Rc.test(s)?go[s]=!0:(Ys[s]=!0,!1)}function Oi(s,o,c){if(Mc(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Ni(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Xs(s,o,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+f)}}var Ii,Bi;function gi(s){if(Ii===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Ii=o&&o[1]||"",Bi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ii+s+Bi}var ua=!1;function xi(s,o){if(!s||ua)return"";ua=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(ze){var Re=ze}Reflect.construct(s,[],Ge)}else{try{Ge.call()}catch(ze){Re=ze}s.call(Ge.prototype)}}else{try{throw Error()}catch(ze){Re=ze}(Ge=s())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(ze){if(ze&&Re&&typeof ze.stack=="string")return[ze.stack,Re.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),U=w[0],K=w[1];if(U&&K){var fe=U.split(`
`),ke=K.split(`
`);for(b=f=0;f<fe.length&&!fe[f].includes("DetermineComponentFrameRoot");)f++;for(;b<ke.length&&!ke[b].includes("DetermineComponentFrameRoot");)b++;if(f===fe.length||b===ke.length)for(f=fe.length-1,b=ke.length-1;1<=f&&0<=b&&fe[f]!==ke[b];)b--;for(;1<=f&&0<=b;f--,b--)if(fe[f]!==ke[b]){if(f!==1||b!==1)do if(f--,b--,0>b||fe[f]!==ke[b]){var He=`
`+fe[f].replace(" at new "," at ");return s.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",s.displayName)),He}while(1<=f&&0<=b);break}}}finally{ua=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?gi(c):""}function bn(s){switch(s.tag){case 26:case 27:case 5:return gi(s.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return xi(s.type,!1);case 11:return xi(s.type.render,!1);case 1:return xi(s.type,!0);case 31:return gi("Activity");default:return""}}function er(s){try{var o="";do o+=bn(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function zr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $i(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xo(s){var o=$i(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(U){f=""+U,w.call(this,U)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(U){f=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fi(s){s._valueTracker||(s._valueTracker=xo(s))}function tn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=$i(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function tr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var vo=/[\n"\\]/g;function Ut(s){return s.replace(vo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function nr(s,o,c,f,b,w,U,K){s.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.type=U:s.removeAttribute("type"),o!=null?U==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+zr(o)):s.value!==""+zr(o)&&(s.value=""+zr(o)):U!=="submit"&&U!=="reset"||s.removeAttribute("value"),o!=null?yi(s,U,zr(o)):c!=null?yi(s,U,zr(c)):f!=null&&s.removeAttribute("value"),b==null&&w!=null&&(s.defaultChecked=!!w),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?s.name=""+zr(K):s.removeAttribute("name")}function vi(s,o,c,f,b,w,U,K){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+zr(c):"",o=o!=null?""+zr(o):c,K||o===s.value||(s.value=o),s.defaultValue=o}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=K?s.checked:!!f,s.defaultChecked=!!f,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.name=U)}function yi(s,o,c){o==="number"&&tr(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function xs(s,o,c,f){if(s=s.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<s.length;c++)b=o.hasOwnProperty("$"+s[c].value),s[c].selected!==b&&(s[c].selected=b),b&&f&&(s[c].defaultSelected=!0)}else{for(c=""+zr(c),o=null,b=0;b<s.length;b++){if(s[b].value===c){s[b].selected=!0,f&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function lr(s,o,c){if(o!=null&&(o=""+zr(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+zr(c):""}function Is(s,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(i(92));if(G(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=zr(o),s.defaultValue=c,f=s.textContent,f===c&&f!==""&&f!==null&&(s.value=f)}function vs(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(s,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,c):typeof c!="number"||c===0||bi.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Bs(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var b in o)f=o[b],o.hasOwnProperty(b)&&c[b]!==f&&Ks(s,b,f)}else for(var w in o)o.hasOwnProperty(w)&&Ks(s,w,o[w])}function $s(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(s){return yo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var As=null;function Qs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Js=null,Fs=null;function Dc(s){var o=Wr(s);if(o&&(s=o.stateNode)){var c=s[Jr]||null;e:switch(s=o.stateNode,o.type){case"input":if(nr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ut(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var b=f[Jr]||null;if(!b)throw Error(i(90));nr(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===s.form&&tn(f)}break e;case"textarea":lr(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&xs(s,!!c.multiple,o,!1)}}}var qt=!1;function qr(s,o,c){if(qt)return s(o,c);qt=!0;try{var f=s(o);return f}finally{if(qt=!1,(Js!==null||Fs!==null)&&(Bm(),Js&&(o=Js,s=Fs,Fs=Js=null,Dc(o),s)))for(o=0;o<s.length;o++)Dc(s[o])}}function _n(s,o){var c=s.stateNode;if(c===null)return null;var f=c[Jr]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ei=!1;if(Lr)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){ei=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{ei=!1}var ys=null,ft=null,Or=null;function bo(){if(Or)return Or;var s,o=ft,c=o.length,f,b="value"in ys?ys.value:ys.textContent,w=b.length;for(s=0;s<c&&o[s]===b[s];s++);var U=c-s;for(f=1;f<=U&&o[c-f]===b[w-f];f++);return Or=b.slice(s,1<f?1-f:void 0)}function xr(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function da(){return!1}function oe(s){function o(c,f,b,w,U){this._reactName=c,this._targetInst=b,this.type=f,this.nativeEvent=w,this.target=U,this.currentTarget=null;for(var K in s)s.hasOwnProperty(K)&&(c=s[K],this[K]=c?c(w):w[K]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?bs:da,this.isPropagationStopped=da,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),o}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},De=oe(je),dt=x({},je,{view:0,detail:0}),gn=oe(dt),Rn,jt,dn,an=x({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==dn&&(dn&&s.type==="mousemove"?(Rn=s.screenX-dn.screenX,jt=s.screenY-dn.screenY):jt=Rn=0,dn=s),Rn)},movementY:function(s){return"movementY"in s?s.movementY:jt}}),$r=oe(an),ts=x({},an,{dataTransfer:0}),Fo=oe(ts),Vo=x({},dt,{relatedTarget:0}),Uo=oe(Vo),Za=x({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),Eh=oe(Za),ji=x({},je,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zc=oe(ji),Ah=x({},je,{data:0}),Vs=oe(Ah),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Hi[s])?!!o[s]:!1}function Wi(){return Zu}var Lc=x({},dt,{key:function(s){if(s.key){var o=qu[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=xr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(s){return s.type==="keypress"?xr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Th=oe(Lc),Yu=x({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=oe(Yu),Nc=x({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),kh=oe(Nc),Ic=x({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=oe(Ic),J=x({},an,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=oe(J),St=x({},je,{newState:0,oldState:0}),un=oe(St),rn=[9,13,27,32],Ln=Lr&&"CompositionEvent"in window,cr=null;Lr&&"documentMode"in document&&(cr=document.documentMode);var us=Lr&&"TextEvent"in window&&!cr,Si=Lr&&(!Ln||cr&&8<cr&&11>=cr),Wn=" ",kr=!1;function ha(s,o){switch(s){case"keyup":return rn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fa=!1;function nm(s,o){switch(s){case"compositionend":return Ya(o);case"keypress":return o.which!==32?null:(kr=!0,Wn);case"textInput":return s=o.data,s===Wn&&kr?null:s;default:return null}}function fv(s,o){if(fa)return s==="compositionend"||!Ln&&ha(s,o)?(s=bo(),Or=ft=ys=null,fa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Si&&o.locale!=="ko"?null:o.data;default:return null}}var qi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xa(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!qi[s.type]:o==="textarea"}function rm(s,o,c,f){Js?Fs?Fs.push(f):Fs=[f]:Js=f,o=Wm(o,"onChange"),0<o.length&&(c=new De("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var ti=null,Bc=null;function Dl(s){Iw(s,0)}function Xu(s){var o=tt(s);if(tn(o))return s}function zl(s,o){if(s==="change")return o}var Ph=!1;if(Lr){var Ll;if(Lr){var Rh="oninput"in document;if(!Rh){var Ho=document.createElement("div");Ho.setAttribute("oninput","return;"),Rh=typeof Ho.oninput=="function"}Ll=Rh}else Ll=!1;Ph=Ll&&(!document.documentMode||9<document.documentMode)}function $c(){ti&&(ti.detachEvent("onpropertychange",sm),Bc=ti=null)}function sm(s){if(s.propertyName==="value"&&Xu(Bc)){var o=[];rm(o,Bc,s,Qs(s)),qr(Dl,o)}}function Mh(s,o,c){s==="focusin"?($c(),ti=o,Bc=c,ti.attachEvent("onpropertychange",sm)):s==="focusout"&&$c()}function pv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xu(Bc)}function Wo(s,o){if(s==="click")return Xu(o)}function mv(s,o){if(s==="input"||s==="change")return Xu(o)}function Ol(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ni=typeof Object.is=="function"?Object.is:Ol;function ri(s,o){if(ni(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var b=c[f];if(!Je.call(o,b)||!ni(s[b],o[b]))return!1}return!0}function Fc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Dh(s,o){var c=Fc(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Fc(c)}}function Ku(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ku(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Vc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=tr(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=tr(s.document)}return o}function Uc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Qu=Lr&&"documentMode"in document&&11>=document.documentMode,Gi=null,Nl=null,Ka=null,Ju=!1;function im(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ju||Gi==null||Gi!==tr(f)||(f=Gi,"selectionStart"in f&&Uc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ka&&ri(Ka,f)||(Ka=f,f=Wm(Nl,"onSelect"),0<f.length&&(o=new De("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Gi)))}function jo(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Il={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionrun:jo("Transition","TransitionRun"),transitionstart:jo("Transition","TransitionStart"),transitioncancel:jo("Transition","TransitionCancel"),transitionend:jo("Transition","TransitionEnd")},ed={},om={};Lr&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function pa(s){if(ed[s])return ed[s];if(!Il[s])return s;var o=Il[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in om)return ed[s]=o[c];return s}var am=pa("animationend"),Zi=pa("animationiteration"),Hc=pa("animationstart"),gv=pa("transitionrun"),td=pa("transitionstart"),xv=pa("transitioncancel"),zh=pa("transitionend"),lm=new Map,Qa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qa.push("scrollEnd");function Yi(s,o){lm.set(s,o),Li(o,[s])}var Ja=new WeakMap;function si(s,o){if(typeof s=="object"&&s!==null){var c=Ja.get(s);return c!==void 0?c:(o={value:s,source:o,stack:er(o)},Ja.set(s,o),o)}return{value:s,source:o,stack:er(o)}}var ii=[],Bl=0,Xi=0;function Wc(){for(var s=Bl,o=Xi=Bl=0;o<s;){var c=ii[o];ii[o++]=null;var f=ii[o];ii[o++]=null;var b=ii[o];ii[o++]=null;var w=ii[o];if(ii[o++]=null,f!==null&&b!==null){var U=f.pending;U===null?b.next=b:(b.next=U.next,U.next=b),f.pending=b}w!==0&&Gc(c,b,w)}}function qc(s,o,c,f){ii[Bl++]=s,ii[Bl++]=o,ii[Bl++]=c,ii[Bl++]=f,Xi|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function el(s,o,c,f){return qc(s,o,c,f),ma(s)}function $l(s,o){return qc(s,null,null,o),ma(s)}function Gc(s,o,c){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c);for(var b=!1,w=s.return;w!==null;)w.childLanes|=c,f=w.alternate,f!==null&&(f.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(b=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,b&&o!==null&&(b=31-gt(c),s=w.hiddenUpdates,f=s[b],f===null?s[b]=[o]:f.push(o),o.lane=c|536870912),w):null}function ma(s){if(50<rf)throw rf=0,p0=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var tl={};function cm(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(s,o,c,f){return new cm(s,o,c,f)}function nd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function So(s,o){var c=s.alternate;return c===null?(c=oi(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Lh(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Zc(s,o,c,f,b,w){var U=0;if(f=s,typeof s=="function")nd(s)&&(U=1);else if(typeof s=="string")U=dz(s,c,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case ce:return s=oi(31,c,o,b),s.elementType=ce,s.lanes=w,s;case _:return ga(c.children,b,w,o);case A:U=8,b|=24;break;case T:return s=oi(12,c,o,b|2),s.elementType=T,s.lanes=w,s;case N:return s=oi(13,c,o,b),s.elementType=N,s.lanes=w,s;case F:return s=oi(19,c,o,b),s.elementType=F,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:case k:U=10;break e;case P:U=9;break e;case I:U=11;break e;case Y:U=14;break e;case q:U=16,f=null;break e}U=29,c=Error(i(130,s===null?"null":typeof s,"")),f=null}return o=oi(U,c,o,b),o.elementType=s,o.type=f,o.lanes=w,o}function ga(s,o,c,f){return s=oi(7,s,f,o),s.lanes=c,s}function Oh(s,o,c){return s=oi(6,s,null,o),s.lanes=c,s}function rd(s,o,c){return o=oi(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var nl=[],Fl=0,a=null,h=0,v=[],E=0,D=null,X=1,he="";function _e(s,o){nl[Fl++]=h,nl[Fl++]=a,a=s,h=o}function Oe(s,o,c){v[E++]=X,v[E++]=he,v[E++]=D,D=s;var f=X;s=he;var b=32-gt(f)-1;f&=~(1<<b),c+=1;var w=32-gt(o)+b;if(30<w){var U=b-b%5;w=(f&(1<<U)-1).toString(32),f>>=U,b-=U,X=1<<32-gt(o)+b|c<<b|f,he=w+s}else X=1<<w|c<<b|f,he=s}function Xe(s){s.return!==null&&(_e(s,1),Oe(s,1,0))}function ht(s){for(;s===a;)a=nl[--Fl],nl[Fl]=null,h=nl[--Fl],nl[Fl]=null;for(;s===D;)D=v[--E],v[E]=null,he=v[--E],v[E]=null,X=v[--E],v[E]=null}var Ct=null,Lt=null,Jt=!1,vr=null,Nr=!1,js=Error(i(519));function Ci(s){var o=Error(i(418,""));throw Ul(si(o,s)),js}function um(s){var o=s.stateNode,c=s.type,f=s.memoizedProps;switch(o[pr]=s,o[Jr]=f,c){case"dialog":An("cancel",o),An("close",o);break;case"iframe":case"object":case"embed":An("load",o);break;case"video":case"audio":for(c=0;c<of.length;c++)An(of[c],o);break;case"source":An("error",o);break;case"img":case"image":case"link":An("error",o),An("load",o);break;case"details":An("toggle",o);break;case"input":An("invalid",o),vi(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Fi(o);break;case"select":An("invalid",o);break;case"textarea":An("invalid",o),Is(o,f.value,f.defaultValue,f.children),Fi(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||Vw(o.textContent,c)?(f.popover!=null&&(An("beforetoggle",o),An("toggle",o)),f.onScroll!=null&&An("scroll",o),f.onScrollEnd!=null&&An("scrollend",o),f.onClick!=null&&(o.onclick=qm),o=!0):o=!1,o||Ci(s)}function dm(s){for(Ct=s.return;Ct;)switch(Ct.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Ct=Ct.return}}function Yc(s){if(s!==Ct)return!1;if(!Jt)return dm(s),Jt=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||P0(s.type,s.memoizedProps)),c=!c),c&&Lt&&Ci(s),dm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Lt=Yo(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Lt=null}}else o===27?(o=Lt,sc(s.type)?(s=z0,z0=null,Lt=s):Lt=o):Lt=Ct?Yo(s.stateNode.nextSibling):null;return!0}function Vl(){Lt=Ct=null,Jt=!1}function hm(){var s=vr;return s!==null&&(Ei===null?Ei=s:Ei.push.apply(Ei,s),vr=null),s}function Ul(s){vr===null?vr=[s]:vr.push(s)}var Pr=ie(null),Co=null,qo=null;function xa(s,o,c){$(Pr,o._currentValue),o._currentValue=c}function Go(s){s._currentValue=Pr.current,pe(Pr)}function Xc(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function sd(s,o,c,f){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var w=b.dependencies;if(w!==null){var U=b.child;w=w.firstContext;e:for(;w!==null;){var K=w;w=b;for(var fe=0;fe<o.length;fe++)if(K.context===o[fe]){w.lanes|=c,K=w.alternate,K!==null&&(K.lanes|=c),Xc(w.return,c,s),f||(U=null);break e}w=K.next}}else if(b.tag===18){if(U=b.return,U===null)throw Error(i(341));U.lanes|=c,w=U.alternate,w!==null&&(w.lanes|=c),Xc(U,c,s),U=null}else U=b.child;if(U!==null)U.return=b;else for(U=b;U!==null;){if(U===s){U=null;break}if(b=U.sibling,b!==null){b.return=U.return,U=b;break}U=U.return}b=U}}function Kc(s,o,c,f){s=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var U=b.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var K=b.type;ni(b.pendingProps.value,U.value)||(s!==null?s.push(K):s=[K])}}else if(b===Ee.current){if(U=b.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(hf):s=[hf])}b=b.return}s!==null&&sd(o,s,c,f),o.flags|=262144}function fm(s){for(s=s.firstContext;s!==null;){if(!ni(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Qc(s){Co=s,qo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Us(s){return T1(Co,s)}function pm(s,o){return Co===null&&Qc(s),T1(s,o)}function T1(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},qo===null){if(s===null)throw Error(i(308));qo=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else qo=qo.next=o;return c}var uD=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},dD=t.unstable_scheduleCallback,hD=t.unstable_NormalPriority,ds={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vv(){return{controller:new uD,data:new Map,refCount:0}}function Nh(s){s.refCount--,s.refCount===0&&dD(hD,function(){s.controller.abort()})}var Ih=null,yv=0,id=0,od=null;function fD(s,o){if(Ih===null){var c=Ih=[];yv=0,id=j0(),od={status:"pending",value:void 0,then:function(f){c.push(f)}}}return yv++,o.then(k1,k1),o}function k1(){if(--yv===0&&Ih!==null){od!==null&&(od.status="fulfilled");var s=Ih;Ih=null,id=0,od=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function pD(s,o){var c=[],f={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(f.status="rejected",f.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),f}var P1=Z.S;Z.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&fD(s,o),P1!==null&&P1(s,o)};var Jc=ie(null);function bv(){var s=Jc.current;return s!==null?s:yr.pooledCache}function mm(s,o){o===null?$(Jc,Jc.current):$(Jc,o.pool)}function R1(){var s=bv();return s===null?null:{parent:ds._currentValue,pool:s}}var Bh=Error(i(460)),M1=Error(i(474)),gm=Error(i(542)),jv={then:function(){}};function D1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xm(){}function z1(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(xm,xm),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,O1(s),s;default:if(typeof o.status=="string")o.then(xm,xm);else{if(s=yr,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=f}},function(f){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,O1(s),s}throw $h=o,Bh}}var $h=null;function L1(){if($h===null)throw Error(i(459));var s=$h;return $h=null,s}function O1(s){if(s===Bh||s===gm)throw Error(i(483))}var Hl=!1;function Sv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ql(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(sr&2)!==0){var b=f.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),f.pending=o,o=ma(s),Gc(s,null,c),o}return qc(s,f,o,c),ma(s)}function Fh(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,po(s,c)}}function wv(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var U={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=U:w=w.next=U,c=c.next}while(c!==null);w===null?b=w=o:w=w.next=o}else b=w=o;c={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var _v=!1;function Vh(){if(_v){var s=od;if(s!==null)throw s}}function Uh(s,o,c,f){_v=!1;var b=s.updateQueue;Hl=!1;var w=b.firstBaseUpdate,U=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var fe=K,ke=fe.next;fe.next=null,U===null?w=ke:U.next=ke,U=fe;var He=s.alternate;He!==null&&(He=He.updateQueue,K=He.lastBaseUpdate,K!==U&&(K===null?He.firstBaseUpdate=ke:K.next=ke,He.lastBaseUpdate=fe))}if(w!==null){var Ge=b.baseState;U=0,He=ke=fe=null,K=w;do{var Re=K.lane&-536870913,ze=Re!==K.lane;if(ze?(On&Re)===Re:(f&Re)===Re){Re!==0&&Re===id&&(_v=!0),He!==null&&(He=He.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Qt=s,Gt=K;Re=o;var hr=c;switch(Gt.tag){case 1:if(Qt=Gt.payload,typeof Qt=="function"){Ge=Qt.call(hr,Ge,Re);break e}Ge=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Gt.payload,Re=typeof Qt=="function"?Qt.call(hr,Ge,Re):Qt,Re==null)break e;Ge=x({},Ge,Re);break e;case 2:Hl=!0}}Re=K.callback,Re!==null&&(s.flags|=64,ze&&(s.flags|=8192),ze=b.callbacks,ze===null?b.callbacks=[Re]:ze.push(Re))}else ze={lane:Re,tag:K.tag,payload:K.payload,callback:K.callback,next:null},He===null?(ke=He=ze,fe=Ge):He=He.next=ze,U|=Re;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;ze=K,K=ze.next,ze.next=null,b.lastBaseUpdate=ze,b.shared.pending=null}}while(!0);He===null&&(fe=Ge),b.baseState=fe,b.firstBaseUpdate=ke,b.lastBaseUpdate=He,w===null&&(b.shared.lanes=0),ec|=U,s.lanes=U,s.memoizedState=Ge}}function N1(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function I1(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)N1(c[s],o)}var ad=ie(null),vm=ie(0);function B1(s,o){s=cl,$(vm,s),$(ad,o),cl=s|o.baseLanes}function Ev(){$(vm,cl),$(ad,ad.current)}function Av(){cl=vm.current,pe(ad),pe(vm)}var Gl=0,yn=null,ur=null,ns=null,ym=!1,ld=!1,eu=!1,bm=0,Hh=0,cd=null,mD=0;function Gr(){throw Error(i(321))}function Tv(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!ni(s[c],o[c]))return!1;return!0}function kv(s,o,c,f,b,w){return Gl=w,yn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=s===null||s.memoizedState===null?SC:CC,eu=!1,w=c(f,b),eu=!1,ld&&(w=F1(o,c,f,b)),$1(s),w}function $1(s){Z.H=Em;var o=ur!==null&&ur.next!==null;if(Gl=0,ns=ur=yn=null,ym=!1,Hh=0,cd=null,o)throw Error(i(300));s===null||Ss||(s=s.dependencies,s!==null&&fm(s)&&(Ss=!0))}function F1(s,o,c,f){yn=s;var b=0;do{if(ld&&(cd=null),Hh=0,ld=!1,25<=b)throw Error(i(301));if(b+=1,ns=ur=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Z.H=SD,w=o(c,f)}while(ld);return w}function gD(){var s=Z.H,o=s.useState()[0];return o=typeof o.then=="function"?Wh(o):o,s=s.useState()[0],(ur!==null?ur.memoizedState:null)!==s&&(yn.flags|=1024),o}function Pv(){var s=bm!==0;return bm=0,s}function Rv(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Mv(s){if(ym){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ym=!1}Gl=0,ns=ur=yn=null,ld=!1,Hh=bm=0,cd=null}function wi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?yn.memoizedState=ns=s:ns=ns.next=s,ns}function rs(){if(ur===null){var s=yn.alternate;s=s!==null?s.memoizedState:null}else s=ur.next;var o=ns===null?yn.memoizedState:ns.next;if(o!==null)ns=o,ur=s;else{if(s===null)throw yn.alternate===null?Error(i(467)):Error(i(310));ur=s,s={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},ns===null?yn.memoizedState=ns=s:ns=ns.next=s}return ns}function Dv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wh(s){var o=Hh;return Hh+=1,cd===null&&(cd=[]),s=z1(cd,s,o),o=yn,(ns===null?o.memoizedState:ns.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?SC:CC),s}function jm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wh(s);if(s.$$typeof===k)return Us(s)}throw Error(i(438,String(s)))}function zv(s){var o=null,c=yn.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=yn.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Dv(),yn.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),f=0;f<s;f++)c[f]=de;return o.index++,c}function rl(s,o){return typeof o=="function"?o(s):o}function Sm(s){var o=rs();return Lv(o,ur,s)}function Lv(s,o,c){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var b=s.baseQueue,w=f.pending;if(w!==null){if(b!==null){var U=b.next;b.next=w.next,w.next=U}o.baseQueue=b=w,f.pending=null}if(w=s.baseState,b===null)s.memoizedState=w;else{o=b.next;var K=U=null,fe=null,ke=o,He=!1;do{var Ge=ke.lane&-536870913;if(Ge!==ke.lane?(On&Ge)===Ge:(Gl&Ge)===Ge){var Re=ke.revertLane;if(Re===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Ge===id&&(He=!0);else if((Gl&Re)===Re){ke=ke.next,Re===id&&(He=!0);continue}else Ge={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(K=fe=Ge,U=w):fe=fe.next=Ge,yn.lanes|=Re,ec|=Re;Ge=ke.action,eu&&c(w,Ge),w=ke.hasEagerState?ke.eagerState:c(w,Ge)}else Re={lane:Ge,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(K=fe=Re,U=w):fe=fe.next=Re,yn.lanes|=Ge,ec|=Ge;ke=ke.next}while(ke!==null&&ke!==o);if(fe===null?U=w:fe.next=K,!ni(w,s.memoizedState)&&(Ss=!0,He&&(c=od,c!==null)))throw c;s.memoizedState=w,s.baseState=U,s.baseQueue=fe,f.lastRenderedState=w}return b===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Ov(s){var o=rs(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var f=c.dispatch,b=c.pending,w=o.memoizedState;if(b!==null){c.pending=null;var U=b=b.next;do w=s(w,U.action),U=U.next;while(U!==b);ni(w,o.memoizedState)||(Ss=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function V1(s,o,c){var f=yn,b=rs(),w=Jt;if(w){if(c===void 0)throw Error(i(407));c=c()}else c=o();var U=!ni((ur||b).memoizedState,c);U&&(b.memoizedState=c,Ss=!0),b=b.queue;var K=W1.bind(null,f,b,s);if(qh(2048,8,K,[s]),b.getSnapshot!==o||U||ns!==null&&ns.memoizedState.tag&1){if(f.flags|=2048,ud(9,Cm(),H1.bind(null,f,b,c,o),null),yr===null)throw Error(i(349));w||(Gl&124)!==0||U1(f,o,c)}return c}function U1(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=yn.updateQueue,o===null?(o=Dv(),yn.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function H1(s,o,c,f){o.value=c,o.getSnapshot=f,q1(o)&&G1(s)}function W1(s,o,c){return c(function(){q1(o)&&G1(s)})}function q1(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!ni(s,c)}catch{return!0}}function G1(s){var o=$l(s,2);o!==null&&to(o,s,2)}function Nv(s){var o=wi();if(typeof s=="function"){var c=s;if(s=c(),eu){Ye(!0);try{c()}finally{Ye(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:s},o}function Z1(s,o,c,f){return s.baseState=c,Lv(s,ur,typeof f=="function"?f:rl)}function xD(s,o,c,f,b){if(_m(s))throw Error(i(485));if(s=o.action,s!==null){var w={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){w.listeners.push(U)}};Z.T!==null?c(!0):w.isTransition=!1,f(w),c=o.pending,c===null?(w.next=o.pending=w,Y1(o,w)):(w.next=c.next,o.pending=c.next=w)}}function Y1(s,o){var c=o.action,f=o.payload,b=s.state;if(o.isTransition){var w=Z.T,U={};Z.T=U;try{var K=c(b,f),fe=Z.S;fe!==null&&fe(U,K),X1(s,o,K)}catch(ke){Iv(s,o,ke)}finally{Z.T=w}}else try{w=c(b,f),X1(s,o,w)}catch(ke){Iv(s,o,ke)}}function X1(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){K1(s,o,f)},function(f){return Iv(s,o,f)}):K1(s,o,c)}function K1(s,o,c){o.status="fulfilled",o.value=c,Q1(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Y1(s,c)))}function Iv(s,o,c){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,Q1(o),o=o.next;while(o!==f)}s.action=null}function Q1(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function J1(s,o){return o}function eC(s,o){if(Jt){var c=yr.formState;if(c!==null){e:{var f=yn;if(Jt){if(Lt){t:{for(var b=Lt,w=Nr;b.nodeType!==8;){if(!w){b=null;break t}if(b=Yo(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Lt=Yo(b.nextSibling),f=b.data==="F!";break e}}Ci(f)}f=!1}f&&(o=c[0])}}return c=wi(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J1,lastRenderedState:o},c.queue=f,c=yC.bind(null,yn,f),f.dispatch=c,f=Nv(!1),w=Uv.bind(null,yn,!1,f.queue),f=wi(),b={state:o,dispatch:null,action:s,pending:null},f.queue=b,c=xD.bind(null,yn,b,w,c),b.dispatch=c,f.memoizedState=s,[o,c,!1]}function tC(s){var o=rs();return nC(o,ur,s)}function nC(s,o,c){if(o=Lv(s,o,J1)[0],s=Sm(rl)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Wh(o)}catch(U){throw U===Bh?gm:U}else f=o;o=rs();var b=o.queue,w=b.dispatch;return c!==o.memoizedState&&(yn.flags|=2048,ud(9,Cm(),vD.bind(null,b,c),null)),[f,w,s]}function vD(s,o){s.action=o}function rC(s){var o=rs(),c=ur;if(c!==null)return nC(o,c,s);rs(),o=o.memoizedState,c=rs();var f=c.queue.dispatch;return c.memoizedState=s,[o,f,!1]}function ud(s,o,c,f){return s={tag:s,create:c,deps:f,inst:o,next:null},o=yn.updateQueue,o===null&&(o=Dv(),yn.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s),s}function Cm(){return{destroy:void 0,resource:void 0}}function sC(){return rs().memoizedState}function wm(s,o,c,f){var b=wi();f=f===void 0?null:f,yn.flags|=s,b.memoizedState=ud(1|o,Cm(),c,f)}function qh(s,o,c,f){var b=rs();f=f===void 0?null:f;var w=b.memoizedState.inst;ur!==null&&f!==null&&Tv(f,ur.memoizedState.deps)?b.memoizedState=ud(o,w,c,f):(yn.flags|=s,b.memoizedState=ud(1|o,w,c,f))}function iC(s,o){wm(8390656,8,s,o)}function oC(s,o){qh(2048,8,s,o)}function aC(s,o){return qh(4,2,s,o)}function lC(s,o){return qh(4,4,s,o)}function cC(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function uC(s,o,c){c=c!=null?c.concat([s]):null,qh(4,4,cC.bind(null,o,s),c)}function Bv(){}function dC(s,o){var c=rs();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Tv(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function hC(s,o){var c=rs();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Tv(o,f[1]))return f[0];if(f=s(),eu){Ye(!0);try{s()}finally{Ye(!1)}}return c.memoizedState=[f,o],f}function $v(s,o,c){return c===void 0||(Gl&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=mw(),yn.lanes|=s,ec|=s,c)}function fC(s,o,c,f){return ni(c,o)?c:ad.current!==null?(s=$v(s,c,f),ni(s,o)||(Ss=!0),s):(Gl&42)===0?(Ss=!0,s.memoizedState=c):(s=mw(),yn.lanes|=s,ec|=s,o)}function pC(s,o,c,f,b){var w=H.p;H.p=w!==0&&8>w?w:8;var U=Z.T,K={};Z.T=K,Uv(s,!1,o,c);try{var fe=b(),ke=Z.S;if(ke!==null&&ke(K,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var He=pD(fe,f);Gh(s,o,He,eo(s))}else Gh(s,o,f,eo(s))}catch(Ge){Gh(s,o,{then:function(){},status:"rejected",reason:Ge},eo())}finally{H.p=w,Z.T=U}}function yD(){}function Fv(s,o,c,f){if(s.tag!==5)throw Error(i(476));var b=mC(s).queue;pC(s,b,o,W,c===null?yD:function(){return gC(s),c(f)})}function mC(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function gC(s){var o=mC(s).next.queue;Gh(s,o,{},eo())}function Vv(){return Us(hf)}function xC(){return rs().memoizedState}function vC(){return rs().memoizedState}function bD(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=eo();s=Wl(c);var f=ql(o,s,c);f!==null&&(to(f,o,c),Fh(f,o,c)),o={cache:vv()},s.payload=o;return}o=o.return}}function jD(s,o,c){var f=eo();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},_m(s)?bC(o,c):(c=el(s,o,c,f),c!==null&&(to(c,s,f),jC(c,o,f)))}function yC(s,o,c){var f=eo();Gh(s,o,c,f)}function Gh(s,o,c,f){var b={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(_m(s))bC(o,b);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var U=o.lastRenderedState,K=w(U,c);if(b.hasEagerState=!0,b.eagerState=K,ni(K,U))return qc(s,o,b,0),yr===null&&Wc(),!1}catch{}finally{}if(c=el(s,o,b,f),c!==null)return to(c,s,f),jC(c,o,f),!0}return!1}function Uv(s,o,c,f){if(f={lane:2,revertLane:j0(),action:f,hasEagerState:!1,eagerState:null,next:null},_m(s)){if(o)throw Error(i(479))}else o=el(s,c,f,2),o!==null&&to(o,s,2)}function _m(s){var o=s.alternate;return s===yn||o!==null&&o===yn}function bC(s,o){ld=ym=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function jC(s,o,c){if((c&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,po(s,c)}}var Em={readContext:Us,use:jm,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},SC={readContext:Us,use:jm,useCallback:function(s,o){return wi().memoizedState=[s,o===void 0?null:o],s},useContext:Us,useEffect:iC,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,wm(4194308,4,cC.bind(null,o,s),c)},useLayoutEffect:function(s,o){return wm(4194308,4,s,o)},useInsertionEffect:function(s,o){wm(4,2,s,o)},useMemo:function(s,o){var c=wi();o=o===void 0?null:o;var f=s();if(eu){Ye(!0);try{s()}finally{Ye(!1)}}return c.memoizedState=[f,o],f},useReducer:function(s,o,c){var f=wi();if(c!==void 0){var b=c(o);if(eu){Ye(!0);try{c(o)}finally{Ye(!1)}}}else b=o;return f.memoizedState=f.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},f.queue=s,s=s.dispatch=jD.bind(null,yn,s),[f.memoizedState,s]},useRef:function(s){var o=wi();return s={current:s},o.memoizedState=s},useState:function(s){s=Nv(s);var o=s.queue,c=yC.bind(null,yn,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Bv,useDeferredValue:function(s,o){var c=wi();return $v(c,s,o)},useTransition:function(){var s=Nv(!1);return s=pC.bind(null,yn,s.queue,!0,!1),wi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var f=yn,b=wi();if(Jt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),yr===null)throw Error(i(349));(On&124)!==0||U1(f,o,c)}b.memoizedState=c;var w={value:c,getSnapshot:o};return b.queue=w,iC(W1.bind(null,f,w,s),[s]),f.flags|=2048,ud(9,Cm(),H1.bind(null,f,w,c,o),null),c},useId:function(){var s=wi(),o=yr.identifierPrefix;if(Jt){var c=he,f=X;c=(f&~(1<<32-gt(f)-1)).toString(32)+c,o=""+o+"R"+c,c=bm++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=mD++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Vv,useFormState:eC,useActionState:eC,useOptimistic:function(s){var o=wi();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Uv.bind(null,yn,!0,c),c.dispatch=o,[s,o]},useMemoCache:zv,useCacheRefresh:function(){return wi().memoizedState=bD.bind(null,yn)}},CC={readContext:Us,use:jm,useCallback:dC,useContext:Us,useEffect:oC,useImperativeHandle:uC,useInsertionEffect:aC,useLayoutEffect:lC,useMemo:hC,useReducer:Sm,useRef:sC,useState:function(){return Sm(rl)},useDebugValue:Bv,useDeferredValue:function(s,o){var c=rs();return fC(c,ur.memoizedState,s,o)},useTransition:function(){var s=Sm(rl)[0],o=rs().memoizedState;return[typeof s=="boolean"?s:Wh(s),o]},useSyncExternalStore:V1,useId:xC,useHostTransitionStatus:Vv,useFormState:tC,useActionState:tC,useOptimistic:function(s,o){var c=rs();return Z1(c,ur,s,o)},useMemoCache:zv,useCacheRefresh:vC},SD={readContext:Us,use:jm,useCallback:dC,useContext:Us,useEffect:oC,useImperativeHandle:uC,useInsertionEffect:aC,useLayoutEffect:lC,useMemo:hC,useReducer:Ov,useRef:sC,useState:function(){return Ov(rl)},useDebugValue:Bv,useDeferredValue:function(s,o){var c=rs();return ur===null?$v(c,s,o):fC(c,ur.memoizedState,s,o)},useTransition:function(){var s=Ov(rl)[0],o=rs().memoizedState;return[typeof s=="boolean"?s:Wh(s),o]},useSyncExternalStore:V1,useId:xC,useHostTransitionStatus:Vv,useFormState:rC,useActionState:rC,useOptimistic:function(s,o){var c=rs();return ur!==null?Z1(c,ur,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:zv,useCacheRefresh:vC},dd=null,Zh=0;function Am(s){var o=Zh;return Zh+=1,dd===null&&(dd=[]),z1(dd,s,o)}function Yh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Tm(s,o){throw o.$$typeof===j?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function wC(s){var o=s._init;return o(s._payload)}function _C(s){function o(we,ye){if(s){var Te=we.deletions;Te===null?(we.deletions=[ye],we.flags|=16):Te.push(ye)}}function c(we,ye){if(!s)return null;for(;ye!==null;)o(we,ye),ye=ye.sibling;return null}function f(we){for(var ye=new Map;we!==null;)we.key!==null?ye.set(we.key,we):ye.set(we.index,we),we=we.sibling;return ye}function b(we,ye){return we=So(we,ye),we.index=0,we.sibling=null,we}function w(we,ye,Te){return we.index=Te,s?(Te=we.alternate,Te!==null?(Te=Te.index,Te<ye?(we.flags|=67108866,ye):Te):(we.flags|=67108866,ye)):(we.flags|=1048576,ye)}function U(we){return s&&we.alternate===null&&(we.flags|=67108866),we}function K(we,ye,Te,We){return ye===null||ye.tag!==6?(ye=Oh(Te,we.mode,We),ye.return=we,ye):(ye=b(ye,Te),ye.return=we,ye)}function fe(we,ye,Te,We){var _t=Te.type;return _t===_?He(we,ye,Te.props.children,We,Te.key):ye!==null&&(ye.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===q&&wC(_t)===ye.type)?(ye=b(ye,Te.props),Yh(ye,Te),ye.return=we,ye):(ye=Zc(Te.type,Te.key,Te.props,null,we.mode,We),Yh(ye,Te),ye.return=we,ye)}function ke(we,ye,Te,We){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Te.containerInfo||ye.stateNode.implementation!==Te.implementation?(ye=rd(Te,we.mode,We),ye.return=we,ye):(ye=b(ye,Te.children||[]),ye.return=we,ye)}function He(we,ye,Te,We,_t){return ye===null||ye.tag!==7?(ye=ga(Te,we.mode,We,_t),ye.return=we,ye):(ye=b(ye,Te),ye.return=we,ye)}function Ge(we,ye,Te){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Oh(""+ye,we.mode,Te),ye.return=we,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return Te=Zc(ye.type,ye.key,ye.props,null,we.mode,Te),Yh(Te,ye),Te.return=we,Te;case C:return ye=rd(ye,we.mode,Te),ye.return=we,ye;case q:var We=ye._init;return ye=We(ye._payload),Ge(we,ye,Te)}if(G(ye)||ve(ye))return ye=ga(ye,we.mode,Te,null),ye.return=we,ye;if(typeof ye.then=="function")return Ge(we,Am(ye),Te);if(ye.$$typeof===k)return Ge(we,pm(we,ye),Te);Tm(we,ye)}return null}function Re(we,ye,Te,We){var _t=ye!==null?ye.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return _t!==null?null:K(we,ye,""+Te,We);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case S:return Te.key===_t?fe(we,ye,Te,We):null;case C:return Te.key===_t?ke(we,ye,Te,We):null;case q:return _t=Te._init,Te=_t(Te._payload),Re(we,ye,Te,We)}if(G(Te)||ve(Te))return _t!==null?null:He(we,ye,Te,We,null);if(typeof Te.then=="function")return Re(we,ye,Am(Te),We);if(Te.$$typeof===k)return Re(we,ye,pm(we,Te),We);Tm(we,Te)}return null}function ze(we,ye,Te,We,_t){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return we=we.get(Te)||null,K(ye,we,""+We,_t);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case S:return we=we.get(We.key===null?Te:We.key)||null,fe(ye,we,We,_t);case C:return we=we.get(We.key===null?Te:We.key)||null,ke(ye,we,We,_t);case q:var jn=We._init;return We=jn(We._payload),ze(we,ye,Te,We,_t)}if(G(We)||ve(We))return we=we.get(Te)||null,He(ye,we,We,_t,null);if(typeof We.then=="function")return ze(we,ye,Te,Am(We),_t);if(We.$$typeof===k)return ze(we,ye,Te,pm(ye,We),_t);Tm(ye,We)}return null}function Qt(we,ye,Te,We){for(var _t=null,jn=null,Bt=ye,Yt=ye=0,ws=null;Bt!==null&&Yt<Te.length;Yt++){Bt.index>Yt?(ws=Bt,Bt=null):ws=Bt.sibling;var Vn=Re(we,Bt,Te[Yt],We);if(Vn===null){Bt===null&&(Bt=ws);break}s&&Bt&&Vn.alternate===null&&o(we,Bt),ye=w(Vn,ye,Yt),jn===null?_t=Vn:jn.sibling=Vn,jn=Vn,Bt=ws}if(Yt===Te.length)return c(we,Bt),Jt&&_e(we,Yt),_t;if(Bt===null){for(;Yt<Te.length;Yt++)Bt=Ge(we,Te[Yt],We),Bt!==null&&(ye=w(Bt,ye,Yt),jn===null?_t=Bt:jn.sibling=Bt,jn=Bt);return Jt&&_e(we,Yt),_t}for(Bt=f(Bt);Yt<Te.length;Yt++)ws=ze(Bt,we,Yt,Te[Yt],We),ws!==null&&(s&&ws.alternate!==null&&Bt.delete(ws.key===null?Yt:ws.key),ye=w(ws,ye,Yt),jn===null?_t=ws:jn.sibling=ws,jn=ws);return s&&Bt.forEach(function(cc){return o(we,cc)}),Jt&&_e(we,Yt),_t}function Gt(we,ye,Te,We){if(Te==null)throw Error(i(151));for(var _t=null,jn=null,Bt=ye,Yt=ye=0,ws=null,Vn=Te.next();Bt!==null&&!Vn.done;Yt++,Vn=Te.next()){Bt.index>Yt?(ws=Bt,Bt=null):ws=Bt.sibling;var cc=Re(we,Bt,Vn.value,We);if(cc===null){Bt===null&&(Bt=ws);break}s&&Bt&&cc.alternate===null&&o(we,Bt),ye=w(cc,ye,Yt),jn===null?_t=cc:jn.sibling=cc,jn=cc,Bt=ws}if(Vn.done)return c(we,Bt),Jt&&_e(we,Yt),_t;if(Bt===null){for(;!Vn.done;Yt++,Vn=Te.next())Vn=Ge(we,Vn.value,We),Vn!==null&&(ye=w(Vn,ye,Yt),jn===null?_t=Vn:jn.sibling=Vn,jn=Vn);return Jt&&_e(we,Yt),_t}for(Bt=f(Bt);!Vn.done;Yt++,Vn=Te.next())Vn=ze(Bt,we,Yt,Vn.value,We),Vn!==null&&(s&&Vn.alternate!==null&&Bt.delete(Vn.key===null?Yt:Vn.key),ye=w(Vn,ye,Yt),jn===null?_t=Vn:jn.sibling=Vn,jn=Vn);return s&&Bt.forEach(function(Cz){return o(we,Cz)}),Jt&&_e(we,Yt),_t}function hr(we,ye,Te,We){if(typeof Te=="object"&&Te!==null&&Te.type===_&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case S:e:{for(var _t=Te.key;ye!==null;){if(ye.key===_t){if(_t=Te.type,_t===_){if(ye.tag===7){c(we,ye.sibling),We=b(ye,Te.props.children),We.return=we,we=We;break e}}else if(ye.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===q&&wC(_t)===ye.type){c(we,ye.sibling),We=b(ye,Te.props),Yh(We,Te),We.return=we,we=We;break e}c(we,ye);break}else o(we,ye);ye=ye.sibling}Te.type===_?(We=ga(Te.props.children,we.mode,We,Te.key),We.return=we,we=We):(We=Zc(Te.type,Te.key,Te.props,null,we.mode,We),Yh(We,Te),We.return=we,we=We)}return U(we);case C:e:{for(_t=Te.key;ye!==null;){if(ye.key===_t)if(ye.tag===4&&ye.stateNode.containerInfo===Te.containerInfo&&ye.stateNode.implementation===Te.implementation){c(we,ye.sibling),We=b(ye,Te.children||[]),We.return=we,we=We;break e}else{c(we,ye);break}else o(we,ye);ye=ye.sibling}We=rd(Te,we.mode,We),We.return=we,we=We}return U(we);case q:return _t=Te._init,Te=_t(Te._payload),hr(we,ye,Te,We)}if(G(Te))return Qt(we,ye,Te,We);if(ve(Te)){if(_t=ve(Te),typeof _t!="function")throw Error(i(150));return Te=_t.call(Te),Gt(we,ye,Te,We)}if(typeof Te.then=="function")return hr(we,ye,Am(Te),We);if(Te.$$typeof===k)return hr(we,ye,pm(we,Te),We);Tm(we,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ye!==null&&ye.tag===6?(c(we,ye.sibling),We=b(ye,Te),We.return=we,we=We):(c(we,ye),We=Oh(Te,we.mode,We),We.return=we,we=We),U(we)):c(we,ye)}return function(we,ye,Te,We){try{Zh=0;var _t=hr(we,ye,Te,We);return dd=null,_t}catch(Bt){if(Bt===Bh||Bt===gm)throw Bt;var jn=oi(29,Bt,null,we.mode);return jn.lanes=We,jn.return=we,jn}finally{}}}var hd=_C(!0),EC=_C(!1),wo=ie(null),va=null;function Zl(s){var o=s.alternate;$(hs,hs.current&1),$(wo,s),va===null&&(o===null||ad.current!==null||o.memoizedState!==null)&&(va=s)}function AC(s){if(s.tag===22){if($(hs,hs.current),$(wo,s),va===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(va=s)}}else Yl()}function Yl(){$(hs,hs.current),$(wo,wo.current)}function sl(s){pe(wo),va===s&&(va=null),pe(hs)}var hs=ie(0);function km(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||D0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Hv(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:x({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Wv={enqueueSetState:function(s,o,c){s=s._reactInternals;var f=eo(),b=Wl(f);b.payload=o,c!=null&&(b.callback=c),o=ql(s,b,f),o!==null&&(to(o,s,f),Fh(o,s,f))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=eo(),b=Wl(f);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=ql(s,b,f),o!==null&&(to(o,s,f),Fh(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=eo(),f=Wl(c);f.tag=2,o!=null&&(f.callback=o),o=ql(s,f,c),o!==null&&(to(o,s,c),Fh(o,s,c))}};function TC(s,o,c,f,b,w,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,U):o.prototype&&o.prototype.isPureReactComponent?!ri(c,f)||!ri(b,w):!0}function kC(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&Wv.enqueueReplaceState(o,o.state,null)}function tu(s,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(s=s.defaultProps){c===o&&(c=x({},c));for(var b in s)c[b]===void 0&&(c[b]=s[b])}return c}var Pm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function PC(s){Pm(s)}function RC(s){console.error(s)}function MC(s){Pm(s)}function Rm(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function DC(s,o,c){try{var f=s.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function qv(s,o,c){return c=Wl(c),c.tag=3,c.payload={element:null},c.callback=function(){Rm(s,o)},c}function zC(s){return s=Wl(s),s.tag=3,s}function LC(s,o,c,f){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=f.value;s.payload=function(){return b(w)},s.callback=function(){DC(o,c,f)}}var U=c.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(s.callback=function(){DC(o,c,f),typeof b!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var K=f.stack;this.componentDidCatch(f.value,{componentStack:K!==null?K:""})})}function CD(s,o,c,f,b){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Kc(o,c,b,!0),c=wo.current,c!==null){switch(c.tag){case 13:return va===null?g0():c.alternate===null&&Fr===0&&(Fr=3),c.flags&=-257,c.flags|=65536,c.lanes=b,f===jv?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),v0(s,f,b)),!1;case 22:return c.flags|=65536,f===jv?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),v0(s,f,b)),!1}throw Error(i(435,c.tag))}return v0(s,f,b),g0(),!1}if(Jt)return o=wo.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,f!==js&&(s=Error(i(422),{cause:f}),Ul(si(s,c)))):(f!==js&&(o=Error(i(423),{cause:f}),Ul(si(o,c))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,f=si(f,c),b=qv(s.stateNode,f,b),wv(s,b),Fr!==4&&(Fr=2)),!1;var w=Error(i(520),{cause:f});if(w=si(w,c),nf===null?nf=[w]:nf.push(w),Fr!==4&&(Fr=2),o===null)return!0;f=si(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=b&-b,c.lanes|=s,s=qv(c.stateNode,f,s),wv(c,s),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tc===null||!tc.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=zC(b),LC(b,s,c,f),wv(c,b),!1}c=c.return}while(c!==null);return!1}var OC=Error(i(461)),Ss=!1;function Ts(s,o,c,f){o.child=s===null?EC(o,null,c,f):hd(o,s.child,c,f)}function NC(s,o,c,f,b){c=c.render;var w=o.ref;if("ref"in f){var U={};for(var K in f)K!=="ref"&&(U[K]=f[K])}else U=f;return Qc(o),f=kv(s,o,c,U,w,b),K=Pv(),s!==null&&!Ss?(Rv(s,o,b),il(s,o,b)):(Jt&&K&&Xe(o),o.flags|=1,Ts(s,o,f,b),o.child)}function IC(s,o,c,f,b){if(s===null){var w=c.type;return typeof w=="function"&&!nd(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,BC(s,o,w,f,b)):(s=Zc(c.type,null,f,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!e0(s,b)){var U=w.memoizedProps;if(c=c.compare,c=c!==null?c:ri,c(U,f)&&s.ref===o.ref)return il(s,o,b)}return o.flags|=1,s=So(w,f),s.ref=o.ref,s.return=o,o.child=s}function BC(s,o,c,f,b){if(s!==null){var w=s.memoizedProps;if(ri(w,f)&&s.ref===o.ref)if(Ss=!1,o.pendingProps=f=w,e0(s,b))(s.flags&131072)!==0&&(Ss=!0);else return o.lanes=s.lanes,il(s,o,b)}return Gv(s,o,c,f,b)}function $C(s,o,c){var f=o.pendingProps,b=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=w!==null?w.baseLanes|c:c,s!==null){for(b=o.child=s.child,w=0;b!==null;)w=w|b.lanes|b.childLanes,b=b.sibling;o.childLanes=w&~f}else o.childLanes=0,o.child=null;return FC(s,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&mm(o,w!==null?w.cachePool:null),w!==null?B1(o,w):Ev(),AC(o);else return o.lanes=o.childLanes=536870912,FC(s,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(mm(o,w.cachePool),B1(o,w),Yl(),o.memoizedState=null):(s!==null&&mm(o,null),Ev(),Yl());return Ts(s,o,b,c),o.child}function FC(s,o,c,f){var b=bv();return b=b===null?null:{parent:ds._currentValue,pool:b},o.memoizedState={baseLanes:c,cachePool:b},s!==null&&mm(o,null),Ev(),AC(o),s!==null&&Kc(s,o,f,!0),null}function Mm(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function Gv(s,o,c,f,b){return Qc(o),c=kv(s,o,c,f,void 0,b),f=Pv(),s!==null&&!Ss?(Rv(s,o,b),il(s,o,b)):(Jt&&f&&Xe(o),o.flags|=1,Ts(s,o,c,b),o.child)}function VC(s,o,c,f,b,w){return Qc(o),o.updateQueue=null,c=F1(o,f,c,b),$1(s),f=Pv(),s!==null&&!Ss?(Rv(s,o,w),il(s,o,w)):(Jt&&f&&Xe(o),o.flags|=1,Ts(s,o,c,w),o.child)}function UC(s,o,c,f,b){if(Qc(o),o.stateNode===null){var w=tl,U=c.contextType;typeof U=="object"&&U!==null&&(w=Us(U)),w=new c(f,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Wv,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=f,w.state=o.memoizedState,w.refs={},Sv(o),U=c.contextType,w.context=typeof U=="object"&&U!==null?Us(U):tl,w.state=o.memoizedState,U=c.getDerivedStateFromProps,typeof U=="function"&&(Hv(o,c,U,f),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(U=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),U!==w.state&&Wv.enqueueReplaceState(w,w.state,null),Uh(o,f,w,b),Vh(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){w=o.stateNode;var K=o.memoizedProps,fe=tu(c,K);w.props=fe;var ke=w.context,He=c.contextType;U=tl,typeof He=="object"&&He!==null&&(U=Us(He));var Ge=c.getDerivedStateFromProps;He=typeof Ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",K=o.pendingProps!==K,He||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(K||ke!==U)&&kC(o,w,f,U),Hl=!1;var Re=o.memoizedState;w.state=Re,Uh(o,f,w,b),Vh(),ke=o.memoizedState,K||Re!==ke||Hl?(typeof Ge=="function"&&(Hv(o,c,Ge,f),ke=o.memoizedState),(fe=Hl||TC(o,c,fe,f,Re,ke,U))?(He||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ke),w.props=f,w.state=ke,w.context=U,f=fe):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,Cv(s,o),U=o.memoizedProps,He=tu(c,U),w.props=He,Ge=o.pendingProps,Re=w.context,ke=c.contextType,fe=tl,typeof ke=="object"&&ke!==null&&(fe=Us(ke)),K=c.getDerivedStateFromProps,(ke=typeof K=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U!==Ge||Re!==fe)&&kC(o,w,f,fe),Hl=!1,Re=o.memoizedState,w.state=Re,Uh(o,f,w,b),Vh();var ze=o.memoizedState;U!==Ge||Re!==ze||Hl||s!==null&&s.dependencies!==null&&fm(s.dependencies)?(typeof K=="function"&&(Hv(o,c,K,f),ze=o.memoizedState),(He=Hl||TC(o,c,He,f,Re,ze,fe)||s!==null&&s.dependencies!==null&&fm(s.dependencies))?(ke||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ze,fe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ze,fe)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||U===s.memoizedProps&&Re===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&Re===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ze),w.props=f,w.state=ze,w.context=fe,f=He):(typeof w.componentDidUpdate!="function"||U===s.memoizedProps&&Re===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&Re===s.memoizedState||(o.flags|=1024),f=!1)}return w=f,Mm(s,o),f=(o.flags&128)!==0,w||f?(w=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&f?(o.child=hd(o,s.child,null,b),o.child=hd(o,null,c,b)):Ts(s,o,c,b),o.memoizedState=w.state,s=o.child):s=il(s,o,b),s}function HC(s,o,c,f){return Vl(),o.flags|=256,Ts(s,o,c,f),o.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yv(s){return{baseLanes:s,cachePool:R1()}}function Xv(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=_o),s}function WC(s,o,c){var f=o.pendingProps,b=!1,w=(o.flags&128)!==0,U;if((U=w)||(U=s!==null&&s.memoizedState===null?!1:(hs.current&2)!==0),U&&(b=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,s===null){if(Jt){if(b?Zl(o):Yl(),Jt){var K=Lt,fe;if(fe=K){e:{for(fe=K,K=Nr;fe.nodeType!==8;){if(!K){K=null;break e}if(fe=Yo(fe.nextSibling),fe===null){K=null;break e}}K=fe}K!==null?(o.memoizedState={dehydrated:K,treeContext:D!==null?{id:X,overflow:he}:null,retryLane:536870912,hydrationErrors:null},fe=oi(18,null,null,0),fe.stateNode=K,fe.return=o,o.child=fe,Ct=o,Lt=null,fe=!0):fe=!1}fe||Ci(o)}if(K=o.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return D0(K)?o.lanes=32:o.lanes=536870912,null;sl(o)}return K=f.children,f=f.fallback,b?(Yl(),b=o.mode,K=Dm({mode:"hidden",children:K},b),f=ga(f,b,c,null),K.return=o,f.return=o,K.sibling=f,o.child=K,b=o.child,b.memoizedState=Yv(c),b.childLanes=Xv(s,U,c),o.memoizedState=Zv,f):(Zl(o),Kv(o,K))}if(fe=s.memoizedState,fe!==null&&(K=fe.dehydrated,K!==null)){if(w)o.flags&256?(Zl(o),o.flags&=-257,o=Qv(s,o,c)):o.memoizedState!==null?(Yl(),o.child=s.child,o.flags|=128,o=null):(Yl(),b=f.fallback,K=o.mode,f=Dm({mode:"visible",children:f.children},K),b=ga(b,K,c,null),b.flags|=2,f.return=o,b.return=o,f.sibling=b,o.child=f,hd(o,s.child,null,c),f=o.child,f.memoizedState=Yv(c),f.childLanes=Xv(s,U,c),o.memoizedState=Zv,o=b);else if(Zl(o),D0(K)){if(U=K.nextSibling&&K.nextSibling.dataset,U)var ke=U.dgst;U=ke,f=Error(i(419)),f.stack="",f.digest=U,Ul({value:f,source:null,stack:null}),o=Qv(s,o,c)}else if(Ss||Kc(s,o,c,!1),U=(c&s.childLanes)!==0,Ss||U){if(U=yr,U!==null&&(f=c&-c,f=(f&42)!==0?1:Io(f),f=(f&(U.suspendedLanes|c))!==0?0:f,f!==0&&f!==fe.retryLane))throw fe.retryLane=f,$l(s,f),to(U,s,f),OC;K.data==="$?"||g0(),o=Qv(s,o,c)}else K.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=fe.treeContext,Lt=Yo(K.nextSibling),Ct=o,Jt=!0,vr=null,Nr=!1,s!==null&&(v[E++]=X,v[E++]=he,v[E++]=D,X=s.id,he=s.overflow,D=o),o=Kv(o,f.children),o.flags|=4096);return o}return b?(Yl(),b=f.fallback,K=o.mode,fe=s.child,ke=fe.sibling,f=So(fe,{mode:"hidden",children:f.children}),f.subtreeFlags=fe.subtreeFlags&65011712,ke!==null?b=So(ke,b):(b=ga(b,K,c,null),b.flags|=2),b.return=o,f.return=o,f.sibling=b,o.child=f,f=b,b=o.child,K=s.child.memoizedState,K===null?K=Yv(c):(fe=K.cachePool,fe!==null?(ke=ds._currentValue,fe=fe.parent!==ke?{parent:ke,pool:ke}:fe):fe=R1(),K={baseLanes:K.baseLanes|c,cachePool:fe}),b.memoizedState=K,b.childLanes=Xv(s,U,c),o.memoizedState=Zv,f):(Zl(o),c=s.child,s=c.sibling,c=So(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,s!==null&&(U=o.deletions,U===null?(o.deletions=[s],o.flags|=16):U.push(s)),o.child=c,o.memoizedState=null,c)}function Kv(s,o){return o=Dm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Dm(s,o){return s=oi(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Qv(s,o,c){return hd(o,s.child,null,c),s=Kv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function qC(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Xc(s.return,o,c)}function Jv(s,o,c,f,b){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:b}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=b)}function GC(s,o,c){var f=o.pendingProps,b=f.revealOrder,w=f.tail;if(Ts(s,o,f.children,c),f=hs.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qC(s,c,o);else if(s.tag===19)qC(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch($(hs,f),b){case"forwards":for(c=o.child,b=null;c!==null;)s=c.alternate,s!==null&&km(s)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),Jv(o,!1,b,c,w);break;case"backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&km(s)===null){o.child=b;break}s=b.sibling,b.sibling=c,c=b,b=s}Jv(o,!0,c,null,w);break;case"together":Jv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function il(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),ec|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Kc(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=So(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=So(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function e0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&fm(s)))}function wD(s,o,c){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),xa(o,ds,s.memoizedState.cache),Vl();break;case 27:case 5:it(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:xa(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Zl(o),o.flags|=128,null):(c&o.child.childLanes)!==0?WC(s,o,c):(Zl(o),s=il(s,o,c),s!==null?s.sibling:null);Zl(o);break;case 19:var b=(s.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Kc(s,o,c,!1),f=(c&o.childLanes)!==0),b){if(f)return GC(s,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),$(hs,hs.current),f)break;return null;case 22:case 23:return o.lanes=0,$C(s,o,c);case 24:xa(o,ds,s.memoizedState.cache)}return il(s,o,c)}function ZC(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ss=!0;else{if(!e0(s,c)&&(o.flags&128)===0)return Ss=!1,wD(s,o,c);Ss=(s.flags&131072)!==0}else Ss=!1,Jt&&(o.flags&1048576)!==0&&Oe(o,h,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var f=o.elementType,b=f._init;if(f=b(f._payload),o.type=f,typeof f=="function")nd(f)?(s=tu(f,s),o.tag=1,o=UC(null,o,f,s,c)):(o.tag=0,o=Gv(null,o,f,s,c));else{if(f!=null){if(b=f.$$typeof,b===I){o.tag=11,o=NC(null,o,f,s,c);break e}else if(b===Y){o.tag=14,o=IC(null,o,f,s,c);break e}}throw o=me(f)||f,Error(i(306,o,""))}}return o;case 0:return Gv(s,o,o.type,o.pendingProps,c);case 1:return f=o.type,b=tu(f,o.pendingProps),UC(s,o,f,b,c);case 3:e:{if(Le(o,o.stateNode.containerInfo),s===null)throw Error(i(387));f=o.pendingProps;var w=o.memoizedState;b=w.element,Cv(s,o),Uh(o,f,null,c);var U=o.memoizedState;if(f=U.cache,xa(o,ds,f),f!==w.cache&&sd(o,[ds],c,!0),Vh(),f=U.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=HC(s,o,f,c);break e}else if(f!==b){b=si(Error(i(424)),o),Ul(b),o=HC(s,o,f,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Lt=Yo(s.firstChild),Ct=o,Jt=!0,vr=null,Nr=!0,c=EC(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Vl(),f===b){o=il(s,o,c);break e}Ts(s,o,f,c)}o=o.child}return o;case 26:return Mm(s,o),s===null?(c=Qw(o.type,null,o.pendingProps,null))?o.memoizedState=c:Jt||(c=o.type,s=o.pendingProps,f=Gm(Q.current).createElement(c),f[pr]=o,f[Jr]=s,Ps(f,c,s),Tr(f),o.stateNode=f):o.memoizedState=Qw(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return it(o),s===null&&Jt&&(f=o.stateNode=Yw(o.type,o.pendingProps,Q.current),Ct=o,Nr=!0,b=Lt,sc(o.type)?(z0=b,Lt=Yo(f.firstChild)):Lt=b),Ts(s,o,o.pendingProps.children,c),Mm(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Jt&&((b=f=Lt)&&(f=QD(f,o.type,o.pendingProps,Nr),f!==null?(o.stateNode=f,Ct=o,Lt=Yo(f.firstChild),Nr=!1,b=!0):b=!1),b||Ci(o)),it(o),b=o.type,w=o.pendingProps,U=s!==null?s.memoizedProps:null,f=w.children,P0(b,w)?f=null:U!==null&&P0(b,U)&&(o.flags|=32),o.memoizedState!==null&&(b=kv(s,o,gD,null,null,c),hf._currentValue=b),Mm(s,o),Ts(s,o,f,c),o.child;case 6:return s===null&&Jt&&((s=c=Lt)&&(c=JD(c,o.pendingProps,Nr),c!==null?(o.stateNode=c,Ct=o,Lt=null,s=!0):s=!1),s||Ci(o)),null;case 13:return WC(s,o,c);case 4:return Le(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=hd(o,null,f,c):Ts(s,o,f,c),o.child;case 11:return NC(s,o,o.type,o.pendingProps,c);case 7:return Ts(s,o,o.pendingProps,c),o.child;case 8:return Ts(s,o,o.pendingProps.children,c),o.child;case 12:return Ts(s,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,xa(o,o.type,f.value),Ts(s,o,f.children,c),o.child;case 9:return b=o.type._context,f=o.pendingProps.children,Qc(o),b=Us(b),f=f(b),o.flags|=1,Ts(s,o,f,c),o.child;case 14:return IC(s,o,o.type,o.pendingProps,c);case 15:return BC(s,o,o.type,o.pendingProps,c);case 19:return GC(s,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},s===null?(c=Dm(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=So(s.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return $C(s,o,c);case 24:return Qc(o),f=Us(ds),s===null?(b=bv(),b===null&&(b=yr,w=vv(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),o.memoizedState={parent:f,cache:b},Sv(o),xa(o,ds,b)):((s.lanes&c)!==0&&(Cv(s,o),Uh(o,null,null,c),Vh()),b=s.memoizedState,w=o.memoizedState,b.parent!==f?(b={parent:f,cache:f},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),xa(o,ds,f)):(f=w.cache,xa(o,ds,f),f!==b.cache&&sd(o,[ds],c,!0))),Ts(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ol(s){s.flags|=4}function YC(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!r_(o)){if(o=wo.current,o!==null&&((On&4194048)===On?va!==null:(On&62914560)!==On&&(On&536870912)===0||o!==va))throw $h=jv,M1;s.flags|=8192}}function zm(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Dr():536870912,s.lanes|=o,gd|=o)}function Xh(s,o){if(!Jt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ir(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var b=s.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function _D(s,o,c){var f=o.pendingProps;switch(ht(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(o),null;case 1:return Ir(o),null;case 3:return c=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Go(ds),Ae(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Yc(o)?ol(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hm())),Ir(o),null;case 26:return c=o.memoizedState,s===null?(ol(o),c!==null?(Ir(o),YC(o,c)):(Ir(o),o.flags&=-16777217)):c?c!==s.memoizedState?(ol(o),Ir(o),YC(o,c)):(Ir(o),o.flags&=-16777217):(s.memoizedProps!==f&&ol(o),Ir(o),o.flags&=-16777217),null;case 27:ct(o),c=Q.current;var b=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==f&&ol(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ir(o),null}s=V.current,Yc(o)?um(o):(s=Yw(b,f,c),o.stateNode=s,ol(o))}return Ir(o),null;case 5:if(ct(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&ol(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ir(o),null}if(s=V.current,Yc(o))um(o);else{switch(b=Gm(Q.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?b.createElement(c,{is:f.is}):b.createElement(c)}}s[pr]=o,s[Jr]=f;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=s;e:switch(Ps(s,c,f),c){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ol(o)}}return Ir(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&ol(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(s=Q.current,Yc(o)){if(s=o.stateNode,c=o.memoizedProps,f=null,b=Ct,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}s[pr]=o,s=!!(s.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||Vw(s.nodeValue,c)),s||Ci(o)}else s=Gm(s).createTextNode(f),s[pr]=o,o.stateNode=s}return Ir(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Yc(o),f!==null&&f.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[pr]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ir(o),b=!1}else b=hm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(sl(o),o):(sl(o),null)}if(sl(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,s=s!==null&&s.memoizedState!==null,c){f=o.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==b&&(f.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),zm(o,o.updateQueue),Ir(o),null;case 4:return Ae(),s===null&&_0(o.stateNode.containerInfo),Ir(o),null;case 10:return Go(o.type),Ir(o),null;case 19:if(pe(hs),b=o.memoizedState,b===null)return Ir(o),null;if(f=(o.flags&128)!==0,w=b.rendering,w===null)if(f)Xh(b,!1);else{if(Fr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=km(s),w!==null){for(o.flags|=128,Xh(b,!1),s=w.updateQueue,o.updateQueue=s,zm(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Lh(c,s),c=c.sibling;return $(hs,hs.current&1|2),o.child}s=s.sibling}b.tail!==null&&Ze()>Nm&&(o.flags|=128,f=!0,Xh(b,!1),o.lanes=4194304)}else{if(!f)if(s=km(w),s!==null){if(o.flags|=128,f=!0,s=s.updateQueue,o.updateQueue=s,zm(o,s),Xh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!w.alternate&&!Jt)return Ir(o),null}else 2*Ze()-b.renderingStartTime>Nm&&c!==536870912&&(o.flags|=128,f=!0,Xh(b,!1),o.lanes=4194304);b.isBackwards?(w.sibling=o.child,o.child=w):(s=b.last,s!==null?s.sibling=w:o.child=w,b.last=w)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Ze(),o.sibling=null,s=hs.current,$(hs,f?s&1|2:s&1),o):(Ir(o),null);case 22:case 23:return sl(o),Av(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Ir(o),o.subtreeFlags&6&&(o.flags|=8192)):Ir(o),c=o.updateQueue,c!==null&&zm(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),s!==null&&pe(Jc),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Go(ds),Ir(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function ED(s,o){switch(ht(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Go(ds),Ae(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ct(o),null;case 13:if(sl(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Vl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return pe(hs),null;case 4:return Ae(),null;case 10:return Go(o.type),null;case 22:case 23:return sl(o),Av(),s!==null&&pe(Jc),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Go(ds),null;case 25:return null;default:return null}}function XC(s,o){switch(ht(o),o.tag){case 3:Go(ds),Ae();break;case 26:case 27:case 5:ct(o);break;case 4:Ae();break;case 13:sl(o);break;case 19:pe(hs);break;case 10:Go(o.type);break;case 22:case 23:sl(o),Av(),s!==null&&pe(Jc);break;case 24:Go(ds)}}function Kh(s,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var b=f.next;c=b;do{if((c.tag&s)===s){f=void 0;var w=c.create,U=c.inst;f=w(),U.destroy=f}c=c.next}while(c!==b)}}catch(K){mr(o,o.return,K)}}function Xl(s,o,c){try{var f=o.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var w=b.next;f=w;do{if((f.tag&s)===s){var U=f.inst,K=U.destroy;if(K!==void 0){U.destroy=void 0,b=o;var fe=c,ke=K;try{ke()}catch(He){mr(b,fe,He)}}}f=f.next}while(f!==w)}}catch(He){mr(o,o.return,He)}}function KC(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{I1(o,c)}catch(f){mr(s,s.return,f)}}}function QC(s,o,c){c.props=tu(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(f){mr(s,o,f)}}function Qh(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof c=="function"?s.refCleanup=c(f):c.current=f}}catch(b){mr(s,o,b)}}function ya(s,o){var c=s.ref,f=s.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(b){mr(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){mr(s,o,b)}else c.current=null}function JC(s){var o=s.type,c=s.memoizedProps,f=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(b){mr(s,s.return,b)}}function t0(s,o,c){try{var f=s.stateNode;GD(f,s.type,c,o),f[Jr]=o}catch(b){mr(s,s.return,b)}}function ew(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&sc(s.type)||s.tag===4}function n0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ew(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&sc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function r0(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=qm));else if(f!==4&&(f===27&&sc(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(r0(s,o,c),s=s.sibling;s!==null;)r0(s,o,c),s=s.sibling}function Lm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(f===27&&sc(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Lm(s,o,c),s=s.sibling;s!==null;)Lm(s,o,c),s=s.sibling}function tw(s){var o=s.stateNode,c=s.memoizedProps;try{for(var f=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Ps(o,f,c),o[pr]=s,o[Jr]=c}catch(w){mr(s,s.return,w)}}var al=!1,Zr=!1,s0=!1,nw=typeof WeakSet=="function"?WeakSet:Set,Cs=null;function AD(s,o){if(s=s.containerInfo,T0=Jm,s=Vc(s),Uc(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var b=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var U=0,K=-1,fe=-1,ke=0,He=0,Ge=s,Re=null;t:for(;;){for(var ze;Ge!==c||b!==0&&Ge.nodeType!==3||(K=U+b),Ge!==w||f!==0&&Ge.nodeType!==3||(fe=U+f),Ge.nodeType===3&&(U+=Ge.nodeValue.length),(ze=Ge.firstChild)!==null;)Re=Ge,Ge=ze;for(;;){if(Ge===s)break t;if(Re===c&&++ke===b&&(K=U),Re===w&&++He===f&&(fe=U),(ze=Ge.nextSibling)!==null)break;Ge=Re,Re=Ge.parentNode}Ge=ze}c=K===-1||fe===-1?null:{start:K,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(k0={focusedElem:s,selectionRange:c},Jm=!1,Cs=o;Cs!==null;)if(o=Cs,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Cs=s;else for(;Cs!==null;){switch(o=Cs,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=o,b=w.memoizedProps,w=w.memoizedState,f=c.stateNode;try{var Qt=tu(c.type,b,c.elementType===c.type);s=f.getSnapshotBeforeUpdate(Qt,w),f.__reactInternalSnapshotBeforeUpdate=s}catch(Gt){mr(c,c.return,Gt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)M0(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":M0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Cs=s;break}Cs=o.return}}function rw(s,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Kl(s,c),f&4&&Kh(5,c);break;case 1:if(Kl(s,c),f&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(U){mr(c,c.return,U)}else{var b=tu(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(U){mr(c,c.return,U)}}f&64&&KC(c),f&512&&Qh(c,c.return);break;case 3:if(Kl(s,c),f&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{I1(s,o)}catch(U){mr(c,c.return,U)}}break;case 27:o===null&&f&4&&tw(c);case 26:case 5:Kl(s,c),o===null&&f&4&&JC(c),f&512&&Qh(c,c.return);break;case 12:Kl(s,c);break;case 13:Kl(s,c),f&4&&ow(s,c),f&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=OD.bind(null,c),ez(s,c))));break;case 22:if(f=c.memoizedState!==null||al,!f){o=o!==null&&o.memoizedState!==null||Zr,b=al;var w=Zr;al=f,(Zr=o)&&!w?Ql(s,c,(c.subtreeFlags&8772)!==0):Kl(s,c),al=b,Zr=w}break;case 30:break;default:Kl(s,c)}}function sw(s){var o=s.alternate;o!==null&&(s.alternate=null,sw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&la(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Rr=null,_i=!1;function ll(s,o,c){for(c=c.child;c!==null;)iw(s,o,c),c=c.sibling}function iw(s,o,c){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(rt,c)}catch{}switch(c.tag){case 26:Zr||ya(c,o),ll(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Zr||ya(c,o);var f=Rr,b=_i;sc(c.type)&&(Rr=c.stateNode,_i=!1),ll(s,o,c),lf(c.stateNode),Rr=f,_i=b;break;case 5:Zr||ya(c,o);case 6:if(f=Rr,b=_i,Rr=null,ll(s,o,c),Rr=f,_i=b,Rr!==null)if(_i)try{(Rr.nodeType===9?Rr.body:Rr.nodeName==="HTML"?Rr.ownerDocument.body:Rr).removeChild(c.stateNode)}catch(w){mr(c,o,w)}else try{Rr.removeChild(c.stateNode)}catch(w){mr(c,o,w)}break;case 18:Rr!==null&&(_i?(s=Rr,Gw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),gf(s)):Gw(Rr,c.stateNode));break;case 4:f=Rr,b=_i,Rr=c.stateNode.containerInfo,_i=!0,ll(s,o,c),Rr=f,_i=b;break;case 0:case 11:case 14:case 15:Zr||Xl(2,c,o),Zr||Xl(4,c,o),ll(s,o,c);break;case 1:Zr||(ya(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&QC(c,o,f)),ll(s,o,c);break;case 21:ll(s,o,c);break;case 22:Zr=(f=Zr)||c.memoizedState!==null,ll(s,o,c),Zr=f;break;default:ll(s,o,c)}}function ow(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gf(s)}catch(c){mr(o,o.return,c)}}function TD(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new nw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new nw),o;default:throw Error(i(435,s.tag))}}function i0(s,o){var c=TD(s);o.forEach(function(f){var b=ND.bind(null,s,f);c.has(f)||(c.add(f),f.then(b,b))})}function Ki(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var b=c[f],w=s,U=o,K=U;e:for(;K!==null;){switch(K.tag){case 27:if(sc(K.type)){Rr=K.stateNode,_i=!1;break e}break;case 5:Rr=K.stateNode,_i=!1;break e;case 3:case 4:Rr=K.stateNode.containerInfo,_i=!0;break e}K=K.return}if(Rr===null)throw Error(i(160));iw(w,U,b),Rr=null,_i=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)aw(o,s),o=o.sibling}var Zo=null;function aw(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ki(o,s),Qi(s),f&4&&(Xl(3,s,s.return),Kh(3,s),Xl(5,s,s.return));break;case 1:Ki(o,s),Qi(s),f&512&&(Zr||c===null||ya(c,c.return)),f&64&&al&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var b=Zo;if(Ki(o,s),Qi(s),f&512&&(Zr||c===null||ya(c,c.return)),f&4){var w=c!==null?c.memoizedState:null;if(f=s.memoizedState,c===null)if(f===null)if(s.stateNode===null){e:{f=s.type,c=s.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":w=b.getElementsByTagName("title")[0],(!w||w[mi]||w[pr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(f),b.head.insertBefore(w,b.querySelector("head > title"))),Ps(w,f,c),w[pr]=s,Tr(w),f=w;break e;case"link":var U=t_("link","href",b).get(f+(c.href||""));if(U){for(var K=0;K<U.length;K++)if(w=U[K],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){U.splice(K,1);break t}}w=b.createElement(f),Ps(w,f,c),b.head.appendChild(w);break;case"meta":if(U=t_("meta","content",b).get(f+(c.content||""))){for(K=0;K<U.length;K++)if(w=U[K],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){U.splice(K,1);break t}}w=b.createElement(f),Ps(w,f,c),b.head.appendChild(w);break;default:throw Error(i(468,f))}w[pr]=s,Tr(w),f=w}s.stateNode=f}else n_(b,s.type,s.stateNode);else s.stateNode=e_(b,f,s.memoizedProps);else w!==f?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,f===null?n_(b,s.type,s.stateNode):e_(b,f,s.memoizedProps)):f===null&&s.stateNode!==null&&t0(s,s.memoizedProps,c.memoizedProps)}break;case 27:Ki(o,s),Qi(s),f&512&&(Zr||c===null||ya(c,c.return)),c!==null&&f&4&&t0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Ki(o,s),Qi(s),f&512&&(Zr||c===null||ya(c,c.return)),s.flags&32){b=s.stateNode;try{vs(b,"")}catch(ze){mr(s,s.return,ze)}}f&4&&s.stateNode!=null&&(b=s.memoizedProps,t0(s,b,c!==null?c.memoizedProps:b)),f&1024&&(s0=!0);break;case 6:if(Ki(o,s),Qi(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,c=s.stateNode;try{c.nodeValue=f}catch(ze){mr(s,s.return,ze)}}break;case 3:if(Xm=null,b=Zo,Zo=Zm(o.containerInfo),Ki(o,s),Zo=b,Qi(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{gf(o.containerInfo)}catch(ze){mr(s,s.return,ze)}s0&&(s0=!1,lw(s));break;case 4:f=Zo,Zo=Zm(s.stateNode.containerInfo),Ki(o,s),Qi(s),Zo=f;break;case 12:Ki(o,s),Qi(s);break;case 13:Ki(o,s),Qi(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(d0=Ze()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,i0(s,f)));break;case 22:b=s.memoizedState!==null;var fe=c!==null&&c.memoizedState!==null,ke=al,He=Zr;if(al=ke||b,Zr=He||fe,Ki(o,s),Zr=He,al=ke,Qi(s),f&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||fe||al||Zr||nu(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){fe=c=o;try{if(w=fe.stateNode,b)U=w.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{K=fe.stateNode;var Ge=fe.memoizedProps.style,Re=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;K.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(ze){mr(fe,fe.return,ze)}}}else if(o.tag===6){if(c===null){fe=o;try{fe.stateNode.nodeValue=b?"":fe.memoizedProps}catch(ze){mr(fe,fe.return,ze)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,i0(s,c))));break;case 19:Ki(o,s),Qi(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,i0(s,f)));break;case 30:break;case 21:break;default:Ki(o,s),Qi(s)}}function Qi(s){var o=s.flags;if(o&2){try{for(var c,f=s.return;f!==null;){if(ew(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var b=c.stateNode,w=n0(s);Lm(s,w,b);break;case 5:var U=c.stateNode;c.flags&32&&(vs(U,""),c.flags&=-33);var K=n0(s);Lm(s,K,U);break;case 3:case 4:var fe=c.stateNode.containerInfo,ke=n0(s);r0(s,ke,fe);break;default:throw Error(i(161))}}catch(He){mr(s,s.return,He)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function lw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;lw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Kl(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rw(s,o.alternate,o),o=o.sibling}function nu(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Xl(4,o,o.return),nu(o);break;case 1:ya(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&QC(o,o.return,c),nu(o);break;case 27:lf(o.stateNode);case 26:case 5:ya(o,o.return),nu(o);break;case 22:o.memoizedState===null&&nu(o);break;case 30:nu(o);break;default:nu(o)}s=s.sibling}}function Ql(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,b=s,w=o,U=w.flags;switch(w.tag){case 0:case 11:case 15:Ql(b,w,c),Kh(4,w);break;case 1:if(Ql(b,w,c),f=w,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ke){mr(f,f.return,ke)}if(f=w,b=f.updateQueue,b!==null){var K=f.stateNode;try{var fe=b.shared.hiddenCallbacks;if(fe!==null)for(b.shared.hiddenCallbacks=null,b=0;b<fe.length;b++)N1(fe[b],K)}catch(ke){mr(f,f.return,ke)}}c&&U&64&&KC(w),Qh(w,w.return);break;case 27:tw(w);case 26:case 5:Ql(b,w,c),c&&f===null&&U&4&&JC(w),Qh(w,w.return);break;case 12:Ql(b,w,c);break;case 13:Ql(b,w,c),c&&U&4&&ow(b,w);break;case 22:w.memoizedState===null&&Ql(b,w,c),Qh(w,w.return);break;case 30:break;default:Ql(b,w,c)}o=o.sibling}}function o0(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Nh(c))}function a0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Nh(s))}function ba(s,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cw(s,o,c,f),o=o.sibling}function cw(s,o,c,f){var b=o.flags;switch(o.tag){case 0:case 11:case 15:ba(s,o,c,f),b&2048&&Kh(9,o);break;case 1:ba(s,o,c,f);break;case 3:ba(s,o,c,f),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Nh(s)));break;case 12:if(b&2048){ba(s,o,c,f),s=o.stateNode;try{var w=o.memoizedProps,U=w.id,K=w.onPostCommit;typeof K=="function"&&K(U,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(fe){mr(o,o.return,fe)}}else ba(s,o,c,f);break;case 13:ba(s,o,c,f);break;case 23:break;case 22:w=o.stateNode,U=o.alternate,o.memoizedState!==null?w._visibility&2?ba(s,o,c,f):Jh(s,o):w._visibility&2?ba(s,o,c,f):(w._visibility|=2,fd(s,o,c,f,(o.subtreeFlags&10256)!==0)),b&2048&&o0(U,o);break;case 24:ba(s,o,c,f),b&2048&&a0(o.alternate,o);break;default:ba(s,o,c,f)}}function fd(s,o,c,f,b){for(b=b&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,U=o,K=c,fe=f,ke=U.flags;switch(U.tag){case 0:case 11:case 15:fd(w,U,K,fe,b),Kh(8,U);break;case 23:break;case 22:var He=U.stateNode;U.memoizedState!==null?He._visibility&2?fd(w,U,K,fe,b):Jh(w,U):(He._visibility|=2,fd(w,U,K,fe,b)),b&&ke&2048&&o0(U.alternate,U);break;case 24:fd(w,U,K,fe,b),b&&ke&2048&&a0(U.alternate,U);break;default:fd(w,U,K,fe,b)}o=o.sibling}}function Jh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,f=o,b=f.flags;switch(f.tag){case 22:Jh(c,f),b&2048&&o0(f.alternate,f);break;case 24:Jh(c,f),b&2048&&a0(f.alternate,f);break;default:Jh(c,f)}o=o.sibling}}var ef=8192;function pd(s){if(s.subtreeFlags&ef)for(s=s.child;s!==null;)uw(s),s=s.sibling}function uw(s){switch(s.tag){case 26:pd(s),s.flags&ef&&s.memoizedState!==null&&fz(Zo,s.memoizedState,s.memoizedProps);break;case 5:pd(s);break;case 3:case 4:var o=Zo;Zo=Zm(s.stateNode.containerInfo),pd(s),Zo=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=ef,ef=16777216,pd(s),ef=o):pd(s));break;default:pd(s)}}function dw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function tf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Cs=f,fw(f,s)}dw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hw(s),s=s.sibling}function hw(s){switch(s.tag){case 0:case 11:case 15:tf(s),s.flags&2048&&Xl(9,s,s.return);break;case 3:tf(s);break;case 12:tf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Om(s)):tf(s);break;default:tf(s)}}function Om(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Cs=f,fw(f,s)}dw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Xl(8,o,o.return),Om(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Om(o));break;default:Om(o)}s=s.sibling}}function fw(s,o){for(;Cs!==null;){var c=Cs;switch(c.tag){case 0:case 11:case 15:Xl(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Nh(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Cs=f;else e:for(c=s;Cs!==null;){f=Cs;var b=f.sibling,w=f.return;if(sw(f),f===c){Cs=null;break e}if(b!==null){b.return=w,Cs=b;break e}Cs=w}}}var kD={getCacheForType:function(s){var o=Us(ds),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},PD=typeof WeakMap=="function"?WeakMap:Map,sr=0,yr=null,En=null,On=0,ir=0,Ji=null,Jl=!1,md=!1,l0=!1,cl=0,Fr=0,ec=0,ru=0,c0=0,_o=0,gd=0,nf=null,Ei=null,u0=!1,d0=0,Nm=1/0,Im=null,tc=null,ks=0,nc=null,xd=null,vd=0,h0=0,f0=null,pw=null,rf=0,p0=null;function eo(){if((sr&2)!==0&&On!==0)return On&-On;if(Z.T!==null){var s=id;return s!==0?s:j0()}return Wa()}function mw(){_o===0&&(_o=(On&536870912)===0||Jt?Bn():536870912);var s=wo.current;return s!==null&&(s.flags|=32),_o}function to(s,o,c){(s===yr&&(ir===2||ir===9)||s.cancelPendingCommit!==null)&&(yd(s,0),rc(s,On,_o,!1)),pi(s,c),((sr&2)===0||s!==yr)&&(s===yr&&((sr&2)===0&&(ru|=c),Fr===4&&rc(s,On,_o,!1)),ja(s))}function gw(s,o,c){if((sr&6)!==0)throw Error(i(327));var f=!c&&(o&124)===0&&(o&s.expiredLanes)===0||ot(s,o),b=f?DD(s,o):x0(s,o,!0),w=f;do{if(b===0){md&&!f&&rc(s,o,0,!1);break}else{if(c=s.current.alternate,w&&!RD(c)){b=x0(s,o,!1),w=!1;continue}if(b===2){if(w=o,s.errorRecoveryDisabledLanes&w)var U=0;else U=s.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;e:{var K=s;b=nf;var fe=K.current.memoizedState.isDehydrated;if(fe&&(yd(K,U).flags|=256),U=x0(K,U,!1),U!==2){if(l0&&!fe){K.errorRecoveryDisabledLanes|=w,ru|=w,b=4;break e}w=Ei,Ei=b,w!==null&&(Ei===null?Ei=w:Ei.push.apply(Ei,w))}b=U}if(w=!1,b!==2)continue}}if(b===1){yd(s,0),rc(s,o,0,!0);break}e:{switch(f=s,w=b,w){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:rc(f,o,_o,!Jl);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(b=d0+300-Ze(),10<b)){if(rc(f,o,_o,!Jl),Mn(f,0,!0)!==0)break e;f.timeoutHandle=Ww(xw.bind(null,f,c,Ei,Im,u0,o,_o,ru,gd,Jl,w,2,-0,0),b);break e}xw(f,c,Ei,Im,u0,o,_o,ru,gd,Jl,w,0,-0,0)}}break}while(!0);ja(s)}function xw(s,o,c,f,b,w,U,K,fe,ke,He,Ge,Re,ze){if(s.timeoutHandle=-1,Ge=o.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(df={stylesheets:null,count:0,unsuspend:hz},uw(o),Ge=pz(),Ge!==null)){s.cancelPendingCommit=Ge(ww.bind(null,s,o,w,c,f,b,U,K,fe,He,1,Re,ze)),rc(s,w,U,!ke);return}ww(s,o,w,c,f,b,U,K,fe)}function RD(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var b=c[f],w=b.getSnapshot;b=b.value;try{if(!ni(w(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rc(s,o,c,f){o&=~c0,o&=~ru,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var b=o;0<b;){var w=31-gt(b),U=1<<w;f[w]=-1,b&=~U}c!==0&&aa(s,c,o)}function Bm(){return(sr&6)===0?(sf(0),!1):!0}function m0(){if(En!==null){if(ir===0)var s=En.return;else s=En,qo=Co=null,Mv(s),dd=null,Zh=0,s=En;for(;s!==null;)XC(s.alternate,s),s=s.return;En=null}}function yd(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,YD(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),m0(),yr=s,En=c=So(s.current,null),On=o,ir=0,Ji=null,Jl=!1,md=ot(s,o),l0=!1,gd=_o=c0=ru=ec=Fr=0,Ei=nf=null,u0=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var b=31-gt(f),w=1<<b;o|=s[b],f&=~w}return cl=o,Wc(),c}function vw(s,o){yn=null,Z.H=Em,o===Bh||o===gm?(o=L1(),ir=3):o===M1?(o=L1(),ir=4):ir=o===OC?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ji=o,En===null&&(Fr=1,Rm(s,si(o,s.current)))}function yw(){var s=Z.H;return Z.H=Em,s===null?Em:s}function bw(){var s=Z.A;return Z.A=kD,s}function g0(){Fr=4,Jl||(On&4194048)!==On&&wo.current!==null||(md=!0),(ec&134217727)===0&&(ru&134217727)===0||yr===null||rc(yr,On,_o,!1)}function x0(s,o,c){var f=sr;sr|=2;var b=yw(),w=bw();(yr!==s||On!==o)&&(Im=null,yd(s,o)),o=!1;var U=Fr;e:do try{if(ir!==0&&En!==null){var K=En,fe=Ji;switch(ir){case 8:m0(),U=6;break e;case 3:case 2:case 9:case 6:wo.current===null&&(o=!0);var ke=ir;if(ir=0,Ji=null,bd(s,K,fe,ke),c&&md){U=0;break e}break;default:ke=ir,ir=0,Ji=null,bd(s,K,fe,ke)}}MD(),U=Fr;break}catch(He){vw(s,He)}while(!0);return o&&s.shellSuspendCounter++,qo=Co=null,sr=f,Z.H=b,Z.A=w,En===null&&(yr=null,On=0,Wc()),U}function MD(){for(;En!==null;)jw(En)}function DD(s,o){var c=sr;sr|=2;var f=yw(),b=bw();yr!==s||On!==o?(Im=null,Nm=Ze()+500,yd(s,o)):md=ot(s,o);e:do try{if(ir!==0&&En!==null){o=En;var w=Ji;t:switch(ir){case 1:ir=0,Ji=null,bd(s,o,w,1);break;case 2:case 9:if(D1(w)){ir=0,Ji=null,Sw(o);break}o=function(){ir!==2&&ir!==9||yr!==s||(ir=7),ja(s)},w.then(o,o);break e;case 3:ir=7;break e;case 4:ir=5;break e;case 7:D1(w)?(ir=0,Ji=null,Sw(o)):(ir=0,Ji=null,bd(s,o,w,7));break;case 5:var U=null;switch(En.tag){case 26:U=En.memoizedState;case 5:case 27:var K=En;if(!U||r_(U)){ir=0,Ji=null;var fe=K.sibling;if(fe!==null)En=fe;else{var ke=K.return;ke!==null?(En=ke,$m(ke)):En=null}break t}}ir=0,Ji=null,bd(s,o,w,5);break;case 6:ir=0,Ji=null,bd(s,o,w,6);break;case 8:m0(),Fr=6;break e;default:throw Error(i(462))}}zD();break}catch(He){vw(s,He)}while(!0);return qo=Co=null,Z.H=f,Z.A=b,sr=c,En!==null?0:(yr=null,On=0,Wc(),Fr)}function zD(){for(;En!==null&&!$t();)jw(En)}function jw(s){var o=ZC(s.alternate,s,cl);s.memoizedProps=s.pendingProps,o===null?$m(s):En=o}function Sw(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=VC(c,o,o.pendingProps,o.type,void 0,On);break;case 11:o=VC(c,o,o.pendingProps,o.type.render,o.ref,On);break;case 5:Mv(o);default:XC(c,o),o=En=Lh(o,cl),o=ZC(c,o,cl)}s.memoizedProps=s.pendingProps,o===null?$m(s):En=o}function bd(s,o,c,f){qo=Co=null,Mv(o),dd=null,Zh=0;var b=o.return;try{if(CD(s,b,o,c,On)){Fr=1,Rm(s,si(c,s.current)),En=null;return}}catch(w){if(b!==null)throw En=b,w;Fr=1,Rm(s,si(c,s.current)),En=null;return}o.flags&32768?(Jt||f===1?s=!0:md||(On&536870912)!==0?s=!1:(Jl=s=!0,(f===2||f===9||f===3||f===6)&&(f=wo.current,f!==null&&f.tag===13&&(f.flags|=16384))),Cw(o,s)):$m(o)}function $m(s){var o=s;do{if((o.flags&32768)!==0){Cw(o,Jl);return}s=o.return;var c=_D(o.alternate,o,cl);if(c!==null){En=c;return}if(o=o.sibling,o!==null){En=o;return}En=o=s}while(o!==null);Fr===0&&(Fr=5)}function Cw(s,o){do{var c=ED(s.alternate,s);if(c!==null){c.flags&=32767,En=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){En=s;return}En=s=c}while(s!==null);Fr=6,En=null}function ww(s,o,c,f,b,w,U,K,fe){s.cancelPendingCommit=null;do Fm();while(ks!==0);if((sr&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(w=o.lanes|o.childLanes,w|=Xi,Os(s,c,w,U,K,fe),s===yr&&(En=yr=null,On=0),xd=o,nc=s,vd=c,h0=w,f0=b,pw=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ID(nt,function(){return kw(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,b=H.p,H.p=2,U=sr,sr|=4;try{AD(s,o,c)}finally{sr=U,H.p=b,Z.T=f}}ks=1,_w(),Ew(),Aw()}}function _w(){if(ks===1){ks=0;var s=nc,o=xd,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var f=H.p;H.p=2;var b=sr;sr|=4;try{aw(o,s);var w=k0,U=Vc(s.containerInfo),K=w.focusedElem,fe=w.selectionRange;if(U!==K&&K&&K.ownerDocument&&Ku(K.ownerDocument.documentElement,K)){if(fe!==null&&Uc(K)){var ke=fe.start,He=fe.end;if(He===void 0&&(He=ke),"selectionStart"in K)K.selectionStart=ke,K.selectionEnd=Math.min(He,K.value.length);else{var Ge=K.ownerDocument||document,Re=Ge&&Ge.defaultView||window;if(Re.getSelection){var ze=Re.getSelection(),Qt=K.textContent.length,Gt=Math.min(fe.start,Qt),hr=fe.end===void 0?Gt:Math.min(fe.end,Qt);!ze.extend&&Gt>hr&&(U=hr,hr=Gt,Gt=U);var we=Dh(K,Gt),ye=Dh(K,hr);if(we&&ye&&(ze.rangeCount!==1||ze.anchorNode!==we.node||ze.anchorOffset!==we.offset||ze.focusNode!==ye.node||ze.focusOffset!==ye.offset)){var Te=Ge.createRange();Te.setStart(we.node,we.offset),ze.removeAllRanges(),Gt>hr?(ze.addRange(Te),ze.extend(ye.node,ye.offset)):(Te.setEnd(ye.node,ye.offset),ze.addRange(Te))}}}}for(Ge=[],ze=K;ze=ze.parentNode;)ze.nodeType===1&&Ge.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ge.length;K++){var We=Ge[K];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}Jm=!!T0,k0=T0=null}finally{sr=b,H.p=f,Z.T=c}}s.current=o,ks=2}}function Ew(){if(ks===2){ks=0;var s=nc,o=xd,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var f=H.p;H.p=2;var b=sr;sr|=4;try{rw(s,o.alternate,o)}finally{sr=b,H.p=f,Z.T=c}}ks=3}}function Aw(){if(ks===4||ks===3){ks=0,be();var s=nc,o=xd,c=vd,f=pw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ks=5:(ks=0,xd=nc=null,Tw(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(tc=null),Bo(c),o=o.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(rt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Z.T,b=H.p,H.p=2,Z.T=null;try{for(var w=s.onRecoverableError,U=0;U<f.length;U++){var K=f[U];w(K.value,{componentStack:K.stack})}}finally{Z.T=o,H.p=b}}(vd&3)!==0&&Fm(),ja(s),b=s.pendingLanes,(c&4194090)!==0&&(b&42)!==0?s===p0?rf++:(rf=0,p0=s):rf=0,sf(0)}}function Tw(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Nh(o)))}function Fm(s){return _w(),Ew(),Aw(),kw()}function kw(){if(ks!==5)return!1;var s=nc,o=h0;h0=0;var c=Bo(vd),f=Z.T,b=H.p;try{H.p=32>c?32:c,Z.T=null,c=f0,f0=null;var w=nc,U=vd;if(ks=0,xd=nc=null,vd=0,(sr&6)!==0)throw Error(i(331));var K=sr;if(sr|=4,hw(w.current),cw(w,w.current,U,c),sr=K,sf(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(rt,w)}catch{}return!0}finally{H.p=b,Z.T=f,Tw(s,o)}}function Pw(s,o,c){o=si(c,o),o=qv(s.stateNode,o,2),s=ql(s,o,2),s!==null&&(pi(s,2),ja(s))}function mr(s,o,c){if(s.tag===3)Pw(s,s,c);else for(;o!==null;){if(o.tag===3){Pw(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(tc===null||!tc.has(f))){s=si(c,s),c=zC(2),f=ql(o,c,2),f!==null&&(LC(c,f,o,s),pi(f,2),ja(f));break}}o=o.return}}function v0(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new PD;var b=new Set;f.set(o,b)}else b=f.get(o),b===void 0&&(b=new Set,f.set(o,b));b.has(c)||(l0=!0,b.add(c),s=LD.bind(null,s,o,c),o.then(s,s))}function LD(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,yr===s&&(On&c)===c&&(Fr===4||Fr===3&&(On&62914560)===On&&300>Ze()-d0?(sr&2)===0&&yd(s,0):c0|=c,gd===On&&(gd=0)),ja(s)}function Rw(s,o){o===0&&(o=Dr()),s=$l(s,o),s!==null&&(pi(s,o),ja(s))}function OD(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Rw(s,c)}function ND(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,b=s.memoizedState;b!==null&&(c=b.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),Rw(s,c)}function ID(s,o){return zt(s,o)}var Vm=null,jd=null,y0=!1,Um=!1,b0=!1,su=0;function ja(s){s!==jd&&s.next===null&&(jd===null?Vm=jd=s:jd=jd.next=s),Um=!0,y0||(y0=!0,$D())}function sf(s,o){if(!b0&&Um){b0=!0;do for(var c=!1,f=Vm;f!==null;){if(s!==0){var b=f.pendingLanes;if(b===0)var w=0;else{var U=f.suspendedLanes,K=f.pingedLanes;w=(1<<31-gt(42|s)+1)-1,w&=b&~(U&~K),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Lw(f,w))}else w=On,w=Mn(f,f===yr?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||ot(f,w)||(c=!0,Lw(f,w));f=f.next}while(c);b0=!1}}function BD(){Mw()}function Mw(){Um=y0=!1;var s=0;su!==0&&(ZD()&&(s=su),su=0);for(var o=Ze(),c=null,f=Vm;f!==null;){var b=f.next,w=Dw(f,o);w===0?(f.next=null,c===null?Vm=b:c.next=b,b===null&&(jd=c)):(c=f,(s!==0||(w&3)!==0)&&(Um=!0)),f=b}sf(s)}function Dw(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,b=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var U=31-gt(w),K=1<<U,fe=b[U];fe===-1?((K&c)===0||(K&f)!==0)&&(b[U]=Fn(K,o)):fe<=o&&(s.expiredLanes|=K),w&=~K}if(o=yr,c=On,c=Mn(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,c===0||s===o&&(ir===2||ir===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Ve(f),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ot(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(f!==null&&Ve(f),Bo(c)){case 2:case 8:c=ge;break;case 32:c=nt;break;case 268435456:c=kn;break;default:c=nt}return f=zw.bind(null,s),c=zt(c,f),s.callbackPriority=o,s.callbackNode=c,o}return f!==null&&f!==null&&Ve(f),s.callbackPriority=2,s.callbackNode=null,2}function zw(s,o){if(ks!==0&&ks!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Fm()&&s.callbackNode!==c)return null;var f=On;return f=Mn(s,s===yr?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(gw(s,f,o),Dw(s,Ze()),s.callbackNode!=null&&s.callbackNode===c?zw.bind(null,s):null)}function Lw(s,o){if(Fm())return null;gw(s,o,!0)}function $D(){XD(function(){(sr&6)!==0?zt(ae,BD):Mw()})}function j0(){return su===0&&(su=Bn()),su}function Ow(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Vi(""+s)}function Nw(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function FD(s,o,c,f,b){if(o==="submit"&&c&&c.stateNode===b){var w=Ow((b[Jr]||null).action),U=f.submitter;U&&(o=(o=U[Jr]||null)?Ow(o.formAction):U.getAttribute("formAction"),o!==null&&(w=o,U=null));var K=new De("action","action",null,f,b);s.push({event:K,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(su!==0){var fe=U?Nw(b,U):new FormData(b);Fv(c,{pending:!0,data:fe,method:b.method,action:w},null,fe)}}else typeof w=="function"&&(K.preventDefault(),fe=U?Nw(b,U):new FormData(b),Fv(c,{pending:!0,data:fe,method:b.method,action:w},w,fe))},currentTarget:b}]})}}for(var S0=0;S0<Qa.length;S0++){var C0=Qa[S0],VD=C0.toLowerCase(),UD=C0[0].toUpperCase()+C0.slice(1);Yi(VD,"on"+UD)}Yi(am,"onAnimationEnd"),Yi(Zi,"onAnimationIteration"),Yi(Hc,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(gv,"onTransitionRun"),Yi(td,"onTransitionStart"),Yi(xv,"onTransitionCancel"),Yi(zh,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function Iw(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],b=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var U=f.length-1;0<=U;U--){var K=f[U],fe=K.instance,ke=K.currentTarget;if(K=K.listener,fe!==w&&b.isPropagationStopped())break e;w=K,b.currentTarget=ke;try{w(b)}catch(He){Pm(He)}b.currentTarget=null,w=fe}else for(U=0;U<f.length;U++){if(K=f[U],fe=K.instance,ke=K.currentTarget,K=K.listener,fe!==w&&b.isPropagationStopped())break e;w=K,b.currentTarget=ke;try{w(b)}catch(He){Pm(He)}b.currentTarget=null,w=fe}}}}function An(s,o){var c=o[es];c===void 0&&(c=o[es]=new Set);var f=s+"__bubble";c.has(f)||(Bw(o,s,2,!1),c.add(f))}function w0(s,o,c){var f=0;o&&(f|=4),Bw(c,s,f,o)}var Hm="_reactListening"+Math.random().toString(36).slice(2);function _0(s){if(!s[Hm]){s[Hm]=!0,ca.forEach(function(c){c!=="selectionchange"&&(HD.has(c)||w0(c,!1,s),w0(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Hm]||(o[Hm]=!0,w0("selectionchange",!1,o))}}function Bw(s,o,c,f){switch(c_(o)){case 2:var b=xz;break;case 8:b=vz;break;default:b=B0}c=b.bind(null,o,c,s),b=void 0,!ei||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),f?b!==void 0?s.addEventListener(o,c,{capture:!0,passive:b}):s.addEventListener(o,c,!0):b!==void 0?s.addEventListener(o,c,{passive:b}):s.addEventListener(o,c,!1)}function E0(s,o,c,f,b){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var U=f.tag;if(U===3||U===4){var K=f.stateNode.containerInfo;if(K===b)break;if(U===4)for(U=f.return;U!==null;){var fe=U.tag;if((fe===3||fe===4)&&U.stateNode.containerInfo===b)return;U=U.return}for(;K!==null;){if(U=Ns(K),U===null)return;if(fe=U.tag,fe===5||fe===6||fe===26||fe===27){f=w=U;continue e}K=K.parentNode}}f=f.return}qr(function(){var ke=w,He=Qs(c),Ge=[];e:{var Re=lm.get(s);if(Re!==void 0){var ze=De,Qt=s;switch(s){case"keypress":if(xr(c)===0)break e;case"keydown":case"keyup":ze=Th;break;case"focusin":Qt="focus",ze=Uo;break;case"focusout":Qt="blur",ze=Uo;break;case"beforeblur":case"afterblur":ze=Uo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=kh;break;case am:case Zi:case Hc:ze=Eh;break;case zh:ze=O;break;case"scroll":case"scrollend":ze=gn;break;case"wheel":ze=Qe;break;case"copy":case"cut":case"paste":ze=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=Oc;break;case"toggle":case"beforetoggle":ze=un}var Gt=(o&4)!==0,hr=!Gt&&(s==="scroll"||s==="scrollend"),we=Gt?Re!==null?Re+"Capture":null:Re;Gt=[];for(var ye=ke,Te;ye!==null;){var We=ye;if(Te=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Te===null||we===null||(We=_n(ye,we),We!=null&&Gt.push(af(ye,We,Te))),hr)break;ye=ye.return}0<Gt.length&&(Re=new ze(Re,Qt,null,c,He),Ge.push({event:Re,listeners:Gt}))}}if((o&7)===0){e:{if(Re=s==="mouseover"||s==="pointerover",ze=s==="mouseout"||s==="pointerout",Re&&c!==As&&(Qt=c.relatedTarget||c.fromElement)&&(Ns(Qt)||Qt[mo]))break e;if((ze||Re)&&(Re=He.window===He?He:(Re=He.ownerDocument)?Re.defaultView||Re.parentWindow:window,ze?(Qt=c.relatedTarget||c.toElement,ze=ke,Qt=Qt?Ns(Qt):null,Qt!==null&&(hr=u(Qt),Gt=Qt.tag,Qt!==hr||Gt!==5&&Gt!==27&&Gt!==6)&&(Qt=null)):(ze=null,Qt=ke),ze!==Qt)){if(Gt=$r,We="onMouseLeave",we="onMouseEnter",ye="mouse",(s==="pointerout"||s==="pointerover")&&(Gt=Oc,We="onPointerLeave",we="onPointerEnter",ye="pointer"),hr=ze==null?Re:tt(ze),Te=Qt==null?Re:tt(Qt),Re=new Gt(We,ye+"leave",ze,c,He),Re.target=hr,Re.relatedTarget=Te,We=null,Ns(He)===ke&&(Gt=new Gt(we,ye+"enter",Qt,c,He),Gt.target=Te,Gt.relatedTarget=hr,We=Gt),hr=We,ze&&Qt)t:{for(Gt=ze,we=Qt,ye=0,Te=Gt;Te;Te=Sd(Te))ye++;for(Te=0,We=we;We;We=Sd(We))Te++;for(;0<ye-Te;)Gt=Sd(Gt),ye--;for(;0<Te-ye;)we=Sd(we),Te--;for(;ye--;){if(Gt===we||we!==null&&Gt===we.alternate)break t;Gt=Sd(Gt),we=Sd(we)}Gt=null}else Gt=null;ze!==null&&$w(Ge,Re,ze,Gt,!1),Qt!==null&&hr!==null&&$w(Ge,hr,Qt,Gt,!0)}}e:{if(Re=ke?tt(ke):window,ze=Re.nodeName&&Re.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Re.type==="file")var _t=zl;else if(Xa(Re))if(Ph)_t=mv;else{_t=pv;var jn=Mh}else ze=Re.nodeName,!ze||ze.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?ke&&$s(ke.elementType)&&(_t=zl):_t=Wo;if(_t&&(_t=_t(s,ke))){rm(Ge,_t,c,He);break e}jn&&jn(s,Re,ke),s==="focusout"&&ke&&Re.type==="number"&&ke.memoizedProps.value!=null&&yi(Re,"number",Re.value)}switch(jn=ke?tt(ke):window,s){case"focusin":(Xa(jn)||jn.contentEditable==="true")&&(Gi=jn,Nl=ke,Ka=null);break;case"focusout":Ka=Nl=Gi=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,im(Ge,c,He);break;case"selectionchange":if(Qu)break;case"keydown":case"keyup":im(Ge,c,He)}var Bt;if(Ln)e:{switch(s){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else fa?ha(s,c)&&(Yt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Yt="onCompositionStart");Yt&&(Si&&c.locale!=="ko"&&(fa||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&fa&&(Bt=bo()):(ys=He,ft="value"in ys?ys.value:ys.textContent,fa=!0)),jn=Wm(ke,Yt),0<jn.length&&(Yt=new Vs(Yt,s,null,c,He),Ge.push({event:Yt,listeners:jn}),Bt?Yt.data=Bt:(Bt=Ya(c),Bt!==null&&(Yt.data=Bt)))),(Bt=us?nm(s,c):fv(s,c))&&(Yt=Wm(ke,"onBeforeInput"),0<Yt.length&&(jn=new Vs("onBeforeInput","beforeinput",null,c,He),Ge.push({event:jn,listeners:Yt}),jn.data=Bt)),FD(Ge,s,ke,c,He)}Iw(Ge,o)})}function af(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Wm(s,o){for(var c=o+"Capture",f=[];s!==null;){var b=s,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=_n(s,c),b!=null&&f.unshift(af(s,b,w)),b=_n(s,o),b!=null&&f.push(af(s,b,w))),s.tag===3)return f;s=s.return}return[]}function Sd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $w(s,o,c,f,b){for(var w=o._reactName,U=[];c!==null&&c!==f;){var K=c,fe=K.alternate,ke=K.stateNode;if(K=K.tag,fe!==null&&fe===f)break;K!==5&&K!==26&&K!==27||ke===null||(fe=ke,b?(ke=_n(c,w),ke!=null&&U.unshift(af(c,ke,fe))):b||(ke=_n(c,w),ke!=null&&U.push(af(c,ke,fe)))),c=c.return}U.length!==0&&s.push({event:o,listeners:U})}var WD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function Fw(s){return(typeof s=="string"?s:""+s).replace(WD,`
`).replace(qD,"")}function Vw(s,o){return o=Fw(o),Fw(s)===o}function qm(){}function dr(s,o,c,f,b,w){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||vs(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&vs(s,""+f);break;case"className":Ni(s,"class",f);break;case"tabIndex":Ni(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(s,c,f);break;case"style":Bs(s,f,w);break;case"data":if(o!=="object"){Ni(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=Vi(""+f),s.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&dr(s,o,"name",b.name,b,null),dr(s,o,"formEncType",b.formEncType,b,null),dr(s,o,"formMethod",b.formMethod,b,null),dr(s,o,"formTarget",b.formTarget,b,null)):(dr(s,o,"encType",b.encType,b,null),dr(s,o,"method",b.method,b,null),dr(s,o,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=Vi(""+f),s.setAttribute(c,f);break;case"onClick":f!=null&&(s.onclick=qm);break;case"onScroll":f!=null&&An("scroll",s);break;case"onScrollEnd":f!=null&&An("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}c=Vi(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""+f):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":f===!0?s.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,f):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(c,f):s.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(c):s.setAttribute(c,f);break;case"popover":An("beforetoggle",s),An("toggle",s),Oi(s,"popover",f);break;case"xlinkActuate":Xs(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xs(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xs(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xs(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xs(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xs(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xs(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Oi(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ga.get(c)||c,Oi(s,c,f))}}function A0(s,o,c,f,b,w){switch(c){case"style":Bs(s,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof f=="string"?vs(s,f):(typeof f=="number"||typeof f=="bigint")&&vs(s,""+f);break;case"onScroll":f!=null&&An("scroll",s);break;case"onScrollEnd":f!=null&&An("scrollend",s);break;case"onClick":f!=null&&(s.onclick=qm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),w=s[Jr]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(o,w,b),typeof f=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,f,b);break e}c in s?s[c]=f:f===!0?s.setAttribute(c,""):Oi(s,c,f)}}}function Ps(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",s),An("load",s);var f=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var U=c[w];if(U!=null)switch(w){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:dr(s,o,w,U,c,null)}}b&&dr(s,o,"srcSet",c.srcSet,c,null),f&&dr(s,o,"src",c.src,c,null);return;case"input":An("invalid",s);var K=w=U=b=null,fe=null,ke=null;for(f in c)if(c.hasOwnProperty(f)){var He=c[f];if(He!=null)switch(f){case"name":b=He;break;case"type":U=He;break;case"checked":fe=He;break;case"defaultChecked":ke=He;break;case"value":w=He;break;case"defaultValue":K=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(i(137,o));break;default:dr(s,o,f,He,c,null)}}vi(s,w,K,fe,ke,U,b,!1),Fi(s);return;case"select":An("invalid",s),f=U=w=null;for(b in c)if(c.hasOwnProperty(b)&&(K=c[b],K!=null))switch(b){case"value":w=K;break;case"defaultValue":U=K;break;case"multiple":f=K;default:dr(s,o,b,K,c,null)}o=w,c=U,s.multiple=!!f,o!=null?xs(s,!!f,o,!1):c!=null&&xs(s,!!f,c,!0);return;case"textarea":An("invalid",s),w=b=f=null;for(U in c)if(c.hasOwnProperty(U)&&(K=c[U],K!=null))switch(U){case"value":f=K;break;case"defaultValue":b=K;break;case"children":w=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:dr(s,o,U,K,c,null)}Is(s,f,b,w),Fi(s);return;case"option":for(fe in c)if(c.hasOwnProperty(fe)&&(f=c[fe],f!=null))switch(fe){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:dr(s,o,fe,f,c,null)}return;case"dialog":An("beforetoggle",s),An("toggle",s),An("cancel",s),An("close",s);break;case"iframe":case"object":An("load",s);break;case"video":case"audio":for(f=0;f<of.length;f++)An(of[f],s);break;case"image":An("error",s),An("load",s);break;case"details":An("toggle",s);break;case"embed":case"source":case"link":An("error",s),An("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in c)if(c.hasOwnProperty(ke)&&(f=c[ke],f!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:dr(s,o,ke,f,c,null)}return;default:if($s(o)){for(He in c)c.hasOwnProperty(He)&&(f=c[He],f!==void 0&&A0(s,o,He,f,c,void 0));return}}for(K in c)c.hasOwnProperty(K)&&(f=c[K],f!=null&&dr(s,o,K,f,c,null))}function GD(s,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,U=null,K=null,fe=null,ke=null,He=null;for(ze in c){var Ge=c[ze];if(c.hasOwnProperty(ze)&&Ge!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":fe=Ge;default:f.hasOwnProperty(ze)||dr(s,o,ze,null,f,Ge)}}for(var Re in f){var ze=f[Re];if(Ge=c[Re],f.hasOwnProperty(Re)&&(ze!=null||Ge!=null))switch(Re){case"type":w=ze;break;case"name":b=ze;break;case"checked":ke=ze;break;case"defaultChecked":He=ze;break;case"value":U=ze;break;case"defaultValue":K=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,o));break;default:ze!==Ge&&dr(s,o,Re,ze,f,Ge)}}nr(s,U,K,fe,ke,He,w,b);return;case"select":ze=U=K=Re=null;for(w in c)if(fe=c[w],c.hasOwnProperty(w)&&fe!=null)switch(w){case"value":break;case"multiple":ze=fe;default:f.hasOwnProperty(w)||dr(s,o,w,null,f,fe)}for(b in f)if(w=f[b],fe=c[b],f.hasOwnProperty(b)&&(w!=null||fe!=null))switch(b){case"value":Re=w;break;case"defaultValue":K=w;break;case"multiple":U=w;default:w!==fe&&dr(s,o,b,w,f,fe)}o=K,c=U,f=ze,Re!=null?xs(s,!!c,Re,!1):!!f!=!!c&&(o!=null?xs(s,!!c,o,!0):xs(s,!!c,c?[]:"",!1));return;case"textarea":ze=Re=null;for(K in c)if(b=c[K],c.hasOwnProperty(K)&&b!=null&&!f.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:dr(s,o,K,null,f,b)}for(U in f)if(b=f[U],w=c[U],f.hasOwnProperty(U)&&(b!=null||w!=null))switch(U){case"value":Re=b;break;case"defaultValue":ze=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==w&&dr(s,o,U,b,f,w)}lr(s,Re,ze);return;case"option":for(var Qt in c)if(Re=c[Qt],c.hasOwnProperty(Qt)&&Re!=null&&!f.hasOwnProperty(Qt))switch(Qt){case"selected":s.selected=!1;break;default:dr(s,o,Qt,null,f,Re)}for(fe in f)if(Re=f[fe],ze=c[fe],f.hasOwnProperty(fe)&&Re!==ze&&(Re!=null||ze!=null))switch(fe){case"selected":s.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:dr(s,o,fe,Re,f,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in c)Re=c[Gt],c.hasOwnProperty(Gt)&&Re!=null&&!f.hasOwnProperty(Gt)&&dr(s,o,Gt,null,f,Re);for(ke in f)if(Re=f[ke],ze=c[ke],f.hasOwnProperty(ke)&&Re!==ze&&(Re!=null||ze!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,o));break;default:dr(s,o,ke,Re,f,ze)}return;default:if($s(o)){for(var hr in c)Re=c[hr],c.hasOwnProperty(hr)&&Re!==void 0&&!f.hasOwnProperty(hr)&&A0(s,o,hr,void 0,f,Re);for(He in f)Re=f[He],ze=c[He],!f.hasOwnProperty(He)||Re===ze||Re===void 0&&ze===void 0||A0(s,o,He,Re,f,ze);return}}for(var we in c)Re=c[we],c.hasOwnProperty(we)&&Re!=null&&!f.hasOwnProperty(we)&&dr(s,o,we,null,f,Re);for(Ge in f)Re=f[Ge],ze=c[Ge],!f.hasOwnProperty(Ge)||Re===ze||Re==null&&ze==null||dr(s,o,Ge,Re,f,ze)}var T0=null,k0=null;function Gm(s){return s.nodeType===9?s:s.ownerDocument}function Uw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hw(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function P0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var R0=null;function ZD(){var s=window.event;return s&&s.type==="popstate"?s===R0?!1:(R0=s,!0):(R0=null,!1)}var Ww=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,XD=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(s){return qw.resolve(null).then(s).catch(KD)}:Ww;function KD(s){setTimeout(function(){throw s})}function sc(s){return s==="head"}function Gw(s,o){var c=o,f=0,b=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<f&&8>f){c=f;var U=s.ownerDocument;if(c&1&&lf(U.documentElement),c&2&&lf(U.body),c&4)for(c=U.head,lf(c),U=c.firstChild;U;){var K=U.nextSibling,fe=U.nodeName;U[mi]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||c.removeChild(U),U=K}}if(b===0){s.removeChild(w),gf(o);return}b--}else c==="$"||c==="$?"||c==="$!"?b++:f=c.charCodeAt(0)-48;else f=0;c=w}while(c);gf(o)}function M0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":M0(c),la(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function QD(s,o,c,f){for(;s.nodeType===1;){var b=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[mi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Yo(s.nextSibling),s===null)break}return null}function JD(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Yo(s.nextSibling),s===null))return null;return s}function D0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ez(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Yo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var z0=null;function Zw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function Yw(s,o,c){switch(o=Gm(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function lf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);la(s)}var Eo=new Map,Xw=new Set;function Zm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ul=H.d;H.d={f:tz,r:nz,D:rz,C:sz,L:iz,m:oz,X:lz,S:az,M:cz};function tz(){var s=ul.f(),o=Bm();return s||o}function nz(s){var o=Wr(s);o!==null&&o.tag===5&&o.type==="form"?gC(o):ul.r(s)}var Cd=typeof document>"u"?null:document;function Kw(s,o,c){var f=Cd;if(f&&typeof o=="string"&&o){var b=Ut(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),Xw.has(b)||(Xw.add(b),s={rel:s,crossOrigin:c,href:o},f.querySelector(b)===null&&(o=f.createElement("link"),Ps(o,"link",s),Tr(o),f.head.appendChild(o)))}}function rz(s){ul.D(s),Kw("dns-prefetch",s,null)}function sz(s,o){ul.C(s,o),Kw("preconnect",s,o)}function iz(s,o,c){ul.L(s,o,c);var f=Cd;if(f&&s&&o){var b='link[rel="preload"][as="'+Ut(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+Ut(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+Ut(c.imageSizes)+'"]')):b+='[href="'+Ut(s)+'"]';var w=b;switch(o){case"style":w=wd(s);break;case"script":w=_d(s)}Eo.has(w)||(s=x({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Eo.set(w,s),f.querySelector(b)!==null||o==="style"&&f.querySelector(cf(w))||o==="script"&&f.querySelector(uf(w))||(o=f.createElement("link"),Ps(o,"link",s),Tr(o),f.head.appendChild(o)))}}function oz(s,o){ul.m(s,o);var c=Cd;if(c&&s){var f=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Ut(f)+'"][href="'+Ut(s)+'"]',w=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=_d(s)}if(!Eo.has(w)&&(s=x({rel:"modulepreload",href:s},o),Eo.set(w,s),c.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(uf(w)))return}f=c.createElement("link"),Ps(f,"link",s),Tr(f),c.head.appendChild(f)}}}function az(s,o,c){ul.S(s,o,c);var f=Cd;if(f&&s){var b=zi(f).hoistableStyles,w=wd(s);o=o||"default";var U=b.get(w);if(!U){var K={loading:0,preload:null};if(U=f.querySelector(cf(w)))K.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Eo.get(w))&&L0(s,c);var fe=U=f.createElement("link");Tr(fe),Ps(fe,"link",s),fe._p=new Promise(function(ke,He){fe.onload=ke,fe.onerror=He}),fe.addEventListener("load",function(){K.loading|=1}),fe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Ym(U,o,f)}U={type:"stylesheet",instance:U,count:1,state:K},b.set(w,U)}}}function lz(s,o){ul.X(s,o);var c=Cd;if(c&&s){var f=zi(c).hoistableScripts,b=_d(s),w=f.get(b);w||(w=c.querySelector(uf(b)),w||(s=x({src:s,async:!0},o),(o=Eo.get(b))&&O0(s,o),w=c.createElement("script"),Tr(w),Ps(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(b,w))}}function cz(s,o){ul.M(s,o);var c=Cd;if(c&&s){var f=zi(c).hoistableScripts,b=_d(s),w=f.get(b);w||(w=c.querySelector(uf(b)),w||(s=x({src:s,async:!0,type:"module"},o),(o=Eo.get(b))&&O0(s,o),w=c.createElement("script"),Tr(w),Ps(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(b,w))}}function Qw(s,o,c,f){var b=(b=Q.current)?Zm(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=wd(c.href),c=zi(b).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=wd(c.href);var w=zi(b).hoistableStyles,U=w.get(s);if(U||(b=b.ownerDocument||b,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,U),(w=b.querySelector(cf(s)))&&!w._p&&(U.instance=w,U.state.loading=5),Eo.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Eo.set(s,c),w||uz(b,s,c,U.state))),o&&f===null)throw Error(i(528,""));return U}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=_d(c),c=zi(b).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function wd(s){return'href="'+Ut(s)+'"'}function cf(s){return'link[rel="stylesheet"]['+s+"]"}function Jw(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function uz(s,o,c,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Ps(o,"link",c),Tr(o),s.head.appendChild(o))}function _d(s){return'[src="'+Ut(s)+'"]'}function uf(s){return"script[async]"+s}function e_(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+Ut(c.href)+'"]');if(f)return o.instance=f,Tr(f),f;var b=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Tr(f),Ps(f,"style",b),Ym(f,c.precedence,s),o.instance=f;case"stylesheet":b=wd(c.href);var w=s.querySelector(cf(b));if(w)return o.state.loading|=4,o.instance=w,Tr(w),w;f=Jw(c),(b=Eo.get(b))&&L0(f,b),w=(s.ownerDocument||s).createElement("link"),Tr(w);var U=w;return U._p=new Promise(function(K,fe){U.onload=K,U.onerror=fe}),Ps(w,"link",f),o.state.loading|=4,Ym(w,c.precedence,s),o.instance=w;case"script":return w=_d(c.src),(b=s.querySelector(uf(w)))?(o.instance=b,Tr(b),b):(f=c,(b=Eo.get(w))&&(f=x({},c),O0(f,b)),s=s.ownerDocument||s,b=s.createElement("script"),Tr(b),Ps(b,"link",f),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Ym(f,c.precedence,s));return o.instance}function Ym(s,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,w=b,U=0;U<f.length;U++){var K=f[U];if(K.dataset.precedence===o)w=K;else if(w!==b)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function L0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function O0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Xm=null;function t_(s,o,c){if(Xm===null){var f=new Map,b=Xm=new Map;b.set(c,f)}else b=Xm,f=b.get(c),f||(f=new Map,b.set(c,f));if(f.has(s))return f;for(f.set(s,null),c=c.getElementsByTagName(s),b=0;b<c.length;b++){var w=c[b];if(!(w[mi]||w[pr]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var U=w.getAttribute(o)||"";U=s+U;var K=f.get(U);K?K.push(w):f.set(U,[w])}}return f}function n_(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function dz(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function r_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var df=null;function hz(){}function fz(s,o,c){if(df===null)throw Error(i(475));var f=df;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var b=wd(c.href),w=s.querySelector(cf(b));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Km.bind(f),s.then(f,f)),o.state.loading|=4,o.instance=w,Tr(w);return}w=s.ownerDocument||s,c=Jw(c),(b=Eo.get(b))&&L0(c,b),w=w.createElement("link"),Tr(w);var U=w;U._p=new Promise(function(K,fe){U.onload=K,U.onerror=fe}),Ps(w,"link",c),o.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Km.bind(f),s.addEventListener("load",o),s.addEventListener("error",o))}}function pz(){if(df===null)throw Error(i(475));var s=df;return s.stylesheets&&s.count===0&&N0(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&N0(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Km(){if(this.count--,this.count===0){if(this.stylesheets)N0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qm=null;function N0(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qm=new Map,o.forEach(mz,s),Qm=null,Km.call(s))}function mz(s,o){if(!(o.state.loading&4)){var c=Qm.get(s);if(c)var f=c.get(null);else{c=new Map,Qm.set(s,c);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var U=b[w];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(c.set(U.dataset.precedence,U),f=U)}f&&c.set(null,f)}b=o.instance,U=b.getAttribute("data-precedence"),w=c.get(U)||f,w===f&&c.set(null,b),c.set(U,b),this.count++,f=Km.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),w?w.parentNode.insertBefore(b,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var hf={$$typeof:k,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function gz(s,o,c,f,b,w,U,K){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function s_(s,o,c,f,b,w,U,K,fe,ke,He,Ge){return s=new gz(s,o,c,U,K,fe,ke,Ge),o=1,w===!0&&(o|=24),w=oi(3,null,null,o),s.current=w,w.stateNode=s,o=vv(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:f,isDehydrated:c,cache:o},Sv(w),s}function i_(s){return s?(s=tl,s):tl}function o_(s,o,c,f,b,w){b=i_(b),f.context===null?f.context=b:f.pendingContext=b,f=Wl(o),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),c=ql(s,f,o),c!==null&&(to(c,s,o),Fh(c,s,o))}function a_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function I0(s,o){a_(s,o),(s=s.alternate)&&a_(s,o)}function l_(s){if(s.tag===13){var o=$l(s,67108864);o!==null&&to(o,s,67108864),I0(s,67108864)}}var Jm=!0;function xz(s,o,c,f){var b=Z.T;Z.T=null;var w=H.p;try{H.p=2,B0(s,o,c,f)}finally{H.p=w,Z.T=b}}function vz(s,o,c,f){var b=Z.T;Z.T=null;var w=H.p;try{H.p=8,B0(s,o,c,f)}finally{H.p=w,Z.T=b}}function B0(s,o,c,f){if(Jm){var b=$0(f);if(b===null)E0(s,o,f,eg,c),u_(s,f);else if(bz(b,s,o,c,f))f.stopPropagation();else if(u_(s,f),o&4&&-1<yz.indexOf(s)){for(;b!==null;){var w=Wr(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var U=Kt(w.pendingLanes);if(U!==0){var K=w;for(K.pendingLanes|=2,K.entangledLanes|=2;U;){var fe=1<<31-gt(U);K.entanglements[1]|=fe,U&=~fe}ja(w),(sr&6)===0&&(Nm=Ze()+500,sf(0))}}break;case 13:K=$l(w,2),K!==null&&to(K,w,2),Bm(),I0(w,2)}if(w=$0(f),w===null&&E0(s,o,f,eg,c),w===b)break;b=w}b!==null&&f.stopPropagation()}else E0(s,o,f,null,c)}}function $0(s){return s=Qs(s),F0(s)}var eg=null;function F0(s){if(eg=null,s=Ns(s),s!==null){var o=u(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=d(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return eg=s,null}function c_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case ae:return 2;case ge:return 8;case nt:case Pt:return 32;case kn:return 268435456;default:return 32}default:return 32}}var V0=!1,ic=null,oc=null,ac=null,ff=new Map,pf=new Map,lc=[],yz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(s,o){switch(s){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":ac=null;break;case"pointerover":case"pointerout":ff.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(o.pointerId)}}function mf(s,o,c,f,b,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[b]},o!==null&&(o=Wr(o),o!==null&&l_(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function bz(s,o,c,f,b){switch(o){case"focusin":return ic=mf(ic,s,o,c,f,b),!0;case"dragenter":return oc=mf(oc,s,o,c,f,b),!0;case"mouseover":return ac=mf(ac,s,o,c,f,b),!0;case"pointerover":var w=b.pointerId;return ff.set(w,mf(ff.get(w)||null,s,o,c,f,b)),!0;case"gotpointercapture":return w=b.pointerId,pf.set(w,mf(pf.get(w)||null,s,o,c,f,b)),!0}return!1}function d_(s){var o=Ns(s.target);if(o!==null){var c=u(o);if(c!==null){if(o=c.tag,o===13){if(o=d(c),o!==null){s.blockedOn=o,cs(s.priority,function(){if(c.tag===13){var f=eo();f=Io(f);var b=$l(c,f);b!==null&&to(b,c,f),I0(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tg(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=$0(s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);As=f,c.target.dispatchEvent(f),As=null}else return o=Wr(c),o!==null&&l_(o),s.blockedOn=c,!1;o.shift()}return!0}function h_(s,o,c){tg(s)&&c.delete(o)}function jz(){V0=!1,ic!==null&&tg(ic)&&(ic=null),oc!==null&&tg(oc)&&(oc=null),ac!==null&&tg(ac)&&(ac=null),ff.forEach(h_),pf.forEach(h_)}function ng(s,o){s.blockedOn===o&&(s.blockedOn=null,V0||(V0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jz)))}var rg=null;function f_(s){rg!==s&&(rg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rg===s&&(rg=null);for(var o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],b=s[o+2];if(typeof f!="function"){if(F0(f||c)===null)continue;break}var w=Wr(c);w!==null&&(s.splice(o,3),o-=3,Fv(w,{pending:!0,data:b,method:c.method,action:f},f,b))}}))}function gf(s){function o(fe){return ng(fe,s)}ic!==null&&ng(ic,s),oc!==null&&ng(oc,s),ac!==null&&ng(ac,s),ff.forEach(o),pf.forEach(o);for(var c=0;c<lc.length;c++){var f=lc[c];f.blockedOn===s&&(f.blockedOn=null)}for(;0<lc.length&&(c=lc[0],c.blockedOn===null);)d_(c),c.blockedOn===null&&lc.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var b=c[f],w=c[f+1],U=b[Jr]||null;if(typeof w=="function")U||f_(c);else if(U){var K=null;if(w&&w.hasAttribute("formAction")){if(b=w,U=w[Jr]||null)K=U.formAction;else if(F0(b)!==null)continue}else K=U.action;typeof K=="function"?c[f+1]=K:(c.splice(f,3),f-=3),f_(c)}}}function U0(s){this._internalRoot=s}sg.prototype.render=U0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,f=eo();o_(c,f,s,o,null,null)},sg.prototype.unmount=U0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;o_(s.current,2,null,s,null,null),Bm(),o[mo]=null}};function sg(s){this._internalRoot=s}sg.prototype.unstable_scheduleHydration=function(s){if(s){var o=Wa();s={blockedOn:null,target:s,priority:o};for(var c=0;c<lc.length&&o!==0&&o<lc[c].priority;c++);lc.splice(c,0,s),c===0&&d_(s)}};var p_=n.version;if(p_!=="19.1.1")throw Error(i(527,p_,"19.1.1"));H.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var Sz={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ig.isDisabled&&ig.supportsFiber)try{rt=ig.inject(Sz),Mt=ig}catch{}}return vf.createRoot=function(s,o){if(!l(s))throw Error(i(299));var c=!1,f="",b=PC,w=RC,U=MC,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(K=o.unstable_transitionCallbacks)),o=s_(s,1,!1,null,null,c,f,b,w,U,K,null),s[mo]=o.current,_0(s),new U0(o)},vf.hydrateRoot=function(s,o,c){if(!l(s))throw Error(i(299));var f=!1,b="",w=PC,U=RC,K=MC,fe=null,ke=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(U=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(fe=c.unstable_transitionCallbacks),c.formState!==void 0&&(ke=c.formState)),o=s_(s,1,!0,o,c??null,f,b,w,U,K,fe,ke),o.context=i_(null),c=o.current,f=eo(),f=Io(f),b=Wl(f),b.callback=null,ql(c,b,f),c=f,o.current.lanes=c,pi(o,c),ja(o),s[mo]=o.current,_0(s),new sg(o)},vf.version="19.1.1",vf}var __;function Mz(){if(__)return q0.exports;__=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),q0.exports=Rz(),q0.exports}var Dz=Mz();const zz=Dp(Dz);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function Lz(t={}){function n(i,l){let{pathname:u,search:d,hash:m}=i.location;return cb("",{pathname:u,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:dp(l)}return Nz(n,r,null,t)}function Mr(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Lo(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Oz(){return Math.random().toString(36).substring(2,10)}function A_(t,n){return{usr:t.state,key:t.key,idx:n}}function cb(t,n,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?gh(n):n,state:r,key:n&&n.key||i||Oz()}}function dp({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gh(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(n.search=t.substring(i),t=t.substring(0,i)),t&&(n.pathname=t)}return n}function Nz(t,n,r,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,m="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function j(){m="POP";let T=x(),z=T==null?null:T-g;g=T,p&&p({action:m,location:A.location,delta:z})}function S(T,z){m="PUSH";let P=cb(A.location,T,z);g=x()+1;let k=A_(P,g),I=A.createHref(P);try{d.pushState(k,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;l.location.assign(I)}u&&p&&p({action:m,location:A.location,delta:1})}function C(T,z){m="REPLACE";let P=cb(A.location,T,z);g=x();let k=A_(P,g),I=A.createHref(P);d.replaceState(k,"",I),u&&p&&p({action:m,location:A.location,delta:0})}function _(T){return Iz(T)}let A={get action(){return m},get location(){return t(l,d)},listen(T){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(E_,j),p=T,()=>{l.removeEventListener(E_,j),p=null}},createHref(T){return n(l,T)},createURL:_,encodeLocation(T){let z=_(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:C,go(T){return d.go(T)}};return A}function Iz(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mr(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:dp(t);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function qA(t,n,r="/"){return Bz(t,n,r,!1)}function Bz(t,n,r,i){let l=typeof n=="string"?gh(n):n,u=Al(l.pathname||"/",r);if(u==null)return null;let d=GA(t);$z(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=Kz(u);m=Yz(d[p],g,i)}return m}function GA(t,n=[],r=[],i="",l=!1){let u=(d,m,p=l,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&p)return;Mr(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let j=Sl([i,x.relativePath]),S=r.concat(x);d.children&&d.children.length>0&&(Mr(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),GA(d.children,n,S,j,p)),!(d.path==null&&!d.index)&&n.push({path:j,score:Gz(j,d.index),routesMeta:S})};return t.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let p of ZA(d.path))u(d,m,!0,p)}),n}function ZA(t){let n=t.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=ZA(i.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...d),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function $z(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:Zz(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Fz=/^:[\w-]+$/,Vz=3,Uz=2,Hz=1,Wz=10,qz=-2,T_=t=>t==="*";function Gz(t,n){let r=t.split("/"),i=r.length;return r.some(T_)&&(i+=qz),n&&(i+=Uz),r.filter(l=>!T_(l)).reduce((l,u)=>l+(Fz.test(u)?Vz:u===""?Hz:Wz),i)}function Zz(t,n){return t.length===n.length&&t.slice(0,-1).every((i,l)=>i===n[l])?t[t.length-1]-n[n.length-1]:0}function Yz(t,n,r=!1){let{routesMeta:i}=t,l={},u="/",d=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,x=u==="/"?n:n.slice(u.length)||"/",j=rx({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),S=p.route;if(!j&&g&&r&&!i[i.length-1].route.index&&(j=rx({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!j)return null;Object.assign(l,j.params),d.push({params:l,pathname:Sl([u,j.pathname]),pathnameBase:tL(Sl([u,j.pathnameBase])),route:S}),j.pathnameBase!=="/"&&(u=Sl([u,j.pathnameBase]))}return d}function rx(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Xz(t.path,t.caseSensitive,t.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:j},S)=>{if(x==="*"){let _=m[S]||"";d=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const C=m[S];return j&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:t}}function Xz(t,n=!1,r=!0){Lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function Kz(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Lo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function Al(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function Qz(t,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof t=="string"?gh(t):t;return{pathname:r?r.startsWith("/")?r:Jz(r,n):n,search:nL(i),hash:rL(l)}}function Jz(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function X0(t,n,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eL(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Aj(t){let n=eL(t);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function Tj(t,n,r,i=!1){let l;typeof t=="string"?l=gh(t):(l={...t},Mr(!l.pathname||!l.pathname.includes("?"),X0("?","pathname","search",l)),Mr(!l.pathname||!l.pathname.includes("#"),X0("#","pathname","hash",l)),Mr(!l.search||!l.search.includes("#"),X0("#","search","hash",l)));let u=t===""||l.pathname==="",d=u?"/":l.pathname,m;if(d==null)m=r;else{let j=n.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),j-=1;l.pathname=S.join("/")}m=j>=0?n[j]:"/"}let p=Qz(l,m),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Sl=t=>t.join("/").replace(/\/\/+/g,"/"),tL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var YA=["POST","PUT","PATCH","DELETE"];new Set(YA);var iL=["GET",...YA];new Set(iL);var xh=y.createContext(null);xh.displayName="DataRouter";var kx=y.createContext(null);kx.displayName="DataRouterState";y.createContext(!1);var XA=y.createContext({isTransitioning:!1});XA.displayName="ViewTransition";var oL=y.createContext(new Map);oL.displayName="Fetchers";var aL=y.createContext(null);aL.displayName="Await";var ta=y.createContext(null);ta.displayName="Navigation";var zp=y.createContext(null);zp.displayName="Location";var na=y.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var kj=y.createContext(null);kj.displayName="RouteError";function lL(t,{relative:n}={}){Mr(vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=y.useContext(ta),{hash:l,pathname:u,search:d}=Lp(t,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:Sl([r,u])),i.createHref({pathname:m,search:d,hash:l})}function vh(){return y.useContext(zp)!=null}function ra(){return Mr(vh(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(zp).location}var KA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QA(t){y.useContext(ta).static||y.useLayoutEffect(t)}function Va(){let{isDataRoute:t}=y.useContext(na);return t?jL():cL()}function cL(){Mr(vh(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(xh),{basename:n,navigator:r}=y.useContext(ta),{matches:i}=y.useContext(na),{pathname:l}=ra(),u=JSON.stringify(Aj(i)),d=y.useRef(!1);return QA(()=>{d.current=!0}),y.useCallback((p,g={})=>{if(Lo(d.current,KA),!d.current)return;if(typeof p=="number"){r.go(p);return}let x=Tj(p,JSON.parse(u),l,g.relative==="path");t==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Sl([n,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[n,r,u,l,t])}y.createContext(null);function Px(){let{matches:t}=y.useContext(na),n=t[t.length-1];return n?n.params:{}}function Lp(t,{relative:n}={}){let{matches:r}=y.useContext(na),{pathname:i}=ra(),l=JSON.stringify(Aj(r));return y.useMemo(()=>Tj(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function uL(t,n){return JA(t,n)}function JA(t,n,r,i,l){Mr(vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(ta),{matches:d}=y.useContext(na),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",j=m&&m.route;{let P=j&&j.path||"";eT(g,!j||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let S=ra(),C;if(n){let P=typeof n=="string"?gh(n):n;Mr(x==="/"||P.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${P.pathname}" was given in the \`location\` prop.`),C=P}else C=S;let _=C.pathname||"/",A=_;if(x!=="/"){let P=x.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=qA(t,{pathname:A});Lo(j||T!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Lo(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=mL(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:Sl([x,u.encodeLocation?u.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:Sl([x,u.encodeLocation?u.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),d,r,i,l);return n&&z?y.createElement(zp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function dL(){let t=bL(),n=sL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},n),r?y.createElement("pre",{style:l},r):null,d)}var hL=y.createElement(dL,null),fL=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.unstable_onError?this.props.unstable_onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(na.Provider,{value:this.props.routeContext},y.createElement(kj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pL({routeContext:t,match:n,children:r}){let i=y.useContext(xh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(na.Provider,{value:t},r)}function mL(t,n=[],r=null,i=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=r?.errors;if(d!=null){let g=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Mr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(r)for(let g=0;g<u.length;g++){let x=u[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:j,errors:S}=r,C=x.route.loader&&!j.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||C){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,x,j)=>{let S,C=!1,_=null,A=null;r&&(S=d&&x.route.id?d[x.route.id]:void 0,_=x.route.errorElement||hL,m&&(p<0&&j===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,A=null):p===j&&(C=!0,A=x.route.hydrateFallbackElement||null)));let T=n.concat(u.slice(0,j+1)),z=()=>{let P;return S?P=_:C?P=A:x.route.Component?P=y.createElement(x.route.Component,null):x.route.element?P=x.route.element:P=g,y.createElement(pL,{match:x,routeContext:{outlet:g,matches:T,isDataRoute:r!=null},children:P})};return r&&(x.route.ErrorBoundary||x.route.errorElement||j===0)?y.createElement(fL,{location:r.location,revalidation:r.revalidation,component:_,error:S,children:z(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):z()},null)}function Pj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gL(t){let n=y.useContext(xh);return Mr(n,Pj(t)),n}function xL(t){let n=y.useContext(kx);return Mr(n,Pj(t)),n}function vL(t){let n=y.useContext(na);return Mr(n,Pj(t)),n}function Rj(t){let n=vL(t),r=n.matches[n.matches.length-1];return Mr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function yL(){return Rj("useRouteId")}function bL(){let t=y.useContext(kj),n=xL("useRouteError"),r=Rj("useRouteError");return t!==void 0?t:n.errors?.[r]}function jL(){let{router:t}=gL("useNavigate"),n=Rj("useNavigate"),r=y.useRef(!1);return QA(()=>{r.current=!0}),y.useCallback(async(l,u={})=>{Lo(r.current,KA),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var k_={};function eT(t,n,r){!n&&!k_[t]&&(k_[t]=!0,Lo(!1,r))}y.memo(SL);function SL({routes:t,future:n,state:r,unstable_onError:i}){return JA(t,void 0,r,i,n)}function yu({to:t,replace:n,state:r,relative:i}){Mr(vh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=y.useContext(ta);Lo(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=y.useContext(na),{pathname:d}=ra(),m=Va(),p=Tj(t,Aj(u),d,i==="path"),g=JSON.stringify(p);return y.useEffect(()=>{m(JSON.parse(g),{replace:n,state:r,relative:i})},[m,g,i,n,r]),null}function Un(t){Mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CL({basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:u=!1}){Mr(!vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=y.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=gh(r));let{pathname:p="/",search:g="",hash:x="",state:j=null,key:S="default"}=r,C=y.useMemo(()=>{let _=Al(p,d);return _==null?null:{location:{pathname:_,search:g,hash:x,state:j,key:S},navigationType:i}},[d,p,g,x,j,S,i]);return Lo(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:y.createElement(ta.Provider,{value:m},y.createElement(zp.Provider,{children:n,value:C}))}function wL({children:t,location:n}){return uL(ub(t),n)}function ub(t,n=[]){let r=[];return y.Children.forEach(t,(i,l)=>{if(!y.isValidElement(i))return;let u=[...n,l];if(i.type===y.Fragment){r.push.apply(r,ub(i.props.children,u));return}Mr(i.type===Un,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=ub(i.props.children,u)),r.push(d)}),r}var Lg="get",Og="application/x-www-form-urlencoded";function Rx(t){return t!=null&&typeof t.tagName=="string"}function _L(t){return Rx(t)&&t.tagName.toLowerCase()==="button"}function EL(t){return Rx(t)&&t.tagName.toLowerCase()==="form"}function AL(t){return Rx(t)&&t.tagName.toLowerCase()==="input"}function TL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kL(t,n){return t.button===0&&(!n||n==="_self")&&!TL(t)}function db(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let i=t[r];return n.concat(Array.isArray(i)?i.map(l=>[r,l]):[[r,i]])},[]))}function PL(t,n){let r=db(t);return n&&n.forEach((i,l)=>{r.has(l)||n.getAll(l).forEach(u=>{r.append(l,u)})}),r}var ag=null;function RL(){if(ag===null)try{new FormData(document.createElement("form"),0),ag=!1}catch{ag=!0}return ag}var ML=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function K0(t){return t!=null&&!ML.has(t)?(Lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Og}"`),null):t}function DL(t,n){let r,i,l,u,d;if(EL(t)){let m=t.getAttribute("action");i=m?Al(m,n):null,r=t.getAttribute("method")||Lg,l=K0(t.getAttribute("enctype"))||Og,u=new FormData(t)}else if(_L(t)||AL(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(i=p?Al(p,n):null,r=t.getAttribute("formmethod")||m.getAttribute("method")||Lg,l=K0(t.getAttribute("formenctype"))||K0(m.getAttribute("enctype"))||Og,u=new FormData(m,t),!RL()){let{name:g,type:x,value:j}=t;if(x==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,j)}}else{if(Rx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lg,i=null,l=Og,d=t}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mj(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function zL(t,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&Al(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function LL(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NL(t,n,r){let i=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await LL(u,r);return d.links?d.links():[]}return[]}));return FL(i.flat(1).filter(OL).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function P_(t,n,r,i,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,m=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return u==="assets"?n.filter((p,g)=>d(p,g)||m(p,g)):u==="data"?n.filter((p,g)=>{let x=i.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let j=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function IL(t,n,{includeHydrateFallback:r}={}){return BL(t.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function BL(t){return[...new Set(t)]}function $L(t){let n={},r=Object.keys(t).sort();for(let i of r)n[i]=t[i];return n}function FL(t,n){let r=new Set;return new Set(n),t.reduce((i,l)=>{let u=JSON.stringify($L(l));return r.has(u)||(r.add(u),i.push({key:u,link:l})),i},[])}function tT(){let t=y.useContext(xh);return Mj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VL(){let t=y.useContext(kx);return Mj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dj=y.createContext(void 0);Dj.displayName="FrameworkContext";function nT(){let t=y.useContext(Dj);return Mj(t,"You must render this element inside a <HydratedRouter> element"),t}function UL(t,n){let r=y.useContext(Dj),[i,l]=y.useState(!1),[u,d]=y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:j}=n,S=y.useRef(null);y.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let A=z=>{z.forEach(P=>{d(P.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return S.current&&T.observe(S.current),()=>{T.disconnect()}}},[t]),y.useEffect(()=>{if(i){let A=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(A)}}},[i]);let C=()=>{l(!0)},_=()=>{l(!1),d(!1)};return r?t!=="intent"?[u,S,{}]:[u,S,{onFocus:yf(m,C),onBlur:yf(p,_),onMouseEnter:yf(g,C),onMouseLeave:yf(x,_),onTouchStart:yf(j,C)}]:[!1,S,{}]}function yf(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function HL({page:t,...n}){let{router:r}=tT(),i=y.useMemo(()=>qA(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?y.createElement(qL,{page:t,matches:i,...n}):null}function WL(t){let{manifest:n,routeModules:r}=nT(),[i,l]=y.useState([]);return y.useEffect(()=>{let u=!1;return NL(t,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[t,n,r]),i}function qL({page:t,matches:n,...r}){let i=ra(),{manifest:l,routeModules:u}=nT(),{basename:d}=tT(),{loaderData:m,matches:p}=VL(),g=y.useMemo(()=>P_(t,n,p,l,i,"data"),[t,n,p,l,i]),x=y.useMemo(()=>P_(t,n,p,l,i,"assets"),[t,n,p,l,i]),j=y.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,A=!1;if(n.forEach(z=>{let P=l.routes[z.route.id];!P||!P.hasLoader||(!g.some(k=>k.route.id===z.route.id)&&z.route.id in m&&u[z.route.id]?.shouldRevalidate||P.hasClientLoader?A=!0:_.add(z.route.id))}),_.size===0)return[];let T=zL(t,d,"data");return A&&_.size>0&&T.searchParams.set("_routes",n.filter(z=>_.has(z.route.id)).map(z=>z.route.id).join(",")),[T.pathname+T.search]},[d,m,i,l,g,n,t,u]),S=y.useMemo(()=>IL(x,l),[x,l]),C=WL(x);return y.createElement(y.Fragment,null,j.map(_=>y.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),S.map(_=>y.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),C.map(({key:_,link:A})=>y.createElement("link",{key:_,nonce:r.nonce,...A})))}function GL(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var rT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rT&&(window.__reactRouterVersion="7.8.2")}catch{}function ZL({basename:t,children:n,window:r}){let i=y.useRef();i.current==null&&(i.current=Lz({window:r,v5Compat:!0}));let l=i.current,[u,d]=y.useState({action:l.action,location:l.location}),m=y.useCallback(p=>{y.startTransition(()=>d(p))},[d]);return y.useLayoutEffect(()=>l.listen(m),[l,m]),y.createElement(CL,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=y.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:x,viewTransition:j,...S},C){let{basename:_}=y.useContext(ta),A=typeof g=="string"&&sT.test(g),T,z=!1;if(typeof g=="string"&&A&&(T=g,rT))try{let ce=new URL(window.location.href),de=g.startsWith("//")?new URL(ce.protocol+g):new URL(g),le=Al(de.pathname,_);de.origin===ce.origin&&le!=null?g=le+de.search+de.hash:z=!0}catch{Lo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=lL(g,{relative:l}),[k,I,N]=UL(i,S),F=QL(g,{replace:d,state:m,target:p,preventScrollReset:x,relative:l,viewTransition:j});function Y(ce){n&&n(ce),ce.defaultPrevented||F(ce)}let q=y.createElement("a",{...S,...N,href:T||P,onClick:z||u?n:Y,ref:GL(C,I),target:p,"data-discover":!A&&r==="render"?"true":void 0});return k&&!A?y.createElement(y.Fragment,null,q,y.createElement(HL,{page:P})):q});or.displayName="Link";var YL=y.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:m,children:p,...g},x){let j=Lp(d,{relative:g.relative}),S=ra(),C=y.useContext(kx),{navigator:_,basename:A}=y.useContext(ta),T=C!=null&&sO(j)&&m===!0,z=_.encodeLocation?_.encodeLocation(j).pathname:j.pathname,P=S.pathname,k=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(P=P.toLowerCase(),k=k?k.toLowerCase():null,z=z.toLowerCase()),k&&A&&(k=Al(k,A)||k);const I=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let N=P===z||!l&&P.startsWith(z)&&P.charAt(I)==="/",F=k!=null&&(k===z||!l&&k.startsWith(z)&&k.charAt(z.length)==="/"),Y={isActive:N,isPending:F,isTransitioning:T},q=N?n:void 0,ce;typeof i=="function"?ce=i(Y):ce=[i,N?"active":null,F?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let de=typeof u=="function"?u(Y):u;return y.createElement(or,{...g,"aria-current":q,className:ce,ref:x,style:de,to:d,viewTransition:m},typeof p=="function"?p(Y):p)});YL.displayName="NavLink";var XL=y.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:u,method:d=Lg,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:j,...S},C)=>{let _=nO(),A=rO(m,{relative:g}),T=d.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&sT.test(m),P=k=>{if(p&&p(k),k.defaultPrevented)return;k.preventDefault();let I=k.nativeEvent.submitter,N=I?.getAttribute("formmethod")||d;_(I||k.currentTarget,{fetcherKey:n,method:N,navigate:r,replace:l,state:u,relative:g,preventScrollReset:x,viewTransition:j})};return y.createElement("form",{ref:C,method:T,action:A,onSubmit:i?p:P,...S,"data-discover":!z&&t==="render"?"true":void 0})});XL.displayName="Form";function KL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(t){let n=y.useContext(xh);return Mr(n,KL(t)),n}function QL(t,{target:n,replace:r,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let m=Va(),p=ra(),g=Lp(t,{relative:u});return y.useCallback(x=>{if(kL(x,n)){x.preventDefault();let j=r!==void 0?r:dp(p)===dp(g);m(t,{replace:j,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[p,m,g,r,i,n,t,l,u,d])}function JL(t){Lo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=y.useRef(db(t)),r=y.useRef(!1),i=ra(),l=y.useMemo(()=>PL(i.search,r.current?null:n.current),[i.search]),u=Va(),d=y.useCallback((m,p)=>{const g=db(typeof m=="function"?m(new URLSearchParams(l)):m);r.current=!0,u("?"+g,p)},[u,l]);return[l,d]}var eO=0,tO=()=>`__${String(++eO)}__`;function nO(){let{router:t}=iT("useSubmit"),{basename:n}=y.useContext(ta),r=yL();return y.useCallback(async(i,l={})=>{let{action:u,method:d,encType:m,formData:p,body:g}=DL(i,n);if(l.navigate===!1){let x=l.fetcherKey||tO();await t.fetch(x,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||m,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,r])}function rO(t,{relative:n}={}){let{basename:r}=y.useContext(ta),i=y.useContext(na);Mr(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Lp(t||".",{relative:n})},d=ra();if(t==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(j=>j).forEach(j=>m.append("index",j));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Sl([r,u.pathname])),dp(u)}function sO(t,{relative:n}={}){let r=y.useContext(XA);Mr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iT("useViewTransitionState"),l=Lp(t,{relative:n});if(!r.isTransitioning)return!1;let u=Al(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=Al(r.nextLocation.pathname,i)||r.nextLocation.pathname;return rx(l.pathname,d)!=null||rx(l.pathname,u)!=null}var zj=WA();function Mx(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function iO(){return!!globalThis?.document}function oT(t){return t.parentElement&&oT(t.parentElement)?!0:t.hidden}function oO(t){const n=t.getAttribute("contenteditable");return n!=="false"&&n!=null}function aO(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function lO(t){return aT(t)?.defaultView??window}function aT(t){return Mx(t)?t.ownerDocument:document}function cO(t){return aT(t).activeElement}function uO(t,...n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const i of n)if(i!=null)for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(l in r&&delete r[l],r[l]=i[l]);return r}const Sn=t=>t?"":void 0,bu=t=>t?!0:void 0;function hb(t){return Array.isArray(t)}function ms(t){const n=typeof t;return t!=null&&(n==="object"||n==="function")&&!hb(t)}function dO(t){const n=t==null?0:t.length;return n?t[n-1]:void 0}function hO(t){const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}}function fb(t){if(t==null)return t;const{unitless:n}=hO(t);return n||typeof t=="number"?`${t}px`:t}const lT=(t,n)=>parseInt(t[1],10)>parseInt(n[1],10)?1:-1,Lj=t=>Object.fromEntries(Object.entries(t).sort(lT));function R_(t){const n=Lj(t);return Object.assign(Object.values(n),n)}function fO(t){const n=Object.keys(Lj(t));return new Set(n)}function M_(t){if(!t)return t;t=fb(t)??t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function Df(t,n){const r=["@media screen"];return t&&r.push("and",`(min-width: ${fb(t)})`),n&&r.push("and",`(max-width: ${fb(n)})`),r.join(" ")}function pO(t){if(!t)return null;t.base=t.base??"0px";const n=R_(t),r=Object.entries(t).sort(lT).map(([u,d],m,p)=>{let[,g]=p[m+1]??[];return g=parseFloat(g)>0?M_(g):void 0,{_minW:M_(d),breakpoint:u,minW:d,maxW:g,maxWQuery:Df(null,g),minWQuery:Df(d),minMaxQuery:Df(d,g)}}),i=fO(t),l=Array.from(i.values());return{keys:i,normalized:n,isResponsive(u){const d=Object.keys(u);return d.length>0&&d.every(m=>i.has(m))},asObject:Lj(t),asArray:R_(t),details:r,get(u){return r.find(d=>d.breakpoint===u)},media:[null,...n.map(u=>Df(u)).slice(1)],toArrayValue(u){if(!ms(u))throw new Error("toArrayValue: value must be an object");const d=l.map(m=>u[m]??null);for(;dO(d)===null;)d.pop();return d},toObjectValue(u){if(!Array.isArray(u))throw new Error("toObjectValue: value must be an array");return u.reduce((d,m,p)=>{const g=l[p];return g!=null&&m!=null&&(d[g]=m),d},{})}}}function cT(...t){return function(...r){t.forEach(i=>i?.(...r))}}function en(...t){return function(r){t.some(i=>(i?.(r),r?.defaultPrevented))}}function _c(t){return y.Children.toArray(t).filter(n=>y.isValidElement(n))}function Op(t){const n=Object.assign({},t);for(let r in n)n[r]===void 0&&delete n[r];return n}function mO(t,n){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function In(t={}){const{name:n,strict:r=!0,hookName:i="useContext",providerName:l="Provider",errorMessage:u,defaultValue:d}=t,m=y.createContext(d);m.displayName=n;function p(){const g=y.useContext(m);if(!g&&r){const x=new Error(u??mO(i,l));throw x.name="ContextError",Error.captureStackTrace?.(x,p),x}return g}return[m.Provider,p,m]}const lt=(...t)=>t.filter(Boolean).join(" "),uT=t=>t.hasAttribute("tabindex"),gO=t=>uT(t)&&t.tabIndex===-1;function dT(t){if(!Mx(t)||oT(t)||aO(t))return!1;const{localName:n}=t;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const i={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return n in i?i[n]():oO(t)?!0:uT(t)}function xO(t){return t?Mx(t)&&dT(t)&&!gO(t):!1}const vO=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],yO=vO.join(),bO=t=>t.offsetWidth>0&&t.offsetHeight>0;function jO(t){const n=Array.from(t.querySelectorAll(yO));return n.unshift(t),n.filter(r=>dT(r)&&bO(r))}function SO(t,n,r,i){const l=typeof n=="string"?n.split("."):[n];for(i=0;i<l.length&&t;i+=1)t=t[l[i]];return t===void 0?r:t}const CO=t=>{const n=new WeakMap;return(i,l,u,d)=>{if(typeof i>"u")return t(i,l,u);n.has(i)||n.set(i,new Map);const m=n.get(i);if(m.has(l))return m.get(l);const p=t(i,l,u,d);return m.set(l,p),p}},hT=CO(SO),wO=t=>t.default||t;function fT(t){const{wasSelected:n,enabled:r,isSelected:i,mode:l="unmount"}=t;return!!(!r||i||l==="keepMounted"&&n)}function _O(t){const n=parseFloat(t);return typeof n!="number"||Number.isNaN(n)?0:n}function pT(t,n){let r=_O(t);const i=10**(n??10);return r=Math.round(r*i)/i,n?r.toFixed(n):r.toString()}function D_(t){if(!Number.isFinite(t))return 0;let n=1,r=0;for(;Math.round(t*n)/n!==t;)n*=10,r+=1;return r}function EO(t,n,r){return t==null?t:(r<n&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,n),r))}function Np(t,n=[]){const r=Object.assign({},t);for(const i of n)i in r&&delete r[i];return r}function mT(t,n){const r={};for(const i of n)i in t&&(r[i]=t[i]);return r}const gT=Object.freeze(["base","sm","md","lg","xl","2xl"]);function Dx(t,n){return Array.isArray(t)?t.map(r=>r===null?null:n(r)):ms(t)?Object.keys(t).reduce((r,i)=>(r[i]=n(t[i]),r),{}):t!=null?n(t):null}function AO(t,n=gT){const r={};return t.forEach((i,l)=>{const u=n[l];i!=null&&(r[u]=i)}),r}const TO=t=>typeof t=="function";function io(t,...n){return TO(t)?t(...n):t}function kO(t){const n=t.ownerDocument.defaultView||window,{overflow:r,overflowX:i,overflowY:l}=n.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+l+i)}function PO(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function xT(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:Mx(t)&&kO(t)?t:xT(PO(t))}function RO(t,n){const r={},i={};for(const[l,u]of Object.entries(t))n.includes(l)?r[l]=u:i[l]=u;return[r,i]}function MO(t,...n){const r=Object.getOwnPropertyDescriptors(t),i=Object.keys(r),l=d=>{const m={};for(let p=0;p<d.length;p++){const g=d[p];r[g]&&(Object.defineProperty(m,g,r[g]),delete r[g])}return m},u=d=>l(Array.isArray(d)?d:i.filter(d));return n.map(u).concat(l(i))}function z_(t,n,r={}){const{stop:i,getKey:l}=r;function u(d,m=[]){if(ms(d)||Array.isArray(d)){const p={};for(const[g,x]of Object.entries(d)){const j=l?.(g)??g,S=[...m,j];if(i?.(d,S))return n(d,m);p[j]=u(x,S)}return p}return n(d,m)}return u(t)}const Ip=t=>{const{condition:n,message:r}=t};var zf={exports:{}};zf.exports;var L_;function DO(){return L_||(L_=1,(function(t,n){var r=200,i="__lodash_hash_undefined__",l=800,u=16,d=9007199254740991,m="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",x="[object Boolean]",j="[object Date]",S="[object Error]",C="[object Function]",_="[object GeneratorFunction]",A="[object Map]",T="[object Number]",z="[object Null]",P="[object Object]",k="[object Proxy]",I="[object RegExp]",N="[object Set]",F="[object String]",Y="[object Undefined]",q="[object WeakMap]",ce="[object ArrayBuffer]",de="[object DataView]",le="[object Float32Array]",ve="[object Float64Array]",Pe="[object Int8Array]",me="[object Int16Array]",G="[object Int32Array]",Z="[object Uint8Array]",H="[object Uint8ClampedArray]",W="[object Uint16Array]",Se="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,$={};$[le]=$[ve]=$[Pe]=$[me]=$[G]=$[Z]=$[H]=$[W]=$[Se]=!0,$[m]=$[p]=$[ce]=$[x]=$[de]=$[j]=$[S]=$[C]=$[A]=$[T]=$[P]=$[I]=$[N]=$[F]=$[q]=!1;var V=typeof og=="object"&&og&&og.Object===Object&&og,M=typeof self=="object"&&self&&self.Object===Object&&self,Q=V||M||Function("return this")(),Ee=n&&!n.nodeType&&n,Le=Ee&&!0&&t&&!t.nodeType&&t,Ae=Le&&Le.exports===Ee,it=Ae&&V.process,ct=(function(){try{var oe=Le&&Le.require&&Le.require("util").types;return oe||it&&it.binding&&it.binding("util")}catch{}})(),Je=ct&&ct.isTypedArray;function zt(oe,je,De){switch(De.length){case 0:return oe.call(je);case 1:return oe.call(je,De[0]);case 2:return oe.call(je,De[0],De[1]);case 3:return oe.call(je,De[0],De[1],De[2])}return oe.apply(je,De)}function Ve(oe,je){for(var De=-1,dt=Array(oe);++De<oe;)dt[De]=je(De);return dt}function $t(oe){return function(je){return oe(je)}}function be(oe,je){return oe?.[je]}function Ze(oe,je){return function(De){return oe(je(De))}}var Ot=Array.prototype,ae=Function.prototype,ge=Object.prototype,nt=Q["__core-js_shared__"],Pt=ae.toString,kn=ge.hasOwnProperty,ar=(function(){var oe=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""})(),Ue=ge.toString,rt=Pt.call(Object),Mt=RegExp("^"+Pt.call(kn).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Ae?Q.Buffer:void 0,gt=Q.Symbol,Pn=Q.Uint8Array;Ye&&Ye.allocUnsafe;var qe=Ze(Object.getPrototypeOf,Object),wt=Object.create,nn=ge.propertyIsEnumerable,mn=Ot.splice,Kt=gt?gt.toStringTag:void 0,Mn=(function(){try{var oe=Ut(Object,"defineProperty");return oe({},"",{}),oe}catch{}})(),ot=Ye?Ye.isBuffer:void 0,Fn=Math.max,Bn=Date.now,Dr=Ut(Q,"Map"),vn=Ut(Object,"create"),pi=(function(){function oe(){}return function(je){if(!Lr(je))return{};if(wt)return wt(je);oe.prototype=je;var De=new oe;return oe.prototype=void 0,De}})();function Os(oe){var je=-1,De=oe==null?0:oe.length;for(this.clear();++je<De;){var dt=oe[je];this.set(dt[0],dt[1])}}function aa(){this.__data__=vn?vn(null):{},this.size=0}function po(oe){var je=this.has(oe)&&delete this.__data__[oe];return this.size-=je?1:0,je}function Io(oe){var je=this.__data__;if(vn){var De=je[oe];return De===i?void 0:De}return kn.call(je,oe)?je[oe]:void 0}function Bo(oe){var je=this.__data__;return vn?je[oe]!==void 0:kn.call(je,oe)}function Wa(oe,je){var De=this.__data__;return this.size+=this.has(oe)?0:1,De[oe]=vn&&je===void 0?i:je,this}Os.prototype.clear=aa,Os.prototype.delete=po,Os.prototype.get=Io,Os.prototype.has=Bo,Os.prototype.set=Wa;function cs(oe){var je=-1,De=oe==null?0:oe.length;for(this.clear();++je<De;){var dt=oe[je];this.set(dt[0],dt[1])}}function fr(){this.__data__=[],this.size=0}function pr(oe){var je=this.__data__,De=Ys(je,oe);if(De<0)return!1;var dt=je.length-1;return De==dt?je.pop():mn.call(je,De,1),--this.size,!0}function Jr(oe){var je=this.__data__,De=Ys(je,oe);return De<0?void 0:je[De][1]}function mo(oe){return Ys(this.__data__,oe)>-1}function es(oe,je){var De=this.__data__,dt=Ys(De,oe);return dt<0?(++this.size,De.push([oe,je])):De[dt][1]=je,this}cs.prototype.clear=fr,cs.prototype.delete=pr,cs.prototype.get=Jr,cs.prototype.has=mo,cs.prototype.set=es;function xt(oe){var je=-1,De=oe==null?0:oe.length;for(this.clear();++je<De;){var dt=oe[je];this.set(dt[0],dt[1])}}function qa(){this.size=0,this.__data__={hash:new Os,map:new(Dr||cs),string:new Os}}function $o(oe){var je=vo(this,oe).delete(oe);return this.size-=je?1:0,je}function mi(oe){return vo(this,oe).get(oe)}function la(oe){return vo(this,oe).has(oe)}function Ns(oe,je){var De=vo(this,oe),dt=De.size;return De.set(oe,je),this.size+=De.size==dt?0:1,this}xt.prototype.clear=qa,xt.prototype.delete=$o,xt.prototype.get=mi,xt.prototype.has=la,xt.prototype.set=Ns;function Wr(oe){var je=this.__data__=new cs(oe);this.size=je.size}function tt(){this.__data__=new cs,this.size=0}function zi(oe){var je=this.__data__,De=je.delete(oe);return this.size=je.size,De}function Tr(oe){return this.__data__.get(oe)}function ca(oe){return this.__data__.has(oe)}function Ml(oe,je){var De=this.__data__;if(De instanceof cs){var dt=De.__data__;if(!Dr||dt.length<r-1)return dt.push([oe,je]),this.size=++De.size,this;De=this.__data__=new xt(dt)}return De.set(oe,je),this.size=De.size,this}Wr.prototype.clear=tt,Wr.prototype.delete=zi,Wr.prototype.get=Tr,Wr.prototype.has=ca,Wr.prototype.set=Ml;function Li(oe,je){var De=Js(oe),dt=!De&&Qs(oe),gn=!De&&!dt&&qt(oe),Rn=!De&&!dt&&!gn&&ys(oe),jt=De||dt||gn||Rn,dn=jt?Ve(oe.length,String):[],an=dn.length;for(var $r in oe)jt&&($r=="length"||gn&&($r=="offset"||$r=="parent")||Rn&&($r=="buffer"||$r=="byteLength"||$r=="byteOffset")||yi($r,an))||dn.push($r);return dn}function Es(oe,je,De){(De!==void 0&&!As(oe[je],De)||De===void 0&&!(je in oe))&&go(oe,je,De)}function Rc(oe,je,De){var dt=oe[je];(!(kn.call(oe,je)&&As(dt,De))||De===void 0&&!(je in oe))&&go(oe,je,De)}function Ys(oe,je){for(var De=oe.length;De--;)if(As(oe[De][0],je))return De;return-1}function go(oe,je,De){je=="__proto__"&&Mn?Mn(oe,je,{configurable:!0,enumerable:!0,value:De,writable:!0}):oe[je]=De}var Mc=tr();function Oi(oe){return oe==null?oe===void 0?Y:z:Kt&&Kt in Object(oe)?nr(oe):Ks(oe)}function Ni(oe){return ei(oe)&&Oi(oe)==m}function Xs(oe){if(!Lr(oe)||Is(oe))return!1;var je=qr(oe)?Mt:ie;return je.test(Vi(oe))}function Ii(oe){return ei(oe)&&_n(oe.length)&&!!$[Oi(oe)]}function Bi(oe){if(!Lr(oe))return bi(oe);var je=vs(oe),De=[];for(var dt in oe)dt=="constructor"&&(je||!kn.call(oe,dt))||De.push(dt);return De}function gi(oe,je,De,dt,gn){oe!==je&&Mc(je,function(Rn,jt){if(gn||(gn=new Wr),Lr(Rn))ua(oe,je,jt,De,gi,dt,gn);else{var dn=dt?dt($s(oe,jt),Rn,jt+"",oe,je,gn):void 0;dn===void 0&&(dn=Rn),Es(oe,jt,dn)}},Or)}function ua(oe,je,De,dt,gn,Rn,jt){var dn=$s(oe,De),an=$s(je,De),$r=jt.get(an);if($r){Es(oe,De,$r);return}var ts=Rn?Rn(dn,an,De+"",oe,je,jt):void 0,Fo=ts===void 0;if(Fo){var Vo=Js(an),Uo=!Vo&&qt(an),Za=!Vo&&!Uo&&ys(an);ts=an,Vo||Uo||Za?Js(dn)?ts=dn:Dc(dn)?ts=xo(dn):Uo?(Fo=!1,ts=er(an)):Za?(Fo=!1,ts=$i(an)):ts=[]:Ui(an)||Qs(an)?(ts=dn,Qs(dn)?ts=ft(dn):(!Lr(dn)||qr(dn))&&(ts=vi(an))):Fo=!1}Fo&&(jt.set(an,ts),gn(ts,an,dt,Rn,jt),jt.delete(an)),Es(oe,De,ts)}function xi(oe,je){return Ga(Bs(oe,je,bs),oe+"")}var bn=Mn?function(oe,je){return Mn(oe,"toString",{configurable:!0,enumerable:!1,value:xr(je),writable:!0})}:bs;function er(oe,je){return oe.slice()}function zr(oe){var je=new oe.constructor(oe.byteLength);return new Pn(je).set(new Pn(oe)),je}function $i(oe,je){var De=zr(oe.buffer);return new oe.constructor(De,oe.byteOffset,oe.length)}function xo(oe,je){var De=-1,dt=oe.length;for(je||(je=Array(dt));++De<dt;)je[De]=oe[De];return je}function Fi(oe,je,De,dt){var gn=!De;De||(De={});for(var Rn=-1,jt=je.length;++Rn<jt;){var dn=je[Rn],an=void 0;an===void 0&&(an=oe[dn]),gn?go(De,dn,an):Rc(De,dn,an)}return De}function tn(oe){return xi(function(je,De){var dt=-1,gn=De.length,Rn=gn>1?De[gn-1]:void 0,jt=gn>2?De[2]:void 0;for(Rn=oe.length>3&&typeof Rn=="function"?(gn--,Rn):void 0,jt&&xs(De[0],De[1],jt)&&(Rn=gn<3?void 0:Rn,gn=1),je=Object(je);++dt<gn;){var dn=De[dt];dn&&oe(je,dn,dt,Rn)}return je})}function tr(oe){return function(je,De,dt){for(var gn=-1,Rn=Object(je),jt=dt(je),dn=jt.length;dn--;){var an=jt[++gn];if(De(Rn[an],an,Rn)===!1)break}return je}}function vo(oe,je){var De=oe.__data__;return lr(je)?De[typeof je=="string"?"string":"hash"]:De.map}function Ut(oe,je){var De=be(oe,je);return Xs(De)?De:void 0}function nr(oe){var je=kn.call(oe,Kt),De=oe[Kt];try{oe[Kt]=void 0;var dt=!0}catch{}var gn=Ue.call(oe);return dt&&(je?oe[Kt]=De:delete oe[Kt]),gn}function vi(oe){return typeof oe.constructor=="function"&&!vs(oe)?pi(qe(oe)):{}}function yi(oe,je){var De=typeof oe;return je=je??d,!!je&&(De=="number"||De!="symbol"&&pe.test(oe))&&oe>-1&&oe%1==0&&oe<je}function xs(oe,je,De){if(!Lr(De))return!1;var dt=typeof je;return(dt=="number"?Fs(De)&&yi(je,De.length):dt=="string"&&je in De)?As(De[je],oe):!1}function lr(oe){var je=typeof oe;return je=="string"||je=="number"||je=="symbol"||je=="boolean"?oe!=="__proto__":oe===null}function Is(oe){return!!ar&&ar in oe}function vs(oe){var je=oe&&oe.constructor,De=typeof je=="function"&&je.prototype||ge;return oe===De}function bi(oe){var je=[];if(oe!=null)for(var De in Object(oe))je.push(De);return je}function Ks(oe){return Ue.call(oe)}function Bs(oe,je,De){return je=Fn(je===void 0?oe.length-1:je,0),function(){for(var dt=arguments,gn=-1,Rn=Fn(dt.length-je,0),jt=Array(Rn);++gn<Rn;)jt[gn]=dt[je+gn];gn=-1;for(var dn=Array(je+1);++gn<je;)dn[gn]=dt[gn];return dn[je]=De(jt),zt(oe,this,dn)}}function $s(oe,je){if(!(je==="constructor"&&typeof oe[je]=="function")&&je!="__proto__")return oe[je]}var Ga=yo(bn);function yo(oe){var je=0,De=0;return function(){var dt=Bn(),gn=u-(dt-De);if(De=dt,gn>0){if(++je>=l)return arguments[0]}else je=0;return oe.apply(void 0,arguments)}}function Vi(oe){if(oe!=null){try{return Pt.call(oe)}catch{}try{return oe+""}catch{}}return""}function As(oe,je){return oe===je||oe!==oe&&je!==je}var Qs=Ni((function(){return arguments})())?Ni:function(oe){return ei(oe)&&kn.call(oe,"callee")&&!nn.call(oe,"callee")},Js=Array.isArray;function Fs(oe){return oe!=null&&_n(oe.length)&&!qr(oe)}function Dc(oe){return ei(oe)&&Fs(oe)}var qt=ot||da;function qr(oe){if(!Lr(oe))return!1;var je=Oi(oe);return je==C||je==_||je==g||je==k}function _n(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=d}function Lr(oe){var je=typeof oe;return oe!=null&&(je=="object"||je=="function")}function ei(oe){return oe!=null&&typeof oe=="object"}function Ui(oe){if(!ei(oe)||Oi(oe)!=P)return!1;var je=qe(oe);if(je===null)return!0;var De=kn.call(je,"constructor")&&je.constructor;return typeof De=="function"&&De instanceof De&&Pt.call(De)==rt}var ys=Je?$t(Je):Ii;function ft(oe){return Fi(oe,Or(oe))}function Or(oe){return Fs(oe)?Li(oe):Bi(oe)}var bo=tn(function(oe,je,De,dt){gi(oe,je,De,dt)});function xr(oe){return function(){return oe}}function bs(oe){return oe}function da(){return!1}t.exports=bo})(zf,zf.exports)),zf.exports}var zO=DO();const Do=Dp(zO);function ps(t,n=[]){const r=y.useRef(t);return y.useEffect(()=>{r.current=t}),y.useCallback((...i)=>r.current?.(...i),n)}function Xf(t,n,r,i){const l=ps(r);return y.useEffect(()=>{const u=typeof t=="function"?t():t??document;if(!(!r||!u))return u.addEventListener(n,l,i),()=>{u.removeEventListener(n,l,i)}},[n,t,i,l,r]),()=>{(typeof t=="function"?t():t??document)?.removeEventListener(n,l,i)}}function LO(t){const{isOpen:n,ref:r}=t,[i,l]=y.useState(n),[u,d]=y.useState(!1);return y.useEffect(()=>{u||(l(n),d(!0))},[n,u,i]),Xf(()=>r.current,"animationend",()=>{l(n)}),{present:!(n?!1:!i),onComplete(){const p=lO(r.current),g=new p.CustomEvent("animationend",{bubbles:!0});r.current?.dispatchEvent(g)}}}function Bp(t){const{value:n,defaultValue:r,onChange:i,shouldUpdate:l=(S,C)=>S!==C}=t,u=ps(i),d=ps(l),[m,p]=y.useState(r),g=n!==void 0,x=g?n:m,j=ps(S=>{const _=typeof S=="function"?S(x):S;d(x,_)&&(g||p(_),u(_))},[g,u,x,d]);return[x,j]}function OO(t={}){const{onChange:n,precision:r,defaultValue:i,value:l,step:u=1,min:d=Number.MIN_SAFE_INTEGER,max:m=Number.MAX_SAFE_INTEGER,keepWithinRange:p=!0}=t,g=ps(n),[x,j]=y.useState(()=>i==null?"":Q0(i,u,r)??""),S=typeof l<"u",C=S?l:x,_=vT(pc(C),u),A=r??_,T=y.useCallback(de=>{de!==C&&(S||j(de.toString()),g?.(de.toString(),pc(de)))},[g,S,C]),z=y.useCallback(de=>{let le=de;return p&&(le=EO(le,d,m)),pT(le,A)},[A,p,m,d]),P=y.useCallback((de=u)=>{let le;C===""?le=pc(de):le=pc(C)+de,le=z(le),T(le)},[z,u,T,C]),k=y.useCallback((de=u)=>{let le;C===""?le=pc(-de):le=pc(C)-de,le=z(le),T(le)},[z,u,T,C]),I=y.useCallback(()=>{let de;i==null?de="":de=Q0(i,u,r)??d,T(de)},[i,r,u,T,d]),N=y.useCallback(de=>{const le=Q0(de,u,A)??d;T(le)},[A,u,T,d]),F=pc(C);return{isOutOfRange:F>m||F<d,isAtMax:F===m,isAtMin:F===d,precision:A,value:C,valueAsNumber:F,update:T,reset:I,increment:P,decrement:k,clamp:z,cast:N,setValue:j}}function pc(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function vT(t,n){return Math.max(D_(n),D_(t))}function Q0(t,n,r){const i=pc(t);if(Number.isNaN(i))return;const l=vT(i,n);return pT(i,r??l)}function Dt(t={}){const{onClose:n,onOpen:r,isOpen:i,id:l}=t,u=ps(r),d=ps(n),[m,p]=y.useState(t.defaultIsOpen||!1),g=i!==void 0?i:m,x=i!==void 0,j=y.useId(),S=l??`disclosure-${j}`,C=y.useCallback(()=>{x||p(!1),d?.()},[x,d]),_=y.useCallback(()=>{x||p(!0),u?.()},[x,u]),A=y.useCallback(()=>{g?C():_()},[g,_,C]);function T(P={}){return{...P,"aria-expanded":g,"aria-controls":S,onClick(k){P.onClick?.(k),A()}}}function z(P={}){return{...P,hidden:!g,id:S}}return{isOpen:g,onOpen:_,onClose:C,onToggle:A,isControlled:x,getButtonProps:T,getDisclosureProps:z}}const Cl=globalThis?.document?y.useLayoutEffect:y.useEffect,Pu=(t,n)=>{const r=y.useRef(!1),i=y.useRef(!1);y.useEffect(()=>{if(r.current&&i.current)return t();i.current=!0},n),y.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function NO(t){const n=t.current;if(!n)return!1;const r=cO(n);return!r||n.contains(r)?!1:!!xO(r)}function IO(t,n){const{visible:r,focusRef:i}=n,l=!r;Pu(()=>{if(!l||NO(t))return;const u=i?.current||t.current;let d;if(u)return d=requestAnimationFrame(()=>{u.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(d)}},[l,t,i])}function BO(t,n){const r=y.useId();return y.useMemo(()=>t||[n,r].filter(Boolean).join("-"),[t,n,r])}function $O(t,...n){const r=BO(t);return y.useMemo(()=>n.map(i=>`${i}-${r}`),[r,n])}function FO(t,n){const r=ps(t);y.useEffect(()=>{let i=null;const l=()=>r();return n!==null&&(i=window.setInterval(l,n)),()=>{i&&window.clearInterval(i)}},[n,r])}function VO(t,n){if(t!=null){if(typeof t=="function"){t(n);return}try{t.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${t}'`)}}}function Qr(...t){return n=>{t.forEach(r=>{VO(r,n)})}}function UO(...t){return y.useMemo(()=>Qr(...t),t)}function HO(t){const{ref:n,handler:r,enabled:i=!0}=t,l=ps(r),d=y.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;y.useEffect(()=>{if(!i)return;const m=j=>{J0(j,n)&&(d.isPointerDown=!0)},p=j=>{if(d.ignoreEmulatedMouseEvents){d.ignoreEmulatedMouseEvents=!1;return}d.isPointerDown&&r&&J0(j,n)&&(d.isPointerDown=!1,l(j))},g=j=>{d.ignoreEmulatedMouseEvents=!0,r&&d.isPointerDown&&J0(j,n)&&(d.isPointerDown=!1,l(j))},x=yT(n.current);return x.addEventListener("mousedown",m,!0),x.addEventListener("mouseup",p,!0),x.addEventListener("touchstart",m,!0),x.addEventListener("touchend",g,!0),()=>{x.removeEventListener("mousedown",m,!0),x.removeEventListener("mouseup",p,!0),x.removeEventListener("touchstart",m,!0),x.removeEventListener("touchend",g,!0)}},[r,n,l,d,i])}function J0(t,n){const r=t.composedPath?.()[0]??t.target;return r&&!yT(r).contains(r)?!1:!n.current?.contains(r)}function yT(t){return t?.ownerDocument??document}function WO(t,n){const r=ps(t);y.useEffect(()=>{if(n==null)return;let i=null;return i=window.setTimeout(()=>{r()},n),()=>{i&&window.clearTimeout(i)}},[n,r])}const fs={open:(t,n)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${n}`,closed:(t,n)=>`${t}[data-closed], ${t}[data-state=closed] ${n}`,hover:(t,n)=>`${t}:hover ${n}, ${t}[data-hover] ${n}`,focus:(t,n)=>`${t}:focus ${n}, ${t}[data-focus] ${n}`,focusVisible:(t,n)=>`${t}:focus-visible ${n}`,focusWithin:(t,n)=>`${t}:focus-within ${n}`,active:(t,n)=>`${t}:active ${n}, ${t}[data-active] ${n}`,disabled:(t,n)=>`${t}:disabled ${n}, ${t}[data-disabled] ${n}`,invalid:(t,n)=>`${t}:invalid ${n}, ${t}[data-invalid] ${n}`,checked:(t,n)=>`${t}:checked ${n}, ${t}[data-checked] ${n}`,placeholderShown:(t,n)=>`${t}:placeholder-shown ${n}`},Sa=t=>bT(n=>t(n,"&"),"[role=group]","[data-group]",".group"),dl=t=>bT(n=>t(n,"~ &"),"[data-peer]",".peer"),bT=(t,...n)=>n.map(t).join(", "),zx={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:Sa(fs.open),_groupClosed:Sa(fs.closed),_groupHover:Sa(fs.hover),_peerHover:dl(fs.hover),_groupFocus:Sa(fs.focus),_peerFocus:dl(fs.focus),_groupFocusVisible:Sa(fs.focusVisible),_peerFocusVisible:dl(fs.focusVisible),_groupActive:Sa(fs.active),_peerActive:dl(fs.active),_groupDisabled:Sa(fs.disabled),_peerDisabled:dl(fs.disabled),_groupInvalid:Sa(fs.invalid),_peerInvalid:dl(fs.invalid),_groupChecked:Sa(fs.checked),_peerChecked:dl(fs.checked),_groupFocusWithin:Sa(fs.focusWithin),_peerFocusWithin:dl(fs.focusWithin),_peerPlaceholderShown:dl(fs.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},jT=Object.keys(zx),qO=t=>/!(important)?$/.test(t),O_=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,GO=(t,n)=>r=>{const i=String(n),l=qO(i),u=O_(i),d=t?`${t}.${u}`:u;let m=ms(r.__cssMap)&&d in r.__cssMap?r.__cssMap[d].varRef:n;return m=O_(m),l?`${m} !important`:m};function Oj(t){const{scale:n,transform:r,compose:i}=t;return(u,d)=>{const m=GO(n,u)(d);let p=r?.(m,d)??m;return i&&(p=i(p,d)),p}}const lg=(...t)=>n=>t.reduce((r,i)=>i(r),n);function Ao(t,n){return r=>{const i={property:r,scale:t};return i.transform=Oj({scale:t,transform:n}),i}}const ZO=({rtl:t,ltr:n})=>r=>r.direction==="rtl"?t:n;function YO(t){const{property:n,scale:r,transform:i}=t;return{scale:r,property:ZO(n),transform:r?Oj({scale:r,compose:i}):i}}const ST=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function XO(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...ST].join(" ")}function KO(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...ST].join(" ")}const QO={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},JO={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function e4(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const t4={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},pb={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},n4=new Set(Object.values(pb)),mb=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),r4=t=>t.trim();function s4(t,n){if(t==null||mb.has(t))return t;if(!(gb(t)||mb.has(t)))return`url('${t}')`;const l=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),u=l?.[1],d=l?.[2];if(!u||!d)return t;const m=u.includes("-gradient")?u:`${u}-gradient`,[p,...g]=d.split(",").map(r4).filter(Boolean);if(g?.length===0)return t;const x=p in pb?pb[p]:p;g.unshift(x);const j=g.map(S=>{if(n4.has(S))return S;const C=S.indexOf(" "),[_,A]=C!==-1?[S.substr(0,C),S.substr(C+1)]:[S],T=gb(A)?A:A&&A.split(" "),z=`colors.${_}`,P=z in n.__cssMap?n.__cssMap[z].varRef:_;return T?[P,...Array.isArray(T)?T:[T]].join(" "):P});return`${m}(${j.join(", ")})`}const gb=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),i4=(t,n)=>s4(t,n??{});function o4(t){return/^var\(--.+\)$/.test(t)}const a4=t=>{const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}},Ca=t=>n=>`${t}(${n})`,Dn={filter(t){return t!=="auto"?t:QO},backdropFilter(t){return t!=="auto"?t:JO},ring(t){return e4(Dn.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?XO():t==="auto-gpu"?KO():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:n}=a4(t);return n||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,n){const r={left:"right",right:"left"};return n.direction==="rtl"?r[t]:t},degree(t){if(o4(t)||t==null)return t;const n=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||n?`${t}deg`:t},gradient:i4,blur:Ca("blur"),opacity:Ca("opacity"),brightness:Ca("brightness"),contrast:Ca("contrast"),dropShadow:Ca("drop-shadow"),grayscale:Ca("grayscale"),hueRotate:t=>Ca("hue-rotate")(Dn.degree(t)),invert:Ca("invert"),saturate:Ca("saturate"),sepia:Ca("sepia"),bgImage(t){return t==null||gb(t)||mb.has(t)?t:`url(${t})`},outline(t){const n=String(t)==="0"||String(t)==="none";return t!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:n,divide:r}=t4[t]??{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},Ce={borderWidths:Ao("borderWidths"),borderStyles:Ao("borderStyles"),colors:Ao("colors"),borders:Ao("borders"),gradients:Ao("gradients",Dn.gradient),radii:Ao("radii",Dn.px),space:Ao("space",lg(Dn.vh,Dn.px)),spaceT:Ao("space",lg(Dn.vh,Dn.px)),degreeT(t){return{property:t,transform:Dn.degree}},prop(t,n,r){return{property:t,scale:n,...n&&{transform:Oj({scale:n,transform:r})}}},propT(t,n){return{property:t,transform:n}},sizes:Ao("sizes",lg(Dn.vh,Dn.px)),sizesT:Ao("sizes",lg(Dn.vh,Dn.fraction)),shadows:Ao("shadows"),logical:YO,blur:Ao("blur",Dn.blur)},Ng={background:Ce.colors("background"),backgroundColor:Ce.colors("backgroundColor"),backgroundImage:Ce.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Dn.bgClip},bgSize:Ce.prop("backgroundSize"),bgPosition:Ce.prop("backgroundPosition"),bg:Ce.colors("background"),bgColor:Ce.colors("backgroundColor"),bgPos:Ce.prop("backgroundPosition"),bgRepeat:Ce.prop("backgroundRepeat"),bgAttachment:Ce.prop("backgroundAttachment"),bgGradient:Ce.gradients("backgroundImage"),bgClip:{transform:Dn.bgClip}};Object.assign(Ng,{bgImage:Ng.backgroundImage,bgImg:Ng.backgroundImage});const qn={border:Ce.borders("border"),borderWidth:Ce.borderWidths("borderWidth"),borderStyle:Ce.borderStyles("borderStyle"),borderColor:Ce.colors("borderColor"),borderRadius:Ce.radii("borderRadius"),borderTop:Ce.borders("borderTop"),borderBlockStart:Ce.borders("borderBlockStart"),borderTopLeftRadius:Ce.radii("borderTopLeftRadius"),borderStartStartRadius:Ce.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Ce.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Ce.radii("borderTopRightRadius"),borderStartEndRadius:Ce.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Ce.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Ce.borders("borderRight"),borderInlineEnd:Ce.borders("borderInlineEnd"),borderBottom:Ce.borders("borderBottom"),borderBlockEnd:Ce.borders("borderBlockEnd"),borderBottomLeftRadius:Ce.radii("borderBottomLeftRadius"),borderBottomRightRadius:Ce.radii("borderBottomRightRadius"),borderLeft:Ce.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Ce.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Ce.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Ce.borders(["borderLeft","borderRight"]),borderInline:Ce.borders("borderInline"),borderY:Ce.borders(["borderTop","borderBottom"]),borderBlock:Ce.borders("borderBlock"),borderTopWidth:Ce.borderWidths("borderTopWidth"),borderBlockStartWidth:Ce.borderWidths("borderBlockStartWidth"),borderTopColor:Ce.colors("borderTopColor"),borderBlockStartColor:Ce.colors("borderBlockStartColor"),borderTopStyle:Ce.borderStyles("borderTopStyle"),borderBlockStartStyle:Ce.borderStyles("borderBlockStartStyle"),borderBottomWidth:Ce.borderWidths("borderBottomWidth"),borderBlockEndWidth:Ce.borderWidths("borderBlockEndWidth"),borderBottomColor:Ce.colors("borderBottomColor"),borderBlockEndColor:Ce.colors("borderBlockEndColor"),borderBottomStyle:Ce.borderStyles("borderBottomStyle"),borderBlockEndStyle:Ce.borderStyles("borderBlockEndStyle"),borderLeftWidth:Ce.borderWidths("borderLeftWidth"),borderInlineStartWidth:Ce.borderWidths("borderInlineStartWidth"),borderLeftColor:Ce.colors("borderLeftColor"),borderInlineStartColor:Ce.colors("borderInlineStartColor"),borderLeftStyle:Ce.borderStyles("borderLeftStyle"),borderInlineStartStyle:Ce.borderStyles("borderInlineStartStyle"),borderRightWidth:Ce.borderWidths("borderRightWidth"),borderInlineEndWidth:Ce.borderWidths("borderInlineEndWidth"),borderRightColor:Ce.colors("borderRightColor"),borderInlineEndColor:Ce.colors("borderInlineEndColor"),borderRightStyle:Ce.borderStyles("borderRightStyle"),borderInlineEndStyle:Ce.borderStyles("borderInlineEndStyle"),borderTopRadius:Ce.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Ce.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Ce.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Ce.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(qn,{rounded:qn.borderRadius,roundedTop:qn.borderTopRadius,roundedTopLeft:qn.borderTopLeftRadius,roundedTopRight:qn.borderTopRightRadius,roundedTopStart:qn.borderStartStartRadius,roundedTopEnd:qn.borderStartEndRadius,roundedBottom:qn.borderBottomRadius,roundedBottomLeft:qn.borderBottomLeftRadius,roundedBottomRight:qn.borderBottomRightRadius,roundedBottomStart:qn.borderEndStartRadius,roundedBottomEnd:qn.borderEndEndRadius,roundedLeft:qn.borderLeftRadius,roundedRight:qn.borderRightRadius,roundedStart:qn.borderInlineStartRadius,roundedEnd:qn.borderInlineEndRadius,borderStart:qn.borderInlineStart,borderEnd:qn.borderInlineEnd,borderTopStartRadius:qn.borderStartStartRadius,borderTopEndRadius:qn.borderStartEndRadius,borderBottomStartRadius:qn.borderEndStartRadius,borderBottomEndRadius:qn.borderEndEndRadius,borderStartRadius:qn.borderInlineStartRadius,borderEndRadius:qn.borderInlineEndRadius,borderStartWidth:qn.borderInlineStartWidth,borderEndWidth:qn.borderInlineEndWidth,borderStartColor:qn.borderInlineStartColor,borderEndColor:qn.borderInlineEndColor,borderStartStyle:qn.borderInlineStartStyle,borderEndStyle:qn.borderInlineEndStyle});const l4={color:Ce.colors("color"),textColor:Ce.colors("color"),fill:Ce.colors("fill"),stroke:Ce.colors("stroke"),accentColor:Ce.colors("accentColor"),textFillColor:Ce.colors("textFillColor")},sx={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Dn.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Ce.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Ce.space("gap"),rowGap:Ce.space("rowGap"),columnGap:Ce.space("columnGap")};Object.assign(sx,{flexDir:sx.flexDirection});const Po={width:Ce.sizesT("width"),inlineSize:Ce.sizesT("inlineSize"),height:Ce.sizes("height"),blockSize:Ce.sizes("blockSize"),boxSize:Ce.sizes(["width","height"]),minWidth:Ce.sizes("minWidth"),minInlineSize:Ce.sizes("minInlineSize"),minHeight:Ce.sizes("minHeight"),minBlockSize:Ce.sizes("minBlockSize"),maxWidth:Ce.sizes("maxWidth"),maxInlineSize:Ce.sizes("maxInlineSize"),maxHeight:Ce.sizes("maxHeight"),maxBlockSize:Ce.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (min-width: ${n.__breakpoints?.get(t)?.minW??t})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (max-width: ${n.__breakpoints?.get(t)?._minW??t})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Ce.propT("float",Dn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Po,{w:Po.width,h:Po.height,minW:Po.minWidth,maxW:Po.maxWidth,minH:Po.minHeight,maxH:Po.maxHeight,overscroll:Po.overscrollBehavior,overscrollX:Po.overscrollBehaviorX,overscrollY:Po.overscrollBehaviorY});const c4={filter:{transform:Dn.filter},blur:Ce.blur("--chakra-blur"),brightness:Ce.propT("--chakra-brightness",Dn.brightness),contrast:Ce.propT("--chakra-contrast",Dn.contrast),hueRotate:Ce.propT("--chakra-hue-rotate",Dn.hueRotate),invert:Ce.propT("--chakra-invert",Dn.invert),saturate:Ce.propT("--chakra-saturate",Dn.saturate),dropShadow:Ce.propT("--chakra-drop-shadow",Dn.dropShadow),backdropFilter:{transform:Dn.backdropFilter},backdropBlur:Ce.blur("--chakra-backdrop-blur"),backdropBrightness:Ce.propT("--chakra-backdrop-brightness",Dn.brightness),backdropContrast:Ce.propT("--chakra-backdrop-contrast",Dn.contrast),backdropHueRotate:Ce.propT("--chakra-backdrop-hue-rotate",Dn.hueRotate),backdropInvert:Ce.propT("--chakra-backdrop-invert",Dn.invert),backdropSaturate:Ce.propT("--chakra-backdrop-saturate",Dn.saturate)},u4={ring:{transform:Dn.ring},ringColor:Ce.colors("--chakra-ring-color"),ringOffset:Ce.prop("--chakra-ring-offset-width"),ringOffsetColor:Ce.colors("--chakra-ring-offset-color"),ringInset:Ce.prop("--chakra-ring-inset")},d4={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Dn.outline},outlineOffset:!0,outlineColor:Ce.colors("outlineColor")},CT={gridGap:Ce.space("gridGap"),gridColumnGap:Ce.space("gridColumnGap"),gridRowGap:Ce.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function h4(t,n,r,i){const l=typeof n=="string"?n.split("."):[n];for(i=0;i<l.length&&t;i+=1)t=t[l[i]];return t===void 0?r:t}const f4=t=>{const n=new WeakMap;return(i,l,u,d)=>{if(typeof i>"u")return t(i,l,u);n.has(i)||n.set(i,new Map);const m=n.get(i);if(m.has(l))return m.get(l);const p=t(i,l,u,d);return m.set(l,p),p}},p4=f4(h4),m4={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},g4={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ey=(t,n,r)=>{const i={},l=p4(t,n,{});for(const u in l)u in r&&r[u]!=null||(i[u]=l[u]);return i},x4={srOnly:{transform(t){return t===!0?m4:t==="focusable"?g4:{}}},layerStyle:{processResult:!0,transform:(t,n,r)=>ey(n,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,n,r)=>ey(n,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,n,r)=>ey(n,t,r)}},Kf={position:!0,pos:Ce.prop("position"),zIndex:Ce.prop("zIndex","zIndices"),inset:Ce.spaceT("inset"),insetX:Ce.spaceT(["left","right"]),insetInline:Ce.spaceT("insetInline"),insetY:Ce.spaceT(["top","bottom"]),insetBlock:Ce.spaceT("insetBlock"),top:Ce.spaceT("top"),insetBlockStart:Ce.spaceT("insetBlockStart"),bottom:Ce.spaceT("bottom"),insetBlockEnd:Ce.spaceT("insetBlockEnd"),left:Ce.spaceT("left"),insetInlineStart:Ce.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Ce.spaceT("right"),insetInlineEnd:Ce.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Kf,{insetStart:Kf.insetInlineStart,insetEnd:Kf.insetInlineEnd});const xb={boxShadow:Ce.shadows("boxShadow"),mixBlendMode:!0,blendMode:Ce.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Ce.prop("backgroundBlendMode"),opacity:!0};Object.assign(xb,{shadow:xb.boxShadow});const wr={margin:Ce.spaceT("margin"),marginTop:Ce.spaceT("marginTop"),marginBlockStart:Ce.spaceT("marginBlockStart"),marginRight:Ce.spaceT("marginRight"),marginInlineEnd:Ce.spaceT("marginInlineEnd"),marginBottom:Ce.spaceT("marginBottom"),marginBlockEnd:Ce.spaceT("marginBlockEnd"),marginLeft:Ce.spaceT("marginLeft"),marginInlineStart:Ce.spaceT("marginInlineStart"),marginX:Ce.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Ce.spaceT("marginInline"),marginY:Ce.spaceT(["marginTop","marginBottom"]),marginBlock:Ce.spaceT("marginBlock"),padding:Ce.space("padding"),paddingTop:Ce.space("paddingTop"),paddingBlockStart:Ce.space("paddingBlockStart"),paddingRight:Ce.space("paddingRight"),paddingBottom:Ce.space("paddingBottom"),paddingBlockEnd:Ce.space("paddingBlockEnd"),paddingLeft:Ce.space("paddingLeft"),paddingInlineStart:Ce.space("paddingInlineStart"),paddingInlineEnd:Ce.space("paddingInlineEnd"),paddingX:Ce.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Ce.space("paddingInline"),paddingY:Ce.space(["paddingTop","paddingBottom"]),paddingBlock:Ce.space("paddingBlock")};Object.assign(wr,{m:wr.margin,mt:wr.marginTop,mr:wr.marginRight,me:wr.marginInlineEnd,marginEnd:wr.marginInlineEnd,mb:wr.marginBottom,ml:wr.marginLeft,ms:wr.marginInlineStart,marginStart:wr.marginInlineStart,mx:wr.marginX,my:wr.marginY,p:wr.padding,pt:wr.paddingTop,py:wr.paddingY,px:wr.paddingX,pb:wr.paddingBottom,pl:wr.paddingLeft,ps:wr.paddingInlineStart,paddingStart:wr.paddingInlineStart,pr:wr.paddingRight,pe:wr.paddingInlineEnd,paddingEnd:wr.paddingInlineEnd});const v4={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Ce.spaceT("scrollMargin"),scrollMarginTop:Ce.spaceT("scrollMarginTop"),scrollMarginBottom:Ce.spaceT("scrollMarginBottom"),scrollMarginLeft:Ce.spaceT("scrollMarginLeft"),scrollMarginRight:Ce.spaceT("scrollMarginRight"),scrollMarginX:Ce.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Ce.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Ce.spaceT("scrollPadding"),scrollPaddingTop:Ce.spaceT("scrollPaddingTop"),scrollPaddingBottom:Ce.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Ce.spaceT("scrollPaddingLeft"),scrollPaddingRight:Ce.spaceT("scrollPaddingRight"),scrollPaddingX:Ce.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Ce.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},y4={fontFamily:Ce.prop("fontFamily","fonts"),fontSize:Ce.prop("fontSize","fontSizes",Dn.px),fontWeight:Ce.prop("fontWeight","fontWeights"),lineHeight:Ce.prop("lineHeight","lineHeights"),letterSpacing:Ce.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},b4={textDecorationColor:Ce.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Ce.shadows("textShadow")},j4={clipPath:!0,transform:Ce.propT("transform",Dn.transform),transformOrigin:!0,translateX:Ce.spaceT("--chakra-translate-x"),translateY:Ce.spaceT("--chakra-translate-y"),skewX:Ce.degreeT("--chakra-skew-x"),skewY:Ce.degreeT("--chakra-skew-y"),scaleX:Ce.prop("--chakra-scale-x"),scaleY:Ce.prop("--chakra-scale-y"),scale:Ce.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Ce.degreeT("--chakra-rotate")},S4={listStyleType:!0,listStylePosition:!0,listStylePos:Ce.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Ce.prop("listStyleImage")},C4={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Ce.prop("transitionDuration","transition.duration"),transitionProperty:Ce.prop("transitionProperty","transition.property"),transitionTimingFunction:Ce.prop("transitionTimingFunction","transition.easing")},Nj=Do({},Ng,qn,l4,sx,Po,c4,u4,d4,CT,x4,Kf,xb,wr,v4,y4,b4,j4,S4,C4),w4=Object.assign({},wr,Po,sx,CT,Kf),_4=Object.keys(w4),E4=[...Object.keys(Nj),...jT],A4={...Nj,...zx},T4=t=>t in A4,k4=t=>n=>{if(!n.__breakpoints)return t;const{isResponsive:r,toArrayValue:i,media:l}=n.__breakpoints,u={};for(const d in t){let m=io(t[d],n);if(m==null)continue;if(m=ms(m)&&r(m)?i(m):m,!Array.isArray(m)){u[d]=m;continue}const p=m.slice(0,l.length).length;for(let g=0;g<p;g+=1){const x=l?.[g];if(!x){u[d]=m[g];continue}u[x]=u[x]||{},m[g]!=null&&(u[x][d]=m[g])}}return u};function P4(t){const n=[];let r="",i=!1;for(let l=0;l<t.length;l++){const u=t[l];u==="("?(i=!0,r+=u):u===")"?(i=!1,r+=u):u===","&&!i?(n.push(r),r=""):r+=u}return r=r.trim(),r&&n.push(r),n}function R4(t){return/^var\(--.+\)$/.test(t)}const M4=(t,n)=>t.startsWith("--")&&typeof n=="string"&&!R4(n),D4=(t,n)=>{if(n==null)return n;const r=d=>t.__cssMap?.[d]?.varRef,i=d=>r(d)??d,[l,u]=P4(n);return n=r(l)??i(u)??i(n),n};function z4(t){const{configs:n={},pseudos:r={},theme:i}=t,l=(u,d=!1)=>{const m=io(u,i),p=k4(m)(i);let g={};for(let x in p){const j=p[x];let S=io(j,i);x in r&&(x=r[x]),M4(x,S)&&(S=D4(i,S));let C=n[x];if(C===!0&&(C={property:x}),ms(S)){g[x]=g[x]??{},g[x]=Do({},g[x],l(S,!0));continue}let _=C?.transform?.(S,i,m)??S;_=C?.processResult?l(_,!0):_;const A=io(C?.property,i);if(!d&&C?.static){const T=io(C.static,i);g=Do({},g,T)}if(A&&Array.isArray(A)){for(const T of A)g[T]=_;continue}if(A){A==="&"&&ms(_)?g=Do({},g,_):g[A]=_;continue}if(ms(_)){g=Do({},g,_);continue}g[x]=_}return g};return l}const wT=t=>n=>z4({theme:n,pseudos:zx,configs:Nj})(t);function Cr(t){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:t,...n}}}}function L4(t,n,r){return t.__cssMap?.[`${n}.${r}`]?.varRef??r}function O4(t,n){if(Array.isArray(t))return t;if(ms(t))return n(t);if(t!=null)return[t]}function N4(t,n){for(let r=n+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function I4(t){const n=t.__breakpoints;return function(i,l,u,d){if(!n)return;const m={},p=O4(u,n.toArrayValue);if(!p)return m;const g=p.length,x=g===1,j=!!i.parts;for(let S=0;S<g;S++){const C=n.details[S],_=n.details[N4(p,S)],A=Df(C.minW,_?._minW),T=io(i[l]?.[p[S]],d);if(T){if(j){i.parts?.forEach(z=>{Do(m,{[z]:x?T[z]:{[A]:T[z]}})});continue}if(!j){x?Do(m,T):m[A]=T;continue}m[A]=T}}return m}}function B4(t){return n=>{const{variant:r,size:i,theme:l}=n,u=I4(l);return Do({},io(t.baseStyle??{},n),u(t,"sizes",i,n),u(t,"variants",r,n))}}function $n(t){return Np(t,["styleConfig","size","variant","colorScheme"])}function _T(t){return ms(t)&&t.reference?t.reference:String(t)}const Lx=(t,...n)=>n.map(_T).join(` ${t} `).replace(/calc/g,""),N_=(...t)=>`calc(${Lx("+",...t)})`,I_=(...t)=>`calc(${Lx("-",...t)})`,vb=(...t)=>`calc(${Lx("*",...t)})`,B_=(...t)=>`calc(${Lx("/",...t)})`,$_=t=>{const n=_T(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:vb(n,-1)},ml=Object.assign(t=>({add:(...n)=>ml(N_(t,...n)),subtract:(...n)=>ml(I_(t,...n)),multiply:(...n)=>ml(vb(t,...n)),divide:(...n)=>ml(B_(t,...n)),negate:()=>ml($_(t)),toString:()=>t.toString()}),{add:N_,subtract:I_,multiply:vb,divide:B_,negate:$_});function $4(t,n="-"){return t.replace(/\s+/g,n)}function F4(t){const n=$4(t.toString());return U4(V4(n))}function V4(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function U4(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function H4(t,n=""){return[n,t].filter(Boolean).join("-")}function W4(t,n){return`var(${t}${n?`, ${n}`:""})`}function q4(t,n=""){return F4(`--${H4(t,n)}`)}function Wt(t,n,r){const i=q4(t,r);return{variable:i,reference:W4(i,n)}}function G4(t,n){const r={};for(const i of n){if(Array.isArray(i)){const[l,u]=i;r[l]=Wt(`${t}-${l}`,u);continue}r[i]=Wt(`${t}-${i}`)}return r}const Z4=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Y4(t){return mT(t,Z4)}function X4(t){return t.semanticTokens}function K4(t){const{__cssMap:n,__cssVars:r,__breakpoints:i,...l}=t;return l}function Q4(t){const n=Y4(t),r=X4(t),i=u=>jT.includes(u)||u==="default",l={};return z_(n,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!1,value:u})}),z_(r,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!0,value:u})},{stop:u=>Object.keys(u).every(i)}),l}function F_(t,n){return Wt(String(t).replace(/\./g,"-"),void 0,n)}function J4(t){const n=Q4(t),r=t.config?.cssVarPrefix;let i={};const l={};function u(d,m){const g=[String(d).split(".")[0],m].join(".");if(!n[g])return m;const{reference:j}=F_(g,r);return j}for(const[d,m]of Object.entries(n)){const{isSemantic:p,value:g}=m,{variable:x,reference:j}=F_(d,r);if(!p){if(d.startsWith("space")){const C=d.split("."),[_,...A]=C,T=`${_}.-${A.join(".")}`,z=ml.negate(g),P=ml.negate(j);l[T]={value:z,var:x,varRef:P}}i[x]=g,l[d]={value:g,var:x,varRef:j};continue}const S=ms(g)?g:{default:g};i=Do(i,Object.entries(S).reduce((C,[_,A])=>{if(!A)return C;const T=u(d,`${A}`);if(_==="default")return C[x]=T,C;const z=zx?.[_]??_;return C[z]={[x]:T},C},{})),l[d]={value:j,var:x,varRef:j}}return{cssVars:i,cssMap:l}}function e3(t){const n=K4(t),{cssMap:r,cssVars:i}=J4(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...i},__cssMap:r,__breakpoints:pO(n.breakpoints)}),n}function Jn(t,n={}){let r=!1;function i(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function l(...x){i();for(const j of x)n[j]=p(j);return Jn(t,n)}function u(...x){for(const j of x)j in n||(n[j]=p(j));return Jn(t,n)}function d(){return Object.fromEntries(Object.entries(n).map(([j,S])=>[j,S.selector]))}function m(){return Object.fromEntries(Object.entries(n).map(([j,S])=>[j,S.className]))}function p(x){const C=`chakra-${(["container","root"].includes(x??"")?[t]:[t,x]).filter(Boolean).join("__")}`;return{className:C,selector:`.${C}`,toString:()=>x}}return{parts:l,toPart:p,extend:u,selectors:d,classnames:m,get keys(){return Object.keys(n)},__type:{}}}const t3=Jn("accordion").parts("root","container","button","panel","icon"),n3=Jn("alert").parts("title","description","container","icon","spinner"),r3=Jn("avatar").parts("label","badge","container","excessLabel","group"),s3=Jn("breadcrumb").parts("link","item","container","separator");Jn("button").parts();const i3=Jn("checkbox").parts("control","icon","container","label");Jn("progress").parts("track","filledTrack","label");const o3=Jn("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),a3=Jn("editable").parts("preview","input","textarea"),l3=Jn("form").parts("container","requiredIndicator","helperText"),c3=Jn("formError").parts("text","icon"),u3=Jn("input").parts("addon","field","element","group"),d3=Jn("list").parts("container","item","icon"),h3=Jn("menu").parts("button","list","item","groupTitle","icon","command","divider"),f3=Jn("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),p3=Jn("numberinput").parts("root","field","stepperGroup","stepper");Jn("pininput").parts("field");const m3=Jn("popover").parts("content","header","body","footer","popper","arrow","closeButton"),g3=Jn("progress").parts("label","filledTrack","track"),x3=Jn("radio").parts("container","control","label"),v3=Jn("select").parts("field","icon"),y3=Jn("slider").parts("container","track","thumb","filledTrack","mark"),b3=Jn("stat").parts("container","label","helpText","number","icon"),j3=Jn("switch").parts("container","track","thumb","label"),S3=Jn("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),C3=Jn("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),w3=Jn("tag").parts("container","label","closeButton"),_3=Jn("card").parts("container","header","body","footer");Jn("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:E3,defineMultiStyleConfig:A3}=Cr(t3.keys),T3={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},k3={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},P3={pt:"2",px:"4",pb:"5"},R3={fontSize:"1.25em"},M3=E3({container:T3,button:k3,panel:P3,icon:R3}),D3=A3({baseStyle:M3});function pu(t,n,r){return Math.min(Math.max(t,r),n)}class z3 extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var Lf=z3;function Ij(t){if(typeof t!="string")throw new Lf(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=t.trim();n=V3.test(t)?N3(t):t;const r=I3.exec(n);if(r){const d=Array.from(r).slice(1);return[...d.slice(0,3).map(m=>parseInt(hp(m,2),16)),parseInt(hp(d[3]||"f",2),16)/255]}const i=B3.exec(n);if(i){const d=Array.from(i).slice(1);return[...d.slice(0,3).map(m=>parseInt(m,16)),parseInt(d[3]||"ff",16)/255]}const l=$3.exec(n);if(l){const d=Array.from(l).slice(1);return[...d.slice(0,3).map(m=>parseInt(m,10)),parseFloat(d[3]||"1")]}const u=F3.exec(n);if(u){const[d,m,p,g]=Array.from(u).slice(1).map(parseFloat);if(pu(0,100,m)!==m)throw new Lf(t);if(pu(0,100,p)!==p)throw new Lf(t);return[...U3(d,m,p),Number.isNaN(g)?1:g]}throw new Lf(t)}function L3(t){let n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return(n>>>0)%2341}const V_=t=>parseInt(t.replace(/_/g,""),36),O3="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,n)=>{const r=V_(n.substring(0,3)),i=V_(n.substring(3)).toString(16);let l="";for(let u=0;u<6-i.length;u++)l+="0";return t[r]=`${l}${i}`,t},{});function N3(t){const n=t.toLowerCase().trim(),r=O3[L3(n)];if(!r)throw new Lf(t);return`#${r}`}const hp=(t,n)=>Array.from(Array(n)).map(()=>t).join(""),I3=new RegExp(`^#${hp("([a-f0-9])",3)}([a-f0-9])?$`,"i"),B3=new RegExp(`^#${hp("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),$3=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${hp(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),F3=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,V3=/^[a-z]+$/i,U_=t=>Math.round(t*255),U3=(t,n,r)=>{let i=r/100;if(n===0)return[i,i,i].map(U_);const l=(t%360+360)%360/60,u=(1-Math.abs(2*i-1))*(n/100),d=u*(1-Math.abs(l%2-1));let m=0,p=0,g=0;l>=0&&l<1?(m=u,p=d):l>=1&&l<2?(m=d,p=u):l>=2&&l<3?(p=u,g=d):l>=3&&l<4?(p=d,g=u):l>=4&&l<5?(m=d,g=u):l>=5&&l<6&&(m=u,g=d);const x=i-u/2,j=m+x,S=p+x,C=g+x;return[j,S,C].map(U_)};function H3(t,n,r,i){return`rgba(${pu(0,255,t).toFixed()}, ${pu(0,255,n).toFixed()}, ${pu(0,255,r).toFixed()}, ${parseFloat(pu(0,1,i).toFixed(3))})`}function W3(t,n){const[r,i,l,u]=Ij(t);return H3(r,i,l,u-n)}function q3(t){const[n,r,i,l]=Ij(t);let u=d=>{const m=pu(0,255,d).toString(16);return m.length===1?`0${m}`:m};return`#${u(n)}${u(r)}${u(i)}${l<1?u(Math.round(l*255)):""}`}const G3=t=>Object.keys(t).length===0;function Z3(t,n,r,i,l){for(n=n.split?n.split("."):n,i=0;i<n.length;i++)t=t?t[n[i]]:l;return t===l?r:t}const di=(t,n,r)=>{const i=Z3(t,`colors.${n}`,n);try{return q3(i),i}catch{return r??"#000000"}},Y3=t=>{const[n,r,i]=Ij(t);return(n*299+r*587+i*114)/1e3},X3=t=>n=>{const r=di(n,t);return Y3(r)<128?"dark":"light"},K3=t=>n=>X3(t)(n)==="dark",sh=(t,n)=>r=>{const i=di(r,t);return W3(i,1-n)};function H_(t="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const Q3=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function J3(t){const n=Q3();return!t||G3(t)?n:t.string&&t.colors?tN(t.string,t.colors):t.string&&!t.colors?eN(t.string):t.colors&&!t.string?nN(t.colors):n}function eN(t){let n=0;if(t.length===0)return n.toString();for(let i=0;i<t.length;i+=1)n=t.charCodeAt(i)+((n<<5)-n),n=n&n;let r="#";for(let i=0;i<3;i+=1){const l=n>>i*8&255;r+=`00${l.toString(16)}`.substr(-2)}return r}function tN(t,n){let r=0;if(t.length===0)return n[0];for(let i=0;i<t.length;i+=1)r=t.charCodeAt(i)+((r<<5)-r),r=r&r;return r=(r%n.length+n.length)%n.length,n[r]}function nN(t){return t[Math.floor(Math.random()*t.length)]}function Ht(t,n){return r=>r.colorMode==="dark"?n:t}function Bj(t){const{orientation:n,vertical:r,horizontal:i}=t;return n?n==="vertical"?r:i:{}}function ET(t){return ms(t)&&t.reference?t.reference:String(t)}const Ox=(t,...n)=>n.map(ET).join(` ${t} `).replace(/calc/g,""),W_=(...t)=>`calc(${Ox("+",...t)})`,q_=(...t)=>`calc(${Ox("-",...t)})`,yb=(...t)=>`calc(${Ox("*",...t)})`,G_=(...t)=>`calc(${Ox("/",...t)})`,Z_=t=>{const n=ET(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:yb(n,-1)},gl=Object.assign(t=>({add:(...n)=>gl(W_(t,...n)),subtract:(...n)=>gl(q_(t,...n)),multiply:(...n)=>gl(yb(t,...n)),divide:(...n)=>gl(G_(t,...n)),negate:()=>gl(Z_(t)),toString:()=>t.toString()}),{add:W_,subtract:q_,multiply:yb,divide:G_,negate:Z_});function rN(t){return!Number.isInteger(parseFloat(t.toString()))}function sN(t,n="-"){return t.replace(/\s+/g,n)}function AT(t){const n=sN(t.toString());return n.includes("\\.")?t:rN(t)?n.replace(".","\\."):t}function iN(t,n=""){return[n,AT(t)].filter(Boolean).join("-")}function oN(t,n){return`var(${AT(t)}${n?`, ${n}`:""})`}function aN(t,n=""){return`--${iN(t,n)}`}function gs(t,n){const r=aN(t,n?.prefix);return{variable:r,reference:oN(r,lN(n?.fallback))}}function lN(t){return t?.reference}const{definePartsStyle:$p,defineMultiStyleConfig:cN}=Cr(n3.keys),ao=Wt("alert-fg"),Tl=Wt("alert-bg"),uN=$p({container:{bg:Tl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:ao.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:ao.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function $j(t){const{theme:n,colorScheme:r}=t,i=sh(`${r}.200`,.16)(n);return{light:`colors.${r}.100`,dark:i}}const dN=$p(t=>{const{colorScheme:n}=t,r=$j(t);return{container:{[ao.variable]:`colors.${n}.600`,[Tl.variable]:r.light,_dark:{[ao.variable]:`colors.${n}.200`,[Tl.variable]:r.dark}}}}),hN=$p(t=>{const{colorScheme:n}=t,r=$j(t);return{container:{[ao.variable]:`colors.${n}.600`,[Tl.variable]:r.light,_dark:{[ao.variable]:`colors.${n}.200`,[Tl.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:ao.reference}}}),fN=$p(t=>{const{colorScheme:n}=t,r=$j(t);return{container:{[ao.variable]:`colors.${n}.600`,[Tl.variable]:r.light,_dark:{[ao.variable]:`colors.${n}.200`,[Tl.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:ao.reference}}}),pN=$p(t=>{const{colorScheme:n}=t;return{container:{[ao.variable]:"colors.white",[Tl.variable]:`colors.${n}.600`,_dark:{[ao.variable]:"colors.gray.900",[Tl.variable]:`colors.${n}.200`},color:ao.reference}}}),mN={subtle:dN,"left-accent":hN,"top-accent":fN,solid:pN},gN=cN({baseStyle:uN,variants:mN,defaultProps:{variant:"subtle",colorScheme:"blue"}}),TT={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},xN={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},vN={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},kT={...TT,...xN,container:vN},yN=t=>typeof t=="function";function hi(t,...n){return yN(t)?t(...n):t}const{definePartsStyle:PT,defineMultiStyleConfig:bN}=Cr(r3.keys),Gd=Wt("avatar-border-color"),Qf=Wt("avatar-bg"),fp=Wt("avatar-font-size"),ih=Wt("avatar-size"),jN={borderRadius:"full",border:"0.2em solid",borderColor:Gd.reference,[Gd.variable]:"white",_dark:{[Gd.variable]:"colors.gray.800"}},SN={bg:Qf.reference,fontSize:fp.reference,width:ih.reference,height:ih.reference,lineHeight:"1",[Qf.variable]:"colors.gray.200",_dark:{[Qf.variable]:"colors.whiteAlpha.400"}},CN=t=>{const{name:n,theme:r}=t,i=n?J3({string:n}):"colors.gray.400",l=K3(i)(r);let u="white";return l||(u="gray.800"),{bg:Qf.reference,fontSize:fp.reference,color:u,borderColor:Gd.reference,verticalAlign:"top",width:ih.reference,height:ih.reference,"&:not([data-loaded])":{[Qf.variable]:i},[Gd.variable]:"colors.white",_dark:{[Gd.variable]:"colors.gray.800"}}},wN={fontSize:fp.reference,lineHeight:"1"},_N=PT(t=>({badge:hi(jN,t),excessLabel:hi(SN,t),container:hi(CN,t),label:wN}));function uc(t){const n=t!=="100%"?kT[t]:void 0;return PT({container:{[ih.variable]:n??t,[fp.variable]:`calc(${n??t} / 2.5)`},excessLabel:{[ih.variable]:n??t,[fp.variable]:`calc(${n??t} / 2.5)`}})}const EN={"2xs":uc(4),xs:uc(6),sm:uc(8),md:uc(12),lg:uc(16),xl:uc(24),"2xl":uc(32),full:uc("100%")},AN=bN({baseStyle:_N,sizes:EN,defaultProps:{size:"md"}}),Kr=G4("badge",["bg","color","shadow"]),TN={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Kr.bg.reference,color:Kr.color.reference,boxShadow:Kr.shadow.reference},kN=t=>{const{colorScheme:n,theme:r}=t,i=sh(`${n}.500`,.6)(r);return{[Kr.bg.variable]:`colors.${n}.500`,[Kr.color.variable]:"colors.white",_dark:{[Kr.bg.variable]:i,[Kr.color.variable]:"colors.whiteAlpha.800"}}},PN=t=>{const{colorScheme:n,theme:r}=t,i=sh(`${n}.200`,.16)(r);return{[Kr.bg.variable]:`colors.${n}.100`,[Kr.color.variable]:`colors.${n}.800`,_dark:{[Kr.bg.variable]:i,[Kr.color.variable]:`colors.${n}.200`}}},RN=t=>{const{colorScheme:n,theme:r}=t,i=sh(`${n}.200`,.8)(r);return{[Kr.color.variable]:`colors.${n}.500`,_dark:{[Kr.color.variable]:i},[Kr.shadow.variable]:`inset 0 0 0px 1px ${Kr.color.reference}`}},MN={solid:kN,subtle:PN,outline:RN},Jf={baseStyle:TN,variants:MN,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:DN,definePartsStyle:zN}=Cr(s3.keys),ty=Wt("breadcrumb-link-decor"),LN={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:ty.reference,[ty.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[ty.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},ON=zN({link:LN}),NN=DN({baseStyle:ON}),IN={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},RT=t=>{const{colorScheme:n,theme:r}=t;if(n==="gray")return{color:Ht("gray.800","whiteAlpha.900")(t),_hover:{bg:Ht("gray.100","whiteAlpha.200")(t)},_active:{bg:Ht("gray.200","whiteAlpha.300")(t)}};const i=sh(`${n}.200`,.12)(r),l=sh(`${n}.200`,.24)(r);return{color:Ht(`${n}.600`,`${n}.200`)(t),bg:"transparent",_hover:{bg:Ht(`${n}.50`,i)(t)},_active:{bg:Ht(`${n}.100`,l)(t)}}},BN=t=>{const{colorScheme:n}=t,r=Ht("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:n==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...hi(RT,t)}},$N={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},FN=t=>{const{colorScheme:n}=t;if(n==="gray"){const m=Ht("gray.100","whiteAlpha.200")(t);return{bg:m,color:Ht("gray.800","whiteAlpha.900")(t),_hover:{bg:Ht("gray.200","whiteAlpha.300")(t),_disabled:{bg:m}},_active:{bg:Ht("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:l=`${n}.600`,activeBg:u=`${n}.700`}=$N[n]??{},d=Ht(r,`${n}.200`)(t);return{bg:d,color:Ht(i,"gray.800")(t),_hover:{bg:Ht(l,`${n}.300`)(t),_disabled:{bg:d}},_active:{bg:Ht(u,`${n}.400`)(t)}}},VN=t=>{const{colorScheme:n}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ht(`${n}.500`,`${n}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ht(`${n}.700`,`${n}.500`)(t)}}},UN={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},HN={ghost:RT,outline:BN,solid:FN,link:VN,unstyled:UN},WN={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},qN={baseStyle:IN,variants:HN,sizes:WN,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ju,defineMultiStyleConfig:GN}=Cr(_3.keys),ix=Wt("card-bg"),wl=Wt("card-padding"),MT=Wt("card-shadow"),Ig=Wt("card-radius"),DT=Wt("card-border-width","0"),zT=Wt("card-border-color"),ZN=ju({container:{[ix.variable]:"colors.chakra-body-bg",backgroundColor:ix.reference,boxShadow:MT.reference,borderRadius:Ig.reference,color:"chakra-body-text",borderWidth:DT.reference,borderColor:zT.reference},body:{padding:wl.reference,flex:"1 1 0%"},header:{padding:wl.reference},footer:{padding:wl.reference}}),YN={sm:ju({container:{[Ig.variable]:"radii.base",[wl.variable]:"space.3"}}),md:ju({container:{[Ig.variable]:"radii.md",[wl.variable]:"space.5"}}),lg:ju({container:{[Ig.variable]:"radii.xl",[wl.variable]:"space.7"}})},XN={elevated:ju({container:{[MT.variable]:"shadows.base",_dark:{[ix.variable]:"colors.gray.700"}}}),outline:ju({container:{[DT.variable]:"1px",[zT.variable]:"colors.chakra-border-color"}}),filled:ju({container:{[ix.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[wl.variable]:0},header:{[wl.variable]:0},footer:{[wl.variable]:0}}},KN=GN({baseStyle:ZN,variants:XN,sizes:YN,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Bg,defineMultiStyleConfig:QN}=Cr(i3.keys),ep=Wt("checkbox-size"),JN=t=>{const{colorScheme:n}=t;return{w:ep.reference,h:ep.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ht(`${n}.500`,`${n}.200`)(t),borderColor:Ht(`${n}.500`,`${n}.200`)(t),color:Ht("white","gray.900")(t),_hover:{bg:Ht(`${n}.600`,`${n}.300`)(t),borderColor:Ht(`${n}.600`,`${n}.300`)(t)},_disabled:{borderColor:Ht("gray.200","transparent")(t),bg:Ht("gray.200","whiteAlpha.300")(t),color:Ht("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ht(`${n}.500`,`${n}.200`)(t),borderColor:Ht(`${n}.500`,`${n}.200`)(t),color:Ht("white","gray.900")(t)},_disabled:{bg:Ht("gray.100","whiteAlpha.100")(t),borderColor:Ht("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ht("red.500","red.300")(t)}}},eI={_disabled:{cursor:"not-allowed"}},tI={userSelect:"none",_disabled:{opacity:.4}},nI={transitionProperty:"transform",transitionDuration:"normal"},rI=Bg(t=>({icon:nI,container:eI,control:hi(JN,t),label:tI})),sI={sm:Bg({control:{[ep.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Bg({control:{[ep.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Bg({control:{[ep.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},ox=QN({baseStyle:rI,sizes:sI,defaultProps:{size:"md",colorScheme:"blue"}}),tp=gs("close-button-size"),bf=gs("close-button-bg"),iI={w:[tp.reference],h:[tp.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[bf.variable]:"colors.blackAlpha.100",_dark:{[bf.variable]:"colors.whiteAlpha.100"}},_active:{[bf.variable]:"colors.blackAlpha.200",_dark:{[bf.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:bf.reference},oI={lg:{[tp.variable]:"sizes.10",fontSize:"md"},md:{[tp.variable]:"sizes.8",fontSize:"xs"},sm:{[tp.variable]:"sizes.6",fontSize:"2xs"}},aI={baseStyle:iI,sizes:oI,defaultProps:{size:"md"}},{variants:lI,defaultProps:cI}=Jf,uI={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Kr.bg.reference,color:Kr.color.reference,boxShadow:Kr.shadow.reference},dI={baseStyle:uI,variants:lI,defaultProps:cI},hI={w:"100%",mx:"auto",maxW:"prose",px:"4"},fI={baseStyle:hI},pI={opacity:.6,borderColor:"inherit"},mI={borderStyle:"solid"},gI={borderStyle:"dashed"},xI={solid:mI,dashed:gI},vI={baseStyle:pI,variants:xI,defaultProps:{variant:"solid"}},{definePartsStyle:bb,defineMultiStyleConfig:yI}=Cr(o3.keys),ny=Wt("drawer-bg"),ry=Wt("drawer-box-shadow");function Ed(t){return bb(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const bI={bg:"blackAlpha.600",zIndex:"modal"},jI={display:"flex",zIndex:"modal",justifyContent:"center"},SI=t=>{const{isFullHeight:n}=t;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[ny.variable]:"colors.white",[ry.variable]:"shadows.lg",_dark:{[ny.variable]:"colors.gray.700",[ry.variable]:"shadows.dark-lg"},bg:ny.reference,boxShadow:ry.reference}},CI={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},wI={position:"absolute",top:"2",insetEnd:"3"},_I={px:"6",py:"2",flex:"1",overflow:"auto"},EI={px:"6",py:"4"},AI=bb(t=>({overlay:bI,dialogContainer:jI,dialog:hi(SI,t),header:CI,closeButton:wI,body:_I,footer:EI})),TI={xs:Ed("xs"),sm:Ed("md"),md:Ed("lg"),lg:Ed("2xl"),xl:Ed("4xl"),full:Ed("full")},kI=yI({baseStyle:AI,sizes:TI,defaultProps:{size:"xs"}}),{definePartsStyle:PI,defineMultiStyleConfig:RI}=Cr(a3.keys),MI={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},DI={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},zI={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},LI=PI({preview:MI,input:DI,textarea:zI}),OI=RI({baseStyle:LI}),{definePartsStyle:NI,defineMultiStyleConfig:II}=Cr(l3.keys),Zd=Wt("form-control-color"),BI={marginStart:"1",[Zd.variable]:"colors.red.500",_dark:{[Zd.variable]:"colors.red.300"},color:Zd.reference},$I={mt:"2",[Zd.variable]:"colors.gray.600",_dark:{[Zd.variable]:"colors.whiteAlpha.600"},color:Zd.reference,lineHeight:"normal",fontSize:"sm"},FI=NI({container:{width:"100%",position:"relative"},requiredIndicator:BI,helperText:$I}),VI=II({baseStyle:FI}),{definePartsStyle:UI,defineMultiStyleConfig:HI}=Cr(c3.keys),Yd=Wt("form-error-color"),WI={[Yd.variable]:"colors.red.500",_dark:{[Yd.variable]:"colors.red.300"},color:Yd.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},qI={marginEnd:"0.5em",[Yd.variable]:"colors.red.500",_dark:{[Yd.variable]:"colors.red.300"},color:Yd.reference},GI=UI({text:WI,icon:qI}),ZI=HI({baseStyle:GI}),YI={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},XI={baseStyle:YI},KI={fontFamily:"heading",fontWeight:"bold"},QI={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},JI={baseStyle:KI,sizes:QI,defaultProps:{size:"xl"}},{definePartsStyle:yl,defineMultiStyleConfig:e5}=Cr(u3.keys),zd=Wt("input-height"),Ld=Wt("input-font-size"),Od=Wt("input-padding"),Nd=Wt("input-border-radius"),t5=yl({addon:{height:zd.reference,fontSize:Ld.reference,px:Od.reference,borderRadius:Nd.reference},field:{width:"100%",height:zd.reference,fontSize:Ld.reference,px:Od.reference,borderRadius:Nd.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),dc={lg:{[Ld.variable]:"fontSizes.lg",[Od.variable]:"space.4",[Nd.variable]:"radii.md",[zd.variable]:"sizes.12"},md:{[Ld.variable]:"fontSizes.md",[Od.variable]:"space.4",[Nd.variable]:"radii.md",[zd.variable]:"sizes.10"},sm:{[Ld.variable]:"fontSizes.sm",[Od.variable]:"space.3",[Nd.variable]:"radii.sm",[zd.variable]:"sizes.8"},xs:{[Ld.variable]:"fontSizes.xs",[Od.variable]:"space.2",[Nd.variable]:"radii.sm",[zd.variable]:"sizes.6"}},n5={lg:yl({field:dc.lg,group:dc.lg}),md:yl({field:dc.md,group:dc.md}),sm:yl({field:dc.sm,group:dc.sm}),xs:yl({field:dc.xs,group:dc.xs})};function Fj(t){const{focusBorderColor:n,errorBorderColor:r}=t;return{focusBorderColor:n||Ht("blue.500","blue.300")(t),errorBorderColor:r||Ht("red.500","red.300")(t)}}const r5=yl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Fj(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ht("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:di(n,i),boxShadow:`0 0 0 1px ${di(n,i)}`},_focusVisible:{zIndex:1,borderColor:di(n,r),boxShadow:`0 0 0 1px ${di(n,r)}`}},addon:{border:"1px solid",borderColor:Ht("inherit","whiteAlpha.50")(t),bg:Ht("gray.100","whiteAlpha.300")(t)}}}),s5=yl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Fj(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ht("gray.100","whiteAlpha.50")(t),_hover:{bg:Ht("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:di(n,i)},_focusVisible:{bg:"transparent",borderColor:di(n,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ht("gray.100","whiteAlpha.50")(t)}}}),i5=yl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:i}=Fj(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:di(n,i),boxShadow:`0px 1px 0px 0px ${di(n,i)}`},_focusVisible:{borderColor:di(n,r),boxShadow:`0px 1px 0px 0px ${di(n,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),o5=yl({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),a5={outline:r5,filled:s5,flushed:i5,unstyled:o5},Kn=e5({baseStyle:t5,sizes:n5,variants:a5,defaultProps:{size:"md",variant:"outline"}}),sy=Wt("kbd-bg"),l5={[sy.variable]:"colors.gray.100",_dark:{[sy.variable]:"colors.whiteAlpha.100"},bg:sy.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},c5={baseStyle:l5},u5={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},d5={baseStyle:u5},{defineMultiStyleConfig:h5,definePartsStyle:f5}=Cr(d3.keys),p5={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},m5=f5({icon:p5}),g5=h5({baseStyle:m5}),{defineMultiStyleConfig:x5,definePartsStyle:v5}=Cr(h3.keys),Ea=Wt("menu-bg"),iy=Wt("menu-shadow"),y5={[Ea.variable]:"#fff",[iy.variable]:"shadows.sm",_dark:{[Ea.variable]:"colors.gray.700",[iy.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:Ea.reference,boxShadow:iy.reference},b5={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ea.variable]:"colors.gray.100",_dark:{[Ea.variable]:"colors.whiteAlpha.100"}},_active:{[Ea.variable]:"colors.gray.200",_dark:{[Ea.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ea.variable]:"colors.gray.100",_dark:{[Ea.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ea.reference},j5={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},S5={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},C5={opacity:.6},w5={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},_5={transitionProperty:"common",transitionDuration:"normal"},E5=v5({button:_5,list:y5,item:b5,groupTitle:j5,icon:S5,command:C5,divider:w5}),A5=x5({baseStyle:E5}),{defineMultiStyleConfig:T5,definePartsStyle:jb}=Cr(f3.keys),oy=Wt("modal-bg"),ay=Wt("modal-shadow"),k5={bg:"blackAlpha.600",zIndex:"modal"},P5=t=>{const{isCentered:n,scrollBehavior:r}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},R5=t=>{const{isCentered:n,scrollBehavior:r}=t;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:r==="inside"?"calc(100% - 7.5rem)":void 0,[oy.variable]:"colors.white",[ay.variable]:"shadows.lg",_dark:{[oy.variable]:"colors.gray.700",[ay.variable]:"shadows.dark-lg"},bg:oy.reference,boxShadow:ay.reference}},M5={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},D5={position:"absolute",top:"2",insetEnd:"3"},z5=t=>{const{scrollBehavior:n}=t;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},L5={px:"6",py:"4"},O5=jb(t=>({overlay:k5,dialogContainer:hi(P5,t),dialog:hi(R5,t),header:M5,closeButton:D5,body:hi(z5,t),footer:L5}));function Xo(t){return jb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const N5={xs:Xo("xs"),sm:Xo("sm"),md:Xo("md"),lg:Xo("lg"),xl:Xo("xl"),"2xl":Xo("2xl"),"3xl":Xo("3xl"),"4xl":Xo("4xl"),"5xl":Xo("5xl"),"6xl":Xo("6xl"),full:Xo("full")},I5=T5({baseStyle:O5,sizes:N5,defaultProps:{size:"md"}}),LT={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:B5,definePartsStyle:OT}=Cr(p3.keys),Vj=gs("number-input-stepper-width"),NT=gs("number-input-input-padding"),$5=gl(Vj).add("0.5rem").toString(),ly=gs("number-input-bg"),cy=gs("number-input-color"),uy=gs("number-input-border-color"),F5={[Vj.variable]:"sizes.6",[NT.variable]:$5},V5=t=>hi(Kn.baseStyle,t)?.field??{},U5={width:Vj.reference},H5={borderStart:"1px solid",borderStartColor:uy.reference,color:cy.reference,bg:ly.reference,[cy.variable]:"colors.chakra-body-text",[uy.variable]:"colors.chakra-border-color",_dark:{[cy.variable]:"colors.whiteAlpha.800",[uy.variable]:"colors.whiteAlpha.300"},_active:{[ly.variable]:"colors.gray.200",_dark:{[ly.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},W5=OT(t=>({root:F5,field:hi(V5,t)??{},stepperGroup:U5,stepper:H5}));function cg(t){const n=Kn.sizes?.[t],r={lg:"md",md:"md",sm:"sm",xs:"sm"},i=n.field?.fontSize??"md",l=LT.fontSizes[i];return OT({field:{...n.field,paddingInlineEnd:NT.reference,verticalAlign:"top"},stepper:{fontSize:gl(l).multiply(.75).toString(),_first:{borderTopEndRadius:r[t]},_last:{borderBottomEndRadius:r[t],mt:"-1px",borderTopWidth:1}}})}const q5={xs:cg("xs"),sm:cg("sm"),md:cg("md"),lg:cg("lg")},G5=B5({baseStyle:W5,sizes:q5,variants:Kn.variants,defaultProps:Kn.defaultProps}),Z5={...Kn.baseStyle?.field,textAlign:"center"},Y5={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},X5={outline:t=>hi(Kn.variants?.outline,t)?.field??{},flushed:t=>hi(Kn.variants?.flushed,t)?.field??{},filled:t=>hi(Kn.variants?.filled,t)?.field??{},unstyled:Kn.variants?.unstyled.field??{}},K5={baseStyle:Z5,sizes:Y5,variants:X5,defaultProps:Kn.defaultProps},{defineMultiStyleConfig:Q5,definePartsStyle:J5}=Cr(m3.keys),ug=gs("popper-bg"),e6=gs("popper-arrow-bg"),Y_=gs("popper-arrow-shadow-color"),t6={zIndex:"popover"},n6={[ug.variable]:"colors.white",bg:ug.reference,[e6.variable]:ug.reference,[Y_.variable]:"colors.gray.200",_dark:{[ug.variable]:"colors.gray.700",[Y_.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},r6={px:3,py:2,borderBottomWidth:"1px"},s6={px:3,py:2},i6={px:3,py:2,borderTopWidth:"1px"},o6={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},a6=J5({popper:t6,content:n6,header:r6,body:s6,footer:i6,closeButton:o6}),l6=Q5({baseStyle:a6}),{defineMultiStyleConfig:c6,definePartsStyle:Of}=Cr(g3.keys),u6=t=>{const{colorScheme:n,theme:r,isIndeterminate:i,hasStripe:l}=t,u=Ht(H_(),H_("1rem","rgba(0,0,0,0.1)"))(t),d=Ht(`${n}.500`,`${n}.200`)(t),m=`linear-gradient(
    to right,
    transparent 0%,
    ${di(r,d)} 50%,
    transparent 100%
  )`;return{...!i&&l&&u,...i?{bgImage:m}:{bgColor:d}}},d6={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},h6=t=>({bg:Ht("gray.100","whiteAlpha.300")(t)}),f6=t=>({transitionProperty:"common",transitionDuration:"slow",...u6(t)}),p6=Of(t=>({label:d6,filledTrack:f6(t),track:h6(t)})),m6={xs:Of({track:{h:"1"}}),sm:Of({track:{h:"2"}}),md:Of({track:{h:"3"}}),lg:Of({track:{h:"4"}})},g6=c6({sizes:m6,baseStyle:p6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:x6,definePartsStyle:$g}=Cr(x3.keys),v6=t=>{const n=hi(ox.baseStyle,t)?.control;return{...n,borderRadius:"full",_checked:{...n?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},y6=$g(t=>({label:ox.baseStyle?.(t).label,container:ox.baseStyle?.(t).container,control:v6(t)})),b6={md:$g({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:$g({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:$g({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},j6=x6({baseStyle:y6,sizes:b6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:S6,definePartsStyle:C6}=Cr(v3.keys),dg=Wt("select-bg"),w6={...Kn.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:dg.reference,[dg.variable]:"colors.white",_dark:{[dg.variable]:"colors.gray.700"},"> option, > optgroup":{bg:dg.reference}},_6={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},E6=C6({field:w6,icon:_6}),hg={paddingInlineEnd:"8"},A6={lg:{...Kn.sizes?.lg,field:{...Kn.sizes?.lg.field,...hg}},md:{...Kn.sizes?.md,field:{...Kn.sizes?.md.field,...hg}},sm:{...Kn.sizes?.sm,field:{...Kn.sizes?.sm.field,...hg}},xs:{...Kn.sizes?.xs,field:{...Kn.sizes?.xs.field,...hg},icon:{insetEnd:"1"}}},T6=S6({baseStyle:E6,sizes:A6,variants:Kn.variants,defaultProps:Kn.defaultProps}),dy=Wt("skeleton-start-color"),hy=Wt("skeleton-end-color"),k6={[dy.variable]:"colors.gray.100",[hy.variable]:"colors.gray.400",_dark:{[dy.variable]:"colors.gray.800",[hy.variable]:"colors.gray.600"},background:dy.reference,borderColor:hy.reference,opacity:.7,borderRadius:"sm"},P6={baseStyle:k6},fy=Wt("skip-link-bg"),R6={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[fy.variable]:"colors.white",_dark:{[fy.variable]:"colors.gray.700"},bg:fy.reference}},M6={baseStyle:R6},{defineMultiStyleConfig:D6,definePartsStyle:Nx}=Cr(y3.keys),Ru=Wt("slider-thumb-size"),pp=Wt("slider-track-size"),gc=Wt("slider-bg"),z6=t=>{const{orientation:n}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Bj({orientation:n,vertical:{h:"100%",px:ml(Ru.reference).divide(2).toString()},horizontal:{w:"100%",py:ml(Ru.reference).divide(2).toString()}})}},L6=t=>({...Bj({orientation:t.orientation,horizontal:{h:pp.reference},vertical:{w:pp.reference}}),overflow:"hidden",borderRadius:"sm",[gc.variable]:"colors.gray.200",_dark:{[gc.variable]:"colors.whiteAlpha.200"},_disabled:{[gc.variable]:"colors.gray.300",_dark:{[gc.variable]:"colors.whiteAlpha.300"}},bg:gc.reference}),O6=t=>{const{orientation:n}=t;return{...Bj({orientation:n,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:Ru.reference,h:Ru.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},N6=t=>{const{colorScheme:n}=t;return{width:"inherit",height:"inherit",[gc.variable]:`colors.${n}.500`,_dark:{[gc.variable]:`colors.${n}.200`},bg:gc.reference}},I6=Nx(t=>({container:z6(t),track:L6(t),thumb:O6(t),filledTrack:N6(t)})),B6=Nx({container:{[Ru.variable]:"sizes.4",[pp.variable]:"sizes.1"}}),$6=Nx({container:{[Ru.variable]:"sizes.3.5",[pp.variable]:"sizes.1"}}),F6=Nx({container:{[Ru.variable]:"sizes.2.5",[pp.variable]:"sizes.0.5"}}),V6={lg:B6,md:$6,sm:F6},U6=D6({baseStyle:I6,sizes:V6,defaultProps:{size:"md",colorScheme:"blue"}}),du=gs("spinner-size"),H6={width:[du.reference],height:[du.reference]},W6={xs:{[du.variable]:"sizes.3"},sm:{[du.variable]:"sizes.4"},md:{[du.variable]:"sizes.6"},lg:{[du.variable]:"sizes.8"},xl:{[du.variable]:"sizes.12"}},q6={baseStyle:H6,sizes:W6,defaultProps:{size:"md"}},{defineMultiStyleConfig:G6,definePartsStyle:IT}=Cr(b3.keys),Z6={fontWeight:"medium"},Y6={opacity:.8,marginBottom:"2"},X6={verticalAlign:"baseline",fontWeight:"semibold"},K6={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Q6=IT({container:{},label:Z6,helpText:Y6,number:X6,icon:K6}),J6={md:IT({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},eB=G6({baseStyle:Q6,sizes:J6,defaultProps:{size:"md"}}),{defineMultiStyleConfig:tB,definePartsStyle:Nf}=Cr(["stepper","step","title","description","indicator","separator","icon","number"]),xl=Wt("stepper-indicator-size"),Id=Wt("stepper-icon-size"),Bd=Wt("stepper-title-font-size"),If=Wt("stepper-description-font-size"),jf=Wt("stepper-accent-color"),nB=Nf(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[jf.variable]:`colors.${t}.500`,_dark:{[jf.variable]:`colors.${t}.200`}},title:{fontSize:Bd.reference,fontWeight:"medium"},description:{fontSize:If.reference,color:"chakra-subtle-text"},number:{fontSize:Bd.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Id.reference,height:Id.reference},indicator:{flexShrink:0,borderRadius:"full",width:xl.reference,height:xl.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:jf.reference},"&[data-status=complete]":{bg:jf.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:jf.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${xl.reference} - 8px)`,top:`calc(${xl.reference} + 4px)`,insetStart:`calc(${xl.reference} / 2 - 1px)`}}})),rB=tB({baseStyle:nB,sizes:{xs:Nf({stepper:{[xl.variable]:"sizes.4",[Id.variable]:"sizes.3",[Bd.variable]:"fontSizes.xs",[If.variable]:"fontSizes.xs"}}),sm:Nf({stepper:{[xl.variable]:"sizes.6",[Id.variable]:"sizes.4",[Bd.variable]:"fontSizes.sm",[If.variable]:"fontSizes.xs"}}),md:Nf({stepper:{[xl.variable]:"sizes.8",[Id.variable]:"sizes.5",[Bd.variable]:"fontSizes.md",[If.variable]:"fontSizes.sm"}}),lg:Nf({stepper:{[xl.variable]:"sizes.10",[Id.variable]:"sizes.6",[Bd.variable]:"fontSizes.lg",[If.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:sB,definePartsStyle:Fg}=Cr(j3.keys),np=gs("switch-track-width"),Su=gs("switch-track-height"),py=gs("switch-track-diff"),iB=gl.subtract(np,Su),Sb=gs("switch-thumb-x"),Sf=gs("switch-bg"),oB=t=>{const{colorScheme:n}=t;return{borderRadius:"full",p:"0.5",width:[np.reference],height:[Su.reference],transitionProperty:"common",transitionDuration:"fast",[Sf.variable]:"colors.gray.300",_dark:{[Sf.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Sf.variable]:`colors.${n}.500`,_dark:{[Sf.variable]:`colors.${n}.200`}},bg:Sf.reference}},aB={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Su.reference],height:[Su.reference],_checked:{transform:`translateX(${Sb.reference})`}},lB=Fg(t=>({container:{[py.variable]:iB,[Sb.variable]:py.reference,_rtl:{[Sb.variable]:gl(py).negate().toString()}},track:oB(t),thumb:aB})),cB={sm:Fg({container:{[np.variable]:"1.375rem",[Su.variable]:"sizes.3"}}),md:Fg({container:{[np.variable]:"1.875rem",[Su.variable]:"sizes.4"}}),lg:Fg({container:{[np.variable]:"2.875rem",[Su.variable]:"sizes.6"}})},uB=sB({baseStyle:lB,sizes:cB,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:dB,definePartsStyle:Xd}=Cr(S3.keys),hB=Xd({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),ax={"&[data-is-numeric=true]":{textAlign:"end"}},fB=Xd(t=>{const{colorScheme:n}=t;return{th:{color:Ht("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ht(`${n}.100`,`${n}.700`)(t),...ax},td:{borderBottom:"1px",borderColor:Ht(`${n}.100`,`${n}.700`)(t),...ax},caption:{color:Ht("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),pB=Xd(t=>{const{colorScheme:n}=t;return{th:{color:Ht("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ht(`${n}.100`,`${n}.700`)(t),...ax},td:{borderBottom:"1px",borderColor:Ht(`${n}.100`,`${n}.700`)(t),...ax},caption:{color:Ht("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ht(`${n}.100`,`${n}.700`)(t)},td:{background:Ht(`${n}.100`,`${n}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),mB={simple:fB,striped:pB,unstyled:{}},gB={sm:Xd({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Xd({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Xd({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},xB=dB({baseStyle:hB,variants:mB,sizes:gB,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Ti=Wt("tabs-color"),Qo=Wt("tabs-bg"),fg=Wt("tabs-border-color"),{defineMultiStyleConfig:vB,definePartsStyle:Ma}=Cr(C3.keys),yB=t=>{const{orientation:n}=t;return{display:n==="vertical"?"flex":"block"}},bB=t=>{const{isFitted:n}=t;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},jB=t=>{const{align:n="start",orientation:r}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:r==="vertical"?"column":"row"}},SB={p:4},CB=Ma(t=>({root:yB(t),tab:bB(t),tablist:jB(t),tabpanel:SB})),wB={sm:Ma({tab:{py:1,px:4,fontSize:"sm"}}),md:Ma({tab:{fontSize:"md",py:2,px:4}}),lg:Ma({tab:{fontSize:"lg",py:3,px:4}})},_B=Ma(t=>{const{colorScheme:n,orientation:r}=t,i=r==="vertical",l=i?"borderStart":"borderBottom",u=i?"marginStart":"marginBottom";return{tablist:{[l]:"2px solid",borderColor:"inherit"},tab:{[l]:"2px solid",borderColor:"transparent",[u]:"-2px",_selected:{[Ti.variable]:`colors.${n}.600`,_dark:{[Ti.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[Qo.variable]:"colors.gray.200",_dark:{[Qo.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Ti.reference,bg:Qo.reference}}}),EB=Ma(t=>{const{colorScheme:n}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[fg.variable]:"transparent",_selected:{[Ti.variable]:`colors.${n}.600`,[fg.variable]:"colors.white",_dark:{[Ti.variable]:`colors.${n}.300`,[fg.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:fg.reference},color:Ti.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),AB=Ma(t=>{const{colorScheme:n}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Qo.variable]:"colors.gray.50",_dark:{[Qo.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Qo.variable]:"colors.white",[Ti.variable]:`colors.${n}.600`,_dark:{[Qo.variable]:"colors.gray.800",[Ti.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Ti.reference,bg:Qo.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),TB=Ma(t=>{const{colorScheme:n,theme:r}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:di(r,`${n}.700`),bg:di(r,`${n}.100`)}}}}),kB=Ma(t=>{const{colorScheme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[Ti.variable]:"colors.gray.600",_dark:{[Ti.variable]:"inherit"},_selected:{[Ti.variable]:"colors.white",[Qo.variable]:`colors.${n}.600`,_dark:{[Ti.variable]:"colors.gray.800",[Qo.variable]:`colors.${n}.300`}},color:Ti.reference,bg:Qo.reference}}}),PB=Ma({}),RB={line:_B,enclosed:EB,"enclosed-colored":AB,"soft-rounded":TB,"solid-rounded":kB,unstyled:PB},MB=vB({baseStyle:CB,sizes:wB,variants:RB,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:DB,definePartsStyle:Cu}=Cr(w3.keys),X_=Wt("tag-bg"),K_=Wt("tag-color"),my=Wt("tag-shadow"),Vg=Wt("tag-min-height"),Ug=Wt("tag-min-width"),Hg=Wt("tag-font-size"),Wg=Wt("tag-padding-inline"),zB={fontWeight:"medium",lineHeight:1.2,outline:0,[K_.variable]:Kr.color.reference,[X_.variable]:Kr.bg.reference,[my.variable]:Kr.shadow.reference,color:K_.reference,bg:X_.reference,boxShadow:my.reference,borderRadius:"md",minH:Vg.reference,minW:Ug.reference,fontSize:Hg.reference,px:Wg.reference,_focusVisible:{[my.variable]:"shadows.outline"}},LB={lineHeight:1.2,overflow:"visible"},OB={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},NB=Cu({container:zB,label:LB,closeButton:OB}),IB={sm:Cu({container:{[Vg.variable]:"sizes.5",[Ug.variable]:"sizes.5",[Hg.variable]:"fontSizes.xs",[Wg.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Cu({container:{[Vg.variable]:"sizes.6",[Ug.variable]:"sizes.6",[Hg.variable]:"fontSizes.sm",[Wg.variable]:"space.2"}}),lg:Cu({container:{[Vg.variable]:"sizes.8",[Ug.variable]:"sizes.8",[Hg.variable]:"fontSizes.md",[Wg.variable]:"space.3"}})},BB={subtle:Cu(t=>({container:Jf.variants?.subtle(t)})),solid:Cu(t=>({container:Jf.variants?.solid(t)})),outline:Cu(t=>({container:Jf.variants?.outline(t)}))},$B=DB({variants:BB,baseStyle:NB,sizes:IB,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),FB={...Kn.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},VB={outline:t=>Kn.variants?.outline(t).field??{},flushed:t=>Kn.variants?.flushed(t).field??{},filled:t=>Kn.variants?.filled(t).field??{},unstyled:Kn.variants?.unstyled.field??{}},UB={xs:Kn.sizes?.xs.field??{},sm:Kn.sizes?.sm.field??{},md:Kn.sizes?.md.field??{},lg:Kn.sizes?.lg.field??{}},HB={baseStyle:FB,sizes:UB,variants:VB,defaultProps:{size:"md",variant:"outline"}},pg=gs("tooltip-bg"),gy=gs("tooltip-fg"),WB=gs("popper-arrow-bg"),qB={bg:pg.reference,color:gy.reference,[pg.variable]:"colors.gray.700",[gy.variable]:"colors.whiteAlpha.900",_dark:{[pg.variable]:"colors.gray.300",[gy.variable]:"colors.gray.900"},[WB.variable]:pg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},GB={baseStyle:qB},ZB={Accordion:D3,Alert:gN,Avatar:AN,Badge:Jf,Breadcrumb:NN,Button:qN,Checkbox:ox,CloseButton:aI,Code:dI,Container:fI,Divider:vI,Drawer:kI,Editable:OI,Form:VI,FormError:ZI,FormLabel:XI,Heading:JI,Input:Kn,Kbd:c5,Link:d5,List:g5,Menu:A5,Modal:I5,NumberInput:G5,PinInput:K5,Popover:l6,Progress:g6,Radio:j6,Select:T6,Skeleton:P6,SkipLink:M6,Slider:U6,Spinner:q6,Stat:eB,Switch:uB,Table:xB,Tabs:MB,Tag:$B,Textarea:HB,Tooltip:GB,Card:KN,Stepper:rB},YB={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},XB={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},KB={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},QB={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},JB={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},e$={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},t$={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},n$={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},r$={property:e$,easing:t$,duration:n$},s$={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},i$={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},o$={breakpoints:XB,zIndices:s$,radii:QB,blur:i$,colors:KB,...LT,sizes:kT,shadows:JB,space:TT,borders:YB,transition:r$},a$={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},l$={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},c$=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function u$(t){return ms(t)?c$.every(n=>Object.prototype.hasOwnProperty.call(t,n)):!1}const d$="ltr",h$={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},BT={semanticTokens:a$,direction:d$,...o$,components:ZB,styles:l$,config:h$};function f$(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function p$(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var m$=(function(){function t(r){var i=this;this._insertTag=function(l){var u;i.tags.length===0?i.insertionPoint?u=i.insertionPoint.nextSibling:i.prepend?u=i.container.firstChild:u=i.before:u=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(l,u),i.tags.push(l)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(i){i.forEach(this._insertTag)},n.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(p$(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=f$(l);try{u.insertRule(i,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(i));this.ctr++},n.flush=function(){this.tags.forEach(function(i){var l;return(l=i.parentNode)==null?void 0:l.removeChild(i)}),this.tags=[],this.ctr=0},t})(),Ws="-ms-",lx="-moz-",Gn="-webkit-",$T="comm",Uj="rule",Hj="decl",g$="@import",FT="@keyframes",x$="@layer",v$=Math.abs,Ix=String.fromCharCode,y$=Object.assign;function b$(t,n){return Ms(t,0)^45?(((n<<2^Ms(t,0))<<2^Ms(t,1))<<2^Ms(t,2))<<2^Ms(t,3):0}function VT(t){return t.trim()}function j$(t,n){return(t=n.exec(t))?t[0]:t}function Zn(t,n,r){return t.replace(n,r)}function Cb(t,n){return t.indexOf(n)}function Ms(t,n){return t.charCodeAt(n)|0}function mp(t,n,r){return t.slice(n,r)}function Aa(t){return t.length}function Wj(t){return t.length}function mg(t,n){return n.push(t),t}function S$(t,n){return t.map(n).join("")}var Bx=1,oh=1,UT=0,Mi=0,as=0,yh="";function $x(t,n,r,i,l,u,d){return{value:t,root:n,parent:r,type:i,props:l,children:u,line:Bx,column:oh,length:d,return:""}}function Cf(t,n){return y$($x("",null,null,"",null,null,0),t,{length:-t.length},n)}function C$(){return as}function w$(){return as=Mi>0?Ms(yh,--Mi):0,oh--,as===10&&(oh=1,Bx--),as}function lo(){return as=Mi<UT?Ms(yh,Mi++):0,oh++,as===10&&(oh=1,Bx++),as}function Da(){return Ms(yh,Mi)}function qg(){return Mi}function Fp(t,n){return mp(yh,t,n)}function gp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HT(t){return Bx=oh=1,UT=Aa(yh=t),Mi=0,[]}function WT(t){return yh="",t}function Gg(t){return VT(Fp(Mi-1,wb(t===91?t+2:t===40?t+1:t)))}function _$(t){for(;(as=Da())&&as<33;)lo();return gp(t)>2||gp(as)>3?"":" "}function E$(t,n){for(;--n&&lo()&&!(as<48||as>102||as>57&&as<65||as>70&&as<97););return Fp(t,qg()+(n<6&&Da()==32&&lo()==32))}function wb(t){for(;lo();)switch(as){case t:return Mi;case 34:case 39:t!==34&&t!==39&&wb(as);break;case 40:t===41&&wb(t);break;case 92:lo();break}return Mi}function A$(t,n){for(;lo()&&t+as!==57;)if(t+as===84&&Da()===47)break;return"/*"+Fp(n,Mi-1)+"*"+Ix(t===47?t:lo())}function T$(t){for(;!gp(Da());)lo();return Fp(t,Mi)}function k$(t){return WT(Zg("",null,null,null,[""],t=HT(t),0,[0],t))}function Zg(t,n,r,i,l,u,d,m,p){for(var g=0,x=0,j=d,S=0,C=0,_=0,A=1,T=1,z=1,P=0,k="",I=l,N=u,F=i,Y=k;T;)switch(_=P,P=lo()){case 40:if(_!=108&&Ms(Y,j-1)==58){Cb(Y+=Zn(Gg(P),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:Y+=Gg(P);break;case 9:case 10:case 13:case 32:Y+=_$(_);break;case 92:Y+=E$(qg()-1,7);continue;case 47:switch(Da()){case 42:case 47:mg(P$(A$(lo(),qg()),n,r),p);break;default:Y+="/"}break;case 123*A:m[g++]=Aa(Y)*z;case 125*A:case 59:case 0:switch(P){case 0:case 125:T=0;case 59+x:z==-1&&(Y=Zn(Y,/\f/g,"")),C>0&&Aa(Y)-j&&mg(C>32?J_(Y+";",i,r,j-1):J_(Zn(Y," ","")+";",i,r,j-2),p);break;case 59:Y+=";";default:if(mg(F=Q_(Y,n,r,g,x,l,m,k,I=[],N=[],j),u),P===123)if(x===0)Zg(Y,n,F,F,I,u,j,m,N);else switch(S===99&&Ms(Y,3)===110?100:S){case 100:case 108:case 109:case 115:Zg(t,F,F,i&&mg(Q_(t,F,F,0,0,l,m,k,l,I=[],j),N),l,N,j,m,i?I:N);break;default:Zg(Y,F,F,F,[""],N,0,m,N)}}g=x=C=0,A=z=1,k=Y="",j=d;break;case 58:j=1+Aa(Y),C=_;default:if(A<1){if(P==123)--A;else if(P==125&&A++==0&&w$()==125)continue}switch(Y+=Ix(P),P*A){case 38:z=x>0?1:(Y+="\f",-1);break;case 44:m[g++]=(Aa(Y)-1)*z,z=1;break;case 64:Da()===45&&(Y+=Gg(lo())),S=Da(),x=j=Aa(k=Y+=T$(qg())),P++;break;case 45:_===45&&Aa(Y)==2&&(A=0)}}return u}function Q_(t,n,r,i,l,u,d,m,p,g,x){for(var j=l-1,S=l===0?u:[""],C=Wj(S),_=0,A=0,T=0;_<i;++_)for(var z=0,P=mp(t,j+1,j=v$(A=d[_])),k=t;z<C;++z)(k=VT(A>0?S[z]+" "+P:Zn(P,/&\f/g,S[z])))&&(p[T++]=k);return $x(t,n,r,l===0?Uj:m,p,g,x)}function P$(t,n,r){return $x(t,n,r,$T,Ix(C$()),mp(t,2,-2),0)}function J_(t,n,r,i){return $x(t,n,r,Hj,mp(t,0,i),mp(t,i+1,-1),i)}function Kd(t,n){for(var r="",i=Wj(t),l=0;l<i;l++)r+=n(t[l],l,t,n)||"";return r}function R$(t,n,r,i){switch(t.type){case x$:if(t.children.length)break;case g$:case Hj:return t.return=t.return||t.value;case $T:return"";case FT:return t.return=t.value+"{"+Kd(t.children,i)+"}";case Uj:t.value=t.props.join(",")}return Aa(r=Kd(t.children,i))?t.return=t.value+"{"+r+"}":""}function M$(t){var n=Wj(t);return function(r,i,l,u){for(var d="",m=0;m<n;m++)d+=t[m](r,i,l,u)||"";return d}}function D$(t){return function(n){n.root||(n=n.return)&&t(n)}}var e2=function(n){var r=new WeakMap;return function(i){if(r.has(i))return r.get(i);var l=n(i);return r.set(i,l),l}};function qT(t){var n=Object.create(null);return function(r){return n[r]===void 0&&(n[r]=t(r)),n[r]}}var z$=function(n,r,i){for(var l=0,u=0;l=u,u=Da(),l===38&&u===12&&(r[i]=1),!gp(u);)lo();return Fp(n,Mi)},L$=function(n,r){var i=-1,l=44;do switch(gp(l)){case 0:l===38&&Da()===12&&(r[i]=1),n[i]+=z$(Mi-1,r,i);break;case 2:n[i]+=Gg(l);break;case 4:if(l===44){n[++i]=Da()===58?"&\f":"",r[i]=n[i].length;break}default:n[i]+=Ix(l)}while(l=lo());return n},O$=function(n,r){return WT(L$(HT(n),r))},t2=new WeakMap,N$=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var r=n.value,i=n.parent,l=n.column===i.column&&n.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(n.props.length===1&&r.charCodeAt(0)!==58&&!t2.get(i))&&!l){t2.set(n,!0);for(var u=[],d=O$(r,u),m=i.props,p=0,g=0;p<d.length;p++)for(var x=0;x<m.length;x++,g++)n.props[g]=u[p]?d[p].replace(/&\f/g,m[x]):m[x]+" "+d[p]}}},I$=function(n){if(n.type==="decl"){var r=n.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(n.return="",n.value="")}};function GT(t,n){switch(b$(t,n)){case 5103:return Gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+t+lx+t+Ws+t+t;case 6828:case 4268:return Gn+t+Ws+t+t;case 6165:return Gn+t+Ws+"flex-"+t+t;case 5187:return Gn+t+Zn(t,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+Ws+"flex-$1$2")+t;case 5443:return Gn+t+Ws+"flex-item-"+Zn(t,/flex-|-self/,"")+t;case 4675:return Gn+t+Ws+"flex-line-pack"+Zn(t,/align-content|flex-|-self/,"")+t;case 5548:return Gn+t+Ws+Zn(t,"shrink","negative")+t;case 5292:return Gn+t+Ws+Zn(t,"basis","preferred-size")+t;case 6060:return Gn+"box-"+Zn(t,"-grow","")+Gn+t+Ws+Zn(t,"grow","positive")+t;case 4554:return Gn+Zn(t,/([^-])(transform)/g,"$1"+Gn+"$2")+t;case 6187:return Zn(Zn(Zn(t,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),t,"")+t;case 5495:case 3959:return Zn(t,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return Zn(Zn(t,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+Ws+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+t+t;case 4095:case 3583:case 4068:case 2532:return Zn(t,/(.+)-inline(.+)/,Gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(t)-1-n>6)switch(Ms(t,n+1)){case 109:if(Ms(t,n+4)!==45)break;case 102:return Zn(t,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+lx+(Ms(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~Cb(t,"stretch")?GT(Zn(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(Ms(t,n+1)!==115)break;case 6444:switch(Ms(t,Aa(t)-3-(~Cb(t,"!important")&&10))){case 107:return Zn(t,":",":"+Gn)+t;case 101:return Zn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(Ms(t,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+Ws+"$2box$3")+t}break;case 5936:switch(Ms(t,n+11)){case 114:return Gn+t+Ws+Zn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gn+t+Ws+Zn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gn+t+Ws+Zn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gn+t+Ws+t+t}return t}var B$=function(n,r,i,l){if(n.length>-1&&!n.return)switch(n.type){case Hj:n.return=GT(n.value,n.length);break;case FT:return Kd([Cf(n,{value:Zn(n.value,"@","@"+Gn)})],l);case Uj:if(n.length)return S$(n.props,function(u){switch(j$(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Kd([Cf(n,{props:[Zn(u,/:(read-\w+)/,":"+lx+"$1")]})],l);case"::placeholder":return Kd([Cf(n,{props:[Zn(u,/:(plac\w+)/,":"+Gn+"input-$1")]}),Cf(n,{props:[Zn(u,/:(plac\w+)/,":"+lx+"$1")]}),Cf(n,{props:[Zn(u,/:(plac\w+)/,Ws+"input-$1")]})],l)}return""})}},$$=[B$],F$=function(n){var r=n.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(A){var T=A.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var l=n.stylisPlugins||$$,u={},d,m=[];d=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(A){for(var T=A.getAttribute("data-emotion").split(" "),z=1;z<T.length;z++)u[T[z]]=!0;m.push(A)});var p,g=[N$,I$];{var x,j=[R$,D$(function(A){x.insert(A)})],S=M$(g.concat(l,j)),C=function(T){return Kd(k$(T),S)};p=function(T,z,P,k){x=P,C(T?T+"{"+z.styles+"}":z.styles),k&&(_.inserted[z.name]=!0)}}var _={key:r,sheet:new m$({key:r,container:d,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:u,registered:{},insert:p};return _.sheet.hydrate(m),_};function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Mu.apply(null,arguments)}var xy={exports:{}},rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function V$(){if(n2)return rr;n2=1;var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,m=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,g=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,j=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,C=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,A=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,z=t?Symbol.for("react.responder"):60118,P=t?Symbol.for("react.scope"):60119;function k(N){if(typeof N=="object"&&N!==null){var F=N.$$typeof;switch(F){case n:switch(N=N.type,N){case p:case g:case i:case u:case l:case j:return N;default:switch(N=N&&N.$$typeof,N){case m:case x:case _:case C:case d:return N;default:return F}}case r:return F}}}function I(N){return k(N)===g}return rr.AsyncMode=p,rr.ConcurrentMode=g,rr.ContextConsumer=m,rr.ContextProvider=d,rr.Element=n,rr.ForwardRef=x,rr.Fragment=i,rr.Lazy=_,rr.Memo=C,rr.Portal=r,rr.Profiler=u,rr.StrictMode=l,rr.Suspense=j,rr.isAsyncMode=function(N){return I(N)||k(N)===p},rr.isConcurrentMode=I,rr.isContextConsumer=function(N){return k(N)===m},rr.isContextProvider=function(N){return k(N)===d},rr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===n},rr.isForwardRef=function(N){return k(N)===x},rr.isFragment=function(N){return k(N)===i},rr.isLazy=function(N){return k(N)===_},rr.isMemo=function(N){return k(N)===C},rr.isPortal=function(N){return k(N)===r},rr.isProfiler=function(N){return k(N)===u},rr.isStrictMode=function(N){return k(N)===l},rr.isSuspense=function(N){return k(N)===j},rr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===i||N===g||N===u||N===l||N===j||N===S||typeof N=="object"&&N!==null&&(N.$$typeof===_||N.$$typeof===C||N.$$typeof===d||N.$$typeof===m||N.$$typeof===x||N.$$typeof===T||N.$$typeof===z||N.$$typeof===P||N.$$typeof===A)},rr.typeOf=k,rr}var r2;function U$(){return r2||(r2=1,xy.exports=V$()),xy.exports}var vy,s2;function H$(){if(s2)return vy;s2=1;var t=U$(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[t.ForwardRef]=i,u[t.Memo]=l;function d(_){return t.isMemo(_)?l:u[_.$$typeof]||n}var m=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,j=Object.getPrototypeOf,S=Object.prototype;function C(_,A,T){if(typeof A!="string"){if(S){var z=j(A);z&&z!==S&&C(_,z,T)}var P=p(A);g&&(P=P.concat(g(A)));for(var k=d(_),I=d(A),N=0;N<P.length;++N){var F=P[N];if(!r[F]&&!(T&&T[F])&&!(I&&I[F])&&!(k&&k[F])){var Y=x(A,F);try{m(_,F,Y)}catch{}}}}return _}return vy=C,vy}H$();var W$=!0;function ZT(t,n,r){var i="";return r.split(" ").forEach(function(l){t[l]!==void 0?n.push(t[l]+";"):l&&(i+=l+" ")}),i}var qj=function(n,r,i){var l=n.key+"-"+r.name;(i===!1||W$===!1)&&n.registered[l]===void 0&&(n.registered[l]=r.styles)},Gj=function(n,r,i){qj(n,r,i);var l=n.key+"-"+r.name;if(n.inserted[r.name]===void 0){var u=r;do n.insert(r===u?"."+l:"",u,n.sheet,!0),u=u.next;while(u!==void 0)}};function q$(t){for(var n=0,r,i=0,l=t.length;l>=4;++i,l-=4)r=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,n=(r&65535)*1540483477+((r>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(l){case 3:n^=(t.charCodeAt(i+2)&255)<<16;case 2:n^=(t.charCodeAt(i+1)&255)<<8;case 1:n^=t.charCodeAt(i)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var G$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Z$=/[A-Z]|^ms/g,Y$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YT=function(n){return n.charCodeAt(1)===45},i2=function(n){return n!=null&&typeof n!="boolean"},yy=qT(function(t){return YT(t)?t:t.replace(Z$,"-$&").toLowerCase()}),o2=function(n,r){switch(n){case"animation":case"animationName":if(typeof r=="string")return r.replace(Y$,function(i,l,u){return Ta={name:l,styles:u,next:Ta},l})}return G$[n]!==1&&!YT(n)&&typeof r=="number"&&r!==0?r+"px":r};function xp(t,n,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var l=r;if(l.anim===1)return Ta={name:l.name,styles:l.styles,next:Ta},l.name;var u=r;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)Ta={name:d.name,styles:d.styles,next:Ta},d=d.next;var m=u.styles+";";return m}return X$(t,n,r)}case"function":{if(t!==void 0){var p=Ta,g=r(t);return Ta=p,xp(t,n,g)}break}}var x=r;if(n==null)return x;var j=n[x];return j!==void 0?j:x}function X$(t,n,r){var i="";if(Array.isArray(r))for(var l=0;l<r.length;l++)i+=xp(t,n,r[l])+";";else for(var u in r){var d=r[u];if(typeof d!="object"){var m=d;n!=null&&n[m]!==void 0?i+=u+"{"+n[m]+"}":i2(m)&&(i+=yy(u)+":"+o2(u,m)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(n==null||n[d[0]]===void 0))for(var p=0;p<d.length;p++)i2(d[p])&&(i+=yy(u)+":"+o2(u,d[p])+";");else{var g=xp(t,n,d);switch(u){case"animation":case"animationName":{i+=yy(u)+":"+g+";";break}default:i+=u+"{"+g+"}"}}}return i}var a2=/label:\s*([^\s;{]+)\s*(;|$)/g,Ta;function Fx(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,l="";Ta=void 0;var u=t[0];if(u==null||u.raw===void 0)i=!1,l+=xp(r,n,u);else{var d=u;l+=d[0]}for(var m=1;m<t.length;m++)if(l+=xp(r,n,t[m]),i){var p=u;l+=p[m]}a2.lastIndex=0;for(var g="",x;(x=a2.exec(l))!==null;)g+="-"+x[1];var j=q$(l)+g;return{name:j,styles:l,next:Ta}}var K$=function(n){return n()},XT=y_.useInsertionEffect?y_.useInsertionEffect:!1,KT=XT||K$,l2=XT||y.useLayoutEffect,Zj=y.createContext(typeof HTMLElement<"u"?F$({key:"css"}):null);Zj.Provider;var Q$=function(){return y.useContext(Zj)},Yj=function(n){return y.forwardRef(function(r,i){var l=y.useContext(Zj);return n(r,l,i)})},ah=y.createContext({}),J$=function(n,r){if(typeof r=="function"){var i=r(n);return i}return Mu({},n,r)},e8=e2(function(t){return e2(function(n){return J$(t,n)})}),t8=function(n){var r=y.useContext(ah);return n.theme!==r&&(r=e8(r)(n.theme)),y.createElement(ah.Provider,{value:r},n.children)},Xj={}.hasOwnProperty,_b="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",n8=function(n,r){var i={};for(var l in r)Xj.call(r,l)&&(i[l]=r[l]);return i[_b]=n,i},r8=function(n){var r=n.cache,i=n.serialized,l=n.isStringTag;return qj(r,i,l),KT(function(){return Gj(r,i,l)}),null},s8=Yj(function(t,n,r){var i=t.css;typeof i=="string"&&n.registered[i]!==void 0&&(i=n.registered[i]);var l=t[_b],u=[i],d="";typeof t.className=="string"?d=ZT(n.registered,u,t.className):t.className!=null&&(d=t.className+" ");var m=Fx(u,void 0,y.useContext(ah));d+=n.key+"-"+m.name;var p={};for(var g in t)Xj.call(t,g)&&g!=="css"&&g!==_b&&(p[g]=t[g]);return p.className=d,r&&(p.ref=r),y.createElement(y.Fragment,null,y.createElement(r8,{cache:n,serialized:m,isStringTag:typeof l=="string"}),y.createElement(l,p))}),i8=s8,c2=function(n,r){var i=arguments;if(r==null||!Xj.call(r,"css"))return y.createElement.apply(void 0,i);var l=i.length,u=new Array(l);u[0]=i8,u[1]=n8(n,r);for(var d=2;d<l;d++)u[d]=i[d];return y.createElement.apply(null,u)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(c2||(c2={}));var Vx=Yj(function(t,n){var r=t.styles,i=Fx([r],void 0,y.useContext(ah)),l=y.useRef();return l2(function(){var u=n.key+"-global",d=new n.sheet.constructor({key:u,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),m=!1,p=document.querySelector('style[data-emotion="'+u+" "+i.name+'"]');return n.sheet.tags.length&&(d.before=n.sheet.tags[0]),p!==null&&(m=!0,p.setAttribute("data-emotion",u),d.hydrate([p])),l.current=[d,m],function(){d.flush()}},[n]),l2(function(){var u=l.current,d=u[0],m=u[1];if(m){u[1]=!1;return}if(i.next!==void 0&&Gj(n,i.next,!0),d.tags.length){var p=d.tags[d.tags.length-1].nextElementSibling;d.before=p,d.flush()}n.insert("",i,d,!1)},[n,i.name]),null});function o8(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fx(n)}function Ec(){var t=o8.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Kj=y.createContext({});Kj.displayName="ColorModeContext";function Ux(){const t=y.useContext(Kj);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function Sr(t,n){const{colorMode:r}=Ux();return r==="dark"?n:t}const gg={light:"chakra-ui-light",dark:"chakra-ui-dark"};function a8(t={}){const{preventTransition:n=!0,nonce:r}=t,i={setDataset:l=>{const u=n?i.preventTransition():void 0;document.documentElement.dataset.theme=l,document.documentElement.style.colorScheme=l,u?.()},setClassName(l){document.body.classList.add(l?gg.dark:gg.light),document.body.classList.remove(l?gg.light:gg.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(l){return i.query().matches??l==="dark"?"dark":"light"},addListener(l){const u=i.query(),d=m=>{l(m.matches?"dark":"light")};return typeof u.addListener=="function"?u.addListener(d):u.addEventListener("change",d),()=>{typeof u.removeListener=="function"?u.removeListener(d):u.removeEventListener("change",d)}},preventTransition(){const l=document.createElement("style");return l.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r!==void 0&&(l.nonce=r),document.head.appendChild(l),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(l)})})}}};return i}const l8="chakra-ui-color-mode";function c8(t){return{ssr:!1,type:"localStorage",get(n){if(!globalThis?.document)return n;let r;try{r=localStorage.getItem(t)||n}catch{}return r||n},set(n){try{localStorage.setItem(t,n)}catch{}}}}const u8=c8(l8),u2=()=>{},d8=iO()?y.useLayoutEffect:y.useEffect;function d2(t,n){return t.type==="cookie"&&t.ssr?t.get(n):n}const QT=function(n){const{value:r,children:i,options:{useSystemColorMode:l,initialColorMode:u,disableTransitionOnChange:d}={},colorModeManager:m=u8}=n,p=Q$(),g=u==="dark"?"dark":"light",[x,j]=y.useState(()=>d2(m,g)),[S,C]=y.useState(()=>d2(m)),{getSystemTheme:_,setClassName:A,setDataset:T,addListener:z}=y.useMemo(()=>a8({preventTransition:d,nonce:p?.nonce}),[d,p?.nonce]),P=u==="system"&&!x?S:x,k=y.useCallback(F=>{const Y=F==="system"?_():F;j(Y),A(Y==="dark"),T(Y),m.set(Y)},[m,_,A,T]);d8(()=>{u==="system"&&C(_())},[]),y.useEffect(()=>{const F=m.get();if(F){k(F);return}if(u==="system"){k("system");return}k(g)},[m,g,u,k]);const I=y.useCallback(()=>{k(P==="dark"?"light":"dark")},[P,k]);y.useEffect(()=>{if(l)return z(k)},[l,z,k]);const N=y.useMemo(()=>({colorMode:r??P,toggleColorMode:r?u2:I,setColorMode:r?u2:k,forced:r!==void 0}),[P,I,k,r]);return e.jsx(Kj.Provider,{value:N,children:i})};QT.displayName="ColorModeProvider";const JT=String.raw,ek=JT`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,h8=()=>e.jsx(Vx,{styles:ek}),f8=({scope:t=""})=>e.jsx(Vx,{styles:JT`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${ek}
    `});function p8(t){const{cssVarsRoot:n,theme:r,children:i}=t,l=y.useMemo(()=>e3(r),[r]);return e.jsxs(t8,{theme:l,children:[e.jsx(m8,{root:n}),i]})}function m8({root:t=":host, :root"}){const n=[t,"[data-theme]"].join(",");return e.jsx(Vx,{styles:r=>({[n]:r.__cssVars})})}In({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function g8(t){return In({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function x8(){const{colorMode:t}=Ux();return e.jsx(Vx,{styles:n=>{const r=hT(n,"styles.global"),i=io(r,{theme:n,colorMode:t});return i?wT(i)(n):void 0}})}const[v8,y8]=In({strict:!1,name:"PortalManagerContext"});function tk(t){const{children:n,zIndex:r}=t;return e.jsx(v8,{value:{zIndex:r},children:n})}tk.displayName="PortalManager";const Qj=y.createContext({getDocument(){return document},getWindow(){return window}});Qj.displayName="EnvironmentContext";function b8({defer:t}={}){const[,n]=y.useReducer(r=>r+1,0);return Cl(()=>{t&&n()},[t]),y.useContext(Qj)}function nk(t){const{children:n,environment:r,disabled:i}=t,l=y.useRef(null),u=y.useMemo(()=>r||{getDocument:()=>l.current?.ownerDocument??document,getWindow:()=>l.current?.ownerDocument.defaultView??window},[r]),d=!i||!r;return e.jsxs(Qj.Provider,{value:u,children:[n,d&&e.jsx("span",{id:"__chakra_env",hidden:!0,ref:l})]})}nk.displayName="EnvironmentProvider";const j8=t=>{const{children:n,colorModeManager:r,portalZIndex:i,resetScope:l,resetCSS:u=!0,theme:d={},environment:m,cssVarsRoot:p,disableEnvironment:g,disableGlobalStyle:x}=t,j=e.jsx(nk,{environment:m,disabled:g,children:n});return e.jsx(p8,{theme:d,cssVarsRoot:p,children:e.jsxs(QT,{colorModeManager:r,options:d.config,children:[u?e.jsx(f8,{scope:l}):e.jsx(h8,{}),!x&&e.jsx(x8,{}),i?e.jsx(tk,{zIndex:i,children:j}):j]})})},Jj=y.createContext({});function eS(t){const n=y.useRef(null);return n.current===null&&(n.current=t()),n.current}const Vp=y.createContext(null),tS=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class S8 extends y.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function C8({children:t,isPresent:n}){const r=y.useId(),i=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=y.useContext(tS);return y.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:g}=l.current;if(n||!i.current||!d||!m)return;i.current.dataset.motionPopId=r;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            top: ${p}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),e.jsx(S8,{isPresent:n,childRef:i,sizeRef:l,children:y.cloneElement(t,{ref:i})})}const w8=({children:t,initial:n,isPresent:r,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d})=>{const m=eS(_8),p=y.useId(),g=y.useCallback(j=>{m.set(j,!0);for(const S of m.values())if(!S)return;i&&i()},[m,i]),x=y.useMemo(()=>({id:p,initial:n,isPresent:r,custom:l,onExitComplete:g,register:j=>(m.set(j,!1),()=>m.delete(j))}),u?[Math.random(),g]:[r,g]);return y.useMemo(()=>{m.forEach((j,S)=>m.set(S,!1))},[r]),y.useEffect(()=>{!r&&!m.size&&i&&i()},[r]),d==="popLayout"&&(t=e.jsx(C8,{isPresent:r,children:t})),e.jsx(Vp.Provider,{value:x,children:t})};function _8(){return new Map}function nS(t=!0){const n=y.useContext(Vp);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:l}=n,u=y.useId();y.useEffect(()=>{t&&l(u)},[t]);const d=y.useCallback(()=>t&&i&&i(u),[u,i,t]);return!r&&i?[!1,d]:[!0]}function E8(){return A8(y.useContext(Vp))}function A8(t){return t===null?!0:t.isPresent}const xg=t=>t.key||"";function h2(t){const n=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&n.push(r)}),n}const rS=typeof window<"u",rk=rS?y.useLayoutEffect:y.useEffect,Ac=({children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1})=>{const[m,p]=nS(d),g=y.useMemo(()=>h2(t),[t]),x=d&&!m?[]:g.map(xg),j=y.useRef(!0),S=y.useRef(g),C=eS(()=>new Map),[_,A]=y.useState(g),[T,z]=y.useState(g);rk(()=>{j.current=!1,S.current=g;for(let I=0;I<T.length;I++){const N=xg(T[I]);x.includes(N)?C.delete(N):C.get(N)!==!0&&C.set(N,!1)}},[T,x.length,x.join("-")]);const P=[];if(g!==_){let I=[...g];for(let N=0;N<T.length;N++){const F=T[N],Y=xg(F);x.includes(Y)||(I.splice(N,0,F),P.push(F))}u==="wait"&&P.length&&(I=P),z(h2(I)),A(g);return}const{forceRender:k}=y.useContext(Jj);return e.jsx(e.Fragment,{children:T.map(I=>{const N=xg(I),F=d&&!m?!1:g===T||x.includes(N),Y=()=>{if(C.has(N))C.set(N,!0);else return;let q=!0;C.forEach(ce=>{ce||(q=!1)}),q&&(k?.(),z(S.current),d&&p?.(),i&&i())};return e.jsx(w8,{isPresent:F,initial:!j.current||r?void 0:!1,custom:F?void 0:n,presenceAffectsLayout:l,mode:u,onExitComplete:F?void 0:Y,children:I},N)})})},co=t=>t;let sk=co;function sS(t){let n;return()=>(n===void 0&&(n=t()),n)}const lh=(t,n,r)=>{const i=n-t;return i===0?1:(r-t)/i},_l=t=>t*1e3,El=t=>t/1e3,T8={useManualTiming:!1};function k8(t){let n=new Set,r=new Set,i=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,x=!1,j=!1)=>{const C=j&&i?n:r;return x&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,i){l=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),n.clear(),i=!1,l&&(l=!1,p.process(g))}};return p}const vg=["read","resolveKeyframes","update","preRender","render","postRender"],P8=40;function ik(t,n){let r=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,d=vg.reduce((z,P)=>(z[P]=k8(u),z),{}),{read:m,resolveKeyframes:p,update:g,preRender:x,render:j,postRender:S}=d,C=()=>{const z=performance.now();r=!1,l.delta=i?1e3/60:Math.max(Math.min(z-l.timestamp,P8),1),l.timestamp=z,l.isProcessing=!0,m.process(l),p.process(l),g.process(l),x.process(l),j.process(l),S.process(l),l.isProcessing=!1,r&&n&&(i=!1,t(C))},_=()=>{r=!0,i=!0,l.isProcessing||t(C)};return{schedule:vg.reduce((z,P)=>{const k=d[P];return z[P]=(I,N=!1,F=!1)=>(r||_(),k.schedule(I,N,F)),z},{}),cancel:z=>{for(let P=0;P<vg.length;P++)d[vg[P]].cancel(z)},state:l,steps:d}}const{schedule:Ar,cancel:bc,state:Rs,steps:by}=ik(typeof requestAnimationFrame<"u"?requestAnimationFrame:co,!0),ok=y.createContext({strict:!1}),f2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ch={};for(const t in f2)ch[t]={isEnabled:n=>f2[t].some(r=>!!n[r])};function R8(t){for(const n in t)ch[n]={...ch[n],...t[n]}}const M8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M8.has(t)}let ak=t=>!cx(t);function D8(t){t&&(ak=n=>n.startsWith("on")?!cx(n):t(n))}try{D8(require("@emotion/is-prop-valid").default)}catch{}function z8(t,n,r){const i={};for(const l in t)l==="values"&&typeof t.values=="object"||(ak(l)||r===!0&&cx(l)||!n&&!cx(l)||t.draggable&&l.startsWith("onDrag"))&&(i[l]=t[l]);return i}function L8(t){if(typeof Proxy>"u")return t;const n=new Map,r=(...i)=>t(...i);return new Proxy(r,{get:(i,l)=>l==="create"?t:(n.has(l)||n.set(l,t(l)),n.get(l))})}const Hx=y.createContext({});function vp(t){return typeof t=="string"||Array.isArray(t)}function Wx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const iS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oS=["initial",...iS];function qx(t){return Wx(t.animate)||oS.some(n=>vp(t[n]))}function lk(t){return!!(qx(t)||t.variants)}function O8(t,n){if(qx(t)){const{initial:r,animate:i}=t;return{initial:r===!1||vp(r)?r:void 0,animate:vp(i)?i:void 0}}return t.inherit!==!1?n:{}}function N8(t){const{initial:n,animate:r}=O8(t,y.useContext(Hx));return y.useMemo(()=>({initial:n,animate:r}),[p2(n),p2(r)])}function p2(t){return Array.isArray(t)?t.join(" "):t}const I8=Symbol.for("motionComponentSymbol");function $d(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B8(t,n,r){return y.useCallback(i=>{i&&t.onMount&&t.onMount(i),n&&(i?n.mount(i):n.unmount()),r&&(typeof r=="function"?r(i):$d(r)&&(r.current=i))},[n])}const aS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$8="framerAppearId",ck="data-"+aS($8),{schedule:lS}=ik(queueMicrotask,!1),uk=y.createContext({});function F8(t,n,r,i,l){var u,d;const{visualElement:m}=y.useContext(Hx),p=y.useContext(ok),g=y.useContext(Vp),x=y.useContext(tS).reducedMotion,j=y.useRef(null);i=i||p.renderer,!j.current&&i&&(j.current=i(t,{visualState:n,parent:m,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:x}));const S=j.current,C=y.useContext(uk);S&&!S.projection&&l&&(S.type==="html"||S.type==="svg")&&V8(j.current,r,l,C);const _=y.useRef(!1);y.useInsertionEffect(()=>{S&&_.current&&S.update(r,g)});const A=r[ck],T=y.useRef(!!A&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,A))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,A)));return rk(()=>{S&&(_.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),lS.render(S.render),T.current&&S.animationState&&S.animationState.animateChanges())}),y.useEffect(()=>{S&&(!T.current&&S.animationState&&S.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)===null||z===void 0||z.call(window,A)}),T.current=!1))}),S}function V8(t,n,r,i){const{layoutId:l,layout:u,drag:d,dragConstraints:m,layoutScroll:p,layoutRoot:g}=n;t.projection=new r(t.latestValues,n["data-framer-portal-id"]?void 0:dk(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||m&&$d(m),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function dk(t){if(t)return t.options.allowProjection!==!1?t.projection:dk(t.parent)}function U8({preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:l}){var u,d;t&&R8(t);function m(g,x){let j;const S={...y.useContext(tS),...g,layoutId:H8(g)},{isStatic:C}=S,_=N8(g),A=i(g,C);if(!C&&rS){W8();const T=q8(S);j=T.MeasureLayout,_.visualElement=F8(l,A,S,n,T.ProjectionNode)}return e.jsxs(Hx.Provider,{value:_,children:[j&&_.visualElement?e.jsx(j,{visualElement:_.visualElement,...S}):null,r(l,g,B8(A,_.visualElement,x),A,C,_.visualElement)]})}m.displayName=`motion.${typeof l=="string"?l:`create(${(d=(u=l.displayName)!==null&&u!==void 0?u:l.name)!==null&&d!==void 0?d:""})`}`;const p=y.forwardRef(m);return p[I8]=l,p}function H8({layoutId:t}){const n=y.useContext(Jj).id;return n&&t!==void 0?n+"-"+t:t}function W8(t,n){y.useContext(ok).strict}function q8(t){const{drag:n,layout:r}=ch;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const G8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cS(t){return typeof t!="string"||t.includes("-")?!1:!!(G8.indexOf(t)>-1||/[A-Z]/u.test(t))}function m2(t){const n=[{},{}];return t?.values.forEach((r,i)=>{n[0][i]=r.get(),n[1][i]=r.getVelocity()}),n}function uS(t,n,r,i){if(typeof n=="function"){const[l,u]=m2(i);n=n(r!==void 0?r:t.custom,l,u)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[l,u]=m2(i);n=n(r!==void 0?r:t.custom,l,u)}return n}const Eb=t=>Array.isArray(t),Z8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Y8=t=>Eb(t)?t[t.length-1]||0:t,Gs=t=>!!(t&&t.getVelocity);function Yg(t){const n=Gs(t)?t.get():t;return Z8(n)?n.toValue():n}function X8({scrapeMotionValuesFromProps:t,createRenderState:n,onUpdate:r},i,l,u){const d={latestValues:K8(i,l,u,t),renderState:n()};return r&&(d.onMount=m=>r({props:i,current:m,...d}),d.onUpdate=m=>r(m)),d}const hk=t=>(n,r)=>{const i=y.useContext(Hx),l=y.useContext(Vp),u=()=>X8(t,n,i,l);return r?u():eS(u)};function K8(t,n,r,i){const l={},u=i(t,{});for(const S in u)l[S]=Yg(u[S]);let{initial:d,animate:m}=t;const p=qx(t),g=lk(t);n&&g&&!p&&t.inherit!==!1&&(d===void 0&&(d=n.initial),m===void 0&&(m=n.animate));let x=r?r.initial===!1:!1;x=x||d===!1;const j=x?m:d;if(j&&typeof j!="boolean"&&!Wx(j)){const S=Array.isArray(j)?j:[j];for(let C=0;C<S.length;C++){const _=uS(t,S[C]);if(_){const{transitionEnd:A,transition:T,...z}=_;for(const P in z){let k=z[P];if(Array.isArray(k)){const I=x?k.length-1:0;k=k[I]}k!==null&&(l[P]=k)}for(const P in A)l[P]=A[P]}}}return l}const bh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(bh),fk=t=>n=>typeof n=="string"&&n.startsWith(t),pk=fk("--"),Q8=fk("var(--"),dS=t=>Q8(t)?J8.test(t.split("/*")[0].trim()):!1,J8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mk=(t,n)=>n&&typeof t=="number"?n.transform(t):t,kl=(t,n,r)=>r>n?n:r<t?t:r,jh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yp={...jh,transform:t=>kl(0,1,t)},yg={...jh,default:1},Up=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),mc=Up("deg"),za=Up("%"),Xt=Up("px"),eF=Up("vh"),tF=Up("vw"),g2={...za,parse:t=>za.parse(t)/100,transform:t=>za.transform(t*100)},nF={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt},rF={rotate:mc,rotateX:mc,rotateY:mc,rotateZ:mc,scale:yg,scaleX:yg,scaleY:yg,scaleZ:yg,skew:mc,skewX:mc,skewY:mc,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:yp,originX:g2,originY:g2,originZ:Xt},x2={...jh,transform:Math.round},hS={...nF,...rF,zIndex:x2,size:Xt,fillOpacity:yp,strokeOpacity:yp,numOctaves:x2},sF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iF=bh.length;function oF(t,n,r){let i="",l=!0;for(let u=0;u<iF;u++){const d=bh[u],m=t[d];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(d.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||r){const g=mk(m,hS[d]);if(!p){l=!1;const x=sF[d]||d;i+=`${x}(${g}) `}r&&(n[d]=g)}}return i=i.trim(),r?i=r(n,l?"":i):l&&(i="none"),i}function fS(t,n,r){const{style:i,vars:l,transformOrigin:u}=t;let d=!1,m=!1;for(const p in n){const g=n[p];if(Vu.has(p)){d=!0;continue}else if(pk(p)){l[p]=g;continue}else{const x=mk(g,hS[p]);p.startsWith("origin")?(m=!0,u[p]=x):i[p]=x}}if(n.transform||(d||r?i.transform=oF(n,t.transform,r):i.transform&&(i.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:x=0}=u;i.transformOrigin=`${p} ${g} ${x}`}}const aF={offset:"stroke-dashoffset",array:"stroke-dasharray"},lF={offset:"strokeDashoffset",array:"strokeDasharray"};function cF(t,n,r=1,i=0,l=!0){t.pathLength=1;const u=l?aF:lF;t[u.offset]=Xt.transform(-i);const d=Xt.transform(n),m=Xt.transform(r);t[u.array]=`${d} ${m}`}function v2(t,n,r){return typeof t=="string"?t:Xt.transform(n+r*t)}function uF(t,n,r){const i=v2(n,t.x,t.width),l=v2(r,t.y,t.height);return`${i} ${l}`}function pS(t,{attrX:n,attrY:r,attrScale:i,originX:l,originY:u,pathLength:d,pathSpacing:m=1,pathOffset:p=0,...g},x,j){if(fS(t,g,j),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:C,dimensions:_}=t;S.transform&&(_&&(C.transform=S.transform),delete S.transform),_&&(l!==void 0||u!==void 0||C.transform)&&(C.transformOrigin=uF(_,l!==void 0?l:.5,u!==void 0?u:.5)),n!==void 0&&(S.x=n),r!==void 0&&(S.y=r),i!==void 0&&(S.scale=i),d!==void 0&&cF(S,d,m,p,!1)}const mS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gk=()=>({...mS(),attrs:{}}),gS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xk(t,{style:n,vars:r},i,l){Object.assign(t.style,n,l&&l.getProjectionStyles(i));for(const u in r)t.style.setProperty(u,r[u])}const vk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yk(t,n,r,i){xk(t,n,void 0,i);for(const l in n.attrs)t.setAttribute(vk.has(l)?l:aS(l),n.attrs[l])}const ux={};function dF(t){Object.assign(ux,t)}function bk(t,{layout:n,layoutId:r}){return Vu.has(t)||t.startsWith("origin")||(n||r!==void 0)&&(!!ux[t]||t==="opacity")}function xS(t,n,r){var i;const{style:l}=t,u={};for(const d in l)(Gs(l[d])||n.style&&Gs(n.style[d])||bk(d,t)||((i=r?.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(u[d]=l[d]);return u}function jk(t,n,r){const i=xS(t,n,r);for(const l in t)if(Gs(t[l])||Gs(n[l])){const u=bh.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=t[l]}return i}function hF(t,n){try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const y2=["x","y","width","height","cx","cy","r"],fF={useVisualState:hk({scrapeMotionValuesFromProps:jk,createRenderState:gk,onUpdate:({props:t,prevProps:n,current:r,renderState:i,latestValues:l})=>{if(!r)return;let u=!!t.drag;if(!u){for(const m in l)if(Vu.has(m)){u=!0;break}}if(!u)return;let d=!n;if(n)for(let m=0;m<y2.length;m++){const p=y2[m];t[p]!==n[p]&&(d=!0)}d&&Ar.read(()=>{hF(r,i),Ar.render(()=>{pS(i,l,gS(r.tagName),t.transformTemplate),yk(r,i)})})}})},pF={useVisualState:hk({scrapeMotionValuesFromProps:xS,createRenderState:mS})};function Sk(t,n,r){for(const i in n)!Gs(n[i])&&!bk(i,r)&&(t[i]=n[i])}function mF({transformTemplate:t},n){return y.useMemo(()=>{const r=mS();return fS(r,n,t),Object.assign({},r.vars,r.style)},[n])}function gF(t,n){const r=t.style||{},i={};return Sk(i,r,t),Object.assign(i,mF(t,n)),i}function xF(t,n){const r={},i=gF(t,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}function vF(t,n,r,i){const l=y.useMemo(()=>{const u=gk();return pS(u,n,gS(i),t.transformTemplate),{...u.attrs,style:{...u.style}}},[n]);if(t.style){const u={};Sk(u,t.style,t),l.style={...u,...l.style}}return l}function yF(t=!1){return(r,i,l,{latestValues:u},d)=>{const p=(cS(r)?vF:xF)(i,u,d,r),g=z8(i,typeof r=="string",t),x=r!==y.Fragment?{...g,...p,ref:l}:{},{children:j}=i,S=y.useMemo(()=>Gs(j)?j.get():j,[j]);return y.createElement(r,{...x,children:S})}}function bF(t,n){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const d={...cS(i)?fF:pF,preloadedFeatures:t,useRender:yF(l),createVisualElement:n,Component:i};return U8(d)}}function Ck(t,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(n[i]!==t[i])return!1;return!0}function Gx(t,n,r){const i=t.getProps();return uS(i,n,r!==void 0?r:i.custom,t)}const jF=sS(()=>window.ScrollTimeline!==void 0);class SF{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,r){for(let i=0;i<this.animations.length;i++)this.animations[i][n]=r}attachTimeline(n,r){const i=this.animations.map(l=>{if(jF()&&l.attachTimeline)return l.attachTimeline(n);if(typeof r=="function")return r(l)});return()=>{i.forEach((l,u)=>{l&&l(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let r=0;r<this.animations.length;r++)n=Math.max(n,this.animations[r].duration);return n}runAll(n){this.animations.forEach(r=>r[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CF extends SF{then(n,r){return Promise.all(this.animations).then(n).catch(r)}}function vS(t,n){return t?t[n]||t.default||t:void 0}const Ab=2e4;function wk(t){let n=0;const r=50;let i=t.next(n);for(;!i.done&&n<Ab;)n+=r,i=t.next(n);return n>=Ab?1/0:n}function yS(t){return typeof t=="function"}function b2(t,n){t.timeline=n,t.onfinish=null}const bS=t=>Array.isArray(t)&&typeof t[0]=="number",wF={linearEasing:void 0};function _F(t,n){const r=sS(t);return()=>{var i;return(i=wF[n])!==null&&i!==void 0?i:r()}}const dx=_F(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_k=(t,n,r=10)=>{let i="";const l=Math.max(Math.round(n/r),2);for(let u=0;u<l;u++)i+=t(lh(0,l-1,u))+", ";return`linear(${i.substring(0,i.length-2)})`};function Ek(t){return!!(typeof t=="function"&&dx()||!t||typeof t=="string"&&(t in Tb||dx())||bS(t)||Array.isArray(t)&&t.every(Ek))}const Bf=([t,n,r,i])=>`cubic-bezier(${t}, ${n}, ${r}, ${i})`,Tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bf([0,.65,.55,1]),circOut:Bf([.55,0,1,.45]),backIn:Bf([.31,.01,.66,-.59]),backOut:Bf([.33,1.53,.69,.99])};function Ak(t,n){if(t)return typeof t=="function"&&dx()?_k(t,n):bS(t)?Bf(t):Array.isArray(t)?t.map(r=>Ak(r,n)||Tb.easeOut):Tb[t]}const Ko={x:!1,y:!1};function Tk(){return Ko.x||Ko.y}function EF(t,n,r){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let l=document;const u=(i=void 0)!==null&&i!==void 0?i:l.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function kk(t,n){const r=EF(t),i=new AbortController,l={passive:!0,...n,signal:i.signal};return[r,l,()=>i.abort()]}function j2(t){return n=>{n.pointerType==="touch"||Tk()||t(n)}}function AF(t,n,r={}){const[i,l,u]=kk(t,r),d=j2(m=>{const{target:p}=m,g=n(m);if(typeof g!="function"||!p)return;const x=j2(j=>{g(j),p.removeEventListener("pointerleave",x)});p.addEventListener("pointerleave",x,l)});return i.forEach(m=>{m.addEventListener("pointerenter",d,l)}),u}const Pk=(t,n)=>n?t===n?!0:Pk(t,n.parentElement):!1,jS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kF(t){return TF.has(t.tagName)||t.tabIndex!==-1}const $f=new WeakSet;function S2(t){return n=>{n.key==="Enter"&&t(n)}}function jy(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const PF=(t,n)=>{const r=t.currentTarget;if(!r)return;const i=S2(()=>{if($f.has(r))return;jy(r,"down");const l=S2(()=>{jy(r,"up")}),u=()=>jy(r,"cancel");r.addEventListener("keyup",l,n),r.addEventListener("blur",u,n)});r.addEventListener("keydown",i,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),n)};function C2(t){return jS(t)&&!Tk()}function RF(t,n,r={}){const[i,l,u]=kk(t,r),d=m=>{const p=m.currentTarget;if(!C2(m)||$f.has(p))return;$f.add(p);const g=n(m),x=(C,_)=>{window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",S),!(!C2(C)||!$f.has(p))&&($f.delete(p),typeof g=="function"&&g(C,{success:_}))},j=C=>{x(C,r.useGlobalTarget||Pk(p,C.target))},S=C=>{x(C,!1)};window.addEventListener("pointerup",j,l),window.addEventListener("pointercancel",S,l)};return i.forEach(m=>{!kF(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(r.useGlobalTarget?window:m).addEventListener("pointerdown",d,l),m.addEventListener("focus",g=>PF(g,l),l)}),u}function MF(t){return t==="x"||t==="y"?Ko[t]?null:(Ko[t]=!0,()=>{Ko[t]=!1}):Ko.x||Ko.y?null:(Ko.x=Ko.y=!0,()=>{Ko.x=Ko.y=!1})}const Rk=new Set(["width","height","top","left","right","bottom",...bh]);let Xg;function DF(){Xg=void 0}const La={now:()=>(Xg===void 0&&La.set(Rs.isProcessing||T8.useManualTiming?Rs.timestamp:performance.now()),Xg),set:t=>{Xg=t,queueMicrotask(DF)}};function SS(t,n){t.indexOf(n)===-1&&t.push(n)}function CS(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class wS{constructor(){this.subscriptions=[]}add(n){return SS(this.subscriptions,n),()=>CS(this.subscriptions,n)}notify(n,r,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,r,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(n,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Mk(t,n){return n?t*(1e3/n):0}const w2=30,zF=t=>!isNaN(parseFloat(t));class LF{constructor(n,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const u=La.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=La.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=zF(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new wS);const i=this.events[n].add(r);return n==="change"?()=>{i(),Ar.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n,r=!0){!r||!this.passiveEffect?this.updateAndNotify(n,r):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=La.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>w2)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,w2);return Mk(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bp(t,n){return new LF(t,n)}function OF(t,n,r){t.hasValue(n)?t.getValue(n).set(r):t.addValue(n,bp(r))}function NF(t,n){const r=Gx(t,n);let{transitionEnd:i={},transition:l={},...u}=r||{};u={...u,...i};for(const d in u){const m=Y8(u[d]);OF(t,d,m)}}function IF(t){return!!(Gs(t)&&t.add)}function kb(t,n){const r=t.getValue("willChange");if(IF(r))return r.add(n)}function Dk(t){return t.props[ck]}const zk=(t,n,r)=>(((1-3*r+3*n)*t+(3*r-6*n))*t+3*n)*t,BF=1e-7,$F=12;function FF(t,n,r,i,l){let u,d,m=0;do d=n+(r-n)/2,u=zk(d,i,l)-t,u>0?r=d:n=d;while(Math.abs(u)>BF&&++m<$F);return d}function Hp(t,n,r,i){if(t===n&&r===i)return co;const l=u=>FF(u,0,1,t,r);return u=>u===0||u===1?u:zk(l(u),n,i)}const Lk=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,Ok=t=>n=>1-t(1-n),Nk=Hp(.33,1.53,.69,.99),_S=Ok(Nk),Ik=Lk(_S),Bk=t=>(t*=2)<1?.5*_S(t):.5*(2-Math.pow(2,-10*(t-1))),ES=t=>1-Math.sin(Math.acos(t)),$k=Ok(ES),Fk=Lk(ES),Vk=t=>/^0[^.\s]+$/u.test(t);function VF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Vk(t):!0}const rp=t=>Math.round(t*1e5)/1e5,AS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UF(t){return t==null}const HF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,TS=(t,n)=>r=>!!(typeof r=="string"&&HF.test(r)&&r.startsWith(t)||n&&!UF(r)&&Object.prototype.hasOwnProperty.call(r,n)),Uk=(t,n,r)=>i=>{if(typeof i!="string")return i;const[l,u,d,m]=i.match(AS);return{[t]:parseFloat(l),[n]:parseFloat(u),[r]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},WF=t=>kl(0,255,t),Sy={...jh,transform:t=>Math.round(WF(t))},mu={test:TS("rgb","red"),parse:Uk("red","green","blue"),transform:({red:t,green:n,blue:r,alpha:i=1})=>"rgba("+Sy.transform(t)+", "+Sy.transform(n)+", "+Sy.transform(r)+", "+rp(yp.transform(i))+")"};function qF(t){let n="",r="",i="",l="";return t.length>5?(n=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),l=t.substring(7,9)):(n=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),l=t.substring(4,5),n+=n,r+=r,i+=i,l+=l),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Pb={test:TS("#"),parse:qF,transform:mu.transform},Fd={test:TS("hsl","hue"),parse:Uk("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+za.transform(rp(n))+", "+za.transform(rp(r))+", "+rp(yp.transform(i))+")"},qs={test:t=>mu.test(t)||Pb.test(t)||Fd.test(t),parse:t=>mu.test(t)?mu.parse(t):Fd.test(t)?Fd.parse(t):Pb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mu.transform(t):Fd.transform(t)},GF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZF(t){var n,r;return isNaN(t)&&typeof t=="string"&&(((n=t.match(AS))===null||n===void 0?void 0:n.length)||0)+(((r=t.match(GF))===null||r===void 0?void 0:r.length)||0)>0}const Hk="number",Wk="color",YF="var",XF="var(",_2="${}",KF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jp(t){const n=t.toString(),r=[],i={color:[],number:[],var:[]},l=[];let u=0;const m=n.replace(KF,p=>(qs.test(p)?(i.color.push(u),l.push(Wk),r.push(qs.parse(p))):p.startsWith(XF)?(i.var.push(u),l.push(YF),r.push(p)):(i.number.push(u),l.push(Hk),r.push(parseFloat(p))),++u,_2)).split(_2);return{values:r,split:m,indexes:i,types:l}}function qk(t){return jp(t).values}function Gk(t){const{split:n,types:r}=jp(t),i=n.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=n[d],l[d]!==void 0){const m=r[d];m===Hk?u+=rp(l[d]):m===Wk?u+=qs.transform(l[d]):u+=l[d]}return u}}const QF=t=>typeof t=="number"?0:t;function JF(t){const n=qk(t);return Gk(t)(n.map(QF))}const jc={test:ZF,parse:qk,createTransformer:Gk,getAnimatableNone:JF},e9=new Set(["brightness","contrast","saturate","opacity"]);function t9(t){const[n,r]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[i]=r.match(AS)||[];if(!i)return t;const l=r.replace(i,"");let u=e9.has(n)?1:0;return i!==r&&(u*=100),n+"("+u+l+")"}const n9=/\b([a-z-]*)\(.*?\)/gu,Rb={...jc,getAnimatableNone:t=>{const n=t.match(n9);return n?n.map(t9).join(" "):t}},r9={...hS,color:qs,backgroundColor:qs,outlineColor:qs,fill:qs,stroke:qs,borderColor:qs,borderTopColor:qs,borderRightColor:qs,borderBottomColor:qs,borderLeftColor:qs,filter:Rb,WebkitFilter:Rb},kS=t=>r9[t];function Zk(t,n){let r=kS(t);return r!==Rb&&(r=jc),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const s9=new Set(["auto","none","0"]);function i9(t,n,r){let i=0,l;for(;i<t.length&&!l;){const u=t[i];typeof u=="string"&&!s9.has(u)&&jp(u).values.length&&(l=t[i]),i++}if(l&&r)for(const u of n)t[u]=Zk(r,l)}const E2=t=>t===jh||t===Xt,A2=(t,n)=>parseFloat(t.split(", ")[n]),T2=(t,n)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const l=i.match(/^matrix3d\((.+)\)$/u);if(l)return A2(l[1],n);{const u=i.match(/^matrix\((.+)\)$/u);return u?A2(u[1],t):0}},o9=new Set(["x","y","z"]),a9=bh.filter(t=>!o9.has(t));function l9(t){const n=[];return a9.forEach(r=>{const i=t.getValue(r);i!==void 0&&(n.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),n}const uh={width:({x:t},{paddingLeft:n="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),height:({y:t},{paddingTop:n="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:T2(4,13),y:T2(5,14)};uh.translateX=uh.x;uh.translateY=uh.y;const wu=new Set;let Mb=!1,Db=!1;function Yk(){if(Db){const t=Array.from(wu).filter(i=>i.needsMeasurement),n=new Set(t.map(i=>i.element)),r=new Map;n.forEach(i=>{const l=l9(i);l.length&&(r.set(i,l),i.render())}),t.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const l=r.get(i);l&&l.forEach(([u,d])=>{var m;(m=i.getValue(u))===null||m===void 0||m.set(d)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Db=!1,Mb=!1,wu.forEach(t=>t.complete()),wu.clear()}function Xk(){wu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Db=!0)})}function c9(){Xk(),Yk()}class PS{constructor(n,r,i,l,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wu.add(this),Mb||(Mb=!0,Ar.read(Xk),Ar.resolveKeyframes(Yk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:i,motionValue:l}=this;for(let u=0;u<n.length;u++)if(n[u]===null)if(u===0){const d=l?.get(),m=n[n.length-1];if(d!==void 0)n[0]=d;else if(i&&r){const p=i.readValue(r,m);p!=null&&(n[0]=p)}n[0]===void 0&&(n[0]=m),l&&d===void 0&&l.set(n[0])}else n[u]=n[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),wu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Kk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),u9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d9(t){const n=u9.exec(t);if(!n)return[,];const[,r,i,l]=n;return[`--${r??i}`,l]}function Qk(t,n,r=1){const[i,l]=d9(t);if(!i)return;const u=window.getComputedStyle(n).getPropertyValue(i);if(u){const d=u.trim();return Kk(d)?parseFloat(d):d}return dS(l)?Qk(l,n,r+1):l}const Jk=t=>n=>n.test(t),h9={test:t=>t==="auto",parse:t=>t},eP=[jh,Xt,za,mc,tF,eF,h9],k2=t=>eP.find(Jk(t));class tP extends PS{constructor(n,r,i,l,u){super(n,r,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let g=n[p];if(typeof g=="string"&&(g=g.trim(),dS(g))){const x=Qk(g,r.current);x!==void 0&&(n[p]=x),p===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Rk.has(i)||n.length!==2)return;const[l,u]=n,d=k2(l),m=k2(u);if(d!==m)if(E2(d)&&E2(m))for(let p=0;p<n.length;p++){const g=n[p];typeof g=="string"&&(n[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,i=[];for(let l=0;l<n.length;l++)VF(n[l])&&i.push(l);i.length&&i9(n,i,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uh[i](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&n.getValue(i,l).jump(l,!1)}measureEndState(){var n;const{element:r,name:i,unresolvedKeyframes:l}=this;if(!r||!r.current)return;const u=r.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=l.length-1,m=l[d];l[d]=uh[i](r.measureViewportBox(),window.getComputedStyle(r.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([p,g])=>{r.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const P2=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jc.test(t)||t==="0")&&!t.startsWith("url("));function f9(t){const n=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function p9(t,n,r,i){const l=t[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const u=t[t.length-1],d=P2(l,n),m=P2(u,n);return!d||!m?!1:f9(t)||(r==="spring"||yS(r))&&i}const m9=t=>t!==null;function Zx(t,{repeat:n,repeatType:r="loop"},i){const l=t.filter(m9),u=n&&r!=="loop"&&n%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const g9=40;class nP{constructor({autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=La.now(),this.options={autoplay:n,delay:r,type:i,repeat:l,repeatDelay:u,repeatType:d,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>g9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&c9(),this._resolved}onKeyframesResolved(n,r){this.resolvedAt=La.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:u,delay:d,onComplete:m,onUpdate:p,isGenerator:g}=this.options;if(!g&&!p9(n,i,l,u))if(d)this.options.duration=0;else{p&&p(Zx(n,this.options,r)),m&&m(),this.resolveFinishedPromise();return}const x=this.initPlayback(n,r);x!==!1&&(this._resolved={keyframes:n,finalKeyframe:r,...x},this.onPostResolved())}onPostResolved(){}then(n,r){return this.currentFinishedPromise.then(n,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const Br=(t,n,r)=>t+(n-t)*r;function Cy(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function x9({hue:t,saturation:n,lightness:r,alpha:i}){t/=360,n/=100,r/=100;let l=0,u=0,d=0;if(!n)l=u=d=r;else{const m=r<.5?r*(1+n):r+n-r*n,p=2*r-m;l=Cy(p,m,t+1/3),u=Cy(p,m,t),d=Cy(p,m,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function hx(t,n){return r=>r>0?n:t}const wy=(t,n,r)=>{const i=t*t,l=r*(n*n-i)+i;return l<0?0:Math.sqrt(l)},v9=[Pb,mu,Fd],y9=t=>v9.find(n=>n.test(t));function R2(t){const n=y9(t);if(!n)return!1;let r=n.parse(t);return n===Fd&&(r=x9(r)),r}const M2=(t,n)=>{const r=R2(t),i=R2(n);if(!r||!i)return hx(t,n);const l={...r};return u=>(l.red=wy(r.red,i.red,u),l.green=wy(r.green,i.green,u),l.blue=wy(r.blue,i.blue,u),l.alpha=Br(r.alpha,i.alpha,u),mu.transform(l))},b9=(t,n)=>r=>n(t(r)),Wp=(...t)=>t.reduce(b9),zb=new Set(["none","hidden"]);function j9(t,n){return zb.has(t)?r=>r<=0?t:n:r=>r>=1?n:t}function S9(t,n){return r=>Br(t,n,r)}function RS(t){return typeof t=="number"?S9:typeof t=="string"?dS(t)?hx:qs.test(t)?M2:_9:Array.isArray(t)?rP:typeof t=="object"?qs.test(t)?M2:C9:hx}function rP(t,n){const r=[...t],i=r.length,l=t.map((u,d)=>RS(u)(u,n[d]));return u=>{for(let d=0;d<i;d++)r[d]=l[d](u);return r}}function C9(t,n){const r={...t,...n},i={};for(const l in r)t[l]!==void 0&&n[l]!==void 0&&(i[l]=RS(t[l])(t[l],n[l]));return l=>{for(const u in i)r[u]=i[u](l);return r}}function w9(t,n){var r;const i=[],l={color:0,var:0,number:0};for(let u=0;u<n.values.length;u++){const d=n.types[u],m=t.indexes[d][l[d]],p=(r=t.values[m])!==null&&r!==void 0?r:0;i[u]=p,l[d]++}return i}const _9=(t,n)=>{const r=jc.createTransformer(n),i=jp(t),l=jp(n);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?zb.has(t)&&!l.values.length||zb.has(n)&&!i.values.length?j9(t,n):Wp(rP(w9(i,l),l.values),r):hx(t,n)};function sP(t,n,r){return typeof t=="number"&&typeof n=="number"&&typeof r=="number"?Br(t,n,r):RS(t)(t,n)}const E9=5;function iP(t,n,r){const i=Math.max(n-E9,0);return Mk(r-t(i),n-i)}const Hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_y=.001;function A9({duration:t=Hr.duration,bounce:n=Hr.bounce,velocity:r=Hr.velocity,mass:i=Hr.mass}){let l,u,d=1-n;d=kl(Hr.minDamping,Hr.maxDamping,d),t=kl(Hr.minDuration,Hr.maxDuration,El(t)),d<1?(l=g=>{const x=g*d,j=x*t,S=x-r,C=Lb(g,d),_=Math.exp(-j);return _y-S/C*_},u=g=>{const j=g*d*t,S=j*r+r,C=Math.pow(d,2)*Math.pow(g,2)*t,_=Math.exp(-j),A=Lb(Math.pow(g,2),d);return(-l(g)+_y>0?-1:1)*((S-C)*_)/A}):(l=g=>{const x=Math.exp(-g*t),j=(g-r)*t+1;return-_y+x*j},u=g=>{const x=Math.exp(-g*t),j=(r-g)*(t*t);return x*j});const m=5/t,p=k9(l,u,m);if(t=_l(t),isNaN(p))return{stiffness:Hr.stiffness,damping:Hr.damping,duration:t};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:t}}}const T9=12;function k9(t,n,r){let i=r;for(let l=1;l<T9;l++)i=i-t(i)/n(i);return i}function Lb(t,n){return t*Math.sqrt(1-n*n)}const P9=["duration","bounce"],R9=["stiffness","damping","mass"];function D2(t,n){return n.some(r=>t[r]!==void 0)}function M9(t){let n={velocity:Hr.velocity,stiffness:Hr.stiffness,damping:Hr.damping,mass:Hr.mass,isResolvedFromDuration:!1,...t};if(!D2(t,R9)&&D2(t,P9))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),l=i*i,u=2*kl(.05,1,1-(t.bounce||0))*Math.sqrt(l);n={...n,mass:Hr.mass,stiffness:l,damping:u}}else{const r=A9(t);n={...n,...r,mass:Hr.mass},n.isResolvedFromDuration=!0}return n}function oP(t=Hr.visualDuration,n=Hr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:i,restDelta:l}=r;const u=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:x,duration:j,velocity:S,isResolvedFromDuration:C}=M9({...r,velocity:-El(r.velocity||0)}),_=S||0,A=g/(2*Math.sqrt(p*x)),T=d-u,z=El(Math.sqrt(p/x)),P=Math.abs(T)<5;i||(i=P?Hr.restSpeed.granular:Hr.restSpeed.default),l||(l=P?Hr.restDelta.granular:Hr.restDelta.default);let k;if(A<1){const N=Lb(z,A);k=F=>{const Y=Math.exp(-A*z*F);return d-Y*((_+A*z*T)/N*Math.sin(N*F)+T*Math.cos(N*F))}}else if(A===1)k=N=>d-Math.exp(-z*N)*(T+(_+z*T)*N);else{const N=z*Math.sqrt(A*A-1);k=F=>{const Y=Math.exp(-A*z*F),q=Math.min(N*F,300);return d-Y*((_+A*z*T)*Math.sinh(q)+N*T*Math.cosh(q))/N}}const I={calculatedDuration:C&&j||null,next:N=>{const F=k(N);if(C)m.done=N>=j;else{let Y=0;A<1&&(Y=N===0?_l(_):iP(k,N,F));const q=Math.abs(Y)<=i,ce=Math.abs(d-F)<=l;m.done=q&&ce}return m.value=m.done?d:F,m},toString:()=>{const N=Math.min(wk(I),Ab),F=_k(Y=>I.next(N*Y).value,N,30);return N+"ms "+F}};return I}function z2({keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:m,max:p,restDelta:g=.5,restSpeed:x}){const j=t[0],S={done:!1,value:j},C=q=>m!==void 0&&q<m||p!==void 0&&q>p,_=q=>m===void 0?p:p===void 0||Math.abs(m-q)<Math.abs(p-q)?m:p;let A=r*n;const T=j+A,z=d===void 0?T:d(T);z!==T&&(A=z-j);const P=q=>-A*Math.exp(-q/i),k=q=>z+P(q),I=q=>{const ce=P(q),de=k(q);S.done=Math.abs(ce)<=g,S.value=S.done?z:de};let N,F;const Y=q=>{C(S.value)&&(N=q,F=oP({keyframes:[S.value,_(S.value)],velocity:iP(k,q,S.value),damping:l,stiffness:u,restDelta:g,restSpeed:x}))};return Y(0),{calculatedDuration:null,next:q=>{let ce=!1;return!F&&N===void 0&&(ce=!0,I(q),Y(q)),N!==void 0&&q>=N?F.next(q-N):(!ce&&I(q),S)}}}const D9=Hp(.42,0,1,1),z9=Hp(0,0,.58,1),aP=Hp(.42,0,.58,1),L9=t=>Array.isArray(t)&&typeof t[0]!="number",O9={linear:co,easeIn:D9,easeInOut:aP,easeOut:z9,circIn:ES,circInOut:Fk,circOut:$k,backIn:_S,backInOut:Ik,backOut:Nk,anticipate:Bk},L2=t=>{if(bS(t)){sk(t.length===4);const[n,r,i,l]=t;return Hp(n,r,i,l)}else if(typeof t=="string")return O9[t];return t};function N9(t,n,r){const i=[],l=r||sP,u=t.length-1;for(let d=0;d<u;d++){let m=l(t[d],t[d+1]);if(n){const p=Array.isArray(n)?n[d]||co:n;m=Wp(p,m)}i.push(m)}return i}function I9(t,n,{clamp:r=!0,ease:i,mixer:l}={}){const u=t.length;if(sk(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const d=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),n=[...n].reverse());const m=N9(n,i,l),p=m.length,g=x=>{if(d&&x<t[0])return n[0];let j=0;if(p>1)for(;j<t.length-2&&!(x<t[j+1]);j++);const S=lh(t[j],t[j+1],x);return m[j](S)};return r?x=>g(kl(t[0],t[u-1],x)):g}function B9(t,n){const r=t[t.length-1];for(let i=1;i<=n;i++){const l=lh(0,n,i);t.push(Br(r,1,l))}}function $9(t){const n=[0];return B9(n,t.length-1),n}function F9(t,n){return t.map(r=>r*n)}function V9(t,n){return t.map(()=>n||aP).splice(0,t.length-1)}function fx({duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}){const l=L9(i)?i.map(L2):L2(i),u={done:!1,value:n[0]},d=F9(r&&r.length===n.length?r:$9(n),t),m=I9(d,n,{ease:Array.isArray(l)?l:V9(n,l)});return{calculatedDuration:t,next:p=>(u.value=m(p),u.done=p>=t,u)}}const U9=t=>{const n=({timestamp:r})=>t(r);return{start:()=>Ar.update(n,!0),stop:()=>bc(n),now:()=>Rs.isProcessing?Rs.timestamp:La.now()}},H9={decay:z2,inertia:z2,tween:fx,keyframes:fx,spring:oP},W9=t=>t/100;class MS extends nP{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:r,motionValue:i,element:l,keyframes:u}=this.options,d=l?.KeyframeResolver||PS,m=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new d(u,m,r,i,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=this.options,m=yS(r)?r:H9[r]||fx;let p,g;m!==fx&&typeof n[0]!="number"&&(p=Wp(W9,sP(n[0],n[1])),n=[0,100]);const x=m({...this.options,keyframes:n});u==="mirror"&&(g=m({...this.options,keyframes:[...n].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=wk(x));const{calculatedDuration:j}=x,S=j+l,C=S*(i+1)-l;return{generator:x,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:j,resolvedDuration:S,totalDuration:C}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,r=!1){const{resolved:i}=this;if(!i){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:l,generator:u,mirroredGenerator:d,mapPercentToKeyframes:m,keyframes:p,calculatedDuration:g,totalDuration:x,resolvedDuration:j}=i;if(this.startTime===null)return u.next(0);const{delay:S,repeat:C,repeatType:_,repeatDelay:A,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-x/this.speed,this.startTime)),r?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const z=this.currentTime-S*(this.speed>=0?1:-1),P=this.speed>=0?z<0:z>x;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let k=this.currentTime,I=u;if(C){const q=Math.min(this.currentTime,x)/j;let ce=Math.floor(q),de=q%1;!de&&q>=1&&(de=1),de===1&&ce--,ce=Math.min(ce,C+1),!!(ce%2)&&(_==="reverse"?(de=1-de,A&&(de-=A/j)):_==="mirror"&&(I=d)),k=kl(0,1,de)*j}const N=P?{done:!1,value:p[0]}:I.next(k);m&&(N.value=m(N.value));let{done:F}=N;!P&&g!==null&&(F=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return Y&&l!==void 0&&(N.value=Zx(p,this.options,l)),T&&T(N.value),Y&&this.finish(),N}get duration(){const{resolved:n}=this;return n?El(n.calculatedDuration):0}get time(){return El(this.currentTime)}set time(n){n=_l(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=El(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=U9,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),r&&r();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const q9=new Set(["opacity","clipPath","filter","transform"]);function G9(t,n,r,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:m="easeInOut",times:p}={}){const g={[n]:r};p&&(g.offset=p);const x=Ak(m,l);return Array.isArray(x)&&(g.easing=x),t.animate(g,{delay:i,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const Z9=sS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),px=10,Y9=2e4;function X9(t){return yS(t.type)||t.type==="spring"||!Ek(t.ease)}function K9(t,n){const r=new MS({...n,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const l=[];let u=0;for(;!i.done&&u<Y9;)i=r.sample(u),l.push(i.value),u+=px;return{times:void 0,keyframes:l,duration:u-px,ease:"linear"}}const lP={anticipate:Bk,backInOut:Ik,circInOut:Fk};function Q9(t){return t in lP}class O2 extends nP{constructor(n){super(n);const{name:r,motionValue:i,element:l,keyframes:u}=this.options;this.resolver=new tP(u,(d,m)=>this.onKeyframesResolved(d,m),r,i,l),this.resolver.scheduleResolve()}initPlayback(n,r){let{duration:i=300,times:l,ease:u,type:d,motionValue:m,name:p,startTime:g}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof u=="string"&&dx()&&Q9(u)&&(u=lP[u]),X9(this.options)){const{onComplete:j,onUpdate:S,motionValue:C,element:_,...A}=this.options,T=K9(n,A);n=T.keyframes,n.length===1&&(n[1]=n[0]),i=T.duration,l=T.times,u=T.ease,d="keyframes"}const x=G9(m.owner.current,p,n,{...this.options,duration:i,times:l,ease:u});return x.startTime=g??this.calcStartTime(),this.pendingTimeline?(b2(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:j}=this.options;m.set(Zx(n,this.options,r)),j&&j(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:i,times:l,type:d,ease:u,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:r}=n;return El(r)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:r}=n;return El(r.currentTime||0)}set time(n){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=_l(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:r}=n;return r.playbackRate}set speed(n){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:r}=n;return r.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:r}=n;return r.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:r}=this;if(!r)return co;const{animation:i}=r;b2(i,n)}return co}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:r,keyframes:i,duration:l,type:u,ease:d,times:m}=n;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:x,onComplete:j,element:S,...C}=this.options,_=new MS({...C,keyframes:i,duration:l,type:u,ease:d,times:m,isGenerator:!0}),A=_l(this.time);g.setWithVelocity(_.sample(A-px).value,_.sample(A).value,px)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:r,name:i,repeatDelay:l,repeatType:u,damping:d,type:m}=n;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=r.owner.getProps();return Z9()&&i&&q9.has(i)&&!p&&!g&&!l&&u!=="mirror"&&d!==0&&m!=="inertia"}}const J9={type:"spring",stiffness:500,damping:25,restSpeed:10},e7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),t7={type:"keyframes",duration:.8},n7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r7=(t,{keyframes:n})=>n.length>2?t7:Vu.has(t)?t.startsWith("scale")?e7(n[1]):J9:n7;function s7({when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:m,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const DS=(t,n,r,i={},l,u)=>d=>{const m=vS(i,t)||{},p=m.delay||i.delay||0;let{elapsed:g=0}=i;g=g-_l(p);let x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...m,delay:-g,onUpdate:S=>{n.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:t,motionValue:n,element:u?void 0:l};s7(m)||(x={...x,...r7(t,x)}),x.duration&&(x.duration=_l(x.duration)),x.repeatDelay&&(x.repeatDelay=_l(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let j=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(j=!0)),j&&!u&&n.get()!==void 0){const S=Zx(x.keyframes,m);if(S!==void 0)return Ar.update(()=>{x.onUpdate(S),x.onComplete()}),new CF([])}return!u&&O2.supports(x)?new O2(x):new MS(x)};function i7({protectedKeys:t,needsAnimating:n},r){const i=t.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,i}function cP(t,n,{delay:r=0,transitionOverride:i,type:l}={}){var u;let{transition:d=t.getDefaultTransition(),transitionEnd:m,...p}=n;i&&(d=i);const g=[],x=l&&t.animationState&&t.animationState.getState()[l];for(const j in p){const S=t.getValue(j,(u=t.latestValues[j])!==null&&u!==void 0?u:null),C=p[j];if(C===void 0||x&&i7(x,j))continue;const _={delay:r,...vS(d||{},j)};let A=!1;if(window.MotionHandoffAnimation){const z=Dk(t);if(z){const P=window.MotionHandoffAnimation(z,j,Ar);P!==null&&(_.startTime=P,A=!0)}}kb(t,j),S.start(DS(j,S,C,t.shouldReduceMotion&&Rk.has(j)?{type:!1}:_,t,A));const T=S.animation;T&&g.push(T)}return m&&Promise.all(g).then(()=>{Ar.update(()=>{m&&NF(t,m)})}),g}function Ob(t,n,r={}){var i;const l=Gx(t,n,r.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=l||{};r.transitionOverride&&(u=r.transitionOverride);const d=l?()=>Promise.all(cP(t,l,r)):()=>Promise.resolve(),m=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:j,staggerDirection:S}=u;return o7(t,n,x+g,j,S,r)}:()=>Promise.resolve(),{when:p}=u;if(p){const[g,x]=p==="beforeChildren"?[d,m]:[m,d];return g().then(()=>x())}else return Promise.all([d(),m(r.delay)])}function o7(t,n,r=0,i=0,l=1,u){const d=[],m=(t.variantChildren.size-1)*i,p=l===1?(g=0)=>g*i:(g=0)=>m-g*i;return Array.from(t.variantChildren).sort(a7).forEach((g,x)=>{g.notify("AnimationStart",n),d.push(Ob(g,n,{...u,delay:r+p(x)}).then(()=>g.notify("AnimationComplete",n)))}),Promise.all(d)}function a7(t,n){return t.sortNodePosition(n)}function l7(t,n,r={}){t.notify("AnimationStart",n);let i;if(Array.isArray(n)){const l=n.map(u=>Ob(t,u,r));i=Promise.all(l)}else if(typeof n=="string")i=Ob(t,n,r);else{const l=typeof n=="function"?Gx(t,n,r.custom):n;i=Promise.all(cP(t,l,r))}return i.then(()=>{t.notify("AnimationComplete",n)})}const c7=oS.length;function uP(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?uP(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const n={};for(let r=0;r<c7;r++){const i=oS[r],l=t.props[i];(vp(l)||l===!1)&&(n[i]=l)}return n}const u7=[...iS].reverse(),d7=iS.length;function h7(t){return n=>Promise.all(n.map(({animation:r,options:i})=>l7(t,r,i)))}function f7(t){let n=h7(t),r=N2(),i=!0;const l=p=>(g,x)=>{var j;const S=Gx(t,x,p==="exit"?(j=t.presenceContext)===null||j===void 0?void 0:j.custom:void 0);if(S){const{transition:C,transitionEnd:_,...A}=S;g={...g,...A,..._}}return g};function u(p){n=p(t)}function d(p){const{props:g}=t,x=uP(t.parent)||{},j=[],S=new Set;let C={},_=1/0;for(let T=0;T<d7;T++){const z=u7[T],P=r[z],k=g[z]!==void 0?g[z]:x[z],I=vp(k),N=z===p?P.isActive:null;N===!1&&(_=T);let F=k===x[z]&&k!==g[z]&&I;if(F&&i&&t.manuallyAnimateOnMount&&(F=!1),P.protectedKeys={...C},!P.isActive&&N===null||!k&&!P.prevProp||Wx(k)||typeof k=="boolean")continue;const Y=p7(P.prevProp,k);let q=Y||z===p&&P.isActive&&!F&&I||T>_&&I,ce=!1;const de=Array.isArray(k)?k:[k];let le=de.reduce(l(z),{});N===!1&&(le={});const{prevResolvedValues:ve={}}=P,Pe={...ve,...le},me=H=>{q=!0,S.has(H)&&(ce=!0,S.delete(H)),P.needsAnimating[H]=!0;const W=t.getValue(H);W&&(W.liveStyle=!1)};for(const H in Pe){const W=le[H],Se=ve[H];if(C.hasOwnProperty(H))continue;let B=!1;Eb(W)&&Eb(Se)?B=!Ck(W,Se):B=W!==Se,B?W!=null?me(H):S.add(H):W!==void 0&&S.has(H)?me(H):P.protectedKeys[H]=!0}P.prevProp=k,P.prevResolvedValues=le,P.isActive&&(C={...C,...le}),i&&t.blockInitialAnimation&&(q=!1),q&&(!(F&&Y)||ce)&&j.push(...de.map(H=>({animation:H,options:{type:z}})))}if(S.size){const T={};S.forEach(z=>{const P=t.getBaseTarget(z),k=t.getValue(z);k&&(k.liveStyle=!0),T[z]=P??null}),j.push({animation:T})}let A=!!j.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(A=!1),i=!1,A?n(j):Promise.resolve()}function m(p,g){var x;if(r[p].isActive===g)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var C;return(C=S.animationState)===null||C===void 0?void 0:C.setActive(p,g)}),r[p].isActive=g;const j=d(p);for(const S in r)r[S].protectedKeys={};return j}return{animateChanges:d,setActive:m,setAnimateFunction:u,getState:()=>r,reset:()=>{r=N2(),i=!0}}}function p7(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!Ck(n,t):!1}function iu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N2(){return{animate:iu(!0),whileInView:iu(),whileHover:iu(),whileTap:iu(),whileDrag:iu(),whileFocus:iu(),exit:iu()}}class Tc{constructor(n){this.isMounted=!1,this.node=n}update(){}}class m7 extends Tc{constructor(n){super(n),n.animationState||(n.animationState=f7(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Wx(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let g7=0;class x7 extends Tc{constructor(){super(...arguments),this.id=g7++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const l=this.node.animationState.setActive("exit",!n);r&&!n&&l.then(()=>r(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const v7={animation:{Feature:m7},exit:{Feature:x7}};function Sp(t,n,r,i={passive:!0}){return t.addEventListener(n,r,i),()=>t.removeEventListener(n,r)}function qp(t){return{point:{x:t.pageX,y:t.pageY}}}const y7=t=>n=>jS(n)&&t(n,qp(n));function sp(t,n,r,i){return Sp(t,n,y7(r),i)}const I2=(t,n)=>Math.abs(t-n);function b7(t,n){const r=I2(t.x,n.x),i=I2(t.y,n.y);return Math.sqrt(r**2+i**2)}class dP{constructor(n,r,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Ay(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=b7(j.offset,{x:0,y:0})>=3;if(!S&&!C)return;const{point:_}=j,{timestamp:A}=Rs;this.history.push({..._,timestamp:A});const{onStart:T,onMove:z}=this.handlers;S||(T&&T(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,j)},this.handlePointerMove=(j,S)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=Ey(S,this.transformPagePoint),Ar.update(this.updatePoint,!0)},this.handlePointerUp=(j,S)=>{this.end();const{onEnd:C,onSessionEnd:_,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ay(j.type==="pointercancel"?this.lastMoveEventInfo:Ey(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(j,T),_&&_(j,T)},!jS(n))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=i,this.contextWindow=l||window;const d=qp(n),m=Ey(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=Rs;this.history=[{...p,timestamp:g}];const{onSessionStart:x}=r;x&&x(n,Ay(m,this.history)),this.removeListeners=Wp(sp(this.contextWindow,"pointermove",this.handlePointerMove),sp(this.contextWindow,"pointerup",this.handlePointerUp),sp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),bc(this.updatePoint)}}function Ey(t,n){return n?{point:n(t.point)}:t}function B2(t,n){return{x:t.x-n.x,y:t.y-n.y}}function Ay({point:t},n){return{point:t,delta:B2(t,hP(n)),offset:B2(t,j7(n)),velocity:S7(n,.1)}}function j7(t){return t[0]}function hP(t){return t[t.length-1]}function S7(t,n){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const l=hP(t);for(;r>=0&&(i=t[r],!(l.timestamp-i.timestamp>_l(n)));)r--;if(!i)return{x:0,y:0};const u=El(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const fP=1e-4,C7=1-fP,w7=1+fP,pP=.01,_7=0-pP,E7=0+pP;function uo(t){return t.max-t.min}function A7(t,n,r){return Math.abs(t-n)<=r}function $2(t,n,r,i=.5){t.origin=i,t.originPoint=Br(n.min,n.max,t.origin),t.scale=uo(r)/uo(n),t.translate=Br(r.min,r.max,t.origin)-t.originPoint,(t.scale>=C7&&t.scale<=w7||isNaN(t.scale))&&(t.scale=1),(t.translate>=_7&&t.translate<=E7||isNaN(t.translate))&&(t.translate=0)}function ip(t,n,r,i){$2(t.x,n.x,r.x,i?i.originX:void 0),$2(t.y,n.y,r.y,i?i.originY:void 0)}function F2(t,n,r){t.min=r.min+n.min,t.max=t.min+uo(n)}function T7(t,n,r){F2(t.x,n.x,r.x),F2(t.y,n.y,r.y)}function V2(t,n,r){t.min=n.min-r.min,t.max=t.min+uo(n)}function op(t,n,r){V2(t.x,n.x,r.x),V2(t.y,n.y,r.y)}function k7(t,{min:n,max:r},i){return n!==void 0&&t<n?t=i?Br(n,t,i.min):Math.max(t,n):r!==void 0&&t>r&&(t=i?Br(r,t,i.max):Math.min(t,r)),t}function U2(t,n,r){return{min:n!==void 0?t.min+n:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function P7(t,{top:n,left:r,bottom:i,right:l}){return{x:U2(t.x,r,l),y:U2(t.y,n,i)}}function H2(t,n){let r=n.min-t.min,i=n.max-t.max;return n.max-n.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function R7(t,n){return{x:H2(t.x,n.x),y:H2(t.y,n.y)}}function M7(t,n){let r=.5;const i=uo(t),l=uo(n);return l>i?r=lh(n.min,n.max-i,t.min):i>l&&(r=lh(t.min,t.max-l,n.min)),kl(0,1,r)}function D7(t,n){const r={};return n.min!==void 0&&(r.min=n.min-t.min),n.max!==void 0&&(r.max=n.max-t.min),r}const Nb=.35;function z7(t=Nb){return t===!1?t=0:t===!0&&(t=Nb),{x:W2(t,"left","right"),y:W2(t,"top","bottom")}}function W2(t,n,r){return{min:q2(t,n),max:q2(t,r)}}function q2(t,n){return typeof t=="number"?t:t[n]||0}const G2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vd=()=>({x:G2(),y:G2()}),Z2=()=>({min:0,max:0}),Yr=()=>({x:Z2(),y:Z2()});function Ro(t){return[t("x"),t("y")]}function mP({top:t,left:n,right:r,bottom:i}){return{x:{min:n,max:r},y:{min:t,max:i}}}function L7({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function O7(t,n){if(!n)return t;const r=n({x:t.left,y:t.top}),i=n({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Ty(t){return t===void 0||t===1}function Ib({scale:t,scaleX:n,scaleY:r}){return!Ty(t)||!Ty(n)||!Ty(r)}function cu(t){return Ib(t)||gP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gP(t){return Y2(t.x)||Y2(t.y)}function Y2(t){return t&&t!=="0%"}function mx(t,n,r){const i=t-r,l=n*i;return r+l}function X2(t,n,r,i,l){return l!==void 0&&(t=mx(t,l,i)),mx(t,r,i)+n}function Bb(t,n=0,r=1,i,l){t.min=X2(t.min,n,r,i,l),t.max=X2(t.max,n,r,i,l)}function xP(t,{x:n,y:r}){Bb(t.x,n.translate,n.scale,n.originPoint),Bb(t.y,r.translate,r.scale,r.originPoint)}const K2=.999999999999,Q2=1.0000000000001;function N7(t,n,r,i=!1){const l=r.length;if(!l)return;n.x=n.y=1;let u,d;for(let m=0;m<l;m++){u=r[m],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hd(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,xP(t,d)),i&&cu(u.latestValues)&&Hd(t,u.latestValues))}n.x<Q2&&n.x>K2&&(n.x=1),n.y<Q2&&n.y>K2&&(n.y=1)}function Ud(t,n){t.min=t.min+n,t.max=t.max+n}function J2(t,n,r,i,l=.5){const u=Br(t.min,t.max,l);Bb(t,n,r,u,i)}function Hd(t,n){J2(t.x,n.x,n.scaleX,n.scale,n.originX),J2(t.y,n.y,n.scaleY,n.scale,n.originY)}function vP(t,n){return mP(O7(t.getBoundingClientRect(),n))}function I7(t,n,r){const i=vP(t,r),{scroll:l}=n;return l&&(Ud(i.x,l.offset.x),Ud(i.y,l.offset.y)),i}const yP=({current:t})=>t?t.ownerDocument.defaultView:null,B7=new WeakMap;class $7{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.visualElement=n}start(n,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qp(x).point)},u=(x,j)=>{const{drag:S,dragPropagation:C,onDragStart:_}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MF(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ro(T=>{let z=this.getAxisMotionValue(T).get()||0;if(za.test(z)){const{projection:P}=this.visualElement;if(P&&P.layout){const k=P.layout.layoutBox[T];k&&(z=uo(k)*(parseFloat(z)/100))}}this.originPoint[T]=z}),_&&Ar.postRender(()=>_(x,j)),kb(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},d=(x,j)=>{const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:_,onDrag:A}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=j;if(C&&this.currentDirection===null){this.currentDirection=F7(T),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",j.point,T),this.updateAxis("y",j.point,T),this.visualElement.render(),A&&A(x,j)},m=(x,j)=>this.stop(x,j),p=()=>Ro(x=>{var j;return this.getAnimationState(x)==="paused"&&((j=this.getAxisMotionValue(x).animation)===null||j===void 0?void 0:j.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new dP(n,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:yP(this.visualElement)})}stop(n,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Ar.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,i){const{drag:l}=this.getProps();if(!i||!bg(n,l,this.currentDirection))return;const u=this.getAxisMotionValue(n);let d=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(d=k7(d,this.constraints[n],this.elastic[n])),u.set(d)}resolveConstraints(){var n;const{dragConstraints:r,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,u=this.constraints;r&&$d(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&l?this.constraints=P7(l.layoutBox,r):this.constraints=!1,this.elastic=z7(i),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Ro(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=D7(l.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!$d(n))return!1;const i=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=I7(i,l.root,this.visualElement.getTransformPagePoint());let d=R7(l.layout.layoutBox,u);if(r){const m=r(L7(d));this.hasMutatedConstraints=!!m,m&&(d=mP(m))}return d}startAnimation(n){const{drag:r,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Ro(x=>{if(!bg(x,r,this.currentDirection))return;let j=p&&p[x]||{};d&&(j={min:0,max:0});const S=l?200:1e6,C=l?40:1e7,_={type:"inertia",velocity:i?n[x]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...j};return this.startAxisValueAnimation(x,_)});return Promise.all(g).then(m)}startAxisValueAnimation(n,r){const i=this.getAxisMotionValue(n);return kb(this.visualElement,n),i.start(DS(n,i,0,r,this.visualElement,!1))}stopAnimation(){Ro(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Ro(n=>{var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(n){var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),l=i[r];return l||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){Ro(r=>{const{drag:i}=this.getProps();if(!bg(r,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:m}=l.layout.layoutBox[r];u.set(n[r]-Br(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!$d(r)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Ro(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const p=m.get();l[d]=M7({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ro(d=>{if(!bg(d,n,null))return;const m=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];m.set(Br(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;B7.set(this.visualElement,this);const n=this.visualElement.current,r=sp(n,"pointerdown",p=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();$d(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Ar.read(i);const d=Sp(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ro(x=>{const j=this.getAxisMotionValue(x);j&&(this.originPoint[x]+=p[x].translate,j.set(j.get()+p[x].translate))}),this.visualElement.render())}));return()=>{d(),r(),u(),m&&m()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=Nb,dragMomentum:m=!0}=n;return{...n,drag:r,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:m}}}function bg(t,n,r){return(n===!0||n===t)&&(r===null||r===t)}function F7(t,n=10){let r=null;return Math.abs(t.y)>n?r="y":Math.abs(t.x)>n&&(r="x"),r}class V7 extends Tc{constructor(n){super(n),this.removeGroupControls=co,this.removeListeners=co,this.controls=new $7(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||co}unmount(){this.removeGroupControls(),this.removeListeners()}}const eE=t=>(n,r)=>{t&&Ar.postRender(()=>t(n,r))};class U7 extends Tc{constructor(){super(...arguments),this.removePointerDownListener=co}onPointerDown(n){this.session=new dP(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yP(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:eE(n),onStart:eE(r),onMove:i,onEnd:(u,d)=>{delete this.session,l&&Ar.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=sp(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tE(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const wf={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const r=tE(t,n.target.x),i=tE(t,n.target.y);return`${r}% ${i}%`}},H7={correct:(t,{treeScale:n,projectionDelta:r})=>{const i=t,l=jc.parse(t);if(l.length>5)return i;const u=jc.createTransformer(t),d=typeof l[0]!="number"?1:0,m=r.x.scale*n.x,p=r.y.scale*n.y;l[0+d]/=m,l[1+d]/=p;const g=Br(m,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};class W7 extends y.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=n;dF(q7),u&&(r.group&&r.group.add(u),i&&i.register&&l&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Kg.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:i,drag:l,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,l||n.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||Ar.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),lS.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:l}=n;l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function bP(t){const[n,r]=nS(),i=y.useContext(Jj);return e.jsx(W7,{...t,layoutGroup:i,switchLayoutGroup:y.useContext(uk),isPresent:n,safeToRemove:r})}const q7={borderRadius:{...wf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wf,borderTopRightRadius:wf,borderBottomLeftRadius:wf,borderBottomRightRadius:wf,boxShadow:H7};function G7(t,n,r){const i=Gs(t)?t:bp(t);return i.start(DS("",i,n,r)),i.animation}function Z7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Y7=(t,n)=>t.depth-n.depth;class X7{constructor(){this.children=[],this.isDirty=!1}add(n){SS(this.children,n),this.isDirty=!0}remove(n){CS(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(Y7),this.isDirty=!1,this.children.forEach(n)}}function K7(t,n){const r=La.now(),i=({timestamp:l})=>{const u=l-r;u>=n&&(bc(i),t(u-n))};return Ar.read(i,!0),()=>bc(i)}const jP=["TopLeft","TopRight","BottomLeft","BottomRight"],Q7=jP.length,nE=t=>typeof t=="string"?parseFloat(t):t,rE=t=>typeof t=="number"||Xt.test(t);function J7(t,n,r,i,l,u){l?(t.opacity=Br(0,r.opacity!==void 0?r.opacity:1,eV(i)),t.opacityExit=Br(n.opacity!==void 0?n.opacity:1,0,tV(i))):u&&(t.opacity=Br(n.opacity!==void 0?n.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let d=0;d<Q7;d++){const m=`border${jP[d]}Radius`;let p=sE(n,m),g=sE(r,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||rE(p)===rE(g)?(t[m]=Math.max(Br(nE(p),nE(g),i),0),(za.test(g)||za.test(p))&&(t[m]+="%")):t[m]=g}(n.rotate||r.rotate)&&(t.rotate=Br(n.rotate||0,r.rotate||0,i))}function sE(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const eV=SP(0,.5,$k),tV=SP(.5,.95,co);function SP(t,n,r){return i=>i<t?0:i>n?1:r(lh(t,n,i))}function iE(t,n){t.min=n.min,t.max=n.max}function To(t,n){iE(t.x,n.x),iE(t.y,n.y)}function oE(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function aE(t,n,r,i,l){return t-=n,t=mx(t,1/r,i),l!==void 0&&(t=mx(t,1/l,i)),t}function nV(t,n=0,r=1,i=.5,l,u=t,d=t){if(za.test(n)&&(n=parseFloat(n),n=Br(d.min,d.max,n/100)-d.min),typeof n!="number")return;let m=Br(u.min,u.max,i);t===u&&(m-=n),t.min=aE(t.min,n,r,m,l),t.max=aE(t.max,n,r,m,l)}function lE(t,n,[r,i,l],u,d){nV(t,n[r],n[i],n[l],n.scale,u,d)}const rV=["x","scaleX","originX"],sV=["y","scaleY","originY"];function cE(t,n,r,i){lE(t.x,n,rV,r?r.x:void 0,i?i.x:void 0),lE(t.y,n,sV,r?r.y:void 0,i?i.y:void 0)}function uE(t){return t.translate===0&&t.scale===1}function CP(t){return uE(t.x)&&uE(t.y)}function dE(t,n){return t.min===n.min&&t.max===n.max}function iV(t,n){return dE(t.x,n.x)&&dE(t.y,n.y)}function hE(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function wP(t,n){return hE(t.x,n.x)&&hE(t.y,n.y)}function fE(t){return uo(t.x)/uo(t.y)}function pE(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class oV{constructor(){this.members=[]}add(n){SS(this.members,n),n.scheduleRender()}remove(n){if(CS(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(l=>n===l);if(r===0)return!1;let i;for(let l=r;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(n,r){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,r&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:i}=n;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aV(t,n,r){let i="";const l=t.x.translate/n.x,u=t.y.translate/n.y,d=r?.z||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:g,rotate:x,rotateX:j,rotateY:S,skewX:C,skewY:_}=r;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),j&&(i+=`rotateX(${j}deg) `),S&&(i+=`rotateY(${S}deg) `),C&&(i+=`skewX(${C}deg) `),_&&(i+=`skewY(${_}deg) `)}const m=t.x.scale*n.x,p=t.y.scale*n.y;return(m!==1||p!==1)&&(i+=`scale(${m}, ${p})`),i||"none"}const uu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ff=typeof window<"u"&&window.MotionDebug!==void 0,ky=["","X","Y","Z"],lV={visibility:"hidden"},mE=1e3;let cV=0;function Py(t,n,r,i){const{latestValues:l}=n;l[t]&&(r[t]=l[t],n.setStaticValue(t,0),i&&(i[t]=0))}function _P(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const r=Dk(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ar,!(l||u))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&_P(i)}function EP({attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},m=n?.()){this.id=cV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ff&&(uu.totalNodes=uu.resolvedTargetDeltas=uu.recalculatedProjection=0),this.nodes.forEach(hV),this.nodes.forEach(xV),this.nodes.forEach(vV),this.nodes.forEach(fV),Ff&&window.MotionDebug.record(uu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new X7)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new wS),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const p=this.eventHandlers.get(d);p&&p.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Z7(d),this.instance=d;const{layoutId:p,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(g||p)&&(this.isLayoutDirty=!0),t){let j;const S=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,j&&j(),j=K7(S,250),Kg.hasAnimatedSinceResize&&(Kg.hasAnimatedSinceResize=!1,this.nodes.forEach(xE))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||g)&&this.addEventListener("didUpdate",({delta:j,hasLayoutChanged:S,hasRelativeTargetChanged:C,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||x.getDefaultTransition()||CV,{onLayoutAnimationStart:T,onLayoutAnimationComplete:z}=x.getProps(),P=!this.targetLayout||!wP(this.targetLayout,_)||C,k=!S&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||S&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(j,k);const I={...vS(A,"layout"),onPlay:T,onComplete:z};(x.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else S||xE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yV),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_P(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const j=this.path[x];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gE);return}this.isUpdating||this.nodes.forEach(mV),this.isUpdating=!1,this.nodes.forEach(gV),this.nodes.forEach(uV),this.nodes.forEach(dV),this.clearAllSnapshots();const m=La.now();Rs.delta=kl(0,1e3/60,m-Rs.timestamp),Rs.timestamp=m,Rs.isProcessing=!0,by.update.process(Rs),by.preRender.process(Rs),by.render.process(Rs),Rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pV),this.sharedNodes.forEach(bV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!CP(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&(m||cu(this.latestValues)||x)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return d&&(p=this.removeTransform(p)),wV(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:m}=this.options;if(!m)return Yr();const p=m.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(_V))){const{scroll:x}=this.root;x&&(Ud(p.x,x.offset.x),Ud(p.y,x.offset.y))}return p}removeElementScroll(d){var m;const p=Yr();if(To(p,d),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return p;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:j,options:S}=x;x!==this.root&&j&&S.layoutScroll&&(j.wasRoot&&To(p,d),Ud(p.x,j.offset.x),Ud(p.y,j.offset.y))}return p}applyTransform(d,m=!1){const p=Yr();To(p,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Hd(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),cu(x.latestValues)&&Hd(p,x.latestValues)}return cu(this.latestValues)&&Hd(p,this.latestValues),p}removeTransform(d){const m=Yr();To(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!cu(g.latestValues))continue;Ib(g.latestValues)&&g.updateSnapshot();const x=Yr(),j=g.measurePageBox();To(x,j),cE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return cu(this.latestValues)&&cE(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var m;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:j,layoutId:S}=this.options;if(!(!this.layout||!(j||S))){if(this.resolvedRelativeTargetAt=Rs.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),op(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),To(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):To(this.target,this.layout.layoutBox),xP(this.target,this.targetDelta)):To(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),op(this.relativeTargetOrigin,this.target,C.target),To(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ff&&uu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ib(this.parent.latestValues)||gP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const m=this.getLead(),p=!!this.resumingFrom||this!==m;let g=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Rs.timestamp&&(g=!1),g)return;const{layout:x,layoutId:j}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||j))return;To(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,C=this.treeScale.y;N7(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Yr());const{target:_}=m;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oE(this.prevProjectionDelta.x,this.projectionDelta.x),oE(this.prevProjectionDelta.y,this.projectionDelta.y)),ip(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==C||!pE(this.projectionDelta.x,this.prevProjectionDelta.x)||!pE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ff&&uu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vd(),this.projectionDelta=Vd(),this.projectionDeltaWithTransform=Vd()}setAnimationOrigin(d,m=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},j=Vd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Yr(),C=p?p.source:void 0,_=this.layout?this.layout.source:void 0,A=C!==_,T=this.getStack(),z=!T||T.members.length<=1,P=!!(A&&!z&&this.options.crossfade===!0&&!this.path.some(SV));this.animationProgress=0;let k;this.mixTargetDelta=I=>{const N=I/1e3;vE(j.x,d.x,N),vE(j.y,d.y,N),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(op(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jV(this.relativeTarget,this.relativeTargetOrigin,S,N),k&&iV(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Yr()),To(k,this.relativeTarget)),A&&(this.animationValues=x,J7(x,g,this.latestValues,N,P,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ar.update(()=>{Kg.hasAnimatedSinceResize=!0,this.currentAnimation=G7(0,mE,{...d,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:x}=d;if(!(!m||!p||!g)){if(this!==d&&this.layout&&g&&AP(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Yr();const j=uo(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+j;const S=uo(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+S}To(m,p),Hd(m,x),ip(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new oV),this.sharedNodes.get(d).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:m}=this.options;return m?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:m}=this.options;return m?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Py("z",d,g,this.animationValues);for(let x=0;x<ky.length;x++)Py(`rotate${ky[x]}`,d,g,this.animationValues),Py(`skew${ky[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}getProjectionStyles(d){var m,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lV;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Yg(d?.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Yg(d?.pointerEvents)||""),this.hasProjected&&!cu(this.latestValues)&&(A.transform=x?x({},""):"none",this.hasProjected=!1),A}const S=j.animationValues||j.latestValues;this.applyTransformsToTarget(),g.transform=aV(this.projectionDeltaWithTransform,this.treeScale,S),x&&(g.transform=x(S,g.transform));const{x:C,y:_}=this.projectionDelta;g.transformOrigin=`${C.origin*100}% ${_.origin*100}% 0`,j.animationValues?g.opacity=j===this?(p=(m=S.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:g.opacity=j===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const A in ux){if(S[A]===void 0)continue;const{correct:T,applyTo:z}=ux[A],P=g.transform==="none"?S[A]:T(S[A],j);if(z){const k=z.length;for(let I=0;I<k;I++)g[z[I]]=P}else g[A]=P}return this.options.layoutId&&(g.pointerEvents=j===this?Yg(d?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(gE),this.root.sharedNodes.clear()}}}function uV(t){t.updateLayout()}function dV(t){var n;const r=((n=t.resumeFrom)===null||n===void 0?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=t.layout,{animationType:u}=t.options,d=r.source!==t.layout.source;u==="size"?Ro(j=>{const S=d?r.measuredBox[j]:r.layoutBox[j],C=uo(S);S.min=i[j].min,S.max=S.min+C}):AP(u,r.layoutBox,i)&&Ro(j=>{const S=d?r.measuredBox[j]:r.layoutBox[j],C=uo(i[j]);S.max=S.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[j].max=t.relativeTarget[j].min+C)});const m=Vd();ip(m,i,r.layoutBox);const p=Vd();d?ip(p,t.applyTransform(l,!0),r.measuredBox):ip(p,i,r.layoutBox);const g=!CP(m);let x=!1;if(!t.resumeFrom){const j=t.getClosestProjectingParent();if(j&&!j.resumeFrom){const{snapshot:S,layout:C}=j;if(S&&C){const _=Yr();op(_,r.layoutBox,S.layoutBox);const A=Yr();op(A,i,C.layoutBox),wP(_,A)||(x=!0),j.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=_,t.relativeParent=j)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function hV(t){Ff&&uu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pV(t){t.clearSnapshot()}function gE(t){t.clearMeasurements()}function mV(t){t.isLayoutDirty=!1}function gV(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function xE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xV(t){t.resolveTargetDelta()}function vV(t){t.calcProjection()}function yV(t){t.resetSkewAndRotation()}function bV(t){t.removeLeadSnapshot()}function vE(t,n,r){t.translate=Br(n.translate,0,r),t.scale=Br(n.scale,1,r),t.origin=n.origin,t.originPoint=n.originPoint}function yE(t,n,r,i){t.min=Br(n.min,r.min,i),t.max=Br(n.max,r.max,i)}function jV(t,n,r,i){yE(t.x,n.x,r.x,i),yE(t.y,n.y,r.y,i)}function SV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CV={duration:.45,ease:[.4,0,.1,1]},bE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jE=bE("applewebkit/")&&!bE("chrome/")?Math.round:co;function SE(t){t.min=jE(t.min),t.max=jE(t.max)}function wV(t){SE(t.x),SE(t.y)}function AP(t,n,r){return t==="position"||t==="preserve-aspect"&&!A7(fE(n),fE(r),.2)}function _V(t){var n;return t!==t.root&&((n=t.scroll)===null||n===void 0?void 0:n.wasRoot)}const EV=EP({attachResizeListener:(t,n)=>Sp(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ry={current:void 0},TP=EP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ry.current){const t=new EV({});t.mount(window),t.setOptions({layoutScroll:!0}),Ry.current=t}return Ry.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AV={pan:{Feature:U7},drag:{Feature:V7,ProjectionNode:TP,MeasureLayout:bP}};function CE(t,n,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,u=i[l];u&&Ar.postRender(()=>u(n,qp(n)))}class TV extends Tc{mount(){const{current:n}=this.node;n&&(this.unmount=AF(n,r=>(CE(this.node,r,"Start"),i=>CE(this.node,i,"End"))))}unmount(){}}class kV extends Tc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wp(Sp(this.node.current,"focus",()=>this.onFocus()),Sp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wE(t,n,r){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),u=i[l];u&&Ar.postRender(()=>u(n,qp(n)))}class PV extends Tc{mount(){const{current:n}=this.node;n&&(this.unmount=RF(n,r=>(wE(this.node,r,"Start"),(i,{success:l})=>wE(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $b=new WeakMap,My=new WeakMap,RV=t=>{const n=$b.get(t.target);n&&n(t)},MV=t=>{t.forEach(RV)};function DV({root:t,...n}){const r=t||document;My.has(r)||My.set(r,{});const i=My.get(r),l=JSON.stringify(n);return i[l]||(i[l]=new IntersectionObserver(MV,{root:t,...n})),i[l]}function zV(t,n,r){const i=DV(n);return $b.set(t,r),i.observe(t),()=>{$b.delete(t),i.unobserve(t)}}const LV={some:0,all:1};class OV extends Tc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:l="some",once:u}=n,d={root:r?r.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:LV[l]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:j}=this.node.getProps(),S=g?x:j;S&&S(p)};return zV(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(NV(n,r))&&this.startObserver()}unmount(){}}function NV({viewport:t={}},{viewport:n={}}={}){return r=>t[r]!==n[r]}const IV={inView:{Feature:OV},tap:{Feature:PV},focus:{Feature:kV},hover:{Feature:TV}},BV={layout:{ProjectionNode:TP,MeasureLayout:bP}},Fb={current:null},kP={current:!1};function $V(){if(kP.current=!0,!!rS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Fb.current=t.matches;t.addListener(n),n()}else Fb.current=!1}const FV=[...eP,qs,jc],VV=t=>FV.find(Jk(t)),_E=new WeakMap;function UV(t,n,r){for(const i in n){const l=n[i],u=r[i];if(Gs(l))t.addValue(i,l);else if(Gs(u))t.addValue(i,bp(l,{owner:t}));else if(u!==l)if(t.hasValue(i)){const d=t.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=t.getStaticValue(i);t.addValue(i,bp(d!==void 0?d:l,{owner:t}))}}for(const i in r)n[i]===void 0&&t.removeValue(i);return n}const EE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HV{scrapeMotionValuesFromProps(n,r,i){return{}}constructor({parent:n,props:r,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=La.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Ar.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:x}=d;this.onUpdate=x,this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=g,this.parent=n,this.props=r,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=qx(r),this.isVariantNode=lk(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:j,...S}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in S){const _=S[C];p[C]!==void 0&&Gs(_)&&_.set(p[C],!1)}}mount(n){this.current=n,_E.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),kP.current||$V(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_E.delete(this.current),this.projection&&this.projection.unmount(),bc(this.notifyUpdate),bc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=Vu.has(n),l=r.on("change",m=>{this.latestValues[n]=m,this.props.onUpdate&&Ar.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{l(),u(),d&&d(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in ch){const r=ch[n];if(!r)continue;const{isEnabled:i,Feature:l}=r;if(!this.features[n]&&l&&i(this.props)&&(this.features[n]=new l(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<EE.length;i++){const l=EE[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=n[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=UV(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const i=this.values.get(n);r!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&r!==void 0&&(i=bp(r===null?void 0:r,{owner:this}),this.addValue(n,i)),i}readValue(n,r){var i;let l=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(i=this.getBaseTargetFromProps(this.props,n))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,n,this.options);return l!=null&&(typeof l=="string"&&(Kk(l)||Vk(l))?l=parseFloat(l):!VV(l)&&jc.test(r)&&(l=Zk(n,r)),this.setBaseTarget(n,Gs(l)?l.get():l)),Gs(l)?l.get():l}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){var r;const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const d=uS(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(l=d[n])}if(i&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,n);return u!==void 0&&!Gs(u)?u:this.initialValues[n]!==void 0&&l===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new wS),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}}class PP extends HV{constructor(){super(...arguments),this.KeyframeResolver=tP}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:i}){delete r[n],delete i[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Gs(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function WV(t){return window.getComputedStyle(t)}class qV extends PP{constructor(){super(...arguments),this.type="html",this.renderInstance=xk}readValueFromInstance(n,r){if(Vu.has(r)){const i=kS(r);return i&&i.default||0}else{const i=WV(n),l=(pk(r)?i.getPropertyValue(r):i[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:r}){return vP(n,r)}build(n,r,i){fS(n,r,i.transformTemplate)}scrapeMotionValuesFromProps(n,r,i){return xS(n,r,i)}}class GV extends PP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(Vu.has(r)){const i=kS(r);return i&&i.default||0}return r=vk.has(r)?r:aS(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,i){return jk(n,r,i)}build(n,r,i){pS(n,r,this.isSVGTag,i.transformTemplate)}renderInstance(n,r,i,l){yk(n,r,i,l)}mount(n){this.isSVGTag=gS(n.tagName),super.mount(n)}}const ZV=(t,n)=>cS(t)?new GV(n):new qV(n,{allowProjection:t!==y.Fragment}),YV=bF({...v7,...IV,...AV,...BV},ZV),Ua=L8(YV),XV=(t,n)=>t.find(r=>r.id===n);function AE(t,n){const r=RP(t,n),i=r?t[r].findIndex(l=>l.id===n):-1;return{position:r,index:i}}function RP(t,n){for(const[r,i]of Object.entries(t))if(XV(i,n))return r}function KV(t){const n=t.includes("right"),r=t.includes("left");let i="center";return n&&(i="flex-end"),r&&(i="flex-start"),{display:"flex",flexDirection:"column",alignItems:i}}function QV(t){const r=t==="top"||t==="bottom"?"0 auto":void 0,i=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,l=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,u=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",d=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:i,bottom:l,right:u,left:d}}var JV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eU=qT(function(t){return JV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),tU=eU,nU=function(n){return n!=="theme"},TE=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?tU:nU},kE=function(n,r,i){var l;if(r){var u=r.shouldForwardProp;l=n.__emotion_forwardProp&&u?function(d){return n.__emotion_forwardProp(d)&&u(d)}:u}return typeof l!="function"&&i&&(l=n.__emotion_forwardProp),l},rU=function(n){var r=n.cache,i=n.serialized,l=n.isStringTag;return qj(r,i,l),KT(function(){return Gj(r,i,l)}),null},sU=function t(n,r){var i=n.__emotion_real===n,l=i&&n.__emotion_base||n,u,d;r!==void 0&&(u=r.label,d=r.target);var m=kE(n,r,i),p=m||TE(l),g=!p("as");return function(){var x=arguments,j=i&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(u!==void 0&&j.push("label:"+u+";"),x[0]==null||x[0].raw===void 0)j.push.apply(j,x);else{var S=x[0];j.push(S[0]);for(var C=x.length,_=1;_<C;_++)j.push(x[_],S[_])}var A=Yj(function(T,z,P){var k=g&&T.as||l,I="",N=[],F=T;if(T.theme==null){F={};for(var Y in T)F[Y]=T[Y];F.theme=y.useContext(ah)}typeof T.className=="string"?I=ZT(z.registered,N,T.className):T.className!=null&&(I=T.className+" ");var q=Fx(j.concat(N),z.registered,F);I+=z.key+"-"+q.name,d!==void 0&&(I+=" "+d);var ce=g&&m===void 0?TE(k):p,de={};for(var le in T)g&&le==="as"||ce(le)&&(de[le]=T[le]);return de.className=I,P&&(de.ref=P),y.createElement(y.Fragment,null,y.createElement(rU,{cache:z,serialized:q,isStringTag:typeof k=="string"}),y.createElement(k,de))});return A.displayName=u!==void 0?u:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",A.defaultProps=n.defaultProps,A.__emotion_real=A,A.__emotion_base=l,A.__emotion_styles=j,A.__emotion_forwardProp=m,Object.defineProperty(A,"toString",{value:function(){return"."+d}}),A.withComponent=function(T,z){var P=t(T,Mu({},r,z,{shouldForwardProp:kE(A,z,!0)}));return P.apply(void 0,j)},A}},iU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vb=sU.bind(null);iU.forEach(function(t){Vb[t]=Vb(t)});const oU=new Set([...E4,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),aU=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function lU(t){return(aU.has(t)||!oU.has(t))&&t[0]!=="_"}const cU=wO(Vb),uU=({baseStyle:t})=>n=>{const{theme:r,css:i,__css:l,sx:u,...d}=n,[m]=MO(d,T4),p=io(t,n),g=uO({},l,p,Op(m),u),x=wT(g)(n.theme);return i?[x,i]:x};function Dy(t,n){const{baseStyle:r,...i}=n??{};i.shouldForwardProp||(i.shouldForwardProp=lU);const l=uU({baseStyle:r}),u=cU(t,i)(l);return y.forwardRef(function(p,g){const{children:x,...j}=p,{colorMode:S,forced:C}=Ux(),_=C?S:void 0;return y.createElement(u,{ref:g,"data-theme":_,...j},x)})}function dU(){const t=new Map;return new Proxy(Dy,{apply(n,r,i){return Dy(...i)},get(n,r){return t.has(r)||t.set(r,Dy(r)),t.get(r)}})}const Fe=dU(),hU={initial:t=>{const{position:n}=t,r=["top","bottom"].includes(n)?"y":"x";let i=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(i=1),{opacity:0,[r]:i*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},MP=y.memo(t=>{const{id:n,message:r,onCloseComplete:i,onRequestRemove:l,requestClose:u=!1,position:d="bottom",duration:m=5e3,containerStyle:p,motionVariants:g=hU,toastSpacing:x="0.5rem"}=t,[j,S]=y.useState(m),C=E8();Pu(()=>{C||i?.()},[C]),Pu(()=>{S(m)},[m]);const _=()=>S(null),A=()=>S(m),T=()=>{C&&l()};y.useEffect(()=>{C&&u&&l()},[C,u,l]),WO(T,j);const z=y.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:x,...p}),[p,x]),P=y.useMemo(()=>KV(d),[d]);return e.jsx(Ua.div,{layout:!0,className:"chakra-toast",variants:g,initial:"initial",animate:"animate",exit:"exit",onHoverStart:_,onHoverEnd:A,custom:{position:d},style:P,children:e.jsx(Fe.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:z,children:io(r,{id:n,onClose:T})})})});MP.displayName="ToastComponent";function Ke(t){return y.forwardRef(t)}var zy,PE;function fU(){if(PE)return zy;PE=1;var t=typeof Element<"u",n=typeof Map=="function",r=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){if(u.constructor!==d.constructor)return!1;var m,p,g;if(Array.isArray(u)){if(m=u.length,m!=d.length)return!1;for(p=m;p--!==0;)if(!l(u[p],d[p]))return!1;return!0}var x;if(n&&u instanceof Map&&d instanceof Map){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;for(x=u.entries();!(p=x.next()).done;)if(!l(p.value[1],d.get(p.value[0])))return!1;return!0}if(r&&u instanceof Set&&d instanceof Set){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(d)){if(m=u.length,m!=d.length)return!1;for(p=m;p--!==0;)if(u[p]!==d[p])return!1;return!0}if(u.constructor===RegExp)return u.source===d.source&&u.flags===d.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof d.valueOf=="function")return u.valueOf()===d.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof d.toString=="function")return u.toString()===d.toString();if(g=Object.keys(u),m=g.length,m!==Object.keys(d).length)return!1;for(p=m;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[p]))return!1;if(t&&u instanceof Element)return!1;for(p=m;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&u.$$typeof)&&!l(u[g[p]],d[g[p]]))return!1;return!0}return u!==u&&d!==d}return zy=function(d,m){try{return l(d,m)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},zy}var pU=fU();const mU=Dp(pU);function Uu(){const t=y.useContext(ah);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function DP(){const t=Ux(),n=Uu();return{...t,theme:n}}function gU(t,n,r){if(n==null)return n;const i=l=>t.__cssMap?.[l]?.value;return i(n)??i(r)??r}function xU(t,n,r){const i=Array.isArray(n)?n:[n],l=Array.isArray(r)?r:[r];return u=>{const d=l.filter(Boolean),m=i.map((p,g)=>{const x=`${t}.${p}`;return gU(u,x,d[g]??p)});return Array.isArray(n)?m:m[0]}}function vU(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0&&n!=="children"&&!y.isValidElement(r)))}function zP(t,n={}){const{styleConfig:r,...i}=n,{theme:l,colorMode:u}=DP(),d=t?hT(l,`components.${t}`):void 0,m=r||d,p=Do({theme:l,colorMode:u},m?.defaultProps??{},vU(i),(x,j)=>x?void 0:j),g=y.useRef({});if(m){const j=B4(m)(p);mU(g.current,j)||(g.current=j)}return g.current}function fi(t,n={}){return zP(t,n)}function ls(t,n={}){return zP(t,n)}const RE={path:e.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Hn=Ke((t,n)=>{const{as:r,viewBox:i,color:l="currentColor",focusable:u=!1,children:d,className:m,__css:p,...g}=t,x=lt("chakra-icon",m),j=fi("Icon",t),S={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:l,...p,...j},C={ref:n,focusable:u,className:x,__css:S},_=i??RE.viewBox;if(r&&typeof r!="string")return e.jsx(Fe.svg,{as:r,...C,...g});const A=d??RE.path;return e.jsx(Fe.svg,{verticalAlign:"middle",viewBox:_,...C,...g,children:A})});Hn.displayName="Icon";function yU(t){return e.jsx(Hn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function bU(t){return e.jsx(Hn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function ME(t){return e.jsx(Hn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const jU=Ec({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),pn=Ke((t,n)=>{const r=fi("Spinner",t),{label:i="Loading...",thickness:l="2px",speed:u="0.45s",emptyColor:d="transparent",className:m,...p}=$n(t),g=lt("chakra-spinner",m),x={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:d,borderLeftColor:d,animation:`${jU} ${u} linear infinite`,...r};return e.jsx(Fe.div,{ref:n,__css:x,className:g,...p,children:i&&e.jsx(Fe.span,{srOnly:!0,children:i})})});pn.displayName="Spinner";const[SU,zS]=In({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[CU,LS]=In({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),LP={info:{icon:bU,colorScheme:"blue"},warning:{icon:ME,colorScheme:"orange"},success:{icon:yU,colorScheme:"green"},error:{icon:ME,colorScheme:"red"},loading:{icon:pn,colorScheme:"blue"}};function wU(t){return LP[t].colorScheme}function _U(t){return LP[t].icon}const sn=Ke(function(n,r){const{status:i="info",addRole:l=!0,...u}=$n(n),d=n.colorScheme??wU(i),m=ls("Alert",{...n,colorScheme:d}),p={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...m.container};return e.jsx(SU,{value:{status:i},children:e.jsx(CU,{value:m,children:e.jsx(Fe.div,{"data-status":i,role:l?"alert":void 0,ref:r,...u,className:lt("chakra-alert",n.className),__css:p})})})});sn.displayName="Alert";function on(t){const{status:n}=zS(),r=_U(n),i=LS(),l=n==="loading"?i.spinner:i.icon;return e.jsx(Fe.span,{display:"inherit","data-status":n,...t,className:lt("chakra-alert__icon",t.className),__css:l,children:t.children||e.jsx(r,{h:"100%",w:"100%"})})}on.displayName="AlertIcon";const OP=Ke(function(n,r){const i=LS(),{status:l}=zS();return e.jsx(Fe.div,{ref:r,"data-status":l,...n,className:lt("chakra-alert__title",n.className),__css:i.title})});OP.displayName="AlertTitle";const NP=Ke(function(n,r){const{status:i}=zS(),l=LS(),u={display:"inline",...l.description};return e.jsx(Fe.div,{ref:r,"data-status":i,...n,className:lt("chakra-alert__desc",n.className),__css:u})});NP.displayName="AlertDescription";function EU(t){return e.jsx(Hn,{focusable:"false","aria-hidden":!0,...t,children:e.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const OS=Ke(function(n,r){const i=fi("CloseButton",n),{children:l,isDisabled:u,__css:d,...m}=$n(n),p={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return e.jsx(Fe.button,{type:"button","aria-label":"Close",ref:r,disabled:u,__css:{...p,...i,...d},...m,children:l||e.jsx(EU,{width:"1em",height:"1em"})})});OS.displayName="CloseButton";const AU=t=>{const{status:n,variant:r="solid",id:i,title:l,isClosable:u,onClose:d,description:m,colorScheme:p,icon:g}=t,x=i?{root:`toast-${i}`,title:`toast-${i}-title`,description:`toast-${i}-description`}:void 0;return e.jsxs(sn,{addRole:!1,status:n,variant:r,id:x?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:p,children:[e.jsx(on,{children:g}),e.jsxs(Fe.div,{flex:"1",maxWidth:"100%",children:[l&&e.jsx(OP,{id:x?.title,children:l}),m&&e.jsx(NP,{id:x?.description,display:"block",children:m})]}),u&&e.jsx(OS,{size:"sm",onClick:d,position:"absolute",insetEnd:1,top:1})]})};function IP(t={}){const{render:n,toastComponent:r=AU}=t;return l=>typeof n=="function"?n({...l,...t}):e.jsx(r,{...l,...t})}const TU={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},ka=kU(TU);function kU(t){let n=t;const r=new Set,i=l=>{n=l(n),r.forEach(u=>u())};return{getState:()=>n,subscribe:l=>(r.add(l),()=>{i(()=>t),r.delete(l)}),removeToast:(l,u)=>{i(d=>({...d,[u]:d[u].filter(m=>m.id!=l)}))},notify:(l,u)=>{const d=PU(l,u),{position:m,id:p}=d;return i(g=>{const j=m.includes("top")?[d,...g[m]??[]]:[...g[m]??[],d];return{...g,[m]:j}}),p},update:(l,u)=>{l&&i(d=>{const m={...d},{position:p,index:g}=AE(m,l);return p&&g!==-1&&(m[p][g]={...m[p][g],...u,message:IP(u)}),m})},closeAll:({positions:l}={})=>{i(u=>(l??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((p,g)=>(p[g]=u[g].map(x=>({...x,requestClose:!0})),p),{...u}))},close:l=>{i(u=>{const d=RP(u,l);return d?{...u,[d]:u[d].map(m=>m.id==l?{...m,requestClose:!0}:m)}:u})},isActive:l=>!!AE(ka.getState(),l).position}}let DE=0;function PU(t,n={}){DE+=1;const r=n.id??DE,i=n.position??"bottom";return{id:r,message:t,position:i,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>ka.removeToast(String(r),i),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}const[BP,RU]=In({strict:!1,name:"PortalContext"}),NS="chakra-portal",MU=".chakra-portal",DU=t=>e.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),zU=t=>{const{appendToParentPortal:n,children:r}=t,[i,l]=y.useState(null),u=y.useRef(null),[,d]=y.useState({});y.useEffect(()=>d({}),[]);const m=RU(),p=y8();Cl(()=>{if(!i)return;const x=i.ownerDocument,j=n?m??x.body:x.body;if(!j)return;u.current=x.createElement("div"),u.current.className=NS,j.appendChild(u.current),d({});const S=u.current;return()=>{j.contains(S)&&j.removeChild(S)}},[i]);const g=p?.zIndex?e.jsx(DU,{zIndex:p?.zIndex,children:r}):r;return u.current?zj.createPortal(e.jsx(BP,{value:u.current,children:g}),u.current):e.jsx("span",{ref:x=>{x&&l(x)}})},LU=t=>{const{children:n,containerRef:r,appendToParentPortal:i}=t,l=r.current,u=l??(typeof window<"u"?document.body:void 0),d=y.useMemo(()=>{const p=l?.ownerDocument.createElement("div");return p&&(p.className=NS),p},[l]),[,m]=y.useState({});return Cl(()=>m({}),[]),Cl(()=>{if(!(!d||!u))return u.appendChild(d),()=>{u.removeChild(d)}},[d,u]),u&&d?zj.createPortal(e.jsx(BP,{value:i?d:null,children:n}),d):null};function Sh(t){const n={appendToParentPortal:!0,...t},{containerRef:r,...i}=n;return r?e.jsx(LU,{containerRef:r,...i}):e.jsx(zU,{...i})}Sh.className=NS;Sh.selector=MU;Sh.displayName="Portal";const[OU,NU]=In({name:"ToastOptionsContext",strict:!1}),IU=t=>{const n=y.useSyncExternalStore(ka.subscribe,ka.getState,ka.getState),{motionVariants:r,component:i=MP,portalProps:l,animatePresenceProps:u}=t,m=Object.keys(n).map(p=>{const g=n[p];return e.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${p}`,id:`chakra-toast-manager-${p}`,style:QV(p),children:e.jsx(Ac,{...u,initial:!1,children:g.map(x=>e.jsx(i,{motionVariants:r,...x},x.id))})},p)});return e.jsx(Sh,{...l,children:m})},BU=t=>function({children:r,theme:i=t,toastOptions:l,...u}){return e.jsxs(j8,{theme:i,...u,children:[e.jsx(OU,{value:l?.defaultOptions,children:r}),e.jsx(IU,{...l})]})},$U=BU(BT);function zE(t){return t.sort((n,r)=>{const i=n.compareDocumentPosition(r);if(i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(i&Node.DOCUMENT_POSITION_DISCONNECTED||i&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const FU=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function LE(t,n,r){let i=t+1;return r&&i>=n&&(i=0),i}function OE(t,n,r){let i=t-1;return r&&i<0&&(i=n),i}const Ly=typeof window<"u"?y.useLayoutEffect:y.useEffect,NE=t=>t;var VU=Object.defineProperty,UU=(t,n,r)=>n in t?VU(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Vr=(t,n,r)=>(UU(t,typeof n!="symbol"?n+"":n,r),r);class HU{constructor(){Vr(this,"descendants",new Map),Vr(this,"register",n=>{if(n!=null)return FU(n)?this.registerNode(n):r=>{this.registerNode(r,n)}}),Vr(this,"unregister",n=>{this.descendants.delete(n);const r=zE(Array.from(this.descendants.keys()));this.assignIndex(r)}),Vr(this,"destroy",()=>{this.descendants.clear()}),Vr(this,"assignIndex",n=>{this.descendants.forEach(r=>{const i=n.indexOf(r.node);r.index=i,r.node.dataset.index=r.index.toString()})}),Vr(this,"count",()=>this.descendants.size),Vr(this,"enabledCount",()=>this.enabledValues().length),Vr(this,"values",()=>Array.from(this.descendants.values()).sort((r,i)=>r.index-i.index)),Vr(this,"enabledValues",()=>this.values().filter(n=>!n.disabled)),Vr(this,"item",n=>{if(this.count()!==0)return this.values()[n]}),Vr(this,"enabledItem",n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]}),Vr(this,"first",()=>this.item(0)),Vr(this,"firstEnabled",()=>this.enabledItem(0)),Vr(this,"last",()=>this.item(this.descendants.size-1)),Vr(this,"lastEnabled",()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)}),Vr(this,"indexOf",n=>n?this.descendants.get(n)?.index??-1:-1),Vr(this,"enabledIndexOf",n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n))),Vr(this,"next",(n,r=!0)=>{const i=LE(n,this.count(),r);return this.item(i)}),Vr(this,"nextEnabled",(n,r=!0)=>{const i=this.item(n);if(!i)return;const l=this.enabledIndexOf(i.node),u=LE(l,this.enabledCount(),r);return this.enabledItem(u)}),Vr(this,"prev",(n,r=!0)=>{const i=OE(n,this.count()-1,r);return this.item(i)}),Vr(this,"prevEnabled",(n,r=!0)=>{const i=this.item(n);if(!i)return;const l=this.enabledIndexOf(i.node),u=OE(l,this.enabledCount()-1,r);return this.enabledItem(u)}),Vr(this,"registerNode",(n,r)=>{if(!n||this.descendants.has(n))return;const i=Array.from(this.descendants.keys()).concat(n),l=zE(i);r?.disabled&&(r.disabled=!!r.disabled);const u={node:n,index:-1,...r};this.descendants.set(n,u),this.assignIndex(l)})}}function Yx(){const[t,n]=In({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,n,()=>{const l=y.useRef(new HU);return Ly(()=>()=>l.current.destroy()),l.current},l=>{const u=n(),[d,m]=y.useState(-1),p=y.useRef(null);Ly(()=>()=>{p.current&&u.unregister(p.current)},[]),Ly(()=>{if(!p.current)return;const x=Number(p.current.dataset.index);d!=x&&!Number.isNaN(x)&&m(x)});const g=NE(l?u.register(l):u.register);return{descendants:u,index:d,enabledIndex:u.enabledIndexOf(p.current),register:Qr(g,p)}}]}const[WU,Xx]=In({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[qU,IS]=In({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[GU,GJ,ZU,YU]=Yx();function XU(t){const{onChange:n,defaultIndex:r,index:i,allowMultiple:l,allowToggle:u,...d}=t;JU(t),eH(t);const m=ZU(),[p,g]=y.useState(-1);y.useEffect(()=>()=>{g(-1)},[]);const[x,j]=Bp({value:i,defaultValue(){return l?r??[]:r??-1},onChange:n});return{index:x,setIndex:j,htmlProps:d,getAccordionItemProps:C=>{let _=!1;return C!==null&&(_=Array.isArray(x)?x.includes(C):x===C),{isOpen:_,onChange:T=>{if(C!==null)if(l&&Array.isArray(x)){const z=T?x.concat(C):x.filter(P=>P!==C);j(z)}else T?j(C):u&&j(-1)}}},focusedIndex:p,setFocusedIndex:g,descendants:m}}const[KU,BS]=In({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function QU(t){const{isDisabled:n,isFocusable:r,id:i,...l}=t,{getAccordionItemProps:u,setFocusedIndex:d}=BS(),m=y.useRef(null),p=y.useId(),g=i??p,x=`accordion-button-${g}`,j=`accordion-panel-${g}`;tH(t);const{register:S,index:C,descendants:_}=YU({disabled:n&&!r}),{isOpen:A,onChange:T}=u(C===-1?null:C);nH({isOpen:A,isDisabled:n});const z=()=>{T?.(!0)},P=()=>{T?.(!1)},k=y.useCallback(()=>{T?.(!A),d(C)},[C,d,A,T]),I=y.useCallback(q=>{const de={ArrowDown:()=>{_.nextEnabled(C)?.node.focus()},ArrowUp:()=>{_.prevEnabled(C)?.node.focus()},Home:()=>{_.firstEnabled()?.node.focus()},End:()=>{_.lastEnabled()?.node.focus()}}[q.key];de&&(q.preventDefault(),de(q))},[_,C]),N=y.useCallback(()=>{d(C)},[d,C]),F=y.useCallback(function(ce={},de=null){return{...ce,type:"button",ref:Qr(S,m,de),id:x,disabled:!!n,"aria-expanded":!!A,"aria-controls":j,onClick:en(ce.onClick,k),onFocus:en(ce.onFocus,N),onKeyDown:en(ce.onKeyDown,I)}},[x,n,A,k,N,I,j,S]),Y=y.useCallback(function(ce={},de=null){return{...ce,ref:de,role:"region",id:j,"aria-labelledby":x,hidden:!A}},[x,A,j]);return{isOpen:A,isDisabled:n,isFocusable:r,onOpen:z,onClose:P,getButtonProps:F,getPanelProps:Y,htmlProps:l}}function JU(t){const n=t.index||t.defaultIndex,r=n!=null&&!Array.isArray(n)&&t.allowMultiple;Ip({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function eH(t){Ip({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function tH(t){Ip({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function nH(t){Ip({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}const $P=Ke(function({children:n,reduceMotion:r,...i},l){const u=ls("Accordion",i),d=$n(i),{htmlProps:m,descendants:p,...g}=XU(d),x=y.useMemo(()=>({...g,reduceMotion:!!r}),[g,r]);return e.jsx(GU,{value:p,children:e.jsx(KU,{value:x,children:e.jsx(WU,{value:u,children:e.jsx(Fe.div,{ref:l,...m,className:lt("chakra-accordion",i.className),__css:u.root,children:n})})})})});$P.displayName="Accordion";const FP=Ke(function(n,r){const{getButtonProps:i}=IS(),l=i(n,r),d={display:"flex",alignItems:"center",width:"100%",outline:0,...Xx().button};return e.jsx(Fe.button,{...l,className:lt("chakra-accordion__button",n.className),__css:d})});FP.displayName="AccordionButton";function VP(t){const{isOpen:n,isDisabled:r}=IS(),{reduceMotion:i}=BS(),l=lt("chakra-accordion__icon",t.className),u=Xx(),d={opacity:r?.4:1,transform:n?"rotate(-180deg)":void 0,transition:i?void 0:"transform 0.2s",transformOrigin:"center",...u.icon};return e.jsx(Hn,{viewBox:"0 0 24 24","aria-hidden":!0,className:l,__css:d,...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}VP.displayName="AccordionIcon";const UP=Ke(function(n,r){const{children:i,className:l}=n,{htmlProps:u,...d}=QU(n),m=Xx(),p={...m.container,overflowAnchor:"none"},g=y.useMemo(()=>d,[d]);return e.jsx(qU,{value:g,children:e.jsx(Fe.div,{ref:r,...u,className:lt("chakra-accordion__item",l),__css:p,children:typeof i=="function"?i({isExpanded:!!d.isOpen,isDisabled:!!d.isDisabled}):i})})});UP.displayName="AccordionItem";const gu={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},_f={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function Ub(t){switch(t?.direction??"right"){case"right":return _f.slideRight;case"left":return _f.slideLeft;case"bottom":return _f.slideDown;case"top":return _f.slideUp;default:return _f.slideRight}}const _u={enter:{duration:.2,ease:gu.easeOut},exit:{duration:.1,ease:gu.easeIn}},Jo={enter:(t,n)=>({...t,delay:typeof n=="number"?n:n?.enter}),exit:(t,n)=>({...t,delay:typeof n=="number"?n:n?.exit})},rH=t=>t!=null&&parseInt(t.toString(),10)>0,IE={exit:{height:{duration:.2,ease:gu.ease},opacity:{duration:.3,ease:gu.ease}},enter:{height:{duration:.3,ease:gu.ease},opacity:{duration:.4,ease:gu.ease}}},sH={exit:({animateOpacity:t,startingHeight:n,transition:r,transitionEnd:i,delay:l})=>({...t&&{opacity:rH(n)?1:0},height:n,transitionEnd:i?.exit,transition:r?.exit??Jo.exit(IE.exit,l)}),enter:({animateOpacity:t,endingHeight:n,transition:r,transitionEnd:i,delay:l})=>({...t&&{opacity:1},height:n,transitionEnd:i?.enter,transition:r?.enter??Jo.enter(IE.enter,l)})},$S=y.forwardRef((t,n)=>{const{in:r,unmountOnExit:i,animateOpacity:l=!0,startingHeight:u=0,endingHeight:d="auto",style:m,className:p,transition:g,transitionEnd:x,animatePresenceProps:j,...S}=t,[C,_]=y.useState(!1);y.useEffect(()=>{const k=setTimeout(()=>{_(!0)});return()=>clearTimeout(k)},[]),Ip({condition:Number(u)>0&&!!i,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const A=parseFloat(u.toString())>0,T={startingHeight:u,endingHeight:d,animateOpacity:l,transition:C?g:{enter:{duration:0}},transitionEnd:{enter:x?.enter,exit:i?x?.exit:{...x?.exit,display:A?"block":"none"}}},z=i?r:!0,P=r||i?"enter":"exit";return e.jsx(Ac,{...j,initial:!1,custom:T,children:z&&e.jsx(Ua.div,{ref:n,...S,className:lt("chakra-collapse",p),style:{overflow:"hidden",display:"block",...m},custom:T,variants:sH,initial:i?"exit":!1,animate:P,exit:"exit"})})});$S.displayName="Collapse";const HP=Ke(function(n,r){const{className:i,motionProps:l,...u}=n,{reduceMotion:d}=BS(),{getPanelProps:m,isOpen:p}=IS(),g=m(u,r),x=lt("chakra-accordion__panel",i),j=Xx();d||delete g.hidden;const S=e.jsx(Fe.div,{...g,__css:j.panel,className:x});return d?S:e.jsx($S,{in:p,...l,children:S})});HP.displayName="AccordionPanel";const[iH,oH]=In({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function aH(t){const n=t.trim().split(" "),r=n[0]??"",i=n.length>1?n[n.length-1]:"";return r&&i?`${r.charAt(0)}${i.charAt(0)}`:r.charAt(0)}function WP(t){const{name:n,getInitials:r,...i}=t,l=oH();return e.jsx(Fe.div,{role:"img","aria-label":n,...i,__css:l.label,children:n?r?.(n):null})}WP.displayName="AvatarName";const qP=t=>e.jsxs(Fe.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[e.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),e.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function GP(t){const{loading:n,src:r,srcSet:i,onLoad:l,onError:u,crossOrigin:d,sizes:m,ignoreFallback:p}=t,[g,x]=y.useState("pending");y.useEffect(()=>{x(r?"loading":"pending")},[r]);const j=y.useRef(null),S=y.useCallback(()=>{if(!r)return;C();const _=new Image;_.src=r,d&&(_.crossOrigin=d),i&&(_.srcset=i),m&&(_.sizes=m),n&&(_.loading=n),_.onload=A=>{C(),x("loaded"),l?.(A)},_.onerror=A=>{C(),x("failed"),u?.(A)},j.current=_},[r,d,i,m,l,u,n]),C=()=>{j.current&&(j.current.onload=null,j.current.onerror=null,j.current=null)};return Cl(()=>{if(!p)return g==="loading"&&S(),()=>{C()}},[g,S,p]),p?"loaded":g}const lH=(t,n)=>t!=="loaded"&&n==="beforeLoadOrError"||t==="failed"&&n==="onError";function ZP(t){const{src:n,srcSet:r,onError:i,onLoad:l,getInitials:u,name:d,borderRadius:m,loading:p,iconLabel:g,icon:x=e.jsx(qP,{}),ignoreFallback:j,referrerPolicy:S,crossOrigin:C}=t,A=GP({src:n,onError:i,crossOrigin:C,ignoreFallback:j})==="loaded";return!n||!A?d?e.jsx(WP,{className:"chakra-avatar__initials",getInitials:u,name:d}):y.cloneElement(x,{role:"img","aria-label":g}):e.jsx(Fe.img,{src:n,srcSet:r,alt:d??g,onLoad:l,referrerPolicy:S,crossOrigin:C??void 0,className:"chakra-avatar__img",loading:p,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:m}})}ZP.displayName="AvatarImage";const cH={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},YP=Ke((t,n)=>{const r=ls("Avatar",t),[i,l]=y.useState(!1),{src:u,srcSet:d,name:m,showBorder:p,borderRadius:g="full",onError:x,onLoad:j,getInitials:S=aH,icon:C=e.jsx(qP,{}),iconLabel:_=" avatar",loading:A,children:T,borderColor:z,ignoreFallback:P,crossOrigin:k,referrerPolicy:I,...N}=$n(t),F={borderRadius:g,borderWidth:p?"2px":void 0,...cH,...r.container};return z&&(F.borderColor=z),e.jsx(Fe.span,{ref:n,...N,className:lt("chakra-avatar",t.className),"data-loaded":Sn(i),__css:F,children:e.jsxs(iH,{value:r,children:[e.jsx(ZP,{src:u,srcSet:d,loading:A,onLoad:en(j,()=>{l(!0)}),onError:x,getInitials:S,name:m,borderRadius:g,icon:C,iconLabel:_,ignoreFallback:P,crossOrigin:k,referrerPolicy:I}),T]})})});YP.displayName="Avatar";const et=Ke(function(n,r){const i=fi("Badge",n),{className:l,...u}=$n(n);return e.jsx(Fe.span,{ref:r,className:lt("chakra-badge",n.className),...u,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...i}})});et.displayName="Badge";const ue=Fe("div");ue.displayName="Box";const[uH,FS]=In({name:"BreadcrumbStylesContext",errorMessage:`useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Breadcrumb />" `}),Hb=Ke(function(n,r){const i=ls("Breadcrumb",n),l=$n(n),{children:u,spacing:d="0.5rem",separator:m="/",className:p,listProps:g,...x}=l,j=_c(u),S=j.length,C=j.map((A,T)=>y.cloneElement(A,{separator:m,spacing:d,isLastChild:S===T+1})),_=lt("chakra-breadcrumb",p);return e.jsx(Fe.nav,{ref:r,"aria-label":"breadcrumb",className:_,__css:i.container,...x,children:e.jsx(uH,{value:i,children:e.jsx(Fe.ol,{className:"chakra-breadcrumb__list",...g,__css:{display:"flex",alignItems:"center",...i.list},children:C})})})});Hb.displayName="Breadcrumb";const gx=Ke(function(n,r){const{isCurrentPage:i,as:l,className:u,href:d,...m}=n,p=FS(),g={ref:r,as:l,className:lt("chakra-breadcrumb__link",u),...m};return i?e.jsx(Fe.span,{"aria-current":"page",__css:p.link,...g}):e.jsx(Fe.a,{__css:p.link,href:d,...g})});gx.displayName="BreadcrumbLink";const Wb=Ke(function(n,r){const{spacing:i,...l}=n,u=FS(),d={mx:i,...u.separator};return e.jsx(Fe.span,{ref:r,role:"presentation",...l,__css:d})});Wb.displayName="BreadcrumbSeparator";const qb=Ke(function(n,r){const{isCurrentPage:i,separator:l,isLastChild:u,spacing:d,children:m,className:p,...g}=n,j=_c(m).map(A=>A.type===gx?y.cloneElement(A,{isCurrentPage:i}):A.type===Wb?y.cloneElement(A,{spacing:d,children:A.props.children||l}):A),S=FS(),C={display:"inline-flex",alignItems:"center",...S.item},_=lt("chakra-breadcrumb__list-item",p);return e.jsxs(Fe.li,{ref:r,className:_,...g,__css:C,children:[j,!u&&e.jsx(Wb,{spacing:d,children:l})]})});qb.displayName="BreadcrumbItem";const[dH,hH]=In({strict:!1,name:"ButtonGroupContext"});function Vf(t){const{children:n,className:r,...i}=t,l=y.isValidElement(n)?y.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,u=lt("chakra-button__icon",r);return e.jsx(Fe.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:u,children:l})}Vf.displayName="ButtonIcon";function Gb(t){const{label:n,placement:r,spacing:i="0.5rem",children:l=e.jsx(pn,{color:"currentColor",width:"1em",height:"1em"}),className:u,__css:d,...m}=t,p=lt("chakra-button__spinner",u),g=r==="start"?"marginEnd":"marginStart",x=y.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[g]:n?i:0,fontSize:"1em",lineHeight:"normal",...d}),[d,n,g,i]);return e.jsx(Fe.div,{className:p,...m,__css:x,children:l})}Gb.displayName="ButtonSpinner";function fH(t){const[n,r]=y.useState(!t);return{ref:y.useCallback(u=>{u&&r(u.tagName==="BUTTON")},[]),type:n?"button":void 0}}const ne=Ke((t,n)=>{const r=hH(),i=fi("Button",{...r,...t}),{isDisabled:l=r?.isDisabled,isLoading:u,isActive:d,children:m,leftIcon:p,rightIcon:g,loadingText:x,iconSpacing:j="0.5rem",type:S,spinner:C,spinnerPlacement:_="start",className:A,as:T,shouldWrapChildren:z,...P}=$n(t),k=y.useMemo(()=>{const Y={...i?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!r&&{_focus:Y}}},[i,r]),{ref:I,type:N}=fH(T),F={rightIcon:g,leftIcon:p,iconSpacing:j,children:m,shouldWrapChildren:z};return e.jsxs(Fe.button,{disabled:l||u,ref:UO(n,I),as:T,type:S??N,"data-active":Sn(d),"data-loading":Sn(u),__css:k,className:lt("chakra-button",A),...P,children:[u&&_==="start"&&e.jsx(Gb,{className:"chakra-button__spinner--start",label:x,placement:"start",spacing:j,children:C}),u?x||e.jsx(Fe.span,{opacity:0,children:e.jsx(BE,{...F})}):e.jsx(BE,{...F}),u&&_==="end"&&e.jsx(Gb,{className:"chakra-button__spinner--end",label:x,placement:"end",spacing:j,children:C})]})});ne.displayName="Button";function BE(t){const{leftIcon:n,rightIcon:r,children:i,iconSpacing:l,shouldWrapChildren:u}=t;return u?e.jsxs("span",{style:{display:"contents"},children:[n&&e.jsx(Vf,{marginEnd:l,children:n}),i,r&&e.jsx(Vf,{marginStart:l,children:r})]}):e.jsxs(e.Fragment,{children:[n&&e.jsx(Vf,{marginEnd:l,children:n}),i,r&&e.jsx(Vf,{marginStart:l,children:r})]})}const pH={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},mH={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},Zb=Ke(function(n,r){const{size:i,colorScheme:l,variant:u,className:d,spacing:m="0.5rem",isAttached:p,isDisabled:g,orientation:x="horizontal",...j}=n,S=lt("chakra-button__group",d),C=y.useMemo(()=>({size:i,colorScheme:l,variant:u,isDisabled:g}),[i,l,u,g]);let _={display:"inline-flex",...p?pH[x]:mH[x](m)};const A=x==="vertical";return e.jsx(dH,{value:C,children:e.jsx(Fe.div,{ref:r,role:"group",__css:_,className:S,"data-attached":p?"":void 0,"data-orientation":x,flexDir:A?"column":void 0,...j})})});Zb.displayName="ButtonGroup";const ut=Ke((t,n)=>{const{icon:r,children:i,isRound:l,"aria-label":u,...d}=t,m=r||i,p=y.isValidElement(m)?y.cloneElement(m,{"aria-hidden":!0,focusable:!1}):null;return e.jsx(ne,{px:"0",py:"0",borderRadius:l?"full":void 0,ref:n,"aria-label":u,...d,children:p})});ut.displayName="IconButton";const[gH,XP]=g8("Card"),$e=Ke(function(n,r){const{className:i,children:l,direction:u="column",justify:d,align:m,...p}=$n(n),g=ls("Card",n);return e.jsx(Fe.div,{ref:r,className:lt("chakra-card",i),__css:{display:"flex",flexDirection:u,justifyContent:d,alignItems:m,position:"relative",minWidth:0,wordWrap:"break-word",...g.container},...p,children:e.jsx(gH,{value:g,children:l})})}),Be=Ke(function(n,r){const{className:i,...l}=n,u=XP();return e.jsx(Fe.div,{ref:r,className:lt("chakra-card__body",i),__css:u.body,...l})}),Nt=Ke(function(n,r){const{className:i,...l}=n,u=XP();return e.jsx(Fe.div,{ref:r,className:lt("chakra-card__header",i),__css:u.header,...l})}),xn=Fe("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});xn.displayName="Center";const xH={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Ke(function(n,r){const{axis:i="both",...l}=n;return e.jsx(Fe.div,{ref:r,__css:xH[i],...l,position:"absolute"})});const[vH,yH]=In({name:"CheckboxGroupContext",strict:!1});function bH(t){return e.jsx(Fe.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function jH(t){return e.jsx(Fe.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function SH(t){const{isIndeterminate:n,isChecked:r,...i}=t,l=n?jH:bH;return r||n?e.jsx(Fe.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(l,{...i})}):null}var CH=()=>typeof document<"u",$E=!1,Gp=null,Du=!1,Yb=!1,Xb=new Set;function VS(t,n){Xb.forEach(r=>r(t,n))}var wH=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function _H(t){return!(t.metaKey||!wH&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function FE(t){Du=!0,_H(t)&&(Gp="keyboard",VS("keyboard",t))}function Ad(t){if(Gp="pointer",t.type==="mousedown"||t.type==="pointerdown"){Du=!0;const n=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=n.matches(":focus-visible")}catch{}if(r)return;VS("pointer",t)}}function EH(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function AH(t){EH(t)&&(Du=!0,Gp="virtual")}function TH(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Du&&!Yb&&(Gp="virtual",VS("virtual",t)),Du=!1,Yb=!1)}function kH(){Du=!1,Yb=!0}function VE(){return Gp!=="pointer"}function PH(){if(!CH()||$E)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...r){Du=!0,t.apply(this,r)},document.addEventListener("keydown",FE,!0),document.addEventListener("keyup",FE,!0),document.addEventListener("click",AH,!0),window.addEventListener("focus",TH,!0),window.addEventListener("blur",kH,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Ad,!0),document.addEventListener("pointermove",Ad,!0),document.addEventListener("pointerup",Ad,!0)):(document.addEventListener("mousedown",Ad,!0),document.addEventListener("mousemove",Ad,!0),document.addEventListener("mouseup",Ad,!0)),$E=!0}function RH(t){PH(),t(VE());const n=()=>t(VE());return Xb.add(n),()=>{Xb.delete(n)}}const[MH,KP]=In({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[DH,Kx]=In({strict:!1,name:"FormControlContext"});function zH(t){const{id:n,isRequired:r,isInvalid:i,isDisabled:l,isReadOnly:u,...d}=t,m=y.useId(),p=n||`field-${m}`,g=`${p}-label`,x=`${p}-feedback`,j=`${p}-helptext`,[S,C]=y.useState(!1),[_,A]=y.useState(!1),[T,z]=y.useState(!1),P=y.useCallback((Y={},q=null)=>({id:j,...Y,ref:Qr(q,ce=>{ce&&A(!0)})}),[j]),k=y.useCallback((Y={},q=null)=>({...Y,ref:q,"data-focus":Sn(T),"data-disabled":Sn(l),"data-invalid":Sn(i),"data-readonly":Sn(u),id:Y.id!==void 0?Y.id:g,htmlFor:Y.htmlFor!==void 0?Y.htmlFor:p}),[p,l,T,i,u,g]),I=y.useCallback((Y={},q=null)=>({id:x,...Y,ref:Qr(q,ce=>{ce&&C(!0)}),"aria-live":"polite"}),[x]),N=y.useCallback((Y={},q=null)=>({...Y,...d,ref:q,role:"group","data-focus":Sn(T),"data-disabled":Sn(l),"data-invalid":Sn(i),"data-readonly":Sn(u)}),[d,l,T,i,u]),F=y.useCallback((Y={},q=null)=>({...Y,ref:q,role:"presentation","aria-hidden":!0,children:Y.children||"*"}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!u,isDisabled:!!l,isFocused:!!T,onFocus:()=>z(!0),onBlur:()=>z(!1),hasFeedbackText:S,setHasFeedbackText:C,hasHelpText:_,setHasHelpText:A,id:p,labelId:g,feedbackId:x,helpTextId:j,htmlProps:d,getHelpTextProps:P,getErrorMessageProps:I,getRootProps:N,getLabelProps:k,getRequiredIndicatorProps:F}}const te=Ke(function(n,r){const i=ls("Form",n),l=$n(n),{getRootProps:u,htmlProps:d,...m}=zH(l),p=lt("chakra-form-control",n.className);return e.jsx(DH,{value:m,children:e.jsx(MH,{value:i,children:e.jsx(Fe.div,{...u({},r),className:p,__css:i.container})})})});te.displayName="FormControl";const Qg=Ke(function(n,r){const i=Kx(),l=KP(),u=lt("chakra-form__helper-text",n.className);return e.jsx(Fe.div,{...i?.getHelpTextProps(n,r),__css:l.helperText,className:u})});Qg.displayName="FormHelperText";function US(t){const{isDisabled:n,isInvalid:r,isReadOnly:i,isRequired:l,...u}=HS(t);return{...u,disabled:n,readOnly:i,required:l,"aria-invalid":bu(r),"aria-required":bu(l),"aria-readonly":bu(i)}}function HS(t){const n=Kx(),{id:r,disabled:i,readOnly:l,required:u,isRequired:d,isInvalid:m,isReadOnly:p,isDisabled:g,onFocus:x,onBlur:j,...S}=t,C=t["aria-describedby"]?[t["aria-describedby"]]:[];return n?.hasFeedbackText&&n?.isInvalid&&C.push(n.feedbackId),n?.hasHelpText&&C.push(n.helpTextId),{...S,"aria-describedby":C.join(" ")||void 0,id:r??n?.id,isDisabled:i??g??n?.isDisabled,isReadOnly:l??p??n?.isReadOnly,isRequired:u??d??n?.isRequired,isInvalid:m??n?.isInvalid,onFocus:en(n?.onFocus,x),onBlur:en(n?.onBlur,j)}}const WS={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function QP(t={}){const n=HS(t),{isDisabled:r,isReadOnly:i,isRequired:l,isInvalid:u,id:d,onBlur:m,onFocus:p,"aria-describedby":g}=n,{defaultChecked:x,isChecked:j,isFocusable:S,onChange:C,isIndeterminate:_,name:A,value:T,tabIndex:z=void 0,"aria-label":P,"aria-labelledby":k,"aria-invalid":I,...N}=t,F=Np(N,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),Y=ps(C),q=ps(m),ce=ps(p),[de,le]=y.useState(!1),[ve,Pe]=y.useState(!1),[me,G]=y.useState(!1),Z=y.useRef(!1);y.useEffect(()=>RH(Ve=>{Z.current=Ve}),[]);const H=y.useRef(null),[W,Se]=y.useState(!0),[B,ie]=y.useState(!!x),pe=j!==void 0,$=pe?j:B,V=y.useCallback(Ve=>{if(i||r){Ve.preventDefault();return}pe||ie($?Ve.currentTarget.checked:_?!0:Ve.currentTarget.checked),Y?.(Ve)},[i,r,$,pe,_,Y]);Cl(()=>{H.current&&(H.current.indeterminate=!!_)},[_]),Pu(()=>{r&&le(!1)},[r,le]),Cl(()=>{const Ve=H.current;if(!Ve?.form)return;const $t=()=>{ie(!!x)};return Ve.form.addEventListener("reset",$t),()=>Ve.form?.removeEventListener("reset",$t)},[]);const M=r&&!S,Q=y.useCallback(Ve=>{Ve.key===" "&&G(!0)},[G]),Ee=y.useCallback(Ve=>{Ve.key===" "&&G(!1)},[G]);Cl(()=>{if(!H.current)return;H.current.checked!==$&&ie(H.current.checked)},[H.current]);const Le=y.useCallback((Ve={},$t=null)=>{const be=Ze=>{de&&Ze.preventDefault(),G(!0)};return{...Ve,ref:$t,"data-active":Sn(me),"data-hover":Sn(ve),"data-checked":Sn($),"data-focus":Sn(de),"data-focus-visible":Sn(de&&Z.current),"data-indeterminate":Sn(_),"data-disabled":Sn(r),"data-invalid":Sn(u),"data-readonly":Sn(i),"aria-hidden":!0,onMouseDown:en(Ve.onMouseDown,be),onMouseUp:en(Ve.onMouseUp,()=>G(!1)),onMouseEnter:en(Ve.onMouseEnter,()=>Pe(!0)),onMouseLeave:en(Ve.onMouseLeave,()=>Pe(!1))}},[me,$,r,de,ve,_,u,i]),Ae=y.useCallback((Ve={},$t=null)=>({...Ve,ref:$t,"data-active":Sn(me),"data-hover":Sn(ve),"data-checked":Sn($),"data-focus":Sn(de),"data-focus-visible":Sn(de&&Z.current),"data-indeterminate":Sn(_),"data-disabled":Sn(r),"data-invalid":Sn(u),"data-readonly":Sn(i)}),[me,$,r,de,ve,_,u,i]),it=y.useCallback((Ve={},$t=null)=>({...F,...Ve,ref:Qr($t,be=>{be&&Se(be.tagName==="LABEL")}),onClick:en(Ve.onClick,()=>{W||(H.current?.click(),requestAnimationFrame(()=>{H.current?.focus({preventScroll:!0})}))}),"data-disabled":Sn(r),"data-checked":Sn($),"data-invalid":Sn(u)}),[F,r,$,u,W]),ct=y.useCallback((Ve={},$t=null)=>({...Ve,ref:Qr(H,$t),type:"checkbox",name:A,value:T,id:d,tabIndex:z,onChange:en(Ve.onChange,V),onBlur:en(Ve.onBlur,q,()=>le(!1)),onFocus:en(Ve.onFocus,ce,()=>le(!0)),onKeyDown:en(Ve.onKeyDown,Q),onKeyUp:en(Ve.onKeyUp,Ee),required:l,checked:$,disabled:M,readOnly:i,"aria-label":P,"aria-labelledby":k,"aria-invalid":I?!!I:u,"aria-describedby":g,"aria-disabled":r,"aria-checked":_?"mixed":$,style:WS}),[A,T,d,z,V,q,ce,Q,Ee,l,$,M,i,P,k,I,u,g,r,_]),Je=y.useCallback((Ve={},$t=null)=>({...Ve,ref:$t,onMouseDown:en(Ve.onMouseDown,LH),"data-disabled":Sn(r),"data-checked":Sn($),"data-invalid":Sn(u)}),[$,r,u]);return{state:{isInvalid:u,isFocused:de,isChecked:$,isActive:me,isHovered:ve,isIndeterminate:_,isDisabled:r,isReadOnly:i,isRequired:l},getRootProps:it,getCheckboxProps:Le,getIndicatorProps:Ae,getInputProps:ct,getLabelProps:Je,htmlProps:F}}function LH(t){t.preventDefault(),t.stopPropagation()}function OH(t){const[n,r]=y.useState(t),[i,l]=y.useState(!1);return t!==n&&(l(!0),r(t)),i}const NH={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},IH={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},BH=Ec({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),$H=Ec({from:{opacity:0},to:{opacity:1}}),FH=Ec({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),ro=Ke(function(n,r){const i=yH(),l={...i,...n},u=ls("Checkbox",l),d=$n(n),{spacing:m="0.5rem",className:p,children:g,iconColor:x,iconSize:j,icon:S=e.jsx(SH,{}),isChecked:C,isDisabled:_=i?.isDisabled,onChange:A,inputProps:T,...z}=d;let P=C;i?.value&&d.value&&(P=i.value.includes(d.value));let k=A;i?.onChange&&d.value&&(k=cT(i.onChange,A));const{state:I,getInputProps:N,getCheckboxProps:F,getLabelProps:Y,getRootProps:q}=QP({...z,isDisabled:_,isChecked:P,onChange:k}),ce=OH(I.isChecked),de=y.useMemo(()=>({animation:ce?I.isIndeterminate?`${$H} 20ms linear, ${FH} 200ms linear`:`${BH} 200ms linear`:void 0,...u.icon,...Op({fontSize:j,color:x})}),[x,j,ce,I.isIndeterminate,u.icon]),le=y.cloneElement(S,{__css:de,isIndeterminate:I.isIndeterminate,isChecked:I.isChecked});return e.jsxs(Fe.label,{__css:{...IH,...u.container},className:lt("chakra-checkbox",p),...q(),children:[e.jsx("input",{className:"chakra-checkbox__input",...N(T,r)}),e.jsx(Fe.span,{__css:{...NH,...u.control},className:"chakra-checkbox__control",...F(),children:le}),g&&e.jsx(Fe.span,{className:"chakra-checkbox__label",...Y(),__css:{marginStart:m,...u.label},children:g})]})});ro.displayName="Checkbox";function UE(t){return t&&ms(t)&&ms(t.target)}function VH(t={}){const{defaultValue:n,value:r,onChange:i,isDisabled:l,isNative:u}=t,d=ps(i),[m,p]=Bp({value:r,defaultValue:n||[],onChange:d}),g=y.useCallback(j=>{if(!m)return;const S=UE(j)?j.target.checked:!m.includes(j),C=UE(j)?j.target.value:j,_=S?[...m,C]:m.filter(A=>String(A)!==String(C));p(_)},[p,m]),x=y.useCallback((j={})=>({...j,[u?"checked":"isChecked"]:m.some(C=>String(j.value)===String(C)),onChange:g}),[g,u,m]);return{value:m,isDisabled:l,onChange:g,setValue:p,getCheckboxProps:x}}function qS(t){const{colorScheme:n,size:r,variant:i,children:l,isDisabled:u}=t,{value:d,onChange:m}=VH(t),p=y.useMemo(()=>({size:r,onChange:m,colorScheme:n,value:d,variant:i,isDisabled:u}),[r,m,n,d,i,u]);return e.jsx(vH,{value:p,children:l})}qS.displayName="CheckboxGroup";const xx=Ke(function(n,r){const i=fi("Code",n),{className:l,...u}=$n(n);return e.jsx(Fe.code,{ref:r,className:lt("chakra-code",n.className),...u,__css:{display:"inline-block",...i}})});xx.displayName="Code";const zs=Ke(function(n,r){const{className:i,centerContent:l,...u}=$n(n),d=fi("Container",n);return e.jsx(Fe.div,{ref:r,className:lt("chakra-container",i),...u,__css:{...d,...l&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});zs.displayName="Container";const zn=Ke(function(n,r){const{borderLeftWidth:i,borderBottomWidth:l,borderTopWidth:u,borderRightWidth:d,borderWidth:m,borderStyle:p,borderColor:g,...x}=fi("Divider",n),{className:j,orientation:S="horizontal",__css:C,..._}=$n(n),A={vertical:{borderLeftWidth:i||d||m||"1px",height:"100%"},horizontal:{borderBottomWidth:l||u||m||"1px",width:"100%"}};return e.jsx(Fe.hr,{ref:r,"aria-orientation":S,..._,__css:{...x,border:"0",borderColor:g,borderStyle:p,...A[S],...C},className:lt("chakra-divider",j)})});zn.displayName="Divider";function Uf(t){return typeof t=="function"}function UH(...t){return n=>t.reduce((r,i)=>i(r),n)}const HH=t=>function(...r){let i=[...r],l=r[r.length-1];return u$(l)&&i.length>1?i=i.slice(0,i.length-1):l=t,UH(...i.map(u=>d=>Uf(u)?u(d):qH(d,u)))(l)},WH=HH(BT);function qH(...t){return Do({},...t,JP)}function JP(t,n,r,i){if((Uf(t)||Uf(n))&&Object.prototype.hasOwnProperty.call(i,r))return(...l)=>{const u=Uf(t)?t(...l):t,d=Uf(n)?n(...l):n;return Do({},u,d,JP)};if(ms(t)&&hb(n)||hb(t)&&ms(n))return n}const Qn=Ke(function(n,r){const{direction:i,align:l,justify:u,wrap:d,basis:m,grow:p,shrink:g,...x}=n,j={display:"flex",flexDirection:i,alignItems:l,justifyContent:u,flexWrap:d,flexBasis:m,flexGrow:p,flexShrink:g};return e.jsx(Fe.div,{ref:r,__css:j,...x})});Qn.displayName="Flex";function GH(t,n){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(n.indexOf(i)!==-1)continue;r[i]=t[i]}return r}var Kb="data-focus-lock",eR="data-focus-lock-disabled",ZH="data-no-focus-lock",YH="data-autofocus-inside",XH="data-no-autofocus";function Oy(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function KH(t,n){var r=y.useState(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(i){var l=r.value;l!==i&&(r.value=i,r.callback(i,l))}}}})[0];return r.callback=n,r.facade}var QH=typeof window<"u"?y.useLayoutEffect:y.useEffect,HE=new WeakMap;function tR(t,n){var r=KH(null,function(i){return t.forEach(function(l){return Oy(l,i)})});return QH(function(){var i=HE.get(r);if(i){var l=new Set(i),u=new Set(t),d=r.current;l.forEach(function(m){u.has(m)||Oy(m,null)}),u.forEach(function(m){l.has(m)||Oy(m,d)})}HE.set(r,t)},[t]),r}var Ny={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Pa=function(){return Pa=Object.assign||function(n){for(var r,i=1,l=arguments.length;i<l;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},Pa.apply(this,arguments)};function nR(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(r[i[l]]=t[i[l]]);return r}function JH(t,n,r){if(r||arguments.length===2)for(var i=0,l=n.length,u;i<l;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return t.concat(u||Array.prototype.slice.call(n))}function rR(t){return t}function sR(t,n){n===void 0&&(n=rR);var r=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(u){var d=n(u,i);return r.push(d),function(){r=r.filter(function(m){return m!==d})}},assignSyncMedium:function(u){for(i=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){i=!0;var d=[];if(r.length){var m=r;r=[],m.forEach(u),d=r}var p=function(){var x=d;d=[],x.forEach(u)},g=function(){return Promise.resolve().then(p)};g(),r={push:function(x){d.push(x),g()},filter:function(x){return d=d.filter(x),r}}}};return l}function GS(t,n){return n===void 0&&(n=rR),sR(t,n)}function iR(t){t===void 0&&(t={});var n=sR(null);return n.options=Pa({async:!0,ssr:!1},t),n}var oR=function(t){var n=t.sideCar,r=nR(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,Pa({},r))};oR.isSideCarExport=!0;function eW(t,n){return t.useMedium(n),oR}var aR=GS({},function(t){var n=t.target,r=t.currentTarget;return{target:n,currentTarget:r}}),lR=GS(),tW=GS(),nW=iR({async:!0,ssr:typeof document<"u"}),rW=y.createContext(void 0),sW=[],ZS=y.forwardRef(function(n,r){var i,l=y.useState(),u=l[0],d=l[1],m=y.useRef(),p=y.useRef(!1),g=y.useRef(null),x=y.useState({}),j=x[1],S=n.children,C=n.disabled,_=C===void 0?!1:C,A=n.noFocusGuards,T=A===void 0?!1:A,z=n.persistentFocus,P=z===void 0?!1:z,k=n.crossFrame,I=k===void 0?!0:k,N=n.autoFocus,F=N===void 0?!0:N;n.allowTextSelection;var Y=n.group,q=n.className,ce=n.whiteList,de=n.hasPositiveIndices,le=n.shards,ve=le===void 0?sW:le,Pe=n.as,me=Pe===void 0?"div":Pe,G=n.lockProps,Z=G===void 0?{}:G,H=n.sideCar,W=n.returnFocus,Se=W===void 0?!1:W,B=n.focusOptions,ie=n.onActivation,pe=n.onDeactivation,$=y.useState({}),V=$[0],M=y.useCallback(function(be){var Ze=be.captureFocusRestore;if(!g.current){var Ot,ae=(Ot=document)==null?void 0:Ot.activeElement;g.current=ae,ae!==document.body&&(g.current=Ze(ae))}m.current&&ie&&ie(m.current),p.current=!0,j()},[ie]),Q=y.useCallback(function(){p.current=!1,pe&&pe(m.current),j()},[pe]),Ee=y.useCallback(function(be){var Ze=g.current;if(Ze){var Ot=(typeof Ze=="function"?Ze():Ze)||document.body,ae=typeof Se=="function"?Se(Ot):Se;if(ae){var ge=typeof ae=="object"?ae:void 0;g.current=null,be?Promise.resolve().then(function(){return Ot.focus(ge)}):Ot.focus(ge)}}},[Se]),Le=y.useCallback(function(be){p.current&&aR.useMedium(be)},[]),Ae=lR.useMedium,it=y.useCallback(function(be){m.current!==be&&(m.current=be,d(be))},[]),ct=Mu((i={},i[eR]=_&&"disabled",i[Kb]=Y,i),Z),Je=T!==!0,zt=Je&&T!=="tail",Ve=tR([r,it]),$t=y.useMemo(function(){return{observed:m,shards:ve,enabled:!_,active:p.current}},[_,p.current,ve,u]);return fn.createElement(y.Fragment,null,Je&&[fn.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:_?-1:0,style:Ny}),de?fn.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:_?-1:1,style:Ny}):null],!_&&fn.createElement(H,{id:V,sideCar:nW,observed:u,disabled:_,persistentFocus:P,crossFrame:I,autoFocus:F,whiteList:ce,shards:ve,onActivation:M,onDeactivation:Q,returnFocus:Ee,focusOptions:B,noFocusGuards:T}),fn.createElement(me,Mu({ref:Ve},ct,{className:q,onBlur:Ae,onFocus:Le}),fn.createElement(rW.Provider,{value:$t},S)),zt&&fn.createElement("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:Ny}))});ZS.propTypes={};function Qb(t,n){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,n)}function iW(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Qb(t,n)}function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cp(t)}function oW(t,n){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,n);if(Cp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function aW(t){var n=oW(t,"string");return Cp(n)=="symbol"?n:n+""}function lW(t,n,r){return(n=aW(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function cW(t,n){function r(i){return i.displayName||i.name||"Component"}return function(l){var u=[],d;function m(){d=t(u.map(function(g){return g.props})),n(d)}var p=(function(g){iW(x,g);function x(){return g.apply(this,arguments)||this}x.peek=function(){return d};var j=x.prototype;return j.componentDidMount=function(){u.push(this),m()},j.componentDidUpdate=function(){m()},j.componentWillUnmount=function(){var C=u.indexOf(this);u.splice(C,1),m()},j.render=function(){return fn.createElement(l,this.props)},x})(y.PureComponent);return lW(p,"displayName","SideEffect("+r(l)+")"),p}}var Ha=function(t){for(var n=Array(t.length),r=0;r<t.length;++r)n[r]=t[r];return n},zu=function(t){return Array.isArray(t)?t:[t]},cR=function(t){return Array.isArray(t)?t[0]:t},uW=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},uR=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},dR=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},dW=function(t){return t.hasAttribute("inert")},hW=function(t,n){return!t||dR(t)||!uW(t)&&!dW(t)&&n(uR(t))},hR=function(t,n){var r=t.get(n);if(r!==void 0)return r;var i=hW(n,hR.bind(void 0,t));return t.set(n,i),i},fW=function(t,n){return t&&!dR(t)?gW(t)?n(uR(t)):!1:!0},fR=function(t,n){var r=t.get(n);if(r!==void 0)return r;var i=fW(n,fR.bind(void 0,t));return t.set(n,i),i},pR=function(t){return t.dataset},pW=function(t){return t.tagName==="BUTTON"},mR=function(t){return t.tagName==="INPUT"},gR=function(t){return mR(t)&&t.type==="radio"},mW=function(t){return!((mR(t)||pW(t))&&(t.type==="hidden"||t.disabled))},gW=function(t){var n=t.getAttribute(XH);return![!0,"true",""].includes(n)},YS=function(t){var n;return!!(t&&(!((n=pR(t))===null||n===void 0)&&n.focusGuard))},Jb=function(t){return!YS(t)},xW=function(t){return!!t},vW=function(t,n){var r=Math.max(0,t.tabIndex),i=Math.max(0,n.tabIndex),l=r-i,u=t.index-n.index;if(l){if(!r)return 1;if(!i)return-1}return l||u},yW=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},XS=function(t,n,r){return Ha(t).map(function(i,l){var u=yW(i);return{node:i,index:l,tabIndex:r&&u===-1?(i.dataset||{}).focusGuard?0:-1:u}}).filter(function(i){return!n||i.tabIndex>=0}).sort(vW)},bW=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],KS=bW.join(","),jW="".concat(KS,", [data-focus-guard]"),xR=function(t,n){return Ha((t.shadowRoot||t).children).reduce(function(r,i){return r.concat(i.matches(n?jW:KS)?[i]:[],xR(i))},[])},SW=function(t,n){var r;return t instanceof HTMLIFrameElement&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?dh([t.contentDocument.body],n):[t]},dh=function(t,n){return t.reduce(function(r,i){var l,u=xR(i,n),d=(l=[]).concat.apply(l,u.map(function(m){return SW(m,n)}));return r.concat(d,i.parentNode?Ha(i.parentNode.querySelectorAll(KS)).filter(function(m){return m===i}):[])},[])},CW=function(t){var n=t.querySelectorAll("[".concat(YH,"]"));return Ha(n).map(function(r){return dh([r])}).reduce(function(r,i){return r.concat(i)},[])},QS=function(t,n){return Ha(t).filter(function(r){return hR(n,r)}).filter(function(r){return mW(r)})},WE=function(t,n){return n===void 0&&(n=new Map),Ha(t).filter(function(r){return fR(n,r)})},JS=function(t,n,r){return XS(QS(dh(t,r),n),!0,r)},wp=function(t,n){return XS(QS(dh(t),n),!1)},wW=function(t,n){return QS(CW(t),n)},Eu=function(t,n){return t.shadowRoot?Eu(t.shadowRoot,n):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,n)?!0:Ha(t.children).some(function(r){var i;if(r instanceof HTMLIFrameElement){var l=(i=r.contentDocument)===null||i===void 0?void 0:i.body;return l?Eu(l,n):!1}return Eu(r,n)})},_W=function(t){for(var n=new Set,r=t.length,i=0;i<r;i+=1)for(var l=i+1;l<r;l+=1){var u=t[i].compareDocumentPosition(t[l]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(l),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(i)}return t.filter(function(d,m){return!n.has(m)})},vR=function(t){return t.parentNode?vR(t.parentNode):t},e1=function(t){var n=zu(t);return n.filter(Boolean).reduce(function(r,i){var l=i.getAttribute(Kb);return r.push.apply(r,l?_W(Ha(vR(i).querySelectorAll("[".concat(Kb,'="').concat(l,'"]:not([').concat(eR,'="disabled"])')))):[i]),r},[])},EW=function(t){try{return t()}catch{return}},_p=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var n=t.activeElement;return n.shadowRoot?_p(n.shadowRoot):n instanceof HTMLIFrameElement&&EW(function(){return n.contentWindow.document})?_p(n.contentWindow.document):n}},AW=function(t,n){return t===n},TW=function(t,n){return!!Ha(t.querySelectorAll("iframe")).some(function(r){return AW(r,n)})},yR=function(t,n){return n===void 0&&(n=_p(cR(t).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:e1(t).some(function(r){return Eu(r,n)||TW(r,n)})},kW=function(t){t===void 0&&(t=document);var n=_p(t);return n?Ha(t.querySelectorAll("[".concat(ZH,"]"))).some(function(r){return Eu(r,n)}):!1},PW=function(t,n){return n.filter(gR).filter(function(r){return r.name===t.name}).filter(function(r){return r.checked})[0]||t},t1=function(t,n){return gR(t)&&t.name?PW(t,n):t},RW=function(t){var n=new Set;return t.forEach(function(r){return n.add(t1(r,t))}),t.filter(function(r){return n.has(r)})},qE=function(t){return t[0]&&t.length>1?t1(t[0],t):t[0]},GE=function(t,n){return t.indexOf(t1(n,t))},ej="NEW_FOCUS",MW=function(t,n,r,i,l){var u=t.length,d=t[0],m=t[u-1],p=YS(i);if(!(i&&t.indexOf(i)>=0)){var g=i!==void 0?r.indexOf(i):-1,x=l?r.indexOf(l):g,j=l?t.indexOf(l):-1;if(g===-1)return j!==-1?j:ej;if(j===-1)return ej;var S=g-x,C=r.indexOf(d),_=r.indexOf(m),A=RW(r),T=i!==void 0?A.indexOf(i):-1,z=l?A.indexOf(l):T,P=A.filter(function(q){return q.tabIndex>=0}),k=i!==void 0?P.indexOf(i):-1,I=l?P.indexOf(l):k,N=k>=0&&I>=0?I-k:z-T;if(!S&&j>=0||n.length===0)return j;var F=GE(t,n[0]),Y=GE(t,n[n.length-1]);if(g<=C&&p&&Math.abs(S)>1)return Y;if(g>=_&&p&&Math.abs(S)>1)return F;if(S&&Math.abs(N)>1)return j;if(g<=C)return Y;if(g>_)return F;if(S)return Math.abs(S)>1?j:(u+j+S)%u}},DW=function(t){return function(n){var r,i=(r=pR(n))===null||r===void 0?void 0:r.autofocus;return n.autofocus||i!==void 0&&i!=="false"||t.indexOf(n)>=0}},ZE=function(t,n,r){var i=t.map(function(u){var d=u.node;return d}),l=WE(i.filter(DW(r)));return l&&l.length?qE(l):qE(WE(n))},tj=function(t,n){return n===void 0&&(n=[]),n.push(t),t.parentNode&&tj(t.parentNode.host||t.parentNode,n),n},Iy=function(t,n){for(var r=tj(t),i=tj(n),l=0;l<r.length;l+=1){var u=r[l];if(i.indexOf(u)>=0)return u}return!1},bR=function(t,n,r){var i=zu(t),l=zu(n),u=i[0],d=!1;return l.filter(Boolean).forEach(function(m){d=Iy(d||m,m)||d,r.filter(Boolean).forEach(function(p){var g=Iy(u,p);g&&(!d||Eu(g,d)?d=g:d=Iy(g,d))})}),d},YE=function(t,n){return t.reduce(function(r,i){return r.concat(wW(i,n))},[])},zW=function(t,n){var r=new Map;return n.forEach(function(i){return r.set(i.node,i)}),t.map(function(i){return r.get(i)}).filter(xW)},LW=function(t,n){var r=_p(zu(t).length>0?document:cR(t).ownerDocument),i=e1(t).filter(Jb),l=bR(r||t,t,i),u=new Map,d=wp(i,u),m=d.filter(function(_){var A=_.node;return Jb(A)});if(m[0]){var p=wp([l],u).map(function(_){var A=_.node;return A}),g=zW(p,m),x=g.map(function(_){var A=_.node;return A}),j=g.filter(function(_){var A=_.tabIndex;return A>=0}).map(function(_){var A=_.node;return A}),S=MW(x,j,p,r,n);if(S===ej){var C=ZE(d,j,YE(i,u))||ZE(d,x,YE(i,u));if(C)return{node:C};console.warn("focus-lock: cannot find any node to move focus into");return}return S===void 0?S:g[S]}},OW=function(t){var n=e1(t).filter(Jb),r=bR(t,t,n),i=XS(dh([r],!0),!0,!0),l=dh(n,!1);return i.map(function(u){var d=u.node,m=u.index;return{node:d,index:m,lockItem:l.indexOf(d)>=0,guard:YS(d)}})},n1=function(t,n){t&&("focus"in t&&t.focus(n),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},By=0,$y=!1,jR=function(t,n,r){r===void 0&&(r={});var i=LW(t,n);if(!$y&&i){if(By>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),$y=!0,setTimeout(function(){$y=!1},1);return}By++,n1(i.node,r.focusOptions),By--}};function Ef(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var n=t?new WeakRef(t):null;return function(){return n?.deref()||null}}var NW=function(t){if(!t)return null;for(var n=[],r=t;r&&r!==document.body;)n.push({current:Ef(r),parent:Ef(r.parentElement),left:Ef(r.previousElementSibling),right:Ef(r.nextElementSibling)}),r=r.parentElement;return{element:Ef(t),stack:n,ownerDocument:t.ownerDocument}},IW=function(t){var n,r,i,l,u;if(t)for(var d=t.stack,m=t.ownerDocument,p=new Map,g=0,x=d;g<x.length;g++){var j=x[g],S=(n=j.parent)===null||n===void 0?void 0:n.call(j);if(S&&m.contains(S)){for(var C=(r=j.left)===null||r===void 0?void 0:r.call(j),_=j.current(),A=S.contains(_)?_:void 0,T=(i=j.right)===null||i===void 0?void 0:i.call(j),z=JS([S],p),P=(u=(l=A??C?.nextElementSibling)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:C;P;){for(var k=0,I=z;k<I.length;k++){var N=I[k];if(P?.contains(N.node))return N.node}P=P.nextElementSibling}if(z.length)return z[0].node}}},SR=function(t){var n=NW(t);return function(){return IW(n)}},BW=function(t,n,r){if(!t||!n)return console.error("no element or scope given"),{};var i=zu(n);if(i.every(function(d){return!Eu(d,t)}))return console.error("Active element is not contained in the scope"),{};var l=r?JS(i,new Map):wp(i,new Map),u=l.findIndex(function(d){var m=d.node;return m===t});if(u!==-1)return{prev:l[u-1],next:l[u+1],first:l[0],last:l[l.length-1]}},$W=function(t,n){var r=n?JS(zu(t),new Map):wp(zu(t),new Map);return{first:r[0],last:r[r.length-1]}},FW=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},CR=function(t,n,r){n===void 0&&(n={});var i=FW(n),l=BW(t,i.scope,i.onlyTabbable);if(l){var u=r(l,i.cycle);u&&n1(u.node,i.focusOptions)}},VW=function(t,n){n===void 0&&(n={}),CR(t,n,function(r,i){var l=r.next,u=r.first;return l||i&&u})},UW=function(t,n){n===void 0&&(n={}),CR(t,n,function(r,i){var l=r.prev,u=r.last;return l||i&&u})},wR=function(t,n,r){var i,l=$W(t,(i=n.onlyTabbable)!==null&&i!==void 0?i:!0),u=l[r];u&&n1(u.node,n.focusOptions)},HW=function(t,n){n===void 0&&(n={}),wR(t,n,"first")},WW=function(t,n){n===void 0&&(n={}),wR(t,n,"last")};function r1(t){setTimeout(t,1)}var qW=function(n){return n&&"current"in n?n.current:n},_R=function(){return document&&document.activeElement===document.body},GW=function(){return _R()||kW()},Qd=null,Ai=null,XE=function(){return null},Jd=null,Ep=!1,s1=!1,ZW=function(){return!0},YW=function(n){return(Qd.whiteList||ZW)(n)},XW=function(n,r){Jd={observerNode:n,portaledElement:r}},KW=function(n){return Jd&&Jd.portaledElement===n};function KE(t,n,r,i){var l=null,u=t;do{var d=i[u];if(d.guard)d.node.dataset.focusAutoGuard&&(l=d);else if(d.lockItem){if(u!==t)return;l=null}else break}while((u+=r)!==n);l&&(l.node.tabIndex=0)}var QW=function(n){return n?!!Ep:Ep==="meanwhile"},JW=function t(n,r,i){return r&&(r.host===n&&(!r.activeElement||i.contains(r.activeElement))||r.parentNode&&t(n,r.parentNode,i))},eq=function(n,r){return r.some(function(i){return JW(n,i,i)})},ER=function(n){return wp(n,new Map)},tq=function(n){return!ER([n.parentNode]).some(function(r){return r.node===n})},vx=function(){var n=!1;if(Qd){var r=Qd,i=r.observed,l=r.persistentFocus,u=r.autoFocus,d=r.shards,m=r.crossFrame,p=r.focusOptions,g=r.noFocusGuards,x=i||Jd&&Jd.portaledElement;if(_R()&&Ai&&Ai!==document.body&&(!document.body.contains(Ai)||tq(Ai))){var j=XE();j&&j.focus()}var S=document&&document.activeElement;if(x){var C=[x].concat(d.map(qW).filter(Boolean)),_=function(){if(!QW(m)||!g||!Ai||s1)return!1;var k=ER(C),I=k.findIndex(function(N){var F=N.node;return F===Ai});return I===0||I===k.length-1};if((!S||YW(S))&&(l||_()||!GW()||!Ai&&u)&&(x&&!(yR(C)||S&&eq(S,C)||KW(S))&&(document&&!Ai&&S&&!u?(S.blur&&S.blur(),document.body.focus()):(n=jR(C,Ai,{focusOptions:p}),Jd={})),Ai=document&&document.activeElement,Ai!==document.body&&(XE=SR(Ai)),Ep=!1),document&&S!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var A=document&&document.activeElement,T=OW(C),z=T.map(function(P){var k=P.node;return k}).indexOf(A);z>-1&&(T.filter(function(P){var k=P.guard,I=P.node;return k&&I.dataset.focusAutoGuard}).forEach(function(P){var k=P.node;return k.removeAttribute("tabIndex")}),KE(z,T.length,1,T),KE(z,-1,-1,T))}}}return n},AR=function(n){vx()&&n&&(n.stopPropagation(),n.preventDefault())},i1=function(){return r1(vx)},nq=function(n){var r=n.target,i=n.currentTarget;i.contains(r)||XW(i,r)},rq=function(){return null},TR=function(){s1=!0},kR=function(){s1=!1,Ep="just",r1(function(){Ep="meanwhile"})},sq=function(){document.addEventListener("focusin",AR),document.addEventListener("focusout",i1),window.addEventListener("focus",TR),window.addEventListener("blur",kR)},iq=function(){document.removeEventListener("focusin",AR),document.removeEventListener("focusout",i1),window.removeEventListener("focus",TR),window.removeEventListener("blur",kR)};function oq(t){return t.filter(function(n){var r=n.disabled;return!r})}var PR={moveFocusInside:jR,focusInside:yR,focusNextElement:VW,focusPrevElement:UW,focusFirstElement:HW,focusLastElement:WW,captureFocusRestore:SR};function aq(t){var n=t.slice(-1)[0];n&&!Qd&&sq();var r=Qd,i=r&&n&&n.id===r.id;Qd=n,r&&!i&&(r.onDeactivation(),t.filter(function(l){var u=l.id;return u===r.id}).length||r.returnFocus(!n)),n?(Ai=null,(!i||r.observed!==n.observed)&&n.onActivation(PR),vx(),r1(vx)):(iq(),Ai=null)}aR.assignSyncMedium(nq);lR.assignMedium(i1);tW.assignMedium(function(t){return t(PR)});const lq=cW(oq,aq)(rq);var nj=y.forwardRef(function(n,r){return fn.createElement(ZS,Mu({sideCar:lq,ref:r},n))}),RR=ZS.propTypes||{};RR.sideCar;GH(RR,["sideCar"]);nj.propTypes={};const cq=nj.default??nj,MR=t=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:i,restoreFocus:l,children:u,isDisabled:d,autoFocus:m,persistentFocus:p,lockFocusAcrossFrames:g}=t,x=y.useCallback(()=>{n?.current?n.current.focus():i?.current&&jO(i.current).length===0&&requestAnimationFrame(()=>{i.current?.focus()})},[n,i]),j=y.useCallback(()=>{r?.current?.focus()},[r]),S=l&&!r;return e.jsx(cq,{crossFrame:g,persistentFocus:p,autoFocus:m,disabled:d,onActivation:x,onDeactivation:j,returnFocus:S,children:u})};MR.displayName="FocusLock";const ee=Ke(function(n,r){const i=fi("FormLabel",n),l=$n(n),{className:u,children:d,requiredIndicator:m=e.jsx(DR,{}),optionalIndicator:p=null,...g}=l,x=Kx(),j=x?.getLabelProps(g,r)??{ref:r,...g};return e.jsxs(Fe.label,{...j,className:lt("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...i},children:[d,x?.isRequired?m:p]})});ee.displayName="FormLabel";const DR=Ke(function(n,r){const i=Kx(),l=KP();if(!i?.isRequired)return null;const u=lt("chakra-form__required-indicator",n.className);return e.jsx(Fe.span,{...i?.getRequiredIndicatorProps(n,r),__css:l.requiredIndicator,className:u})});DR.displayName="RequiredIndicator";const ho=Ke(function(n,r){const{templateAreas:i,gap:l,rowGap:u,columnGap:d,column:m,row:p,autoFlow:g,autoRows:x,templateRows:j,autoColumns:S,templateColumns:C,..._}=n,A={display:"grid",gridTemplateAreas:i,gridGap:l,gridRowGap:u,gridColumnGap:d,gridAutoColumns:S,gridColumn:m,gridRow:p,gridAutoFlow:g,gridAutoRows:x,gridTemplateRows:j,gridTemplateColumns:C};return e.jsx(Fe.div,{ref:r,__css:A,..._})});ho.displayName="Grid";function QE(t){return Dx(t,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const rj=Ke(function(n,r){const{area:i,colSpan:l,colStart:u,colEnd:d,rowEnd:m,rowSpan:p,rowStart:g,...x}=n,j=Op({gridArea:i,gridColumn:QE(l),gridRow:QE(p),gridColumnStart:u,gridColumnEnd:d,gridRowStart:g,gridRowEnd:m});return e.jsx(Fe.div,{ref:r,__css:j,...x})});rj.displayName="GridItem";const pt=Ke(function(n,r){const{columns:i,spacingX:l,spacingY:u,spacing:d,minChildWidth:m,...p}=n,g=Uu(),x=m?dq(m,g):hq(i);return e.jsx(ho,{ref:r,gap:d,columnGap:l,rowGap:u,templateColumns:x,...p})});pt.displayName="SimpleGrid";function uq(t){return typeof t=="number"?`${t}px`:t}function dq(t,n){return Dx(t,r=>{const i=xU("sizes",r,uq(r))(n);return r===null?null:`repeat(auto-fit, minmax(${i}, 1fr))`})}function hq(t){return Dx(t,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function kc(t){const{viewBox:n="0 0 24 24",d:r,displayName:i,defaultProps:l={}}=t,u=y.Children.toArray(t.path),d=Ke((m,p)=>e.jsx(Hn,{ref:p,viewBox:n,...l,...m,children:u.length?u:e.jsx("path",{fill:"currentColor",d:r})}));return d.displayName=i,d}const sj=Ke(function(n,r){const{htmlWidth:i,htmlHeight:l,alt:u,...d}=n;return e.jsx("img",{width:i,height:l,ref:r,alt:u,...d})});sj.displayName="NativeImage";const Di=Ke(function(n,r){const{fallbackSrc:i,fallback:l,src:u,srcSet:d,align:m,fit:p,loading:g,ignoreFallback:x,crossOrigin:j,fallbackStrategy:S="beforeLoadOrError",referrerPolicy:C,..._}=n,A=i!==void 0||l!==void 0,T=g!=null||x||!A,z=GP({...n,crossOrigin:j,ignoreFallback:T}),P=lH(z,S),k={ref:r,objectFit:p,objectPosition:m,...T?_:Np(_,["onError","onLoad"])};return P?l||e.jsx(Fe.img,{as:sj,className:"chakra-image__placeholder",src:i,...k}):e.jsx(Fe.img,{as:sj,src:u,srcSet:d,crossOrigin:j,loading:g,referrerPolicy:C,className:"chakra-image",...k})});Di.displayName="Image";const xe=Ke(function(n,r){const{htmlSize:i,...l}=n,u=ls("Input",l),d=$n(l),m=US(d),p=lt("chakra-input",n.className);return e.jsx(Fe.input,{size:i,...m,__css:u.field,ref:r,className:p})});xe.displayName="Input";xe.id="Input";const[fq,pq]=In({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Lu=Ke(function(n,r){const i=ls("Input",n),{children:l,className:u,...d}=$n(n),m=lt("chakra-input__group",u),p={},g=_c(l),x=i.field;g.forEach(S=>{i&&(x&&S.type.id==="InputLeftElement"&&(p.paddingStart=x.height??x.h),x&&S.type.id==="InputRightElement"&&(p.paddingEnd=x.height??x.h),S.type.id==="InputRightAddon"&&(p.borderEndRadius=0),S.type.id==="InputLeftAddon"&&(p.borderStartRadius=0))});const j=g.map(S=>{const C=Op({size:S.props?.size||n.size,variant:S.props?.variant||n.variant});return S.type.id!=="Input"?y.cloneElement(S,C):y.cloneElement(S,Object.assign(C,p,S.props))});return e.jsx(Fe.div,{className:m,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...i.group},"data-group":!0,...d,children:e.jsx(fq,{value:i,children:j})})});Lu.displayName="InputGroup";const mq=Fe("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Qx=Ke(function(n,r){const{placement:i="left",...l}=n,u=pq(),d=u.field,p={[i==="left"?"insetStart":"insetEnd"]:"0",width:d?.height??d?.h,height:d?.height??d?.h,fontSize:d?.fontSize,...u.element};return e.jsx(mq,{ref:r,__css:p,...l})});Qx.id="InputElement";Qx.displayName="InputElement";const Ou=Ke(function(n,r){const{className:i,...l}=n,u=lt("chakra-input__left-element",i);return e.jsx(Qx,{ref:r,placement:"left",className:u,...l})});Ou.id="InputLeftElement";Ou.displayName="InputLeftElement";const o1=Ke(function(n,r){const{className:i,...l}=n,u=lt("chakra-input__right-element",i);return e.jsx(Qx,{ref:r,placement:"right",className:u,...l})});o1.id="InputRightElement";o1.displayName="InputRightElement";const a1=Ke(function(n,r){const i=fi("Link",n),{className:l,isExternal:u,...d}=$n(n);return e.jsx(Fe.a,{target:u?"_blank":void 0,rel:u?"noopener":void 0,ref:r,className:lt("chakra-link",l),...d,__css:i})});a1.displayName="Link";const[gq,zR]=In({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),Jx=Ke(function(n,r){const i=ls("List",n),{children:l,styleType:u="none",stylePosition:d,spacing:m,...p}=$n(n),g=_c(l),j=m?{"& > *:not(style) ~ *:not(style)":{mt:m}}:{};return e.jsx(gq,{value:i,children:e.jsx(Fe.ul,{ref:r,listStyleType:u,listStylePosition:d,role:"list",__css:{...i.container,...j},...p,children:g})})});Jx.displayName="List";const xq=Ke((t,n)=>{const{as:r,...i}=t;return e.jsx(Jx,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...i})});xq.displayName="OrderedList";const vq=Ke(function(n,r){const{as:i,...l}=n;return e.jsx(Jx,{ref:r,as:"ul",styleType:"initial",marginStart:"1em",...l})});vq.displayName="UnorderedList";const LR=Ke(function(n,r){const i=zR();return e.jsx(Fe.li,{ref:r,...n,__css:i.item})});LR.displayName="ListItem";const yq=Ke(function(n,r){const i=zR();return e.jsx(Hn,{ref:r,role:"presentation",...n,__css:i.icon})});yq.displayName="ListIcon";function bq(t,n={}){const{ssr:r=!0,fallback:i}=n,{getWindow:l}=b8(),u=Array.isArray(t)?t:[t];let d=Array.isArray(i)?i:[i];d=d.filter(g=>g!=null);const[m,p]=y.useState(()=>u.map((g,x)=>({media:g,matches:r?!!d[x]:l().matchMedia(g).matches})));return y.useEffect(()=>{const g=l();p(u.map(S=>({media:S,matches:g.matchMedia(S).matches})));const x=u.map(S=>g.matchMedia(S)),j=S=>{p(C=>C.slice().map(_=>_.media===S.media?{..._,matches:S.matches}:_))};return x.forEach(S=>{typeof S.addListener=="function"?S.addListener(j):S.addEventListener("change",j)}),()=>{x.forEach(S=>{typeof S.removeListener=="function"?S.removeListener(j):S.removeEventListener("change",j)})}},[l]),m.map(g=>g.matches)}function jq(t){const n=ms(t)?t:{fallback:t??"base"},i=Uu().__breakpoints.details.map(({minMaxQuery:m,breakpoint:p})=>({breakpoint:p,query:m.replace("@media screen and ","")})),l=i.map(m=>m.breakpoint===n.fallback),d=bq(i.map(m=>m.query),{fallback:l,ssr:n.ssr}).findIndex(m=>m==!0);return i[d]?.breakpoint??n.fallback}function Sq(t,n,r=gT){let i=Object.keys(t).indexOf(n);if(i!==-1)return t[n];let l=r.indexOf(n);for(;l>=0;){const u=r[l];if(t.hasOwnProperty(u)){i=l;break}l-=1}if(i!==-1){const u=r[i];return t[u]}}function Cq(t,n){const r=ms(n)?n:{fallback:"base"},i=jq(r),l=Uu();if(!i)return;const u=Array.from(l.__breakpoints?.keys||[]),d=Array.isArray(t)?Object.fromEntries(Object.entries(AO(t,u)).map(([m,p])=>[m,p])):t;return Sq(d,i,u)}function wq(t,n,r,i){if(n==null)return i;if(!i)return t.find(d=>r(d).toLowerCase().startsWith(n.toLowerCase()));const l=t.filter(u=>r(u).toLowerCase().startsWith(n.toLowerCase()));if(l.length>0){let u;return l.includes(i)?(u=l.indexOf(i)+1,u===l.length&&(u=0),l[u]):(u=t.indexOf(l[0]),t[u])}return i}function _q(t){const{key:n}=t;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function Eq(t={}){const{timeout:n=300,preventDefault:r=()=>!0}=t,[i,l]=y.useState([]),u=y.useRef(void 0),d=()=>{u.current&&(clearTimeout(u.current),u.current=null)},m=()=>{d(),u.current=setTimeout(()=>{l([]),u.current=null},n)};y.useEffect(()=>d,[]);function p(g){return x=>{if(x.key==="Backspace"){const j=[...i];j.pop(),l(j);return}if(_q(x)){const j=i.concat(x.key);r(x)&&(x.preventDefault(),x.stopPropagation()),l(j),g(j.join("")),m()}}}return p}var Pi="top",Oo="bottom",No="right",Ri="left",l1="auto",Zp=[Pi,Oo,No,Ri],hh="start",Ap="end",Aq="clippingParents",OR="viewport",Af="popper",Tq="reference",JE=Zp.reduce(function(t,n){return t.concat([n+"-"+hh,n+"-"+Ap])},[]),NR=[].concat(Zp,[l1]).reduce(function(t,n){return t.concat([n,n+"-"+hh,n+"-"+Ap])},[]),kq="beforeRead",Pq="read",Rq="afterRead",Mq="beforeMain",Dq="main",zq="afterMain",Lq="beforeWrite",Oq="write",Nq="afterWrite",Iq=[kq,Pq,Rq,Mq,Dq,zq,Lq,Oq,Nq];function Fa(t){return t?(t.nodeName||"").toLowerCase():null}function fo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Nu(t){var n=fo(t).Element;return t instanceof n||t instanceof Element}function zo(t){var n=fo(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function c1(t){if(typeof ShadowRoot>"u")return!1;var n=fo(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Bq(t){var n=t.state;Object.keys(n.elements).forEach(function(r){var i=n.styles[r]||{},l=n.attributes[r]||{},u=n.elements[r];!zo(u)||!Fa(u)||(Object.assign(u.style,i),Object.keys(l).forEach(function(d){var m=l[d];m===!1?u.removeAttribute(d):u.setAttribute(d,m===!0?"":m)}))})}function $q(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(i){var l=n.elements[i],u=n.attributes[i]||{},d=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:r[i]),m=d.reduce(function(p,g){return p[g]="",p},{});!zo(l)||!Fa(l)||(Object.assign(l.style,m),Object.keys(u).forEach(function(p){l.removeAttribute(p)}))})}}const Fq={name:"applyStyles",enabled:!0,phase:"write",fn:Bq,effect:$q,requires:["computeStyles"]};function Oa(t){return t.split("-")[0]}var Au=Math.max,yx=Math.min,fh=Math.round;function ij(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function IR(){return!/^((?!chrome|android).)*safari/i.test(ij())}function ph(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),l=1,u=1;n&&zo(t)&&(l=t.offsetWidth>0&&fh(i.width)/t.offsetWidth||1,u=t.offsetHeight>0&&fh(i.height)/t.offsetHeight||1);var d=Nu(t)?fo(t):window,m=d.visualViewport,p=!IR()&&r,g=(i.left+(p&&m?m.offsetLeft:0))/l,x=(i.top+(p&&m?m.offsetTop:0))/u,j=i.width/l,S=i.height/u;return{width:j,height:S,top:x,right:g+j,bottom:x+S,left:g,x:g,y:x}}function u1(t){var n=ph(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function BR(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&c1(r)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Pl(t){return fo(t).getComputedStyle(t)}function Vq(t){return["table","td","th"].indexOf(Fa(t))>=0}function Pc(t){return((Nu(t)?t.ownerDocument:t.document)||window.document).documentElement}function ev(t){return Fa(t)==="html"?t:t.assignedSlot||t.parentNode||(c1(t)?t.host:null)||Pc(t)}function eA(t){return!zo(t)||Pl(t).position==="fixed"?null:t.offsetParent}function Uq(t){var n=/firefox/i.test(ij()),r=/Trident/i.test(ij());if(r&&zo(t)){var i=Pl(t);if(i.position==="fixed")return null}var l=ev(t);for(c1(l)&&(l=l.host);zo(l)&&["html","body"].indexOf(Fa(l))<0;){var u=Pl(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function Yp(t){for(var n=fo(t),r=eA(t);r&&Vq(r)&&Pl(r).position==="static";)r=eA(r);return r&&(Fa(r)==="html"||Fa(r)==="body"&&Pl(r).position==="static")?n:r||Uq(t)||n}function d1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ap(t,n,r){return Au(t,yx(n,r))}function Hq(t,n,r){var i=ap(t,n,r);return i>r?r:i}function $R(){return{top:0,right:0,bottom:0,left:0}}function FR(t){return Object.assign({},$R(),t)}function VR(t,n){return n.reduce(function(r,i){return r[i]=t,r},{})}var Wq=function(n,r){return n=typeof n=="function"?n(Object.assign({},r.rects,{placement:r.placement})):n,FR(typeof n!="number"?n:VR(n,Zp))};function qq(t){var n,r=t.state,i=t.name,l=t.options,u=r.elements.arrow,d=r.modifiersData.popperOffsets,m=Oa(r.placement),p=d1(m),g=[Ri,No].indexOf(m)>=0,x=g?"height":"width";if(!(!u||!d)){var j=Wq(l.padding,r),S=u1(u),C=p==="y"?Pi:Ri,_=p==="y"?Oo:No,A=r.rects.reference[x]+r.rects.reference[p]-d[p]-r.rects.popper[x],T=d[p]-r.rects.reference[p],z=Yp(u),P=z?p==="y"?z.clientHeight||0:z.clientWidth||0:0,k=A/2-T/2,I=j[C],N=P-S[x]-j[_],F=P/2-S[x]/2+k,Y=ap(I,F,N),q=p;r.modifiersData[i]=(n={},n[q]=Y,n.centerOffset=Y-F,n)}}function Gq(t){var n=t.state,r=t.options,i=r.element,l=i===void 0?"[data-popper-arrow]":i;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||BR(n.elements.popper,l)&&(n.elements.arrow=l))}const Zq={name:"arrow",enabled:!0,phase:"main",fn:qq,effect:Gq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mh(t){return t.split("-")[1]}var Yq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xq(t,n){var r=t.x,i=t.y,l=n.devicePixelRatio||1;return{x:fh(r*l)/l||0,y:fh(i*l)/l||0}}function tA(t){var n,r=t.popper,i=t.popperRect,l=t.placement,u=t.variation,d=t.offsets,m=t.position,p=t.gpuAcceleration,g=t.adaptive,x=t.roundOffsets,j=t.isFixed,S=d.x,C=S===void 0?0:S,_=d.y,A=_===void 0?0:_,T=typeof x=="function"?x({x:C,y:A}):{x:C,y:A};C=T.x,A=T.y;var z=d.hasOwnProperty("x"),P=d.hasOwnProperty("y"),k=Ri,I=Pi,N=window;if(g){var F=Yp(r),Y="clientHeight",q="clientWidth";if(F===fo(r)&&(F=Pc(r),Pl(F).position!=="static"&&m==="absolute"&&(Y="scrollHeight",q="scrollWidth")),F=F,l===Pi||(l===Ri||l===No)&&u===Ap){I=Oo;var ce=j&&F===N&&N.visualViewport?N.visualViewport.height:F[Y];A-=ce-i.height,A*=p?1:-1}if(l===Ri||(l===Pi||l===Oo)&&u===Ap){k=No;var de=j&&F===N&&N.visualViewport?N.visualViewport.width:F[q];C-=de-i.width,C*=p?1:-1}}var le=Object.assign({position:m},g&&Yq),ve=x===!0?Xq({x:C,y:A},fo(r)):{x:C,y:A};if(C=ve.x,A=ve.y,p){var Pe;return Object.assign({},le,(Pe={},Pe[I]=P?"0":"",Pe[k]=z?"0":"",Pe.transform=(N.devicePixelRatio||1)<=1?"translate("+C+"px, "+A+"px)":"translate3d("+C+"px, "+A+"px, 0)",Pe))}return Object.assign({},le,(n={},n[I]=P?A+"px":"",n[k]=z?C+"px":"",n.transform="",n))}function Kq(t){var n=t.state,r=t.options,i=r.gpuAcceleration,l=i===void 0?!0:i,u=r.adaptive,d=u===void 0?!0:u,m=r.roundOffsets,p=m===void 0?!0:m,g={placement:Oa(n.placement),variation:mh(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,tA(Object.assign({},g,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,tA(Object.assign({},g,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const Qq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Kq,data:{}};var jg={passive:!0};function Jq(t){var n=t.state,r=t.instance,i=t.options,l=i.scroll,u=l===void 0?!0:l,d=i.resize,m=d===void 0?!0:d,p=fo(n.elements.popper),g=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&g.forEach(function(x){x.addEventListener("scroll",r.update,jg)}),m&&p.addEventListener("resize",r.update,jg),function(){u&&g.forEach(function(x){x.removeEventListener("scroll",r.update,jg)}),m&&p.removeEventListener("resize",r.update,jg)}}const eG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Jq,data:{}};var tG={left:"right",right:"left",bottom:"top",top:"bottom"};function Jg(t){return t.replace(/left|right|bottom|top/g,function(n){return tG[n]})}var nG={start:"end",end:"start"};function nA(t){return t.replace(/start|end/g,function(n){return nG[n]})}function h1(t){var n=fo(t),r=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:r,scrollTop:i}}function f1(t){return ph(Pc(t)).left+h1(t).scrollLeft}function rG(t,n){var r=fo(t),i=Pc(t),l=r.visualViewport,u=i.clientWidth,d=i.clientHeight,m=0,p=0;if(l){u=l.width,d=l.height;var g=IR();(g||!g&&n==="fixed")&&(m=l.offsetLeft,p=l.offsetTop)}return{width:u,height:d,x:m+f1(t),y:p}}function sG(t){var n,r=Pc(t),i=h1(t),l=(n=t.ownerDocument)==null?void 0:n.body,u=Au(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=Au(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),m=-i.scrollLeft+f1(t),p=-i.scrollTop;return Pl(l||r).direction==="rtl"&&(m+=Au(r.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:m,y:p}}function p1(t){var n=Pl(t),r=n.overflow,i=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+i)}function UR(t){return["html","body","#document"].indexOf(Fa(t))>=0?t.ownerDocument.body:zo(t)&&p1(t)?t:UR(ev(t))}function lp(t,n){var r;n===void 0&&(n=[]);var i=UR(t),l=i===((r=t.ownerDocument)==null?void 0:r.body),u=fo(i),d=l?[u].concat(u.visualViewport||[],p1(i)?i:[]):i,m=n.concat(d);return l?m:m.concat(lp(ev(d)))}function oj(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iG(t,n){var r=ph(t,!1,n==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function rA(t,n,r){return n===OR?oj(rG(t,r)):Nu(n)?iG(n,r):oj(sG(Pc(t)))}function oG(t){var n=lp(ev(t)),r=["absolute","fixed"].indexOf(Pl(t).position)>=0,i=r&&zo(t)?Yp(t):t;return Nu(i)?n.filter(function(l){return Nu(l)&&BR(l,i)&&Fa(l)!=="body"}):[]}function aG(t,n,r,i){var l=n==="clippingParents"?oG(t):[].concat(n),u=[].concat(l,[r]),d=u[0],m=u.reduce(function(p,g){var x=rA(t,g,i);return p.top=Au(x.top,p.top),p.right=yx(x.right,p.right),p.bottom=yx(x.bottom,p.bottom),p.left=Au(x.left,p.left),p},rA(t,d,i));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function HR(t){var n=t.reference,r=t.element,i=t.placement,l=i?Oa(i):null,u=i?mh(i):null,d=n.x+n.width/2-r.width/2,m=n.y+n.height/2-r.height/2,p;switch(l){case Pi:p={x:d,y:n.y-r.height};break;case Oo:p={x:d,y:n.y+n.height};break;case No:p={x:n.x+n.width,y:m};break;case Ri:p={x:n.x-r.width,y:m};break;default:p={x:n.x,y:n.y}}var g=l?d1(l):null;if(g!=null){var x=g==="y"?"height":"width";switch(u){case hh:p[g]=p[g]-(n[x]/2-r[x]/2);break;case Ap:p[g]=p[g]+(n[x]/2-r[x]/2);break}}return p}function Tp(t,n){n===void 0&&(n={});var r=n,i=r.placement,l=i===void 0?t.placement:i,u=r.strategy,d=u===void 0?t.strategy:u,m=r.boundary,p=m===void 0?Aq:m,g=r.rootBoundary,x=g===void 0?OR:g,j=r.elementContext,S=j===void 0?Af:j,C=r.altBoundary,_=C===void 0?!1:C,A=r.padding,T=A===void 0?0:A,z=FR(typeof T!="number"?T:VR(T,Zp)),P=S===Af?Tq:Af,k=t.rects.popper,I=t.elements[_?P:S],N=aG(Nu(I)?I:I.contextElement||Pc(t.elements.popper),p,x,d),F=ph(t.elements.reference),Y=HR({reference:F,element:k,placement:l}),q=oj(Object.assign({},k,Y)),ce=S===Af?q:F,de={top:N.top-ce.top+z.top,bottom:ce.bottom-N.bottom+z.bottom,left:N.left-ce.left+z.left,right:ce.right-N.right+z.right},le=t.modifiersData.offset;if(S===Af&&le){var ve=le[l];Object.keys(de).forEach(function(Pe){var me=[No,Oo].indexOf(Pe)>=0?1:-1,G=[Pi,Oo].indexOf(Pe)>=0?"y":"x";de[Pe]+=ve[G]*me})}return de}function lG(t,n){n===void 0&&(n={});var r=n,i=r.placement,l=r.boundary,u=r.rootBoundary,d=r.padding,m=r.flipVariations,p=r.allowedAutoPlacements,g=p===void 0?NR:p,x=mh(i),j=x?m?JE:JE.filter(function(_){return mh(_)===x}):Zp,S=j.filter(function(_){return g.indexOf(_)>=0});S.length===0&&(S=j);var C=S.reduce(function(_,A){return _[A]=Tp(t,{placement:A,boundary:l,rootBoundary:u,padding:d})[Oa(A)],_},{});return Object.keys(C).sort(function(_,A){return C[_]-C[A]})}function cG(t){if(Oa(t)===l1)return[];var n=Jg(t);return[nA(t),n,nA(n)]}function uG(t){var n=t.state,r=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!0:d,p=r.fallbackPlacements,g=r.padding,x=r.boundary,j=r.rootBoundary,S=r.altBoundary,C=r.flipVariations,_=C===void 0?!0:C,A=r.allowedAutoPlacements,T=n.options.placement,z=Oa(T),P=z===T,k=p||(P||!_?[Jg(T)]:cG(T)),I=[T].concat(k).reduce(function(V,M){return V.concat(Oa(M)===l1?lG(n,{placement:M,boundary:x,rootBoundary:j,padding:g,flipVariations:_,allowedAutoPlacements:A}):M)},[]),N=n.rects.reference,F=n.rects.popper,Y=new Map,q=!0,ce=I[0],de=0;de<I.length;de++){var le=I[de],ve=Oa(le),Pe=mh(le)===hh,me=[Pi,Oo].indexOf(ve)>=0,G=me?"width":"height",Z=Tp(n,{placement:le,boundary:x,rootBoundary:j,altBoundary:S,padding:g}),H=me?Pe?No:Ri:Pe?Oo:Pi;N[G]>F[G]&&(H=Jg(H));var W=Jg(H),Se=[];if(u&&Se.push(Z[ve]<=0),m&&Se.push(Z[H]<=0,Z[W]<=0),Se.every(function(V){return V})){ce=le,q=!1;break}Y.set(le,Se)}if(q)for(var B=_?3:1,ie=function(M){var Q=I.find(function(Ee){var Le=Y.get(Ee);if(Le)return Le.slice(0,M).every(function(Ae){return Ae})});if(Q)return ce=Q,"break"},pe=B;pe>0;pe--){var $=ie(pe);if($==="break")break}n.placement!==ce&&(n.modifiersData[i]._skip=!0,n.placement=ce,n.reset=!0)}}const dG={name:"flip",enabled:!0,phase:"main",fn:uG,requiresIfExists:["offset"],data:{_skip:!1}};function sA(t,n,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function iA(t){return[Pi,No,Oo,Ri].some(function(n){return t[n]>=0})}function hG(t){var n=t.state,r=t.name,i=n.rects.reference,l=n.rects.popper,u=n.modifiersData.preventOverflow,d=Tp(n,{elementContext:"reference"}),m=Tp(n,{altBoundary:!0}),p=sA(d,i),g=sA(m,l,u),x=iA(p),j=iA(g);n.modifiersData[r]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:x,hasPopperEscaped:j},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":j})}const fG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hG};function pG(t,n,r){var i=Oa(t),l=[Ri,Pi].indexOf(i)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},n,{placement:t})):r,d=u[0],m=u[1];return d=d||0,m=(m||0)*l,[Ri,No].indexOf(i)>=0?{x:m,y:d}:{x:d,y:m}}function mG(t){var n=t.state,r=t.options,i=t.name,l=r.offset,u=l===void 0?[0,0]:l,d=NR.reduce(function(x,j){return x[j]=pG(j,n.rects,u),x},{}),m=d[n.placement],p=m.x,g=m.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=g),n.modifiersData[i]=d}const gG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mG};function xG(t){var n=t.state,r=t.name;n.modifiersData[r]=HR({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const vG={name:"popperOffsets",enabled:!0,phase:"read",fn:xG,data:{}};function yG(t){return t==="x"?"y":"x"}function bG(t){var n=t.state,r=t.options,i=t.name,l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!1:d,p=r.boundary,g=r.rootBoundary,x=r.altBoundary,j=r.padding,S=r.tether,C=S===void 0?!0:S,_=r.tetherOffset,A=_===void 0?0:_,T=Tp(n,{boundary:p,rootBoundary:g,padding:j,altBoundary:x}),z=Oa(n.placement),P=mh(n.placement),k=!P,I=d1(z),N=yG(I),F=n.modifiersData.popperOffsets,Y=n.rects.reference,q=n.rects.popper,ce=typeof A=="function"?A(Object.assign({},n.rects,{placement:n.placement})):A,de=typeof ce=="number"?{mainAxis:ce,altAxis:ce}:Object.assign({mainAxis:0,altAxis:0},ce),le=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,ve={x:0,y:0};if(F){if(u){var Pe,me=I==="y"?Pi:Ri,G=I==="y"?Oo:No,Z=I==="y"?"height":"width",H=F[I],W=H+T[me],Se=H-T[G],B=C?-q[Z]/2:0,ie=P===hh?Y[Z]:q[Z],pe=P===hh?-q[Z]:-Y[Z],$=n.elements.arrow,V=C&&$?u1($):{width:0,height:0},M=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:$R(),Q=M[me],Ee=M[G],Le=ap(0,Y[Z],V[Z]),Ae=k?Y[Z]/2-B-Le-Q-de.mainAxis:ie-Le-Q-de.mainAxis,it=k?-Y[Z]/2+B+Le+Ee+de.mainAxis:pe+Le+Ee+de.mainAxis,ct=n.elements.arrow&&Yp(n.elements.arrow),Je=ct?I==="y"?ct.clientTop||0:ct.clientLeft||0:0,zt=(Pe=le?.[I])!=null?Pe:0,Ve=H+Ae-zt-Je,$t=H+it-zt,be=ap(C?yx(W,Ve):W,H,C?Au(Se,$t):Se);F[I]=be,ve[I]=be-H}if(m){var Ze,Ot=I==="x"?Pi:Ri,ae=I==="x"?Oo:No,ge=F[N],nt=N==="y"?"height":"width",Pt=ge+T[Ot],kn=ge-T[ae],ar=[Pi,Ri].indexOf(z)!==-1,Ue=(Ze=le?.[N])!=null?Ze:0,rt=ar?Pt:ge-Y[nt]-q[nt]-Ue+de.altAxis,Mt=ar?ge+Y[nt]+q[nt]-Ue-de.altAxis:kn,Ye=C&&ar?Hq(rt,ge,Mt):ap(C?rt:Pt,ge,C?Mt:kn);F[N]=Ye,ve[N]=Ye-ge}n.modifiersData[i]=ve}}const jG={name:"preventOverflow",enabled:!0,phase:"main",fn:bG,requiresIfExists:["offset"]};function SG(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function CG(t){return t===fo(t)||!zo(t)?h1(t):SG(t)}function wG(t){var n=t.getBoundingClientRect(),r=fh(n.width)/t.offsetWidth||1,i=fh(n.height)/t.offsetHeight||1;return r!==1||i!==1}function _G(t,n,r){r===void 0&&(r=!1);var i=zo(n),l=zo(n)&&wG(n),u=Pc(n),d=ph(t,l,r),m={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!r)&&((Fa(n)!=="body"||p1(u))&&(m=CG(n)),zo(n)?(p=ph(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):u&&(p.x=f1(u))),{x:d.left+m.scrollLeft-p.x,y:d.top+m.scrollTop-p.y,width:d.width,height:d.height}}function EG(t){var n=new Map,r=new Set,i=[];t.forEach(function(u){n.set(u.name,u)});function l(u){r.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(m){if(!r.has(m)){var p=n.get(m);p&&l(p)}}),i.push(u)}return t.forEach(function(u){r.has(u.name)||l(u)}),i}function AG(t){var n=EG(t);return Iq.reduce(function(r,i){return r.concat(n.filter(function(l){return l.phase===i}))},[])}function TG(t){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(t())})})),n}}function kG(t){var n=t.reduce(function(r,i){var l=r[i.name];return r[i.name]=l?Object.assign({},l,i,{options:Object.assign({},l.options,i.options),data:Object.assign({},l.data,i.data)}):i,r},{});return Object.keys(n).map(function(r){return n[r]})}var oA={placement:"bottom",modifiers:[],strategy:"absolute"};function aA(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function PG(t){t===void 0&&(t={});var n=t,r=n.defaultModifiers,i=r===void 0?[]:r,l=n.defaultOptions,u=l===void 0?oA:l;return function(m,p,g){g===void 0&&(g=u);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},oA,u),modifiersData:{},elements:{reference:m,popper:p},attributes:{},styles:{}},j=[],S=!1,C={state:x,setOptions:function(z){var P=typeof z=="function"?z(x.options):z;A(),x.options=Object.assign({},u,x.options,P),x.scrollParents={reference:Nu(m)?lp(m):m.contextElement?lp(m.contextElement):[],popper:lp(p)};var k=AG(kG([].concat(i,x.options.modifiers)));return x.orderedModifiers=k.filter(function(I){return I.enabled}),_(),C.update()},forceUpdate:function(){if(!S){var z=x.elements,P=z.reference,k=z.popper;if(aA(P,k)){x.rects={reference:_G(P,Yp(k),x.options.strategy==="fixed"),popper:u1(k)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(de){return x.modifiersData[de.name]=Object.assign({},de.data)});for(var I=0;I<x.orderedModifiers.length;I++){if(x.reset===!0){x.reset=!1,I=-1;continue}var N=x.orderedModifiers[I],F=N.fn,Y=N.options,q=Y===void 0?{}:Y,ce=N.name;typeof F=="function"&&(x=F({state:x,options:q,name:ce,instance:C})||x)}}}},update:TG(function(){return new Promise(function(T){C.forceUpdate(),T(x)})}),destroy:function(){A(),S=!0}};if(!aA(m,p))return C;C.setOptions(g).then(function(T){!S&&g.onFirstUpdate&&g.onFirstUpdate(T)});function _(){x.orderedModifiers.forEach(function(T){var z=T.name,P=T.options,k=P===void 0?{}:P,I=T.effect;if(typeof I=="function"){var N=I({state:x,name:z,instance:C,options:k}),F=function(){};j.push(N||F)}})}function A(){j.forEach(function(T){return T()}),j=[]}return C}}var RG=[eG,vG,Qq,Fq,gG,dG,jG,Zq,fG],MG=PG({defaultModifiers:RG});const Td=(t,n)=>({var:t,varRef:n?`var(${t}, ${n})`:`var(${t})`}),Ds={arrowShadowColor:Td("--popper-arrow-shadow-color"),arrowSize:Td("--popper-arrow-size","8px"),arrowSizeHalf:Td("--popper-arrow-size-half"),arrowBg:Td("--popper-arrow-bg"),transformOrigin:Td("--popper-transform-origin"),arrowOffset:Td("--popper-arrow-offset")};function DG(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const zG={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},LG=t=>zG[t],lA={scroll:!0,resize:!0};function OG(t){let n;return typeof t=="object"?n={enabled:!0,options:{...lA,...t}}:n={enabled:t,options:lA},n}const NG={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const n=t.elements.reference;t.elements.popper.style.width=`${n.offsetWidth}px`}},IG={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{cA(t)},effect:({state:t})=>()=>{cA(t)}},cA=t=>{t.elements.popper.style.setProperty(Ds.transformOrigin.var,LG(t.placement))},BG={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{$G(t)}},$G=t=>{if(!t.placement)return;const n=FG(t.placement);if(t.elements?.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:Ds.arrowSize.varRef,height:Ds.arrowSize.varRef,zIndex:-1});const r={[Ds.arrowSizeHalf.var]:`calc(${Ds.arrowSize.varRef} / 2 - 1px)`,[Ds.arrowOffset.var]:`calc(${Ds.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},FG=t=>{if(t.startsWith("top"))return{property:"bottom",value:Ds.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Ds.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Ds.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Ds.arrowOffset.varRef}},VG={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{uA(t)},effect:({state:t})=>()=>{uA(t)}},uA=t=>{if(!t.elements.arrow)return;const n=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!n)return;const r=DG(t.placement);r&&n.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(n.style,{transform:"rotate(45deg)",background:Ds.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},UG={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},HG={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function WG(t,n="ltr"){const r=UG[t]?.[n]||t;return n==="ltr"?r:HG[t]??r}function WR(t={}){const{enabled:n=!0,modifiers:r,placement:i="bottom",strategy:l="absolute",arrowPadding:u=8,eventListeners:d=!0,offset:m,gutter:p=8,flip:g=!0,boundary:x="clippingParents",preventOverflow:j=!0,matchWidth:S,direction:C="ltr"}=t,_=y.useRef(null),A=y.useRef(null),T=y.useRef(null),z=WG(i,C),P=y.useRef(()=>{}),k=y.useCallback(()=>{!n||!_.current||!A.current||(P.current?.(),T.current=MG(_.current,A.current,{placement:z,modifiers:[VG,BG,IG,{...NG,enabled:!!S},{name:"eventListeners",...OG(d)},{name:"arrow",options:{padding:u}},{name:"offset",options:{offset:m??[0,p]}},{name:"flip",enabled:!!g,options:{padding:8}},{name:"preventOverflow",enabled:!!j,options:{boundary:x}},...r??[]],strategy:l}),T.current.forceUpdate(),P.current=T.current.destroy)},[z,n,r,S,d,u,m,p,g,j,x,l]);y.useEffect(()=>()=>{!_.current&&!A.current&&(T.current?.destroy(),T.current=null)},[]);const I=y.useCallback(de=>{_.current=de,k()},[k]),N=y.useCallback((de={},le=null)=>({...de,ref:Qr(I,le)}),[I]),F=y.useCallback(de=>{A.current=de,k()},[k]),Y=y.useCallback((de={},le=null)=>({...de,ref:Qr(F,le),style:{...de.style,position:l,minWidth:S?void 0:"max-content",inset:"0 auto auto 0"}}),[l,F,S]),q=y.useCallback((de={},le=null)=>{const{size:ve,shadowColor:Pe,bg:me,style:G,...Z}=de;return{...Z,ref:le,"data-popper-arrow":"",style:qG(de)}},[]),ce=y.useCallback((de={},le=null)=>({...de,ref:le,"data-popper-arrow-inner":""}),[]);return{update(){T.current?.update()},forceUpdate(){T.current?.forceUpdate()},transformOrigin:Ds.transformOrigin.varRef,referenceRef:I,popperRef:F,getPopperProps:Y,getArrowProps:q,getArrowInnerProps:ce,getReferenceProps:N}}function qG(t){const{size:n,shadowColor:r,bg:i,style:l}=t,u={...l,position:"absolute"};return n&&(u["--popper-arrow-size"]=n),r&&(u["--popper-arrow-shadow-color"]=r),i&&(u["--popper-arrow-bg"]=i),u}function GG(){const t=y.useRef(new Map),n=t.current,r=y.useCallback((l,u,d,m)=>{t.current.set(d,{type:u,el:l,options:m}),l.addEventListener(u,d,m)},[]),i=y.useCallback((l,u,d,m)=>{l.removeEventListener(u,d,m),t.current.delete(d)},[]);return y.useEffect(()=>()=>{n.forEach((l,u)=>{i(l.el,l.type,u,l.options)})},[i,n]),{add:r,remove:i}}function Fy(t){const n=t.composedPath?.()?.[0]??t.target,{tagName:r,isContentEditable:i}=n;return r!=="INPUT"&&r!=="TEXTAREA"&&i!==!0}function qR(t={}){const{ref:n,isDisabled:r,isFocusable:i,clickOnEnter:l=!0,clickOnSpace:u=!0,onMouseDown:d,onMouseUp:m,onClick:p,onKeyDown:g,onKeyUp:x,tabIndex:j,onMouseOver:S,onMouseLeave:C,..._}=t,[A,T]=y.useState(!0),[z,P]=y.useState(!1),k=GG(),I=H=>{H&&H.tagName!=="BUTTON"&&T(!1)},N=A?j:j||0,F=r&&!i,Y=y.useCallback(H=>{if(r){H.stopPropagation(),H.preventDefault();return}H.currentTarget.focus(),p?.(H)},[r,p]),q=y.useCallback(H=>{z&&Fy(H)&&(H.preventDefault(),H.stopPropagation(),P(!1),k.remove(document,"keyup",q,!1))},[z,k]),ce=y.useCallback(H=>{if(g?.(H),r||H.defaultPrevented||H.metaKey||!Fy(H.nativeEvent)||A)return;const W=l&&H.key==="Enter";u&&H.key===" "&&(H.preventDefault(),P(!0)),W&&(H.preventDefault(),H.currentTarget.click()),k.add(document,"keyup",q,!1)},[r,A,g,l,u,k,q]),de=y.useCallback(H=>{if(x?.(H),r||H.defaultPrevented||H.metaKey||!Fy(H.nativeEvent)||A)return;u&&H.key===" "&&(H.preventDefault(),P(!1),H.currentTarget.click())},[u,A,r,x]),le=y.useCallback(H=>{H.button===0&&(P(!1),k.remove(document,"mouseup",le,!1))},[k]),ve=y.useCallback(H=>{if(H.button!==0)return;if(r){H.stopPropagation(),H.preventDefault();return}A||P(!0),H.currentTarget.focus({preventScroll:!0}),k.add(document,"mouseup",le,!1),d?.(H)},[r,A,d,k,le]),Pe=y.useCallback(H=>{H.button===0&&(A||P(!1),m?.(H))},[m,A]),me=y.useCallback(H=>{if(r){H.preventDefault();return}S?.(H)},[r,S]),G=y.useCallback(H=>{z&&(H.preventDefault(),P(!1)),C?.(H)},[z,C]),Z=Qr(n,I);return A?{..._,ref:Z,type:"button","aria-disabled":F?void 0:r,disabled:F,onClick:Y,onMouseDown:d,onMouseUp:m,onKeyUp:x,onKeyDown:g,onMouseOver:S,onMouseLeave:C}:{..._,ref:Z,role:"button","data-active":Sn(z),"aria-disabled":r?"true":void 0,tabIndex:F?void 0:N,onClick:Y,onMouseDown:ve,onMouseUp:Pe,onKeyUp:de,onKeyDown:ce,onMouseOver:me,onMouseLeave:G}}const[ZG,YG,XG,KG]=Yx(),[QG,Xp]=In({strict:!1,name:"MenuContext"});function GR(t){return t?.ownerDocument??document}function JG(t){return GR(t).activeElement===t}function eZ(t={}){const{id:n,closeOnSelect:r=!0,closeOnBlur:i=!0,initialFocusRef:l,autoSelect:u=!0,isLazy:d,isOpen:m,defaultIsOpen:p,onClose:g,onOpen:x,placement:j="bottom-start",lazyBehavior:S="unmount",direction:C,computePositionOnMount:_=!1,...A}=t,T=y.useRef(null),z=y.useRef(null),P=y.useRef(!0),k=XG(),I=y.useCallback(()=>{requestAnimationFrame(()=>{T.current?.focus({preventScroll:!1})})},[]),N=y.useCallback(()=>{const $=setTimeout(()=>{if(l)l.current?.focus();else if(!k.count())T.current?.focus({preventScroll:!1});else{const V=k.firstEnabled();V&&me(V.index)}});Se.current.add($)},[k,l]),F=y.useCallback(()=>{const $=setTimeout(()=>{if(!k.count())T.current?.focus({preventScroll:!1});else{const V=k.lastEnabled();V&&me(V.index)}});Se.current.add($)},[k]),Y=y.useCallback(()=>{x?.(),u?N():I()},[u,N,I,x]),{isOpen:q,onOpen:ce,onClose:de,onToggle:le}=Dt({isOpen:m,defaultIsOpen:p,onClose:g,onOpen:Y});HO({enabled:q&&i,ref:T,handler:$=>{const V=$.composedPath?.()?.[0]??$.target;z.current?.contains(V)||de()}});const ve=WR({...A,enabled:q||_,placement:j,direction:C}),[Pe,me]=y.useState(-1);IO(T,{focusRef:z,visible:q});const G=LO({isOpen:q,ref:T}),[Z,H]=$O(n,"menu-button","menu-list"),W=y.useCallback(()=>{ce(),I()},[ce,I]),Se=y.useRef(new Set([]));y.useEffect(()=>{const $=Se.current;return()=>{$.forEach(V=>clearTimeout(V)),$.clear()}},[]),Pu(()=>{q||(me(-1),T.current?.scrollTo(0,0))},[q]),Pu(()=>{q&&Pe===-1&&I()},[Pe,q]),y.useEffect(()=>{if(!q)return;k.item(Pe)?.node?.focus({preventScroll:!P.current})},[k,Pe,q]);const B=y.useCallback(()=>{ce(),N()},[N,ce]),ie=y.useCallback(()=>{P.current=!0,ce(),F()},[ce,F]),pe=y.useCallback(()=>{const $=GR(T.current),V=T.current?.contains($.activeElement);if(!(q&&!V))return;k.item(Pe)?.node?.focus({preventScroll:!P.current})},[q,Pe,k]);return{openAndFocusMenu:W,openAndFocusFirstItem:B,openAndFocusLastItem:ie,onTransitionEnd:pe,unstable__animationState:G,descendants:k,popper:ve,buttonId:Z,menuId:H,forceUpdate:ve.forceUpdate,orientation:"vertical",isOpen:q,onToggle:le,onOpen:ce,onClose:de,menuRef:T,buttonRef:z,focusedIndex:Pe,closeOnSelect:r,closeOnBlur:i,autoSelect:u,setFocusedIndex:me,isLazy:d,lazyBehavior:S,initialFocusRef:l,scrollIntoViewRef:P}}function tZ(t={},n=null){const r=Xp(),{onToggle:i,popper:l,openAndFocusFirstItem:u,openAndFocusLastItem:d,scrollIntoViewRef:m}=r,p=y.useCallback(g=>{const x=g.key,S={Enter:u,ArrowDown:u,ArrowUp:d}[x];S&&(m.current=!0,g.preventDefault(),g.stopPropagation(),S(g))},[u,d,m]);return{...t,ref:Qr(r.buttonRef,n,l.referenceRef),id:r.buttonId,"data-active":Sn(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:en(t.onClick,i),onKeyDown:en(t.onKeyDown,p)}}function aj(t){return oZ(t)&&!!t?.getAttribute("role")?.startsWith("menuitem")}function nZ(t={},n=null){const r=Xp();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:i,setFocusedIndex:l,menuRef:u,isOpen:d,onClose:m,menuId:p,isLazy:g,lazyBehavior:x,scrollIntoViewRef:j,unstable__animationState:S}=r,C=YG(),_=Eq({preventDefault:P=>P.key!==" "&&aj(P.target)}),A=y.useCallback(P=>{if(!P.currentTarget.contains(P.target))return;const k=P.key,N={Tab:Y=>Y.preventDefault(),Escape:Y=>{Y.stopPropagation(),m()},ArrowDown:()=>{j.current=!0;const Y=C.nextEnabled(i)??C.firstEnabled();Y&&l(Y.index)},ArrowUp:()=>{j.current=!0;const Y=C.prevEnabled(i)??C.firstEnabled();Y&&l(Y.index)}}[k];if(N){P.preventDefault(),N(P);return}const F=_(Y=>{const q=wq(C.values(),Y,ce=>ce?.node?.textContent??"",C.item(i));if(q){const ce=C.indexOf(q.node);l(ce)}});aj(P.target)&&F(P)},[C,i,_,m,l,j]),T=y.useRef(!1);d&&(T.current=!0);const z=fT({wasSelected:T.current,enabled:g,mode:x,isSelected:S.present});return{...t,ref:Qr(u,n),children:z?t.children:null,tabIndex:-1,role:"menu",id:p,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:en(t.onKeyDown,A)}}function rZ(t={}){const{popper:n,isOpen:r}=Xp();return n.getPopperProps({...t,style:{visibility:r?"visible":"hidden",...t.style}})}function ZR(t={},n=null){const{onMouseEnter:r,onMouseMove:i,onMouseLeave:l,onClick:u,onFocus:d,isDisabled:m,isFocusable:p,closeOnSelect:g,type:x,...j}=t,S=Xp(),{setFocusedIndex:C,focusedIndex:_,closeOnSelect:A,onClose:T,menuId:z,scrollIntoViewRef:P}=S,k=y.useRef(null),I=`${z}-menuitem-${y.useId()}`,{index:N,register:F}=KG({disabled:m&&!p}),Y=y.useCallback(me=>{r?.(me),!m&&(P.current=!1,C(N))},[C,N,m,r,P]),q=y.useCallback(me=>{i?.(me),k.current&&!JG(k.current)&&Y(me)},[Y,i]),ce=y.useCallback(me=>{l?.(me),!m&&C(-1)},[C,m,l]),de=y.useCallback(me=>{u?.(me),aj(me.currentTarget)&&(g??A)&&T()},[T,u,A,g]),le=y.useCallback(me=>{d?.(me),C(N)},[C,d,N]),ve=N===_,Pe=qR({onClick:de,onFocus:le,onMouseEnter:Y,onMouseMove:q,onMouseLeave:ce,ref:Qr(F,k,n),isDisabled:m,isFocusable:p});return{...j,...Pe,type:x??Pe.type,id:I,role:"menuitem",tabIndex:ve?0:-1}}function sZ(t={},n=null){const{type:r="radio",isChecked:i,...l}=t;return{...ZR(l,n),role:`menuitem${r}`,"aria-checked":i}}function iZ(t={}){const{children:n,type:r="radio",value:i,defaultValue:l,onChange:u,...d}=t,p=r==="radio"?"":[],[g,x]=Bp({defaultValue:l??p,value:i,onChange:u}),j=y.useCallback(_=>{if(r==="radio"&&typeof g=="string"&&x(_),r==="checkbox"&&Array.isArray(g)){const A=g.includes(_)?g.filter(T=>T!==_):g.concat(_);x(A)}},[g,x,r]),C=_c(n).map(_=>{if(_.type.id!=="MenuItemOption")return _;const A=z=>{j(_.props.value),_.props.onClick?.(z)},T=r==="radio"?_.props.value===g:g.includes(_.props.value);return y.cloneElement(_,{type:r,onClick:A,isChecked:T})});return{...d,children:C}}function oZ(t){if(!aZ(t))return!1;const n=t.ownerDocument.defaultView??window;return t instanceof n.HTMLElement}function aZ(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[lZ,Hu]=In({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Na=t=>{const{children:n}=t,r=ls("Menu",t),i=$n(t),{direction:l}=Uu(),{descendants:u,...d}=eZ({...i,direction:l}),m=y.useMemo(()=>d,[d]),{isOpen:p,onClose:g,forceUpdate:x}=m;return e.jsx(ZG,{value:u,children:e.jsx(QG,{value:m,children:e.jsx(lZ,{value:r,children:io(n,{isOpen:p,onClose:g,forceUpdate:x})})})})};Na.displayName="Menu";const cZ=Ke((t,n)=>{const r=Hu();return e.jsx(Fe.button,{ref:n,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...r.button}})}),Ia=Ke((t,n)=>{const{children:r,as:i,...l}=t,u=tZ(l,n),d=i||cZ;return e.jsx(d,{...u,className:lt("chakra-menu__menu-button",t.className),children:e.jsx(Fe.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});Ia.displayName="MenuButton";const YR=Ke((t,n)=>{const r=Hu();return e.jsx(Fe.span,{ref:n,...t,__css:r.command,className:"chakra-menu__command"})});YR.displayName="MenuCommand";const bx=t=>{const{className:n,...r}=t,i=Hu();return e.jsx(Fe.hr,{"aria-orientation":"horizontal",className:lt("chakra-menu__divider",n),...r,__css:i.divider})};bx.displayName="MenuDivider";const XR=Ke((t,n)=>{const{title:r,children:i,className:l,...u}=t,d=lt("chakra-menu__group__title",l),m=Hu();return e.jsxs("div",{ref:n,className:"chakra-menu__group",role:"group",children:[r&&e.jsx(Fe.p,{className:d,...u,__css:m.groupTitle,children:r}),i]})});XR.displayName="MenuGroup";const jx=t=>{const{className:n,children:r,...i}=t,l=Hu(),u=y.Children.only(r),d=y.isValidElement(u)?y.cloneElement(u,{focusable:"false","aria-hidden":!0,className:lt("chakra-menu__icon",u.props.className)}):null,m=lt("chakra-menu__icon-wrapper",n);return e.jsx(Fe.span,{className:m,...i,__css:l.icon,children:d})};jx.displayName="MenuIcon";const KR=Ke((t,n)=>{const{type:r,...i}=t,l=Hu(),u=i.as||r?r??void 0:"button",d=y.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...l.item}),[l.item]);return e.jsx(Fe.button,{ref:n,type:u,...i,__css:d})}),Cn=Ke((t,n)=>{const{icon:r,iconSpacing:i="0.75rem",command:l,commandSpacing:u="0.75rem",children:d,...m}=t,p=ZR(m,n),x=r||l?e.jsx("span",{style:{pointerEvents:"none",flex:1},children:d}):d;return e.jsxs(KR,{...p,className:lt("chakra-menu__menuitem",p.className),children:[r&&e.jsx(jx,{fontSize:"0.8em",marginEnd:i,children:r}),x,l&&e.jsx(YR,{marginStart:u,children:l})]})});Cn.displayName="MenuItem";const dA=t=>e.jsx("svg",{viewBox:"0 0 14 14",width:"1em",height:"1em",...t,children:e.jsx("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})}),no=Ke((t,n)=>{const{icon:r,iconSpacing:i="0.75rem",iconPlacement:l="start",...u}=t,d=sZ(u,n);return e.jsxs(KR,{...d,className:lt("chakra-menu__menuitem-option",u.className),children:[r!==null&&l==="start"&&e.jsx(jx,{fontSize:"0.8em",marginEnd:i,opacity:t.isChecked?1:0,children:r||e.jsx(dA,{})}),e.jsx("span",{style:{flex:1},children:d.children}),r!==null&&l==="end"&&e.jsx(jx,{fontSize:"0.8em",marginStart:i,opacity:t.isChecked?1:0,children:r||e.jsx(dA,{})})]})});no.id="MenuItemOption";no.displayName="MenuItemOption";const uZ={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},dZ=Fe(Ua.div),Ba=Ke(function(n,r){const{rootProps:i,motionProps:l,...u}=n,{isOpen:d,onTransitionEnd:m,unstable__animationState:p}=Xp(),g=nZ(u,r),x=rZ(i),j=Hu();return e.jsx(Fe.div,{...x,__css:{zIndex:n.zIndex??j.list?.zIndex},children:e.jsx(dZ,{variants:uZ,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...j.list},...l,...g,className:lt("chakra-menu__menu-list",g.className),onUpdate:m,onAnimationComplete:cT(p.onComplete,g.onAnimationComplete)})})});Ba.displayName="MenuList";const QR=t=>{const{className:n,title:r,...i}=t,l=iZ(i);return e.jsx(XR,{title:r,className:lt("chakra-menu__option-group",n),...l})};QR.displayName="MenuOptionGroup";var hZ=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},kd=new WeakMap,Sg=new WeakMap,Cg={},Vy=0,JR=function(t){return t&&(t.host||JR(t.parentNode))},fZ=function(t,n){return n.map(function(r){if(t.contains(r))return r;var i=JR(r);return i&&t.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pZ=function(t,n,r,i){var l=fZ(n,Array.isArray(t)?t:[t]);Cg[r]||(Cg[r]=new WeakMap);var u=Cg[r],d=[],m=new Set,p=new Set(l),g=function(j){!j||m.has(j)||(m.add(j),g(j.parentNode))};l.forEach(g);var x=function(j){!j||p.has(j)||Array.prototype.forEach.call(j.children,function(S){if(m.has(S))x(S);else try{var C=S.getAttribute(i),_=C!==null&&C!=="false",A=(kd.get(S)||0)+1,T=(u.get(S)||0)+1;kd.set(S,A),u.set(S,T),d.push(S),A===1&&_&&Sg.set(S,!0),T===1&&S.setAttribute(r,"true"),_||S.setAttribute(i,"true")}catch(z){console.error("aria-hidden: cannot operate on ",S,z)}})};return x(n),m.clear(),Vy++,function(){d.forEach(function(j){var S=kd.get(j)-1,C=u.get(j)-1;kd.set(j,S),u.set(j,C),S||(Sg.has(j)||j.removeAttribute(i),Sg.delete(j)),C||j.removeAttribute(r)}),Vy--,Vy||(kd=new WeakMap,kd=new WeakMap,Sg=new WeakMap,Cg={})}},mZ=function(t,n,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),l=hZ(t);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live], script"))),pZ(i,l,r,"aria-hidden")):function(){return null}},gZ=Object.defineProperty,xZ=(t,n,r)=>n in t?gZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,vZ=(t,n,r)=>(xZ(t,n+"",r),r);class yZ{constructor(){vZ(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const r=Array.from(this.modals)[this.modals.size-1];return n===r}}const lj=new yZ;function eM(t,n){const[r,i]=y.useState(0);return y.useEffect(()=>{const l=t.current;if(l){if(n){const u=lj.add(l);i(u)}return()=>{lj.remove(l),i(0)}}},[n,t]),r}function bZ(t){const{isOpen:n,onClose:r,id:i,closeOnOverlayClick:l=!0,closeOnEsc:u=!0,useInert:d=!0,onOverlayClick:m,onEsc:p}=t,g=y.useRef(null),x=y.useRef(null),[j,S,C]=SZ(i,"chakra-modal","chakra-modal--header","chakra-modal--body");jZ(g,n&&d);const _=eM(g,n),A=y.useRef(null),T=y.useCallback(ce=>{A.current=ce.target},[]),z=y.useCallback(ce=>{ce.key==="Escape"&&(ce.stopPropagation(),u&&r?.(),p?.())},[u,r,p]),[P,k]=y.useState(!1),[I,N]=y.useState(!1),F=y.useCallback((ce={},de=null)=>({role:"dialog",...ce,ref:Qr(de,g),id:j,tabIndex:-1,"aria-modal":!0,"aria-labelledby":P?S:void 0,"aria-describedby":I?C:void 0,onClick:en(ce.onClick,le=>le.stopPropagation())}),[C,I,j,S,P]),Y=y.useCallback(ce=>{ce.stopPropagation(),A.current===ce.target&&lj.isTopModal(g.current)&&(l&&r?.(),m?.())},[r,l,m]),q=y.useCallback((ce={},de=null)=>({...ce,ref:Qr(de,x),onClick:en(ce.onClick,Y),onKeyDown:en(ce.onKeyDown,z),onMouseDown:en(ce.onMouseDown,T)}),[z,T,Y]);return{isOpen:n,onClose:r,headerId:S,bodyId:C,setBodyMounted:N,setHeaderMounted:k,dialogRef:g,overlayRef:x,getDialogProps:F,getDialogContainerProps:q,index:_}}function jZ(t,n){const r=t.current;y.useEffect(()=>{if(!(!t.current||!n))return mZ(t.current)},[n,t,r])}function SZ(t,...n){const r=y.useId(),i=t||r;return y.useMemo(()=>n.map(l=>`${l}-${i}`),[i,n])}const[CZ,Wu]=In({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[wZ,Sc]=In({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Et=t=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames??!0},{portalProps:r,children:i,autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:m,returnFocusOnClose:p,blockScrollOnMount:g,allowPinchZoom:x,preserveScrollBarGap:j,motionPreset:S,lockFocusAcrossFrames:C,animatePresenceProps:_,onCloseComplete:A}=n,T=ls("Modal",n),P={...bZ(n),autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:m,returnFocusOnClose:p,blockScrollOnMount:g,allowPinchZoom:x,preserveScrollBarGap:j,motionPreset:S,lockFocusAcrossFrames:C};return e.jsx(wZ,{value:P,children:e.jsx(CZ,{value:T,children:e.jsx(Ac,{..._,onExitComplete:A,children:P.isOpen&&e.jsx(Sh,{...r,children:i})})})})};Et.displayName="Modal";var ex="right-scroll-bar-position",tx="width-before-scroll-bar",_Z="with-scroll-bars-hidden",EZ="--removed-body-scroll-bar-size",tM=iR(),Uy=function(){},tv=y.forwardRef(function(t,n){var r=y.useRef(null),i=y.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),l=i[0],u=i[1],d=t.forwardProps,m=t.children,p=t.className,g=t.removeScrollBar,x=t.enabled,j=t.shards,S=t.sideCar,C=t.noRelative,_=t.noIsolation,A=t.inert,T=t.allowPinchZoom,z=t.as,P=z===void 0?"div":z,k=t.gapMode,I=nR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=S,F=tR([r,n]),Y=Pa(Pa({},I),l);return y.createElement(y.Fragment,null,x&&y.createElement(N,{sideCar:tM,removeScrollBar:g,shards:j,noRelative:C,noIsolation:_,inert:A,setCallbacks:u,allowPinchZoom:!!T,lockRef:r,gapMode:k}),d?y.cloneElement(y.Children.only(m),Pa(Pa({},Y),{ref:F})):y.createElement(P,Pa({},Y,{className:p,ref:F}),m))});tv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tv.classNames={fullWidth:tx,zeroRight:ex};var AZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=AZ();return n&&t.setAttribute("nonce",n),t}function kZ(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function PZ(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var RZ=function(){var t=0,n=null;return{add:function(r){t==0&&(n=TZ())&&(kZ(n,r),PZ(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},MZ=function(){var t=RZ();return function(n,r){y.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}},nM=function(){var t=MZ(),n=function(r){var i=r.styles,l=r.dynamic;return t(i,l),null};return n},DZ={left:0,top:0,right:0,gap:0},Hy=function(t){return parseInt(t||"",10)||0},zZ=function(t){var n=window.getComputedStyle(document.body),r=n[t==="padding"?"paddingLeft":"marginLeft"],i=n[t==="padding"?"paddingTop":"marginTop"],l=n[t==="padding"?"paddingRight":"marginRight"];return[Hy(r),Hy(i),Hy(l)]},LZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return DZ;var n=zZ(t),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-r+n[2]-n[0])}},OZ=nM(),eh="data-scroll-locked",NZ=function(t,n,r,i){var l=t.left,u=t.top,d=t.right,m=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(_Z,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(m,"px ").concat(i,`;
  }
  body[`).concat(eh,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ex,` {
    right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(tx,` {
    margin-right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(tx," .").concat(tx,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(eh,`] {
    `).concat(EZ,": ").concat(m,`px;
  }
`)},hA=function(){var t=parseInt(document.body.getAttribute(eh)||"0",10);return isFinite(t)?t:0},IZ=function(){y.useEffect(function(){return document.body.setAttribute(eh,(hA()+1).toString()),function(){var t=hA()-1;t<=0?document.body.removeAttribute(eh):document.body.setAttribute(eh,t.toString())}},[])},BZ=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,l=i===void 0?"margin":i;IZ();var u=y.useMemo(function(){return LZ(l)},[l]);return y.createElement(OZ,{styles:NZ(u,!n,l,r?"":"!important")})},cj=!1;if(typeof window<"u")try{var wg=Object.defineProperty({},"passive",{get:function(){return cj=!0,!0}});window.addEventListener("test",wg,wg),window.removeEventListener("test",wg,wg)}catch{cj=!1}var Pd=cj?{passive:!1}:!1,$Z=function(t){return t.tagName==="TEXTAREA"},rM=function(t,n){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!$Z(t)&&r[n]==="visible")},FZ=function(t){return rM(t,"overflowY")},VZ=function(t){return rM(t,"overflowX")},fA=function(t,n){var r=n.ownerDocument,i=n;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=sM(t,i);if(l){var u=iM(t,i),d=u[1],m=u[2];if(d>m)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},UZ=function(t){var n=t.scrollTop,r=t.scrollHeight,i=t.clientHeight;return[n,r,i]},HZ=function(t){var n=t.scrollLeft,r=t.scrollWidth,i=t.clientWidth;return[n,r,i]},sM=function(t,n){return t==="v"?FZ(n):VZ(n)},iM=function(t,n){return t==="v"?UZ(n):HZ(n)},WZ=function(t,n){return t==="h"&&n==="rtl"?-1:1},qZ=function(t,n,r,i,l){var u=WZ(t,window.getComputedStyle(n).direction),d=u*i,m=r.target,p=n.contains(m),g=!1,x=d>0,j=0,S=0;do{if(!m)break;var C=iM(t,m),_=C[0],A=C[1],T=C[2],z=A-T-u*_;(_||z)&&sM(t,m)&&(j+=z,S+=_);var P=m.parentNode;m=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!p&&m!==document.body||p&&(n.contains(m)||n===m));return(x&&Math.abs(j)<1||!x&&Math.abs(S)<1)&&(g=!0),g},_g=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pA=function(t){return[t.deltaX,t.deltaY]},mA=function(t){return t&&"current"in t?t.current:t},GZ=function(t,n){return t[0]===n[0]&&t[1]===n[1]},ZZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YZ=0,Rd=[];function XZ(t){var n=y.useRef([]),r=y.useRef([0,0]),i=y.useRef(),l=y.useState(YZ++)[0],u=y.useState(nM)[0],d=y.useRef(t);y.useEffect(function(){d.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var A=JH([t.lockRef.current],(t.shards||[]).map(mA),!0).filter(Boolean);return A.forEach(function(T){return T.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),A.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var m=y.useCallback(function(A,T){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!d.current.allowPinchZoom;var z=_g(A),P=r.current,k="deltaX"in A?A.deltaX:P[0]-z[0],I="deltaY"in A?A.deltaY:P[1]-z[1],N,F=A.target,Y=Math.abs(k)>Math.abs(I)?"h":"v";if("touches"in A&&Y==="h"&&F.type==="range")return!1;var q=fA(Y,F);if(!q)return!0;if(q?N=Y:(N=Y==="v"?"h":"v",q=fA(Y,F)),!q)return!1;if(!i.current&&"changedTouches"in A&&(k||I)&&(i.current=N),!N)return!0;var ce=i.current||N;return qZ(ce,T,A,ce==="h"?k:I)},[]),p=y.useCallback(function(A){var T=A;if(!(!Rd.length||Rd[Rd.length-1]!==u)){var z="deltaY"in T?pA(T):_g(T),P=n.current.filter(function(N){return N.name===T.type&&(N.target===T.target||T.target===N.shadowParent)&&GZ(N.delta,z)})[0];if(P&&P.should){T.cancelable&&T.preventDefault();return}if(!P){var k=(d.current.shards||[]).map(mA).filter(Boolean).filter(function(N){return N.contains(T.target)}),I=k.length>0?m(T,k[0]):!d.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),g=y.useCallback(function(A,T,z,P){var k={name:A,delta:T,target:z,should:P,shadowParent:KZ(z)};n.current.push(k),setTimeout(function(){n.current=n.current.filter(function(I){return I!==k})},1)},[]),x=y.useCallback(function(A){r.current=_g(A),i.current=void 0},[]),j=y.useCallback(function(A){g(A.type,pA(A),A.target,m(A,t.lockRef.current))},[]),S=y.useCallback(function(A){g(A.type,_g(A),A.target,m(A,t.lockRef.current))},[]);y.useEffect(function(){return Rd.push(u),t.setCallbacks({onScrollCapture:j,onWheelCapture:j,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Pd),document.addEventListener("touchmove",p,Pd),document.addEventListener("touchstart",x,Pd),function(){Rd=Rd.filter(function(A){return A!==u}),document.removeEventListener("wheel",p,Pd),document.removeEventListener("touchmove",p,Pd),document.removeEventListener("touchstart",x,Pd)}},[]);var C=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(u,{styles:ZZ(l)}):null,C?y.createElement(BZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function KZ(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const QZ=eW(tM,XZ);var oM=y.forwardRef(function(t,n){return y.createElement(tv,Pa({},t,{ref:n,sideCar:QZ}))});oM.classNames=tv.classNames;function aM(t){const{autoFocus:n,trapFocus:r,dialogRef:i,initialFocusRef:l,blockScrollOnMount:u,allowPinchZoom:d,finalFocusRef:m,returnFocusOnClose:p,preserveScrollBarGap:g,lockFocusAcrossFrames:x,isOpen:j}=Sc(),[S,C]=nS();y.useEffect(()=>{!S&&C&&setTimeout(C)},[S,C]);const _=eM(i,j);return e.jsx(MR,{autoFocus:n,isDisabled:!r,initialFocusRef:l,finalFocusRef:m,restoreFocus:p,contentRef:i,lockFocusAcrossFrames:x,children:e.jsx(oM,{removeScrollBar:!g,allowPinchZoom:d,enabled:_===1&&u,forwardProps:!0,children:t.children})})}const JZ={initial:({offsetX:t,offsetY:n,transition:r,transitionEnd:i,delay:l})=>({opacity:0,x:t,y:n,transition:r?.exit??Jo.exit(_u.exit,l),transitionEnd:i?.exit}),enter:({transition:t,transitionEnd:n,delay:r})=>({opacity:1,x:0,y:0,transition:t?.enter??Jo.enter(_u.enter,r),transitionEnd:n?.enter}),exit:({offsetY:t,offsetX:n,transition:r,transitionEnd:i,reverse:l,delay:u})=>{const d={x:n,y:t};return{opacity:0,transition:r?.exit??Jo.exit(_u.exit,u),...l?{...d,transitionEnd:i?.exit}:{transitionEnd:{...d,...i?.exit}}}}},Hf={initial:"initial",animate:"enter",exit:"exit",variants:JZ},eY=y.forwardRef(function(n,r){const{unmountOnExit:i,in:l,reverse:u=!0,className:d,offsetX:m=0,offsetY:p=8,transition:g,transitionEnd:x,delay:j,animatePresenceProps:S,...C}=n,_=i?l&&i:!0,A=l||i?"enter":"exit",T={offsetX:m,offsetY:p,reverse:u,transition:g,transitionEnd:x,delay:j};return e.jsx(Ac,{...S,custom:T,children:_&&e.jsx(Ua.div,{ref:r,className:lt("chakra-offset-slide",d),custom:T,...Hf,animate:A,...C})})});eY.displayName="SlideFade";const tY={exit:({reverse:t,initialScale:n,transition:r,transitionEnd:i,delay:l})=>({opacity:0,...t?{scale:n,transitionEnd:i?.exit}:{transitionEnd:{scale:n,...i?.exit}},transition:r?.exit??Jo.exit(_u.exit,l)}),enter:({transitionEnd:t,transition:n,delay:r})=>({opacity:1,scale:1,transition:n?.enter??Jo.enter(_u.enter,r),transitionEnd:t?.enter})},lM={initial:"exit",animate:"enter",exit:"exit",variants:tY},nY=y.forwardRef(function(n,r){const{unmountOnExit:i,in:l,reverse:u=!0,initialScale:d=.95,className:m,transition:p,transitionEnd:g,delay:x,animatePresenceProps:j,...S}=n,C=i?l&&i:!0,_=l||i?"enter":"exit",A={initialScale:d,reverse:u,transition:p,transitionEnd:g,delay:x};return e.jsx(Ac,{...j,custom:A,children:C&&e.jsx(Ua.div,{ref:r,className:lt("chakra-offset-slide",m),...lM,animate:_,custom:A,...S})})});nY.displayName="ScaleFade";const rY={slideInBottom:{...Hf,custom:{offsetY:16,reverse:!0}},slideInRight:{...Hf,custom:{offsetX:16,reverse:!0}},slideInTop:{...Hf,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Hf,custom:{offsetX:-16,reverse:!0}},scale:{...lM,custom:{initialScale:.95,reverse:!0}},none:{}},sY=Fe(Ua.section),iY=t=>rY[t||"none"],cM=y.forwardRef((t,n)=>{const{preset:r,motionProps:i=iY(r),...l}=t;return e.jsx(sY,{ref:n,...i,...l})});cM.displayName="ModalTransition";const Rt=Ke((t,n)=>{const{className:r,children:i,containerProps:l,motionProps:u,...d}=t,{getDialogProps:m,getDialogContainerProps:p}=Sc(),g=m(d,n),x=p(l),j=lt("chakra-modal__content",r),S=Wu(),C={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...S.dialog},_={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...S.dialogContainer},{motionPreset:A}=Sc();return e.jsx(aM,{children:e.jsx(Fe.div,{...x,className:"chakra-modal__content-container",tabIndex:-1,__css:_,children:e.jsx(cM,{preset:A,motionProps:u,className:j,...g,__css:C,children:i})})})});Rt.displayName="ModalContent";const At=Ke((t,n)=>{const{className:r,...i}=t,{bodyId:l,setBodyMounted:u}=Sc();y.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=lt("chakra-modal__body",r),m=Wu();return e.jsx(Fe.div,{ref:n,className:d,id:l,...i,__css:m.body})});At.displayName="ModalBody";const It=Ke((t,n)=>{const{onClick:r,className:i,...l}=t,{onClose:u}=Sc(),d=lt("chakra-modal__close-btn",i),m=Wu();return e.jsx(OS,{ref:n,__css:m.closeButton,className:d,onClick:en(r,p=>{p.stopPropagation(),u()}),...l})});It.displayName="ModalCloseButton";const Vt=Ke((t,n)=>{const{className:r,...i}=t,l=lt("chakra-modal__footer",r),u=Wu(),d={display:"flex",alignItems:"center",justifyContent:"flex-end",...u.footer};return e.jsx(Fe.footer,{ref:n,...i,__css:d,className:l})});Vt.displayName="ModalFooter";const Tt=Ke((t,n)=>{const{className:r,...i}=t,{headerId:l,setHeaderMounted:u}=Sc();y.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=lt("chakra-modal__header",r),m=Wu(),p={flex:0,...m.header};return e.jsx(Fe.header,{ref:n,className:d,id:l,...i,__css:p})});Tt.displayName="ModalHeader";const oY={enter:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:1,transition:t?.enter??Jo.enter(_u.enter,r),transitionEnd:n?.enter}),exit:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:0,transition:t?.exit??Jo.exit(_u.exit,r),transitionEnd:n?.exit})},uM={initial:"exit",animate:"enter",exit:"exit",variants:oY},aY=y.forwardRef(function(n,r){const{unmountOnExit:i,in:l,className:u,transition:d,transitionEnd:m,delay:p,animatePresenceProps:g,...x}=n,j=l||i?"enter":"exit",S=i?l&&i:!0,C={transition:d,transitionEnd:m,delay:p};return e.jsx(Ac,{...g,custom:C,children:S&&e.jsx(Ua.div,{ref:r,className:lt("chakra-fade",u),custom:C,...uM,animate:j,...x})})});aY.displayName="Fade";const lY=Fe(Ua.div),kt=Ke((t,n)=>{const{className:r,transition:i,motionProps:l,...u}=t,d=lt("chakra-modal__overlay",r),p={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Wu().overlay},{motionPreset:g}=Sc(),j=l||(g==="none"?{}:uM);return e.jsx(lY,{...j,__css:p,ref:n,className:d,...u})});kt.displayName="ModalOverlay";function cY(t){const{leastDestructiveRef:n,...r}=t;return e.jsx(Et,{...r,initialFocusRef:n})}const uY=Ke((t,n)=>e.jsx(Rt,{ref:n,role:"alertdialog",...t})),[dY,hY]=In(),fY={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function pY(t,n){if(t)return fY[t]?.[n]??t}function mY(t){const{isOpen:n,onClose:r,placement:i="right",children:l,...u}=t,d=Uu(),m=d.components?.Drawer,p=pY(i,d.direction);return e.jsx(dY,{value:{placement:p},children:e.jsx(Et,{isOpen:n,onClose:r,styleConfig:m,...u,children:l})})}const gA={exit:{duration:.15,ease:gu.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},gY={exit:({direction:t,transition:n,transitionEnd:r,delay:i})=>{const{exit:l}=Ub({direction:t});return{...l,transition:n?.exit??Jo.exit(gA.exit,i),transitionEnd:r?.exit}},enter:({direction:t,transitionEnd:n,transition:r,delay:i})=>{const{enter:l}=Ub({direction:t});return{...l,transition:r?.enter??Jo.enter(gA.enter,i),transitionEnd:n?.enter}}},dM=y.forwardRef(function(n,r){const{direction:i="right",style:l,unmountOnExit:u,in:d,className:m,transition:p,transitionEnd:g,delay:x,motionProps:j,animatePresenceProps:S,...C}=n,_=Ub({direction:i}),A=Object.assign({position:"fixed"},_.position,l),T=u?d&&u:!0,z=d||u?"enter":"exit",P={transitionEnd:g,transition:p,direction:i,delay:x};return e.jsx(Ac,{...S,custom:P,children:T&&e.jsx(Ua.div,{...C,ref:r,initial:"exit",className:lt("chakra-slide",m),animate:z,exit:"exit",custom:P,variants:gY,style:A,...j})})});dM.displayName="Slide";const xY=Fe(dM),hM=Ke((t,n)=>{const{className:r,children:i,motionProps:l,containerProps:u,...d}=t,{getDialogProps:m,getDialogContainerProps:p,isOpen:g}=Sc(),x=m(d,n),j=p(u),S=lt("chakra-modal__content",r),C=Wu(),_={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...C.dialog},A={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...C.dialogContainer},{placement:T}=hY();return e.jsx(aM,{children:e.jsx(Fe.div,{...j,className:"chakra-modal__content-container",__css:A,children:e.jsx(xY,{motionProps:l,direction:T,in:g,className:S,...x,__css:_,children:i})})})});hM.displayName="DrawerContent";const vY=t=>e.jsx(Hn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),yY=t=>e.jsx(Hn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function xA(t,n,r,i){y.useEffect(()=>{if(!t.current||!i)return;const l=t.current.ownerDocument.defaultView??window,u=Array.isArray(n)?n:[n],d=new l.MutationObserver(m=>{for(const p of m)p.type==="attributes"&&p.attributeName&&u.includes(p.attributeName)&&r(p)});return d.observe(t.current,{attributes:!0,attributeFilter:u}),()=>d.disconnect()})}const bY=50,vA=300;function jY(t,n){const[r,i]=y.useState(!1),[l,u]=y.useState(null),[d,m]=y.useState(!0),p=y.useRef(null),g=()=>clearTimeout(p.current);FO(()=>{l==="increment"&&t(),l==="decrement"&&n()},r?bY:null);const x=y.useCallback(()=>{d&&t(),p.current=setTimeout(()=>{m(!1),i(!0),u("increment")},vA)},[t,d]),j=y.useCallback(()=>{d&&n(),p.current=setTimeout(()=>{m(!1),i(!0),u("decrement")},vA)},[n,d]),S=y.useCallback(()=>{m(!0),i(!1),g()},[]);return y.useEffect(()=>()=>g(),[]),{up:x,down:j,stop:S,isSpinning:r}}const SY=/^[Ee0-9+\-.]$/;function CY(t){return SY.test(t)}function wY(t,n){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:n(t.key)}function _Y(t={}){const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:i=!0,min:l=Number.MIN_SAFE_INTEGER,max:u=Number.MAX_SAFE_INTEGER,step:d=1,isReadOnly:m,isDisabled:p,isRequired:g,isInvalid:x,pattern:j="[0-9]*(.[0-9]+)?",inputMode:S="decimal",allowMouseWheel:C,id:_,onChange:A,precision:T,name:z,"aria-describedby":P,"aria-label":k,"aria-labelledby":I,onFocus:N,onBlur:F,onInvalid:Y,getAriaValueText:q,isValidCharacter:ce,format:de,parse:le,...ve}=t,Pe=ps(N),me=ps(F),G=ps(Y),Z=ps(ce??CY),H=ps(q),W=OO(t),{update:Se,increment:B,decrement:ie}=W,[pe,$]=y.useState(!1),V=!(m||p),M=y.useRef(null),Q=y.useRef(null),Ee=y.useRef(null),Le=y.useRef(null),Ae=y.useCallback(Ye=>Ye.split("").filter(Z).join(""),[Z]),it=y.useCallback(Ye=>le?.(Ye)??Ye,[le]),ct=y.useCallback(Ye=>(de?.(Ye)??Ye).toString(),[de]);Pu(()=>{(W.valueAsNumber>u||W.valueAsNumber<l)&&G?.("rangeOverflow",ct(W.value),W.valueAsNumber)},[W.valueAsNumber,W.value,ct,G]),Cl(()=>{if(!M.current)return;if(M.current.value!=W.value){const gt=it(M.current.value);W.setValue(Ae(gt))}},[it,Ae]);const Je=y.useCallback((Ye=d)=>{V&&B(Ye)},[B,V,d]),zt=y.useCallback((Ye=d)=>{V&&ie(Ye)},[ie,V,d]),Ve=jY(Je,zt);xA(Ee,"disabled",Ve.stop,Ve.isSpinning),xA(Le,"disabled",Ve.stop,Ve.isSpinning);const $t=y.useCallback(Ye=>{if(Ye.nativeEvent.isComposing)return;const Pn=it(Ye.currentTarget.value);Se(Ae(Pn)),Q.current={start:Ye.currentTarget.selectionStart,end:Ye.currentTarget.selectionEnd}},[Se,Ae,it]),be=y.useCallback(Ye=>{Pe?.(Ye),Q.current&&(Ye.currentTarget.selectionStart=Q.current.start??Ye.currentTarget.value?.length,Ye.currentTarget.selectionEnd=Q.current.end??Ye.currentTarget.selectionStart)},[Pe]),Ze=y.useCallback(Ye=>{if(Ye.nativeEvent.isComposing)return;wY(Ye,Z)||Ye.preventDefault();const gt=Ot(Ye)*d,Pn=Ye.key,wt={ArrowUp:()=>Je(gt),ArrowDown:()=>zt(gt),Home:()=>Se(l),End:()=>Se(u)}[Pn];wt&&(Ye.preventDefault(),wt(Ye))},[Z,d,Je,zt,Se,l,u]),Ot=Ye=>{let gt=1;return(Ye.metaKey||Ye.ctrlKey)&&(gt=.1),Ye.shiftKey&&(gt=10),gt},ae=y.useMemo(()=>{const Ye=H?.(W.value);if(Ye!=null)return Ye;const gt=W.value.toString();return gt||void 0},[W.value,H]),ge=y.useCallback(()=>{let Ye=W.value;if(W.value==="")return;/^[eE]/.test(W.value.toString())?W.setValue(""):(W.valueAsNumber<l&&(Ye=l),W.valueAsNumber>u&&(Ye=u),W.cast(Ye))},[W,u,l]),nt=y.useCallback(()=>{$(!1),r&&ge()},[r,$,ge]),Pt=y.useCallback(()=>{n&&requestAnimationFrame(()=>{M.current?.focus()})},[n]),kn=y.useCallback(Ye=>{Ye.preventDefault(),Ve.up(),Pt()},[Pt,Ve]),ar=y.useCallback(Ye=>{Ye.preventDefault(),Ve.down(),Pt()},[Pt,Ve]);Xf(()=>M.current,"wheel",Ye=>{const Pn=(M.current?.ownerDocument??document).activeElement===M.current;if(!C||!Pn)return;Ye.preventDefault();const qe=Ot(Ye)*d,wt=Math.sign(Ye.deltaY);wt===-1?Je(qe):wt===1&&zt(qe)},{passive:!1});const Ue=y.useCallback((Ye={},gt=null)=>{const Pn=p||i&&W.isAtMax;return{...Ye,ref:Qr(gt,Ee),role:"button",tabIndex:-1,onPointerDown:en(Ye.onPointerDown,qe=>{qe.button!==0||Pn||kn(qe)}),onPointerLeave:en(Ye.onPointerLeave,Ve.stop),onPointerUp:en(Ye.onPointerUp,Ve.stop),disabled:Pn,"aria-disabled":bu(Pn)}},[W.isAtMax,i,kn,Ve.stop,p]),rt=y.useCallback((Ye={},gt=null)=>{const Pn=p||i&&W.isAtMin;return{...Ye,ref:Qr(gt,Le),role:"button",tabIndex:-1,onPointerDown:en(Ye.onPointerDown,qe=>{qe.button!==0||Pn||ar(qe)}),onPointerLeave:en(Ye.onPointerLeave,Ve.stop),onPointerUp:en(Ye.onPointerUp,Ve.stop),disabled:Pn,"aria-disabled":bu(Pn)}},[W.isAtMin,i,ar,Ve.stop,p]),Mt=y.useCallback((Ye={},gt=null)=>({name:z,inputMode:S,type:"text",pattern:j,"aria-labelledby":I,"aria-label":k,"aria-describedby":P,id:_,disabled:p,role:"spinbutton",...Ye,readOnly:Ye.readOnly??m,"aria-readonly":Ye.readOnly??m,"aria-required":Ye.required??g,required:Ye.required??g,ref:Qr(M,gt),value:ct(W.value),"aria-valuemin":l,"aria-valuemax":u,"aria-valuenow":Number.isNaN(W.valueAsNumber)?void 0:W.valueAsNumber,"aria-invalid":bu(x??W.isOutOfRange),"aria-valuetext":ae,autoComplete:"off",autoCorrect:"off",onChange:en(Ye.onChange,$t),onKeyDown:en(Ye.onKeyDown,Ze),onFocus:en(Ye.onFocus,be,()=>$(!0)),onBlur:en(Ye.onBlur,me,nt)}),[z,S,j,I,k,ct,P,_,p,g,m,x,W.value,W.valueAsNumber,W.isOutOfRange,l,u,ae,$t,Ze,be,me,nt]);return{value:ct(W.value),valueAsNumber:W.valueAsNumber,isFocused:pe,isDisabled:p,isReadOnly:m,getIncrementButtonProps:Ue,getDecrementButtonProps:rt,getInputProps:Mt,htmlProps:ve}}const[EY,nv]=In({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[AY,m1]=In({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Yn=Ke(function(n,r){const i=ls("NumberInput",n),l=$n(n),u=HS(l),{htmlProps:d,...m}=_Y(u),p=y.useMemo(()=>m,[m]);return e.jsx(AY,{value:p,children:e.jsx(EY,{value:i,children:e.jsx(Fe.div,{...d,ref:r,className:lt("chakra-numberinput",n.className),__css:{position:"relative",zIndex:0,...i.root}})})})});Yn.displayName="NumberInput";const ai=Ke(function(n,r){const i=nv();return e.jsx(Fe.div,{"aria-hidden":!0,ref:r,...n,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...i.stepperGroup}})});ai.displayName="NumberInputStepper";const Xn=Ke(function(n,r){const{getInputProps:i}=m1(),l=i(n,r),u=nv();return e.jsx(Fe.input,{...l,className:lt("chakra-numberinput__field",n.className),__css:{width:"100%",...u.field}})});Xn.displayName="NumberInputField";const fM=Fe("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),li=Ke(function(n,r){const i=nv(),{getDecrementButtonProps:l}=m1(),u=l(n,r);return e.jsx(fM,{...u,__css:i.stepper,children:n.children??e.jsx(vY,{})})});li.displayName="NumberDecrementStepper";const ci=Ke(function(n,r){const{getIncrementButtonProps:i}=m1(),l=i(n,r),u=nv();return e.jsx(fM,{...l,__css:u.stepper,children:n.children??e.jsx(yY,{})})});ci.displayName="NumberIncrementStepper";const[TY,ZJ,kY,PY]=Yx(),[RY,MY]=In({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to place all pin input fields within `<PinInput />`"}),yA=t=>t?.split("");function bA(t,n){return(n==="alphanumeric"?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(t)}function DY(t={}){const{autoFocus:n,value:r,defaultValue:i,onChange:l,onComplete:u,placeholder:d="",manageFocus:m=!0,otp:p=!1,id:g,isDisabled:x,isInvalid:j,type:S="number",mask:C}=t,_=y.useId(),A=g??`pin-input-${_}`,T=kY(),[z,P]=y.useState(!0),[k,I]=y.useState(-1),[N,F]=Bp({defaultValue:yA(i)||[],value:yA(r),onChange:ve=>l?.(ve.join(""))});y.useEffect(()=>{if(n){const ve=T.first();ve&&requestAnimationFrame(()=>{ve.node.focus()})}},[T]);const Y=y.useCallback(ve=>{if(!z||!m)return;const Pe=T.next(ve,!1);Pe&&requestAnimationFrame(()=>{Pe.node.focus()})},[T,z,m]),q=y.useCallback((ve,Pe,me=!0)=>{const G=[...N];G[Pe]=ve,F(G),ve!==""&&G.length===T.count()&&G.every(H=>H!=null&&H!=="")?u?.(G.join("")):me&&Y(Pe)},[N,F,Y,u,T]),ce=y.useCallback(()=>{const ve=Array(T.count()).fill("");F(ve),T.first()?.node?.focus()},[T,F]),de=y.useCallback((ve,Pe)=>{let me=Pe;return ve?.length>0&&(ve[0]===Pe.charAt(0)?me=Pe.charAt(1):ve[0]===Pe.charAt(1)&&(me=Pe.charAt(0))),me},[]);return{getInputProps:y.useCallback(ve=>{const{index:Pe,...me}=ve,G=ie=>{const pe=ie.currentTarget.value,$=N[Pe],V=de($,pe);if(V===""){q("",Pe);return}if(pe.length>2){if(bA(pe,S)){const M=pe.split("").filter((Q,Ee)=>Ee<T.count());F(M),M.length===T.count()&&u?.(M.join(""))}}else bA(V,S)&&q(V,Pe),P(!0)},Z=ie=>{if(ie.key==="Backspace"&&m)if(ie.currentTarget.value===""){const pe=T.prev(Pe,!1);pe&&(q("",Pe-1,!1),pe.node?.focus(),P(!0))}else P(!1)},H=()=>{I(Pe)},W=()=>{I(-1)},Se=k===Pe;return{"aria-label":"Please enter your pin code",inputMode:S==="number"?"numeric":"text",type:C?"password":S==="number"?"tel":"text",...me,id:`${A}-${Pe}`,disabled:x,"aria-invalid":bu(j),onChange:en(me.onChange,G),onKeyDown:en(me.onKeyDown,Z),onFocus:en(me.onFocus,H),onBlur:en(me.onBlur,W),value:N[Pe]||"",autoComplete:p?"one-time-code":"off",placeholder:Se?"":d}},[T,k,de,A,x,C,j,m,u,p,d,q,F,S,N]),id:A,descendants:T,values:N,setValue:q,setValues:F,clear:ce}}function zY(t={},n=null){const{getInputProps:r}=MY(),{index:i,register:l}=PY();return r({...t,ref:Qr(l,n),index:t.index??i})}function uj(t){const n=fi("PinInput",t),{children:r,...i}=$n(t),{descendants:l,...u}=DY(i),d=_c(r).map(m=>y.cloneElement(m,{__css:n}));return e.jsx(TY,{value:l,children:e.jsx(RY,{value:u,children:d})})}uj.displayName="PinInput";const fl=Ke(function(n,r){const i=zY(n,r);return e.jsx(Fe.input,{...i,className:lt("chakra-pin-input",n.className)})});fl.displayName="PinInputField";function LY(t){const n=y.version;return typeof n!="string"||n.startsWith("18.")?t?.ref:t?.props?.ref}function OY(t,n,r){return(t-n)*100/(r-n)}Ec({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});Ec({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});const NY=Ec({"0%":{left:"-40%"},"100%":{left:"100%"}}),IY=Ec({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function BY(t){const{value:n=0,min:r,max:i,valueText:l,getValueText:u,isIndeterminate:d,role:m="progressbar"}=t,p=OY(n,r,i);return{bind:{"data-indeterminate":d?"":void 0,"aria-valuemax":i,"aria-valuemin":r,"aria-valuenow":d?void 0:n,"aria-valuetext":(()=>{if(n!=null)return typeof u=="function"?u(n,p):l})(),role:m},percent:p,value:n}}const[$Y,FY]=In({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),VY=Ke((t,n)=>{const{min:r,max:i,value:l,isIndeterminate:u,role:d,...m}=t,p=BY({value:l,min:r,max:i,isIndeterminate:u,role:d}),x={height:"100%",...FY().filledTrack};return e.jsx(Fe.div,{ref:n,style:{width:`${p.percent}%`,...m.style},...p.bind,...m,__css:x})}),xc=Ke((t,n)=>{const{value:r,min:i=0,max:l=100,hasStripe:u,isAnimated:d,children:m,borderRadius:p,isIndeterminate:g,"aria-label":x,"aria-labelledby":j,"aria-valuetext":S,title:C,role:_,...A}=$n(t),T=ls("Progress",t),z=p??T.track?.borderRadius,P={animation:`${IY} 1s linear infinite`},N={...!g&&u&&d&&P,...g&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${NY} 1s ease infinite normal none running`}},F={overflow:"hidden",position:"relative",...T.track};return e.jsx(Fe.div,{ref:n,borderRadius:z,__css:F,...A,children:e.jsxs($Y,{value:T,children:[e.jsx(VY,{"aria-label":x,"aria-labelledby":j,"aria-valuetext":S,min:i,max:l,value:r,isIndeterminate:g,css:N,borderRadius:z,title:C,role:_}),m]})})});xc.displayName="Progress";const pM=Ke(function(n,r){const{children:i,placeholder:l,className:u,...d}=n;return e.jsxs(Fe.select,{...d,ref:r,className:lt("chakra-select",u),children:[l&&e.jsx("option",{value:"",children:l}),i]})});pM.displayName="SelectField";const st=Ke((t,n)=>{const r=ls("Select",t),{rootProps:i,placeholder:l,icon:u,color:d,height:m,h:p,minH:g,minHeight:x,iconColor:j,iconSize:S,...C}=$n(t),[_,A]=RO(C,_4),T=US(A),z={width:"100%",height:"fit-content",position:"relative",color:d},P={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...r.field?._focus}};return e.jsxs(Fe.div,{className:"chakra-select__wrapper",__css:z,..._,...i,children:[e.jsx(pM,{ref:n,height:p??m,minH:g??x,placeholder:l,...T,__css:P,children:t.children}),e.jsx(mM,{"data-disabled":Sn(T.disabled),...(j||d)&&{color:j||d},__css:r.icon,...S&&{fontSize:S},children:u})]})});st.displayName="Select";const UY=t=>e.jsx("svg",{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),HY=Fe("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),mM=t=>{const{children:n=e.jsx(UY,{}),...r}=t,i=y.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return e.jsx(HY,{...r,className:"chakra-select__icon-wrapper",children:y.isValidElement(n)?i:null})};mM.displayName="SelectIcon";const kp=Fe("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});kp.displayName="Spacer";const gM=t=>e.jsx(Fe.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});gM.displayName="StackItem";function WY(t){const{spacing:n,direction:r}=t,i={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Dx(r,l=>i[l])}}const ki=Ke((t,n)=>{const{isInline:r,direction:i,align:l,justify:u,spacing:d="0.5rem",wrap:m,children:p,divider:g,className:x,shouldWrapChildren:j,...S}=t,C=r?"row":i??"column",_=y.useMemo(()=>WY({spacing:d,direction:C}),[d,C]),A=!!g,T=!j&&!A,z=y.useMemo(()=>{const k=_c(p);return T?k:k.map((I,N)=>{const F=typeof I.key<"u"?I.key:N,Y=N+1===k.length,ce=j?e.jsx(gM,{children:I},F):I;if(!A)return ce;const de=y.cloneElement(g,{__css:_}),le=Y?null:de;return e.jsxs(y.Fragment,{children:[ce,le]},F)})},[g,_,A,T,j,p]),P=lt("chakra-stack",x);return e.jsx(Fe.div,{ref:n,display:"flex",alignItems:l,justifyContent:u,flexDirection:C,flexWrap:m,gap:A?void 0:d,className:P,...S,children:z})});ki.displayName="Stack";const re=Ke((t,n)=>e.jsx(ki,{align:"center",...t,direction:"row",ref:n}));re.displayName="HStack";const se=Ke((t,n)=>e.jsx(ki,{align:"center",...t,direction:"column",ref:n}));se.displayName="VStack";const[qY,rv]=In({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),vt=Ke(function(n,r){const i=ls("Stat",n),l={position:"relative",flex:"1 1 0%",...i.container},{className:u,children:d,...m}=$n(n);return e.jsx(qY,{value:i,children:e.jsx(Fe.div,{ref:r,...m,className:lt("chakra-stat",u),__css:l,children:e.jsx("dl",{children:d})})})});vt.displayName="Stat";const xM=t=>e.jsx(Hn,{color:"red.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})});xM.displayName="StatDownArrow";function vM(t){return e.jsx(Hn,{color:"green.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})})}vM.displayName="StatUpArrow";function Wd(t){const{type:n,"aria-label":r,...i}=t,l=rv(),u=n==="increase"?vM:xM,m=r||(n==="increase"?"increased by":"decreased by");return e.jsxs(e.Fragment,{children:[e.jsx(Fe.span,{srOnly:!0,children:m}),e.jsx(u,{"aria-hidden":!0,...i,__css:l.icon})]})}Wd.displayName="StatArrow";const g1=Ke(function(n,r){return e.jsx(Fe.div,{...n,ref:r,role:"group",className:lt("chakra-stat__group",n.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});g1.displayName="StatGroup";const so=Ke(function(n,r){const i=rv();return e.jsx(Fe.dd,{ref:r,...n,className:lt("chakra-stat__help-text",n.className),__css:i.helpText})});so.displayName="StatHelpText";const yt=Ke(function(n,r){const i=rv();return e.jsx(Fe.dt,{ref:r,...n,className:lt("chakra-stat__label",n.className),__css:i.label})});yt.displayName="StatLabel";const bt=Ke(function(n,r){const i=rv();return e.jsx(Fe.dd,{ref:r,...n,className:lt("chakra-stat__number",n.className),__css:{...i.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});bt.displayName="StatNumber";const jr=Ke(function(n,r){const i=ls("Switch",n),{spacing:l="0.5rem",children:u,...d}=$n(n),{getIndicatorProps:m,getInputProps:p,getCheckboxProps:g,getRootProps:x,getLabelProps:j}=QP(d),S=y.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...i.container}),[i.container]),C=y.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...i.track}),[i.track]),_=y.useMemo(()=>({userSelect:"none",marginStart:l,...i.label}),[l,i.label]);return e.jsxs(Fe.label,{...x(),className:lt("chakra-switch",n.className),__css:S,children:[e.jsx("input",{className:"chakra-switch__input",...p({},r)}),e.jsx(Fe.span,{...g(),className:"chakra-switch__track",__css:C,children:e.jsx(Fe.span,{__css:i.thumb,className:"chakra-switch__thumb",...m()})}),u&&e.jsx(Fe.span,{className:"chakra-switch__label",...j(),__css:_,children:u})]})});jr.displayName="Switch";const[GY,Kp]=In({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),br=Ke((t,n)=>{const r=ls("Table",t),{className:i,layout:l,...u}=$n(t);return e.jsx(GY,{value:r,children:e.jsx(Fe.table,{ref:n,__css:{tableLayout:l,...r.table},className:lt("chakra-table",i),...u})})});br.displayName="Table";const _r=Ke((t,n)=>{const r=Kp();return e.jsx(Fe.tbody,{...t,ref:n,__css:r.tbody})}),Ne=Ke(({isNumeric:t,...n},r)=>{const i=Kp();return e.jsx(Fe.td,{...n,ref:r,__css:i.td,"data-is-numeric":t})}),Ie=Ke(({isNumeric:t,...n},r)=>{const i=Kp();return e.jsx(Fe.th,{...n,ref:r,__css:i.th,"data-is-numeric":t})}),Er=Ke((t,n)=>{const r=Kp();return e.jsx(Fe.thead,{...t,ref:n,__css:r.thead})}),Ft=Ke((t,n)=>{const r=Kp();return e.jsx(Fe.tr,{...t,ref:n,__css:r.tr})}),[ZY,YY,XY,KY]=Yx();function QY(t){const{defaultIndex:n,onChange:r,index:i,isManual:l,isLazy:u,lazyBehavior:d="unmount",orientation:m="horizontal",direction:p="ltr",...g}=t,[x,j]=y.useState(n??0),[S,C]=Bp({defaultValue:n??0,value:i,onChange:r});y.useEffect(()=>{i!=null&&j(i)},[i]);const _=XY(),A=y.useId();return{id:`tabs-${t.id??A}`,selectedIndex:S,focusedIndex:x,setSelectedIndex:C,setFocusedIndex:j,isManual:l,isLazy:u,lazyBehavior:d,orientation:m,descendants:_,direction:p,htmlProps:g}}const[JY,sv]=In({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function eX(t){const{focusedIndex:n,orientation:r,direction:i}=sv(),l=YY(),u=y.useCallback(d=>{const m=()=>{const P=l.nextEnabled(n);P&&P.node?.focus()},p=()=>{const P=l.prevEnabled(n);P&&P.node?.focus()},g=()=>{const P=l.firstEnabled();P&&P.node?.focus()},x=()=>{const P=l.lastEnabled();P&&P.node?.focus()},j=r==="horizontal",S=r==="vertical",C=d.key,_=i==="ltr"?"ArrowLeft":"ArrowRight",A=i==="ltr"?"ArrowRight":"ArrowLeft",z={[_]:()=>j&&p(),[A]:()=>j&&m(),ArrowDown:()=>S&&m(),ArrowUp:()=>S&&p(),Home:g,End:x}[C];z&&(d.preventDefault(),z(d))},[l,n,r,i]);return{...t,role:"tablist","aria-orientation":r,onKeyDown:en(t.onKeyDown,u)}}function tX(t){const{isDisabled:n=!1,isFocusable:r=!1,...i}=t,{setSelectedIndex:l,isManual:u,id:d,setFocusedIndex:m,selectedIndex:p}=sv(),{index:g,register:x}=KY({disabled:n&&!r}),j=g===p,S=()=>{l(g)},C=()=>{m(g),!u&&!(n&&r)&&l(g)};return{...qR({...i,ref:Qr(x,t.ref),isDisabled:n,isFocusable:r,onClick:en(t.onClick,S)}),id:yM(d,g),role:"tab",tabIndex:j?0:-1,type:"button","aria-selected":j,"aria-controls":bM(d,g),onFocus:n?void 0:en(t.onFocus,C)}}const[nX,rX]=In({});function sX(t){const n=sv(),{id:r,selectedIndex:i}=n,u=_c(t.children).map((d,m)=>y.createElement(nX,{key:d.key??m,value:{isSelected:m===i,id:bM(r,m),tabId:yM(r,m),selectedIndex:i}},d));return{...t,children:u}}function iX(t){const{children:n,...r}=t,{isLazy:i,lazyBehavior:l}=sv(),{isSelected:u,id:d,tabId:m}=rX(),p=y.useRef(!1);u&&(p.current=!0);const g=fT({wasSelected:p.current,isSelected:u,enabled:i,mode:l});return{tabIndex:0,...r,children:g?n:null,role:"tabpanel","aria-labelledby":m,hidden:!u,id:d}}function yM(t,n){return`${t}--tab-${n}`}function bM(t,n){return`${t}--tabpanel-${n}`}const[oX,iv]=In({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),sa=Ke(function(n,r){const i=ls("Tabs",n),{children:l,className:u,...d}=$n(n),{htmlProps:m,descendants:p,...g}=QY(d),x=y.useMemo(()=>g,[g]),{isFitted:j,...S}=m,C={position:"relative",...i.root};return e.jsx(ZY,{value:p,children:e.jsx(JY,{value:x,children:e.jsx(oX,{value:i,children:e.jsx(Fe.div,{className:lt("chakra-tabs",u),ref:r,...S,__css:C,children:l})})})})});sa.displayName="Tabs";const ln=Ke(function(n,r){const i=iv(),l=tX({...n,ref:r}),u={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...i.tab};return e.jsx(Fe.button,{...l,className:lt("chakra-tabs__tab",n.className),__css:u})});ln.displayName="Tab";const ia=Ke(function(n,r){const i=eX({...n,ref:r}),l=iv(),u={display:"flex",...l.tablist};return e.jsx(Fe.div,{...i,className:lt("chakra-tabs__tablist",n.className),__css:u})});ia.displayName="TabList";const cn=Ke(function(n,r){const i=iX({...n,ref:r}),l=iv();return e.jsx(Fe.div,{outline:"0",...i,className:lt("chakra-tabs__tab-panel",n.className),__css:l.tabpanel})});cn.displayName="TabPanel";const oa=Ke(function(n,r){const i=sX(n),l=iv();return e.jsx(Fe.div,{...i,width:"100%",ref:r,className:lt("chakra-tabs__tab-panels",n.className),__css:l.tabpanels})});oa.displayName="TabPanels";const[aX,jM]=In({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Iu=Ke((t,n)=>{const r=ls("Tag",t),i=$n(t),l={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...r.container};return e.jsx(aX,{value:r,children:e.jsx(Fe.span,{ref:n,...i,__css:l})})});Iu.displayName="Tag";const Bu=Ke((t,n)=>{const r=jM();return e.jsx(Fe.span,{ref:n,noOfLines:1,...t,__css:r.label})});Bu.displayName="TagLabel";const lX=Ke((t,n)=>e.jsx(Hn,{ref:n,verticalAlign:"top",marginEnd:"0.5rem",...t}));lX.displayName="TagLeftIcon";const cX=Ke((t,n)=>e.jsx(Hn,{ref:n,verticalAlign:"top",marginStart:"0.5rem",...t}));cX.displayName="TagRightIcon";const SM=t=>e.jsx(Hn,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});SM.displayName="TagCloseIcon";const x1=Ke((t,n)=>{const{isDisabled:r,children:i,...l}=t,d={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...jM().closeButton};return e.jsx(Fe.button,{ref:n,"aria-label":"close",...l,type:"button",disabled:r,__css:d,children:i||e.jsx(SM,{})})});x1.displayName="TagCloseButton";const uX=["h","minH","height","minHeight"],Zt=Ke((t,n)=>{const r=fi("Textarea",t),{className:i,rows:l,...u}=$n(t),d=US(u),m=l?Np(r,uX):r;return e.jsx(Fe.textarea,{ref:n,rows:l,...d,className:lt("chakra-textarea",i),__css:m})});Zt.displayName="Textarea";function dX(t,n){const r=t??"bottom";return{"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r]?.[n]??r}function hX(t,n){const r=l=>({...n,...l,position:dX(l?.position??n?.position,t)}),i=l=>{const u=r(l),d=IP(u);return ka.notify(d,u)};return i.update=(l,u)=>{ka.update(l,r(u))},i.promise=(l,u)=>{const d=i({...u.loading,status:"loading",duration:null});l.then(m=>i.update(d,{status:"success",duration:5e3,...io(u.success,m)})).catch(m=>i.update(d,{status:"error",duration:5e3,...io(u.error,m)}))},i.closeAll=ka.closeAll,i.close=ka.close,i.isActive=ka.isActive,i}function wn(t){const{theme:n}=DP(),r=NU();return y.useMemo(()=>hX(n.direction,{...r,...t}),[t,n.direction,r])}const fX={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},dj=t=>t.current?.ownerDocument||document,nx=t=>t.current?.ownerDocument?.defaultView||window;function pX(t={}){const{openDelay:n=0,closeDelay:r=0,closeOnClick:i=!0,closeOnMouseDown:l,closeOnScroll:u,closeOnPointerDown:d=l,closeOnEsc:m=!0,onOpen:p,onClose:g,placement:x,id:j,isOpen:S,defaultIsOpen:C,arrowSize:_=10,arrowShadowColor:A,arrowPadding:T,modifiers:z,isDisabled:P,gutter:k,offset:I,direction:N,...F}=t,{isOpen:Y,onOpen:q,onClose:ce}=Dt({isOpen:S,defaultIsOpen:C,onOpen:p,onClose:g}),{referenceRef:de,getPopperProps:le,getArrowInnerProps:ve,getArrowProps:Pe}=WR({enabled:Y,placement:x,arrowPadding:T,modifiers:z,gutter:k,offset:I,direction:N}),me=y.useId(),Z=`tooltip-${j??me}`,H=y.useRef(null),W=y.useRef(void 0),Se=y.useCallback(()=>{W.current&&(clearTimeout(W.current),W.current=void 0)},[]),B=y.useRef(void 0),ie=y.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=void 0)},[]),pe=y.useCallback(()=>{ie(),ce()},[ce,ie]),$=mX(H,pe),V=y.useCallback(()=>{if(!P&&!W.current){Y&&$();const Je=nx(H);W.current=Je.setTimeout(q,n)}},[$,P,Y,q,n]),M=y.useCallback(()=>{Se();const Je=nx(H);B.current=Je.setTimeout(pe,r)},[r,pe,Se]),Q=y.useCallback(()=>{Y&&i&&M()},[i,M,Y]),Ee=y.useCallback(()=>{Y&&d&&M()},[d,M,Y]),Le=y.useCallback(Je=>{Y&&Je.key==="Escape"&&M()},[Y,M]);Xf(()=>dj(H),"keydown",m?Le:void 0),Xf(()=>{if(!u)return null;const Je=H.current;if(!Je)return null;const zt=xT(Je);return zt.localName==="body"?nx(H):zt},"scroll",()=>{Y&&u&&pe()},{passive:!0,capture:!0}),y.useEffect(()=>{P&&(Se(),Y&&ce())},[P,Y,ce,Se]),y.useEffect(()=>()=>{Se(),ie()},[Se,ie]),Xf(()=>H.current,"pointerleave",M);const Ae=y.useCallback((Je={},zt=null)=>({...Je,ref:Qr(H,zt,de),onPointerEnter:en(Je.onPointerEnter,$t=>{$t.pointerType!=="touch"&&V()}),onClick:en(Je.onClick,Q),onPointerDown:en(Je.onPointerDown,Ee),onFocus:en(Je.onFocus,V),onBlur:en(Je.onBlur,M),"aria-describedby":Y?Z:void 0}),[V,M,Ee,Y,Z,Q,de]),it=y.useCallback((Je={},zt=null)=>le({...Je,style:{...Je.style,[Ds.arrowSize.var]:_?`${_}px`:void 0,[Ds.arrowShadowColor.var]:A}},zt),[le,_,A]),ct=y.useCallback((Je={},zt=null)=>{const Ve={...Je.style,position:"relative",transformOrigin:Ds.transformOrigin.varRef};return{ref:zt,...F,...Je,id:Z,role:"tooltip",style:Ve}},[F,Z]);return{isOpen:Y,show:V,hide:M,getTriggerProps:Ae,getTooltipProps:ct,getTooltipPositionerProps:it,getArrowProps:Pe,getArrowInnerProps:ve}}const Wy="chakra-ui:close-tooltip";function mX(t,n){return y.useEffect(()=>{const r=dj(t);return r.addEventListener(Wy,n),()=>r.removeEventListener(Wy,n)},[n,t]),()=>{const r=dj(t),i=nx(t);r.dispatchEvent(new i.CustomEvent(Wy))}}const gX=Fe(Ua.div),Zs=Ke((t,n)=>{const r=fi("Tooltip",t),i=$n(t),l=Uu(),{children:u,label:d,shouldWrapChildren:m,"aria-label":p,hasArrow:g,bg:x,portalProps:j,background:S,backgroundColor:C,bgColor:_,motionProps:A,animatePresenceProps:T,...z}=i,P=S??C??x??_;if(P){r.bg=P;const de=L4(l,"colors",P);r[Ds.arrowBg.var]=de}const k=pX({...z,direction:l.direction}),I=!y.isValidElement(u)||m;let N;if(I)N=e.jsx(Fe.span,{display:"inline-block",tabIndex:0,...k.getTriggerProps(),children:u});else{const de=y.Children.only(u);N=y.cloneElement(de,k.getTriggerProps(de.props,LY(de)))}const F=!!p,Y=k.getTooltipProps({},n),q=F?Np(Y,["role","id"]):Y,ce=mT(Y,["role","id"]);return d?e.jsxs(e.Fragment,{children:[N,e.jsx(Ac,{...T,children:k.isOpen&&e.jsx(Sh,{...j,children:e.jsx(Fe.div,{...k.getTooltipPositionerProps(),__css:{zIndex:r.zIndex,pointerEvents:"none"},children:e.jsxs(gX,{variants:fX,initial:"exit",animate:"enter",exit:"exit",...A,...q,__css:r,children:[d,F&&e.jsx(Fe.span,{srOnly:!0,...ce,children:p}),g&&e.jsx(Fe.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:e.jsx(Fe.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:r.bg}})})]})})})})]}):e.jsx(e.Fragment,{children:u})});Zs.displayName="Tooltip";const Me=Ke(function(n,r){const i=fi("Heading",n),{className:l,...u}=$n(n);return e.jsx(Fe.h2,{ref:r,className:lt("chakra-heading",n.className),...u,__css:i})});Me.displayName="Heading";const R=Ke(function(n,r){const i=fi("Text",n),{className:l,align:u,decoration:d,casing:m,...p}=$n(n),g=Op({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return e.jsx(Fe.p,{ref:r,className:lt("chakra-text",n.className),...g,...p,__css:i})});R.displayName="Text";const CM=Fe("span",{baseStyle:WS});CM.displayName="VisuallyHidden";const xX=Fe("input",{baseStyle:WS});xX.displayName="VisuallyHiddenInput";const wM=Ke(function(n,r){const{spacing:i="0.5rem",spacingX:l,spacingY:u,children:d,justify:m,direction:p,align:g,className:x,shouldWrapChildren:j,...S}=n,C=y.useMemo(()=>j?y.Children.map(d,(_,A)=>e.jsx(_M,{children:_},A)):d,[d,j]);return e.jsx(Fe.div,{ref:r,className:lt("chakra-wrap",x),...S,children:e.jsx(Fe.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:m,alignItems:g,flexDirection:p,listStyleType:"none",gap:i,columnGap:l,rowGap:u,padding:"0"},children:C})})});wM.displayName="Wrap";const _M=Ke(function(n,r){const{className:i,...l}=n;return e.jsx(Fe.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:lt("chakra-wrap__listitem",i),...l})});_M.displayName="WrapItem";const vX=WH({fonts:{heading:"Montserrat, system-ui, sans-serif",body:"Montserrat, system-ui, sans-serif"},styles:{global:{body:{fontFamily:"Montserrat, system-ui, sans-serif",bg:"gray.50",color:"gray.800"},"*":{borderColor:"gray.200"}}},colors:{rbe:{50:"#fef2f4",100:"#fde2e7",200:"#facbd4",300:"#f5a3b2",400:"#ed7189",500:"#e14964",600:"#be003c",700:"#9f1d3d",800:"#881b38",900:"#751a35"},brand:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"}},semanticTokens:{colors:{primary:{default:"rbe.600",_dark:"rbe.400"},accent:{default:"rbe.500",_dark:"rbe.300"},background:{default:"gray.50",_dark:"gray.900"},surface:{default:"white",_dark:"gray.800"},muted:{default:"gray.100",_dark:"gray.700"}}},components:{Card:{baseStyle:{container:{fontFamily:"Montserrat, system-ui, sans-serif",borderRadius:"xl",boxShadow:"sm",border:"1px solid",borderColor:"gray.200",transition:"all 0.2s ease-out",_hover:{boxShadow:"md",transform:"translateY(-2px)"}}},variants:{modern:{container:{bg:"white",borderRadius:"2xl",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"none",_hover:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transform:"translateY(-4px)"}}},gradient:{container:{bgGradient:"linear(to-br, rbe.500, rbe.700)",color:"white",border:"none",_hover:{bgGradient:"linear(to-br, rbe.400, rbe.600)"}}}}},Heading:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",letterSpacing:"-0.025em",lineHeight:"shorter"},variants:{page:{fontSize:{base:"2xl",md:"4xl"},fontWeight:"800",bgGradient:"linear(to-r, rbe.600, rbe.800)",bgClip:"text",textAlign:"center",mb:2},section:{fontSize:{base:"xl",md:"2xl"},fontWeight:"700",color:"gray.800",mb:4},card:{fontSize:{base:"lg",md:"xl"},fontWeight:"600",color:"gray.700"}}},Text:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",lineHeight:"relaxed"},variants:{subtitle:{fontSize:{base:"md",md:"lg"},color:"gray.600",textAlign:"center",maxW:"2xl",mx:"auto"},description:{fontSize:"sm",color:"gray.600",lineHeight:"relaxed"}}},Button:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",borderRadius:"lg",transition:"all 0.2s ease-out",_focus:{boxShadow:"0 0 0 3px rgba(190, 0, 60, 0.1)"}},variants:{primary:{bg:"rbe.600",color:"white",_hover:{bg:"rbe.700",transform:"translateY(-1px)",boxShadow:"lg"},_active:{bg:"rbe.800"}},secondary:{bg:"white",color:"rbe.600",borderWidth:"2px",borderColor:"rbe.600",_hover:{bg:"rbe.50",transform:"translateY(-1px)"}},modern:{bg:"white",color:"gray.700",borderWidth:"1px",borderColor:"gray.300",boxShadow:"sm",_hover:{bg:"gray.50",borderColor:"gray.400",transform:"translateY(-1px)",boxShadow:"md"}}},sizes:{modern:{h:"12",px:"6",fontSize:"sm",fontWeight:"600"}}},Container:{baseStyle:{maxW:"container.xl",px:{base:4,md:8}}},Badge:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",fontSize:"xs",textTransform:"none",borderRadius:"md",px:2,py:1}},Modal:{baseStyle:{dialog:{borderRadius:"2xl",boxShadow:"2xl"},header:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",fontSize:"xl",color:"gray.800"}}}},breakpoints:{base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},shadows:{modern:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","modern-lg":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",rbe:"0 4px 14px 0 rgba(190, 0, 60, 0.15)"},radii:{modern:"12px","modern-lg":"16px","modern-xl":"20px"}}),yX=["w.belaidi","admin"];function bX(t){return t?yX.includes(String(t).toLowerCase()):!1}const jX=[{code:"ADMIN",label:"Administrateur"},{code:"VOLUNTEER",label:"Bnvole"},{code:"DRIVER",label:"Conducteur"},{code:"MEMBER",label:"Membre"},{code:"PRESIDENT",label:"Prsident (hritage)"},{code:"VICE_PRESIDENT",label:"Vice-prsident (hritage)"},{code:"TRESORIER",label:"Trsorier (hritage)"},{code:"SECRETAIRE_GENERAL",label:"Secrtaire gnral (hritage)"}];function SX(t){if(!t)return"MEMBER";let n=String(t).trim().toUpperCase().replace(/[-\s]+/g,"_");const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN",BENEVOLE:"VOLUNTEER",BNVOLE:"VOLUNTEER",BENEVOLES:"VOLUNTEER",BNVOLES:"VOLUNTEER",CONDUCTEUR:"DRIVER",CONDUCTEURS:"DRIVER",MEMBRE:"MEMBER",MEMBRES:"MEMBER"};return r[n]&&(n=r[n]),new Set(jX.map(l=>l.code)).has(n)?n:"MEMBER"}const EM=kc({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),Qp=kc({displayName:"ViewIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),CX=kc({displayName:"ViewOffIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),wX=kc({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),th=kc({displayName:"DeleteIcon",path:e.jsx("g",{fill:"currentColor",children:e.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),Pp=kc({displayName:"EditIcon",path:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),_X=kc({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),EX=kc({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function AX({isOpen:t,onPasswordChanged:n}){const[r,i]=y.useState(""),[l,u]=y.useState(""),[d,m]=y.useState(!1),[p,g]=y.useState(!1),[x,j]=y.useState(""),C=(A=>{let T=0;return A.length>=8&&(T+=25),/[A-Z]/.test(A)&&(T+=25),/[a-z]/.test(A)&&(T+=25),/[0-9]/.test(A)&&(T+=25),T})(r),_=async A=>{if(A.preventDefault(),j(""),r.length<6){j("Le mot de passe doit contenir au moins 6 caractres");return}if(r!==l){j("Les mots de passe ne correspondent pas");return}g(!0);try{const T=await fetch("https://attractive-kindness-rbe-serveurs.up.railway.app/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newPassword:r})}),z=await T.json();if(!T.ok)throw new Error(z.error||"Erreur de changement de mot de passe");n()}catch(T){j(T.message)}finally{g(!1)}};return e.jsxs(Et,{isOpen:t,closeOnOverlayClick:!1,closeOnEsc:!1,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Changement de mot de passe obligatoire"}),e.jsxs(At,{pb:6,children:[e.jsxs(sn,{status:"info",mb:4,children:[e.jsx(on,{}),"Vous devez changer votre mot de passe temporaire avant de continuer."]}),e.jsx("form",{onSubmit:_,children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nouveau mot de passe"}),e.jsxs(Lu,{children:[e.jsx(xe,{type:d?"text":"password",value:r,onChange:A=>i(A.target.value),placeholder:"Au moins 6 caractres"}),e.jsx(o1,{children:e.jsx(ut,{variant:"ghost",size:"sm",icon:d?e.jsx(CX,{}):e.jsx(Qp,{}),onClick:()=>m(!d)})})]}),r&&e.jsxs(se,{align:"start",spacing:1,mt:2,children:[e.jsx(R,{fontSize:"xs",color:"gray.600",children:"Force du mot de passe:"}),e.jsx(xc,{value:C,colorScheme:C<50?"red":C<75?"yellow":"green",size:"sm",width:"100%"})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Confirmer le mot de passe"}),e.jsx(xe,{type:d?"text":"password",value:l,onChange:A=>u(A.target.value),placeholder:"Retapez le nouveau mot de passe"})]}),x&&e.jsx(R,{color:"red.500",fontSize:"sm",children:x}),e.jsx(ne,{type:"submit",colorScheme:"blue",width:"100%",isLoading:p,isDisabled:!r||!l,children:"Changer le mot de passe"})]})})]})]})]})}const AM=y.createContext(null);function TX({children:t}){const[n,r]=y.useState(()=>localStorage.getItem("token")||""),[i,l]=y.useState(()=>{const pe=localStorage.getItem("user");return pe?JSON.parse(pe):null}),[u,d]=y.useState(!1),[m,p]=y.useState(!1),g=!!n,[x,j]=y.useState(null),[S,C]=y.useState(!1),[_,A]=y.useState(null),[T,z]=y.useState(null),P=y.useRef(0),[k,I]=y.useState(null),[N,F]=y.useState(!1);y.useEffect(()=>{n?localStorage.setItem("token",n):localStorage.removeItem("token")},[n]),y.useEffect(()=>{i?localStorage.setItem("user",JSON.stringify(i)):localStorage.removeItem("user")},[i]);const Y=()=>{r(""),l(null),j(null),A(null),z(null),localStorage.removeItem("token"),localStorage.removeItem("user")},q=async()=>{if(!n)return l(null),p(!0),!1;const pe="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),$=String(n).startsWith("local-dev-token-");if(!pe||$)return p(!0),!0;try{const V=await fetch(`${pe}/api/me`,{headers:{Authorization:`Bearer ${n}`}});if(!V.ok)throw new Error(`HTTP ${V.status}`);const M=await V.json();if(M?.disabled===!0||M?.active===!1||M?.status==="DISABLED")return Y(),p(!0),!1;const Ee=(()=>{const Le=M?.username||M?.matricule||M?.login||(M?.email?String(M.email).split("@")[0]:""),Ae=M?.prenom||M?.firstName||M?.given_name||"",it=M?.nom||M?.lastName||M?.family_name||"";return{...M,username:Le,prenom:Ae,nom:it}})();return l(Ee),d(!!M.mustChangePassword),p(!0),!0}catch{return Y(),p(!0),!1}},ce=()=>{const pe="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),$=[];return pe&&$.push(pe),$.push(""),$},de=async(pe=!1)=>{if(!n)return j(null),A("no-token"),null;const $=Date.now();if(!pe&&$-P.current<500)return x;P.current=$,C(!0),A(null);try{const V=ce();let M=!1,Q=null;for(const Ee of V)try{const Le=await fetch(`${Ee}/api/members/me`,{headers:{Authorization:`Bearer ${n}`}});if(Q=Le.status,Le.ok){const Ae=await Le.json();j(Ae),z(Ee||null),M=!0;break}}catch{Q="network";continue}return M?x:(j(null),A(Q),null)}finally{C(!1)}},le=async()=>{if(!i?.id||!n)return I(null),null;F(!0);try{const pe=ce();for(const $ of pe)try{const V=await fetch(`${$}/api/admin/users/${i.id}/permissions`,{headers:{Authorization:`Bearer ${n}`}});if(V.ok){const M=await V.json(),Q=M.permissions&&Array.isArray(M.permissions)&&M.permissions.length>0?M.permissions:null;return I(Q),Q}}catch{continue}return I(null),null}finally{F(!1)}};y.useEffect(()=>{q()},[]),y.useEffect(()=>{n?q().then(pe=>{pe&&(de(),le())}):p(!0)},[n]),y.useEffect(()=>{const pe=()=>q();window.addEventListener("focus",pe);const $=setInterval(()=>q(),300*1e3);return()=>{window.removeEventListener("focus",pe),clearInterval($)}},[n]);const ve=i?.username||"",Pe=i?.prenom||"",me=i?.nom||"",G=(i?.roles||[]).map(pe=>SX(pe)),Z=G.includes("ADMIN")||G.includes("PRESIDENT")||G.includes("VICE_PRESIDENT")||G.includes("TRESORIER")||G.includes("SECRETAIRE_GENERAL"),H=G.includes("VOLUNTEER"),W=G.includes("DRIVER"),Se=G.includes("MEMBER"),B=i?.username||"",ie=y.useMemo(()=>({token:n,setToken:r,user:i,setUser:l,isAuthenticated:g,username:ve,prenom:Pe,nom:me,roles:G,isAdmin:Z,isVolunteer:H,isDriver:W,isMember:Se,matricule:B,logout:Y,sessionChecked:m,ensureSession:q,member:x,memberLoading:S,memberError:_,memberApiBase:T,refreshMember:de,customPermissions:k,permissionsLoading:N,refreshPermissions:le}),[n,i,g,ve,Pe,me,G,Z,H,W,Se,B,m,x,S,_,T,k,N]);return e.jsxs(AM.Provider,{value:ie,children:[t,e.jsx(AX,{isOpen:u,onPasswordChanged:()=>{d(!1),n&&q()}})]})}function _s(){return y.useContext(AM)}const ko="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),Tf=(t={})=>({"Content-Type":"application/json",...t.headers}),kf=(t,n={})=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`,...n.headers}),wa=async t=>{const n=t.headers.get("content-type");if(n&&n.includes("application/json"))try{return await t.json()}catch(r){throw console.error(" Erreur parsing JSON:",r),new Error("Rponse JSON invalide du serveur")}else{const r=await t.text();throw console.error(" Rponse non-JSON reue:",r.substring(0,200)+"..."),r.includes("<!DOCTYPE")?new Error("Le serveur a renvoy une page HTML au lieu de JSON. Vrifiez l'URL de l'API."):new Error(`Rponse inattendue du serveur (${t.status}): ${r.substring(0,100)}`)}},mt={baseURL:ko,get:async(t,n={})=>{const r=localStorage.getItem("token"),i=r?kf(r,n):Tf(n);console.log(` GET ${ko}${t}`);try{const l=await fetch(`${ko}${t}`,{method:"GET",headers:i,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const u=await wa(l),d=u?.error||u?.message||`HTTP ${l.status}`;throw new Error(d)}return await wa(l)}catch(l){throw console.error(` Erreur GET ${t}:`,l.message),l}},post:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?kf(i,r):Tf(r);console.log(` POST ${ko}${t}`,n);try{const u=await fetch(`${ko}${t}`,{method:"POST",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await wa(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await wa(u)}catch(u){throw console.error(` Erreur POST ${t}:`,u.message),u}},put:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?kf(i,r):Tf(r);console.log(` PUT ${ko}${t}`,n);try{const u=await fetch(`${ko}${t}`,{method:"PUT",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await wa(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await wa(u)}catch(u){throw console.error(` Erreur PUT ${t}:`,u.message),u}},patch:async(t,n,r={})=>{const i=localStorage.getItem("token"),l=i?kf(i,r):Tf(r);console.log(` PATCH ${ko}${t}`,n);try{const u=await fetch(`${ko}${t}`,{method:"PATCH",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await wa(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await wa(u)}catch(u){throw console.error(` Erreur PATCH ${t}:`,u.message),u}},delete:async(t,n={})=>{const r=localStorage.getItem("token"),i=r?kf(r,n):Tf(n);console.log(` DELETE ${ko}${t}`);try{const l=await fetch(`${ko}${t}`,{method:"DELETE",headers:i,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await wa(l),m=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(m)}return l.headers.get("content-length")==="0"||l.status===204?{success:!0}:await wa(l)}catch(l){throw console.error(` Erreur DELETE ${t}:`,l.message),l}}},ov={getActive:async()=>{console.log(" API: getActive flashs...");const t=await mt.get("/flashes");return console.log(" API: getActive result:",t),t},getAll:async()=>{console.log(" API: getAll flashs...");const t=await mt.get("/flashes/all");return console.log(" API: getAll result:",t),t},create:async t=>{console.log(" API: create flash:",t);const n=await mt.post("/flashes",t);return console.log(" API: create result:",n),n},update:async(t,n)=>{console.log(" API: update flash:",t,n);const r=await mt.put(`/flashes/${t}`,n);return console.log(" API: update result:",r),r},delete:async t=>{console.log(" API: delete flash:",t);const n=await mt.delete(`/flashes/${t}`);return console.log(" API: delete result:",n),n}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,i)=>i?i.toUpperCase():r.toLowerCase()),jA=t=>{const n=PX(t);return n.charAt(0).toUpperCase()+n.slice(1)},TM=(...t)=>t.filter((n,r,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===r).join(" ").trim(),RX=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=y.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:d,...m},p)=>y.createElement("svg",{ref:p,...MX,width:n,height:n,stroke:t,strokeWidth:i?Number(r)*24/Number(n):r,className:TM("lucide",l),...!u&&!RX(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,x])=>y.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=(t,n)=>{const r=y.forwardRef(({className:i,...l},u)=>y.createElement(DX,{ref:u,iconNode:n,className:TM(`lucide-${kX(jA(t))}`,`lucide-${t}`,i),...l}));return r.displayName=jA(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],SA=Jp("bell",zX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],OX=Jp("check",LX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IX=Jp("settings",NX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$X=Jp("trash-2",BX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VX=Jp("x",FX);function UX(){const[t,n]=y.useState([]),[r,i]=y.useState(0),[l,u]=y.useState(!1),[d,m]=y.useState(!1),[p,g]=y.useState(!1),[x,j]=y.useState({}),S=y.useCallback(async()=>{try{const P=localStorage.getItem("token");if(!P)return;const k=await fetch("/api/notifications/inbox?limit=20",{headers:{Authorization:`Bearer ${P}`}});if(!k.ok)throw new Error("Failed to fetch");const I=await k.json();I.success&&(n(I.messages||[]),i(I.unread||0))}catch(P){console.error(" Fetch notifications error:",P)}},[]),C=y.useCallback(async()=>{try{const P=localStorage.getItem("token");if(!P)return;const k=await fetch("/api/notifications/preferences",{headers:{Authorization:`Bearer ${P}`}});if(k.ok){const I=await k.json();j(I.preferences||{})}}catch(P){console.error(" Fetch preferences error:",P)}},[]),_=async P=>{try{const k=localStorage.getItem("token");(await fetch(`/api/notifications/mark-read/${P}`,{method:"PATCH",headers:{Authorization:`Bearer ${k}`}})).ok&&S()}catch(k){console.error(" Mark read error:",k)}},A=async P=>{try{const k=localStorage.getItem("token");(await fetch(`/api/notifications/message/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`}})).ok&&S()}catch(k){console.error(" Delete error:",k)}},T=async()=>{try{const P=localStorage.getItem("token");(await fetch("/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${P}`}})).ok&&S()}catch(P){console.error(" Mark all read error:",P)}},z=async(P,k)=>{try{const I=localStorage.getItem("token");(await fetch("/api/notifications/preferences",{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({[P]:k})})).ok&&C()}catch(I){console.error(" Update preferences error:",I)}};return y.useEffect(()=>{S(),C();const P=setInterval(S,3e4);return()=>clearInterval(P)},[S,C]),e.jsxs("div",{className:"notification-center",children:[e.jsxs("button",{className:"bell-button",onClick:()=>{u(!l),g(!1)},title:"Notifications",children:[e.jsx(SA,{size:20}),r>0&&e.jsx("span",{className:"badge",children:r>9?"9+":r})]}),l&&e.jsxs("div",{className:"notification-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsxs("h3",{children:["Notifications ",t.length>0&&`(${t.length})`]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"icon-button",onClick:()=>g(!p),title:"Paramtres",children:e.jsx(IX,{size:16})}),e.jsx("button",{className:"close-button",onClick:()=>u(!1),children:e.jsx(VX,{size:16})})]})]}),e.jsx("div",{className:"popup-content",children:p?e.jsxs("div",{className:"preferences-panel",children:[e.jsx("h4",{children:"Prfrences de notification"}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.ticketNotifications!==!1,onChange:P=>z("ticketNotifications",P.target.checked)}),e.jsx("span",{children:" Notifications de tickets"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.eventNotifications!==!1,onChange:P=>z("eventNotifications",P.target.checked)}),e.jsx("span",{children:" Notifications d'vnements"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.reportNotifications!==!1,onChange:P=>z("reportNotifications",P.target.checked)}),e.jsx("span",{children:" Notifications de rapports"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.maintenanceNotifications!==!1,onChange:P=>z("maintenanceNotifications",P.target.checked)}),e.jsx("span",{children:" Alertes de maintenance"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.systemNotifications!==!1,onChange:P=>z("systemNotifications",P.target.checked)}),e.jsx("span",{children:" Messages systme"})]})]}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(SA,{size:48}),e.jsx("p",{children:"Aucune notification"})]}):e.jsxs("div",{className:"messages-list",children:[r>0&&e.jsx("div",{className:"mark-all-read",children:e.jsx("button",{onClick:T,children:" Marquer tout comme lu"})}),t.map(P=>e.jsxs("div",{className:`message-item ${P.readAt?"read":"unread"}`,children:[e.jsxs("div",{className:"message-header",children:[e.jsx("strong",{children:P.title}),e.jsx("small",{children:HX(new Date(P.createdAt))})]}),e.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:P.content}}),e.jsxs("div",{className:"message-footer",children:[e.jsx("small",{className:"type-badge",children:P.type}),e.jsxs("div",{className:"message-actions",children:[!P.readAt&&e.jsx("button",{className:"action-button",onClick:()=>_(P.id),title:"Marquer comme lu",children:e.jsx(OX,{size:14})}),e.jsx("button",{className:"action-button delete",onClick:()=>A(P.id),title:"Supprimer",children:e.jsx($X,{size:14})})]})]})]},P.id))]})})})]})]})}function HX(t){const r=new Date-t,i=Math.floor(r/6e4),l=Math.floor(r/36e5),u=Math.floor(r/864e5);return i<1?" l'instant":i<60?`${i}m`:l<24?`${l}h`:u<7?`${u}j`:t.toLocaleDateString("fr-FR")}const WX="/assets/retro_intranet_essonne-BfWPiuYY.svg",qX="/assets/flash-info-rvZ9UMs-.png",GX="/assets/flash-notif-HViqZ6l6.png",ZX="/assets/flash-pos-1o7mOrZv.png",Xr={SITE_MANAGEMENT:"site:management",VEHICLES:"vehicles:list",EVENTS:"events:list",FINANCE:"finance:access",MEMBERS:"members:list",STOCK:"stock:access",NEWSLETTER:"newsletter:access",RETROMAIL:"retromail:access",RETROPLANNING:"retroplanning:access",RETROPLANNING_RESPOND:"retroplanning:respond",RETROSUPPORT:"retrosupport:access",MYRBE:"myrbe:access"};function YX(t,n,r="access",i=null){if(i&&Array.isArray(i)){const l=i.find(u=>u.resource===n||u.resource===n?.toUpperCase());if(l&&(!l.expiresAt||new Date(l.expiresAt)>new Date)){const d={access:"READ",view:"READ",read:"READ",edit:"UPDATE",update:"UPDATE",delete:"DELETE",create:"CREATE"}[r]||"READ";if(l.actions&&l.actions.includes(d))return!0}}return t==="PRESTATAIRE"?n?.startsWith("retroplanning")||n?.startsWith("retrosupport"):!0}function pl(t,n,r=null){return YX(t,n,"access",r)}function ou({to:t,exact:n=!1,children:r}){const{pathname:i}=ra(),l=n?i===t:i===t||i.startsWith(t+"/");return e.jsx(a1,{as:or,to:t,color:l?"var(--rbe-red)":"gray.600",fontWeight:l?"bold":"normal",textDecoration:"none",position:"relative",_hover:{color:"var(--rbe-red)",textDecoration:"none"},_after:l?{content:'""',position:"absolute",bottom:"-8px",left:0,right:0,height:"2px",bg:"var(--rbe-red)",borderRadius:"1px"}:{},"aria-current":l?"page":void 0,children:r})}function XX(){const{user:t,customPermissions:n}=_s(),r=t?.role||"MEMBER",i=pl(r,Xr.SITE_MANAGEMENT,n),l=pl(r,Xr.VEHICLES,n),u=pl(r,Xr.EVENTS,n),d=pl(r,Xr.MYRBE,n),m=pl(r,Xr.NEWSLETTER,n),p=pl(r,Xr.RETROPLANNING,n),g=pl(r,Xr.RETROSUPPORT,n);return r==="PRESTATAIRE"?e.jsxs(Qn,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[p&&e.jsx(ou,{to:"/dashboard/retroplanning",children:" RtroPlanning"}),g&&e.jsx(ou,{to:"/dashboard/support",children:" RtroSupport"})]}):e.jsxs(Qn,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[i&&e.jsx(ou,{to:"/dashboard",children:" Accueil"}),l&&e.jsx(ou,{to:"/dashboard/vehicules",children:" Vhicules"}),u&&e.jsx(ou,{to:"/dashboard/evenements",children:" vnements"}),d&&e.jsx(ou,{to:"/dashboard/myrbe",children:" MyRBE"}),m&&e.jsx(ou,{to:"/dashboard/retromerch",children:" RtroMerch"})]})}const Eg={red:"#2e538d",yellow:"#2e538d",green:"#bb1f11",blue:"#bb1f11"},hu={INFO:{key:"INFO",label:"Flash Infos",color:{bg:"red.50",border:"red.300",text:"red.800",accent:"#bb1f11"}},NOTIF:{key:"NOTIF",label:"Flash Notifications",color:{bg:"orange.50",border:"orange.300",text:"orange.800",accent:"#d97706"}},POS:{key:"POS",label:"Flash Positif",color:{bg:"green.50",border:"green.300",text:"green.900",accent:"#16a34a"}}},KX="56px",QX="80px",JX="52px",eK="110px",kM="rbe:announcements:dismissed:";function tK(){return`flash-${Date.now()}-${Math.floor(Math.random()*1e3)}`}async function nK(){try{const t=await ov.getAll();return Array.isArray(t)?t:[]}catch{return[]}}async function rK(t){try{return await ov.create(t)}catch(n){throw n}}async function CA(t,n){try{return await ov.update(t,n)}catch(r){throw r}}async function sK(t){try{return await ov.delete(t),!0}catch(n){throw n}}function wA(t){if(!t)return{};try{const n=localStorage.getItem(kM+t);return n?JSON.parse(n):{}}catch{return{}}}function iK(t,n){try{localStorage.setItem(kM+t,JSON.stringify(n||{}))}catch{}}const _A={INFO:qX,NOTIF:GX,POS:ZX};function qy({catKey:t}){const n=Object.values(hu).find(i=>i.key===t)||hu.INFO,r=_A[t]||_A.INFO;return e.jsx(Zs,{label:n.label,children:e.jsxs(ue,{as:"span",display:"inline-flex",alignItems:"center",gap:2,children:[e.jsx(Di,{src:r,alt:"",boxSize:"18px",draggable:!1}),e.jsx(CM,{children:n.label})]})})}function oK(t){return e.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor","aria-hidden":"true",...t,children:e.jsx("path",{d:"M3 10v4a2 2 0 0 0 2 2h1v2a1 1 0 0 0 1.555.832L12 16h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6L7.555 3.168A1 1 0 0 0 6 4v2H5a2 2 0 0 0-2 2z"})})}function aK(){const{logout:t,prenom:n,nom:r,isAuthenticated:i,isAdmin:l,matricule:u}=_s(),d=Va(),m=wn(),p=Dt(),g=Dt(),x=Dt(),j=Cq({base:!0,md:!1}),[S,C]=y.useState([]),[_,A]=y.useState(!0),[T,z]=y.useState(null),[P,k]=y.useState({message:"",category:"INFO",active:!0,expiresAt:""}),I=()=>{t(),d("/login"),m({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs",status:"info",duration:3e3,isClosable:!0})};y.useEffect(()=>{if(!i)return;let H;const W=600*1e3,Se=()=>{clearTimeout(H),H=setTimeout(()=>{t(),d("/login"),m({title:"Session expire",description:"Vous avez t dconnect pour inactivit (10 minutes)",status:"warning",duration:5e3,isClosable:!0})},W)},B=["mousedown","mousemove","keypress","scroll","touchstart","click"];return Se(),B.forEach(ie=>{document.addEventListener(ie,Se,!0)}),()=>{clearTimeout(H),B.forEach(ie=>{document.removeEventListener(ie,Se,!0)})}},[i,t,d,m]),y.useEffect(()=>{async function H(){try{A(!0);const W=await nK();C(W)}finally{A(!1)}}H()},[m]);const N=Date.now(),F=y.useMemo(()=>S.filter(H=>H&&H.active&&(!H.expiresAt||new Date(H.expiresAt).getTime()>N)),[S,N]),Y=y.useMemo(()=>F.filter(H=>H.category==="INFO"),[F]),[q,ce]=y.useState(0);y.useEffect(()=>{const H=wA(u||"anon"),W=F.reduce((Se,B)=>{const ie=H[B.id]||0,pe=B.updatedAt?new Date(B.updatedAt).getTime():B.createdAt?new Date(B.createdAt).getTime():0;return Se+(ie>=pe?0:1)},0);ce(W)},[S,u,F.length]);const de=()=>{z(null),k({message:"",category:"INFO",active:!0,expiresAt:""}),p.onOpen()},le=H=>{z(H),k({message:H.message||"",category:H.category||"INFO",active:!!H.active,expiresAt:H.expiresAt||""}),p.onOpen()},ve=async()=>{const H=(P.message||"").trim();if(!H)return m({status:"warning",title:"Le message est requis"});["INFO","NOTIF","POS"].includes(P.category)||(P.category="INFO");try{if(T){const W=await CA(T.id,{message:H,category:P.category,active:!!P.active,expiresAt:P.expiresAt||null});C(Se=>Se.map(B=>B.id===T.id?W:B)),m({status:"success",title:"Flash modifi"})}else{const W={id:tK(),message:H,category:P.category,active:!!P.active,expiresAt:P.expiresAt||null},Se=await rK(W);C(B=>[Se,...B]),m({status:"success",title:"Flash ajout"})}z(null),p.onClose()}catch(W){m({status:"error",title:"Erreur",description:`Impossible de sauvegarder le flash: ${W.message}`})}},Pe=async H=>{if(confirm("Supprimer ce flash ?"))try{await sK(H),C(W=>W.filter(Se=>Se.id!==H)),m({status:"info",title:"Flash supprim"})}catch{m({status:"error",title:"Erreur",description:"Impossible de supprimer le flash"})}},me=async H=>{try{const W=S.find(B=>B.id===H);if(!W)return;const Se=await CA(H,{active:!W.active});C(B=>B.map(ie=>ie.id===H?Se:ie))}catch{m({status:"error",title:"Erreur",description:"Impossible de modifier le flash"})}},G=H=>{const W=u||"anon",Se=wA(W),B=Date.now();Se[H]=B,iK(W,Se),ce(ie=>Math.max(0,ie-1)),m({status:"info",title:"Prise de connaissance enregistre"})},Z=H=>{const W=Object.values(hu).find(Se=>Se.key===H)||hu.INFO;return{bg:W.color.bg,borderColor:W.color.border,color:W.color.text,accent:W.color.accent}};return e.jsxs(ue,{as:"header",w:"100%",bg:"white",position:"sticky",top:"0",zIndex:"1000",borderBottom:"1px solid #3a3a3aff",children:[e.jsxs(ue,{position:"relative",h:{base:KX,md:QX},overflow:"visible",children:[e.jsx(ue,{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",zIndex:0,pointerEvents:"none",style:{background:`linear-gradient(90deg,
              ${Eg.red} 0%,
              ${Eg.yellow} 22%,
              ${Eg.green} 70%,
              ${Eg.blue} 100%
            )`}}),e.jsx(Di,{src:WX,alt:"RtroBus Essonne Intranet",height:{base:JX,md:eK},objectFit:"contain",position:"absolute",left:{base:3,md:5},top:"50%",transform:"translateY(-50%)",zIndex:2,draggable:!1}),e.jsx(ue,{position:"absolute",right:{base:2,md:6},top:"50%",transform:"translateY(-50%)",zIndex:2,children:j?e.jsx(ut,{"aria-label":"Menu",icon:e.jsx(ue,{as:"span",display:"inline-block",w:"18px",h:"2px",bg:"white",position:"relative",_before:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"-6px",left:0},_after:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"6px",left:0}}),size:"sm",variant:"ghost",color:"white",onClick:x.onOpen,title:"Ouvrir le menu"}):e.jsxs(re,{spacing:2,children:[e.jsx(Zs,{label:l?"Grer les flashs":"Vous n'tes pas autoris",children:e.jsx("span",{children:e.jsx(ut,{"aria-label":"Annonces (gestion)",icon:e.jsx(oK,{}),size:"sm",variant:"ghost",color:"white",onClick:()=>{l&&p.onOpen()},title:"Annonces",isDisabled:!l})})}),e.jsx(UX,{}),e.jsxs(Na,{children:[e.jsxs(Ia,{as:ne,colorScheme:"red",children:["Bonjour, ",n||"Utilisateur"]}),e.jsxs(Ba,{children:[e.jsx(Cn,{as:or,to:"/adhesion",children:"Mon Adhsion"}),e.jsx(Cn,{as:or,to:"/retromail",children:"RtroMail"}),e.jsx(Cn,{onClick:I,color:"red.500",children:"Dconnexion"})]})]})]})})]}),e.jsx(ue,{display:{base:"none",md:"block"},children:e.jsx(XX,{})}),e.jsxs(mY,{isOpen:x.isOpen,onClose:x.onClose,placement:"right",children:[e.jsx(kt,{}),e.jsxs(hM,{children:[e.jsx(It,{}),e.jsxs(Tt,{bg:"var(--rbe-red)",color:"white",children:[e.jsxs(R,{fontWeight:"bold",children:[" Bonjour ",n||"Utilisateur"]}),q>0&&e.jsxs(R,{fontSize:"sm",color:"whiteAlpha.800",children:[q," flash(s) non lu(s)"]})]}),e.jsx(At,{p:0,children:e.jsxs(se,{align:"stretch",spacing:0,children:[e.jsx(ne,{as:or,to:"/dashboard",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Accueil"}),e.jsx(ne,{as:or,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Vhicules"}),e.jsx(ne,{as:or,to:"/dashboard/evenements",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"vnements"}),e.jsx(ne,{as:or,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"MyRBE"}),e.jsx(ne,{as:or,to:"/dashboard/retromerch",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMerch"}),e.jsx(zn,{}),e.jsx(ne,{onClick:()=>{g.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Voir les flashs"}),l&&e.jsx(ne,{onClick:()=>{p.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Grer les flashs"}),e.jsx(zn,{}),e.jsx(ne,{as:or,to:"/adhesion",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Mon Adhsion"}),e.jsx(ne,{as:or,to:"/retromail",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMail"}),e.jsx(ne,{onClick:()=>{x.onClose(),I()},colorScheme:"red",justifyContent:"flex-start",variant:"ghost",py:4,px:5,children:"Dconnexion"})]})})]})]}),e.jsx(ue,{children:Y.map(H=>{const W=Z(H.category);return e.jsx(ue,{bg:W.bg,borderTop:"2px solid",borderColor:W.borderColor||W.border,py:2,px:4,children:e.jsxs(re,{spacing:3,flex:"1",align:"center",children:[e.jsx(ue,{children:e.jsx(qy,{catKey:H.category})}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:{base:"sm",md:"md"},color:W.color,children:H.message}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:H.createdAt?`Publi: ${new Date(H.createdAt).toLocaleString()}`:""})]}),e.jsx(ue,{children:l?e.jsxs(re,{spacing:2,children:[e.jsx(ne,{size:"sm",onClick:()=>le(H),children:"diter"}),e.jsx(ne,{size:"sm",colorScheme:H.active?"yellow":"green",onClick:()=>me(H.id),children:H.active?"Dsactiver":"Activer"}),e.jsx(ne,{size:"sm",colorScheme:"red",onClick:()=>Pe(H.id),children:"Supprimer"})]}):e.jsx(ne,{size:"sm",onClick:()=>G(H.id),children:"Prendre connaissance"})})]})},H.id)})}),e.jsxs(Et,{isOpen:g.isOpen,onClose:g.onClose,isCentered:!0,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxW:"900px",children:[e.jsx(Tt,{children:"Flashs en cours"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[F.length===0&&e.jsx(R,{color:"gray.600",children:"Aucun flash en cours."}),F.map(H=>e.jsxs(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsxs(re,{spacing:2,align:"center",children:[e.jsx(qy,{catKey:H.category}),e.jsx(R,{fontWeight:"600",children:H.message})]}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:H.createdAt?`Publi: ${new Date(H.createdAt).toLocaleString()}`:""}),e.jsx(ne,{size:"sm",onClick:()=>{G(H.id)},children:"Prendre connaissance"})]},H.id))]})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:g.onClose,children:"Fermer"})})]})]}),e.jsxs(Et,{isOpen:p.isOpen,onClose:()=>{z(null),p.onClose()},isCentered:!0,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxW:"900px",children:[e.jsx(Tt,{children:"Gestion des flashs"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(ki,{direction:"row",justify:"space-between",align:"center",children:[e.jsx(R,{fontWeight:"600",children:"Diffusions existantes"}),e.jsx(ne,{size:"sm",onClick:de,children:"Nouveau flash"})]}),S.length===0&&e.jsx(R,{color:"gray.600",children:"Aucun flash enregistr."}),S.map(H=>{const W=Z(H.category);return e.jsxs(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:W.bg,children:[e.jsxs(re,{spacing:2,align:"center",children:[e.jsx(qy,{catKey:H.category}),e.jsx(R,{fontWeight:"600",children:H.message})]}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:H.createdAt?`Publi: ${new Date(H.createdAt).toLocaleString()}`:""}),e.jsxs(re,{spacing:2,children:[e.jsx(ne,{size:"sm",onClick:()=>le(H),children:"diter"}),e.jsx(ne,{size:"sm",onClick:()=>me(H.id),children:H.active?"Dsactiver":"Activer"}),e.jsx(ne,{size:"sm",colorScheme:"red",onClick:()=>Pe(H.id),children:"Supprimer"})]})]},H.id)}),e.jsxs(ue,{mt:2,p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsx(R,{fontWeight:"600",mb:2,children:T?"Modifier le flash":"Crer un nouveau flash"}),e.jsxs(te,{mb:2,children:[e.jsx(ee,{children:"Catgorie"}),e.jsxs(st,{value:P.category,onChange:H=>k(W=>({...W,category:H.target.value})),children:[e.jsx("option",{value:"INFO",children:hu.INFO.label}),e.jsx("option",{value:"NOTIF",children:hu.NOTIF.label}),e.jsx("option",{value:"POS",children:hu.POS.label})]})]}),e.jsxs(te,{mb:2,children:[e.jsx(ee,{children:"Message"}),e.jsx(Zt,{value:P.message,onChange:H=>k(W=>({...W,message:H.target.value})),rows:4})]}),e.jsxs(te,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(ee,{mb:"0",mr:3,children:"Actif"}),e.jsx(jr,{isChecked:P.active,onChange:H=>k(W=>({...W,active:H.target.checked}))})]}),e.jsxs(te,{mb:2,children:[e.jsx(ee,{children:"Expire le (optionnel)"}),e.jsx("input",{type:"datetime-local",value:P.expiresAt||"",onChange:H=>k(W=>({...W,expiresAt:H.target.value||""})),style:{width:"100%",padding:"8px",borderRadius:6,border:"1px solid #e2e8f0"}})]}),e.jsxs(re,{gap:2,justify:"flex-end",children:[e.jsx(ne,{variant:"ghost",onClick:()=>{z(null),k({message:"",category:"INFO",active:!0,expiresAt:""})},children:"Rinitialiser"}),e.jsx(ne,{colorScheme:"blue",onClick:ve,children:T?"Sauvegarder":"Crer"})]})]})]})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:()=>{z(null),p.onClose()},children:"Fermer"})})]})]})]})}function hl({children:t}){const{isAuthenticated:n,user:r,sessionChecked:i,ensureSession:l}=_s(),[u,d]=y.useState(!1);return y.useEffect(()=>{!i&&!u&&(l(),d(!0))},[i,u,l]),i?!n||!r?e.jsx(yu,{to:"/login",replace:!0}):t:e.jsx(xn,{py:20,children:e.jsx(pn,{size:"lg"})})}var PM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EA=fn.createContext&&fn.createContext(PM),lK=["attr","size","title"];function cK(t,n){if(t==null)return{};var r=uK(t,n),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)i=u[l],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function uK(t,n){if(t==null)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(n.indexOf(i)>=0)continue;r[i]=t[i]}return r}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sx.apply(this,arguments)}function AA(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,i)}return r}function Cx(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?AA(Object(r),!0).forEach(function(i){dK(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function dK(t,n,r){return n=hK(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function hK(t){var n=fK(t,"string");return typeof n=="symbol"?n:n+""}function fK(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function RM(t){return t&&t.map((n,r)=>fn.createElement(n.tag,Cx({key:r},n.attr),RM(n.child)))}function at(t){return n=>fn.createElement(pK,Sx({attr:Cx({},t.attr)},n),RM(t.child))}function pK(t){var n=r=>{var{attr:i,size:l,title:u}=t,d=cK(t,lK),m=l||r.size||"1em",p;return r.className&&(p=r.className),t.className&&(p=(p?p+" ":"")+t.className),fn.createElement("svg",Sx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,d,{className:p,style:Cx(Cx({color:t.color||r.color},r.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&fn.createElement("title",null,u),t.children)};return EA!==void 0?fn.createElement(EA.Consumer,null,r=>n(r)):n(PM)}function Ra(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function MM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function mK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function DM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function gK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function xK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function vK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function yK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function bK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function ui(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function av(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function wx(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function v1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function zM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function _x(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function y1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function b1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function TA(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function jK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function hj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function $u(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function $a(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function SK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Wf(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Ls(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function LM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function fj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Rp(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function pj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function CK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function nh(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function j1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function wK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function _K(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(t)}function Tu(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function EK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"},child:[]}]})(t)}function AK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function OM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function Rl(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Cc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function vc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function TK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function kK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function rh(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(t)}function Ex(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function NM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function PK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function Nn(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function ea(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function ku(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function lv(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function RK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function em(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function IM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function MK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function DK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function zK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function gr(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function LK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function yc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function mj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(t)}function OK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function BM(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function kA(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Ax(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(t)}function Gy(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function oo(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function NK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Mp(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function ss({children:t,allowedRoles:n=null,deniedRoles:r=null,fallbackRoute:i="/dashboard/home",showError:l=!0}){const{isAuthenticated:u,roles:d}=_s();if(!u)return e.jsx(yu,{to:"/login",replace:!0});const m=d?.[0]||"MEMBER";return r&&r.includes(m)?(console.warn(` RoleProtectedRoute: Role "${m}" is denied access`),l?e.jsx(xn,{minH:"60vh",px:4,children:e.jsxs(se,{spacing:4,textAlign:"center",children:[e.jsx(Hn,{as:Rl,boxSize:12,color:"red.500"}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(R,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(R,{fontSize:"sm",color:"gray.500",children:["Rle: ",e.jsx("strong",{children:m})]})]})]})}):e.jsx(yu,{to:i,replace:!0})):n&&!n.includes(m)?(console.warn(` RoleProtectedRoute: Role "${m}" not in allowed roles`),l?e.jsx(xn,{minH:"60vh",px:4,children:e.jsxs(se,{spacing:4,textAlign:"center",children:[e.jsx(Hn,{as:Rl,boxSize:12,color:"red.500"}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Accs Refus"}),e.jsx(R,{color:"gray.600",mb:4,children:"Cette section n'est pas disponible pour votre rle."}),e.jsxs(R,{fontSize:"sm",color:"gray.500",children:["Rles autoriss: ",e.jsx("strong",{children:n.join(", ")})]})]})]})}):e.jsx(yu,{to:i,replace:!0})):t}function Ag({children:t,resource:n=null,permissionType:r="access",fallbackRoute:i="/dashboard/home",showError:l=!1}){const{isAuthenticated:u,user:d}=_s();if(!u)return console.warn(" PermissionProtectedRoute: Not authenticated"),e.jsx(yu,{to:"/login",replace:!0});if(!d)return console.warn(" PermissionProtectedRoute: No user data"),e.jsx(yu,{to:"/login",replace:!0});if(!n)return t;const m=d.role||d.roles?.[0]||"MEMBER";return pl(m,n)?(console.log(` PermissionProtectedRoute: Access granted to "${n}" for role "${m}"`),t):(console.warn(` PermissionProtectedRoute: User role "${m}" denied access to resource "${n}"`),l?e.jsx(ue,{p:8,textAlign:"center",minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(se,{spacing:4,children:[e.jsx(R,{fontSize:"2xl",fontWeight:"bold",children:" Accs Refus"}),e.jsx(R,{fontSize:"md",color:"gray.600",children:"Vous n'avez pas les permissions ncessaires pour accder  cette ressource."}),e.jsxs(R,{fontSize:"sm",color:"gray.400",children:["Votre rle: ",e.jsx("strong",{children:m})]})]})}):e.jsx(yu,{to:i,replace:!0}))}function IK({children:t}){const{matricule:n}=_s();return bX(n)?t:e.jsxs(ue,{p:6,children:[e.jsx(R,{fontWeight:"bold",children:"Accs refus"}),e.jsx(R,{opacity:.8,children:"Vous ntes pas autoris  ajouter des vhicules."})]})}var BK=Object.defineProperty,Tx=Object.getOwnPropertySymbols,$M=Object.prototype.hasOwnProperty,FM=Object.prototype.propertyIsEnumerable,PA=(t,n,r)=>n in t?BK(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,gj=(t,n)=>{for(var r in n||(n={}))$M.call(n,r)&&PA(t,r,n[r]);if(Tx)for(var r of Tx(n))FM.call(n,r)&&PA(t,r,n[r]);return t},xj=(t,n)=>{var r={};for(var i in t)$M.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&Tx)for(var i of Tx(t))n.indexOf(i)<0&&FM.call(t,i)&&(r[i]=t[i]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Fu;(t=>{const n=class Tn{constructor(p,g,x,j){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<Tn.MIN_VERSION||p>Tn.MAX_VERSION)throw new RangeError("Version value out of range");if(j<-1||j>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let _=0;_<this.size;_++)S.push(!1);for(let _=0;_<this.size;_++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(x);if(this.drawCodewords(C),j==-1){let _=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const T=this.getPenaltyScore();T<_&&(j=A,_=T),this.applyMask(A)}}l(0<=j&&j<=7),this.mask=j,this.applyMask(j),this.drawFormatBits(j),this.isFunction=[]}static encodeText(p,g){const x=t.QrSegment.makeSegments(p);return Tn.encodeSegments(x,g)}static encodeBinary(p,g){const x=t.QrSegment.makeBytes(p);return Tn.encodeSegments([x],g)}static encodeSegments(p,g,x=1,j=40,S=-1,C=!0){if(!(Tn.MIN_VERSION<=x&&x<=j&&j<=Tn.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let _,A;for(_=x;;_++){const k=Tn.getNumDataCodewords(_,g)*8,I=d.getTotalBits(p,_);if(I<=k){A=I;break}if(_>=j)throw new RangeError("Data too long")}for(const k of[Tn.Ecc.MEDIUM,Tn.Ecc.QUARTILE,Tn.Ecc.HIGH])C&&A<=Tn.getNumDataCodewords(_,k)*8&&(g=k);let T=[];for(const k of p){r(k.mode.modeBits,4,T),r(k.numChars,k.mode.numCharCountBits(_),T);for(const I of k.getData())T.push(I)}l(T.length==A);const z=Tn.getNumDataCodewords(_,g)*8;l(T.length<=z),r(0,Math.min(4,z-T.length),T),r(0,(8-T.length%8)%8,T),l(T.length%8==0);for(let k=236;T.length<z;k^=253)r(k,8,T);let P=[];for(;P.length*8<T.length;)P.push(0);return T.forEach((k,I)=>P[I>>>3]|=k<<7-(I&7)),new Tn(_,g,P,S)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let x=0;x<g;x++)for(let j=0;j<g;j++)x==0&&j==0||x==0&&j==g-1||x==g-1&&j==0||this.drawAlignmentPattern(p[x],p[j]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let x=g;for(let S=0;S<10;S++)x=x<<1^(x>>>9)*1335;const j=(g<<10|x)^21522;l(j>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,i(j,S));this.setFunctionModule(8,7,i(j,6)),this.setFunctionModule(8,8,i(j,7)),this.setFunctionModule(7,8,i(j,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,i(j,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,i(j,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,i(j,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;l(g>>>18==0);for(let x=0;x<18;x++){const j=i(g,x),S=this.size-11+x%3,C=Math.floor(x/3);this.setFunctionModule(S,C,j),this.setFunctionModule(C,S,j)}}drawFinderPattern(p,g){for(let x=-4;x<=4;x++)for(let j=-4;j<=4;j++){const S=Math.max(Math.abs(j),Math.abs(x)),C=p+j,_=g+x;0<=C&&C<this.size&&0<=_&&_<this.size&&this.setFunctionModule(C,_,S!=2&&S!=4)}}drawAlignmentPattern(p,g){for(let x=-2;x<=2;x++)for(let j=-2;j<=2;j++)this.setFunctionModule(p+j,g+x,Math.max(Math.abs(j),Math.abs(x))!=1)}setFunctionModule(p,g,x){this.modules[g][p]=x,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,x=this.errorCorrectionLevel;if(p.length!=Tn.getNumDataCodewords(g,x))throw new RangeError("Invalid argument");const j=Tn.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][g],S=Tn.ECC_CODEWORDS_PER_BLOCK[x.ordinal][g],C=Math.floor(Tn.getNumRawDataModules(g)/8),_=j-C%j,A=Math.floor(C/j);let T=[];const z=Tn.reedSolomonComputeDivisor(S);for(let k=0,I=0;k<j;k++){let N=p.slice(I,I+A-S+(k<_?0:1));I+=N.length;const F=Tn.reedSolomonComputeRemainder(N,z);k<_&&N.push(0),T.push(N.concat(F))}let P=[];for(let k=0;k<T[0].length;k++)T.forEach((I,N)=>{(k!=A-S||N>=_)&&P.push(I[k])});return l(P.length==C),P}drawCodewords(p){if(p.length!=Math.floor(Tn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let j=0;j<this.size;j++)for(let S=0;S<2;S++){const C=x-S,A=(x+1&2)==0?this.size-1-j:j;!this.isFunction[A][C]&&g<p.length*8&&(this.modules[A][C]=i(p[g>>>3],7-(g&7)),g++)}}l(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let x=0;x<this.size;x++){let j;switch(p){case 0:j=(x+g)%2==0;break;case 1:j=g%2==0;break;case 2:j=x%3==0;break;case 3:j=(x+g)%3==0;break;case 4:j=(Math.floor(x/3)+Math.floor(g/2))%2==0;break;case 5:j=x*g%2+x*g%3==0;break;case 6:j=(x*g%2+x*g%3)%2==0;break;case 7:j=((x+g)%2+x*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][x]&&j&&(this.modules[g][x]=!this.modules[g][x])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let C=!1,_=0,A=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[S][T]==C?(_++,_==5?p+=Tn.PENALTY_N1:_>5&&p++):(this.finderPenaltyAddHistory(_,A),C||(p+=this.finderPenaltyCountPatterns(A)*Tn.PENALTY_N3),C=this.modules[S][T],_=1);p+=this.finderPenaltyTerminateAndCount(C,_,A)*Tn.PENALTY_N3}for(let S=0;S<this.size;S++){let C=!1,_=0,A=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][S]==C?(_++,_==5?p+=Tn.PENALTY_N1:_>5&&p++):(this.finderPenaltyAddHistory(_,A),C||(p+=this.finderPenaltyCountPatterns(A)*Tn.PENALTY_N3),C=this.modules[T][S],_=1);p+=this.finderPenaltyTerminateAndCount(C,_,A)*Tn.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let C=0;C<this.size-1;C++){const _=this.modules[S][C];_==this.modules[S][C+1]&&_==this.modules[S+1][C]&&_==this.modules[S+1][C+1]&&(p+=Tn.PENALTY_N2)}let g=0;for(const S of this.modules)g=S.reduce((C,_)=>C+(_?1:0),g);const x=this.size*this.size,j=Math.ceil(Math.abs(g*20-x*10)/x)-1;return l(0<=j&&j<=9),p+=j*Tn.PENALTY_N4,l(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let j=this.size-7;x.length<p;j-=g)x.splice(1,0,j);return x}}static getNumRawDataModules(p){if(p<Tn.MIN_VERSION||p>Tn.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;g-=(25*x-10)*x-55,p>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(Tn.getNumRawDataModules(p)/8)-Tn.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*Tn.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let j=0;j<p-1;j++)g.push(0);g.push(1);let x=1;for(let j=0;j<p;j++){for(let S=0;S<g.length;S++)g[S]=Tn.reedSolomonMultiply(g[S],x),S+1<g.length&&(g[S]^=g[S+1]);x=Tn.reedSolomonMultiply(x,2)}return g}static reedSolomonComputeRemainder(p,g){let x=g.map(j=>0);for(const j of p){const S=j^x.shift();x.push(0),g.forEach((C,_)=>x[_]^=Tn.reedSolomonMultiply(C,S))}return x}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let x=0;for(let j=7;j>=0;j--)x=x<<1^(x>>>7)*285,x^=(g>>>j&1)*p;return l(x>>>8==0),x}finderPenaltyCountPatterns(p){const g=p[1];l(g<=this.size*3);const x=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(x&&p[0]>=g*4&&p[6]>=g?1:0)+(x&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,x){return p&&(this.finderPenaltyAddHistory(g,x),g=0),g+=this.size,this.finderPenaltyAddHistory(g,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(m,p,g){if(p<0||p>31||m>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)g.push(m>>>x&1)}function i(m,p){return(m>>>p&1)!=0}function l(m){if(!m)throw new Error("Assertion error")}const u=class Ur{constructor(p,g,x){if(this.mode=p,this.numChars=g,this.bitData=x,g<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let g=[];for(const x of p)r(x,8,g);return new Ur(Ur.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!Ur.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let x=0;x<p.length;){const j=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+j),10),j*3+1,g),x+=j}return new Ur(Ur.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!Ur.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],x;for(x=0;x+2<=p.length;x+=2){let j=Ur.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;j+=Ur.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(j,11,g)}return x<p.length&&r(Ur.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,g),new Ur(Ur.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:Ur.isNumeric(p)?[Ur.makeNumeric(p)]:Ur.isAlphanumeric(p)?[Ur.makeAlphanumeric(p)]:[Ur.makeBytes(Ur.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,g);else if(p<16384)r(2,2,g),r(p,14,g);else if(p<1e6)r(6,3,g),r(p,21,g);else throw new RangeError("ECI assignment value out of range");return new Ur(Ur.Mode.ECI,0,g)}static isNumeric(p){return Ur.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Ur.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let x=0;for(const j of p){const S=j.mode.numCharCountBits(g);if(j.numChars>=1<<S)return 1/0;x+=4+S+j.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?g.push(p.charCodeAt(x)):(g.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=u;t.QrSegment=u})(Fu||(Fu={}));(t=>{(n=>{const r=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),n.Ecc=r})(t.QrCode||(t.QrCode={}))})(Fu||(Fu={}));(t=>{(n=>{const r=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),n.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Fu||(Fu={}));var qd=Fu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $K={L:qd.QrCode.Ecc.LOW,M:qd.QrCode.Ecc.MEDIUM,Q:qd.QrCode.Ecc.QUARTILE,H:qd.QrCode.Ecc.HIGH},VM=128,UM="L",HM="#FFFFFF",WM="#000000",qM=!1,GM=1,FK=4,VK=0,UK=.1;function ZM(t,n=0){const r=[];return t.forEach(function(i,l){let u=null;i.forEach(function(d,m){if(!d&&u!==null){r.push(`M${u+n} ${l+n}h${m-u}v1H${u+n}z`),u=null;return}if(m===i.length-1){if(!d)return;u===null?r.push(`M${m+n},${l+n} h1v1H${m+n}z`):r.push(`M${u+n},${l+n} h${m+1-u}v1H${u+n}z`);return}d&&u===null&&(u=m)})}),r.join("")}function YM(t,n){return t.slice().map((r,i)=>i<n.y||i>=n.y+n.h?r:r.map((l,u)=>u<n.x||u>=n.x+n.w?l:!1))}function HK(t,n,r,i){if(i==null)return null;const l=t.length+r*2,u=Math.floor(n*UK),d=l/n,m=(i.width||u)*d,p=(i.height||u)*d,g=i.x==null?t.length/2-m/2:i.x*d,x=i.y==null?t.length/2-p/2:i.y*d,j=i.opacity==null?1:i.opacity;let S=null;if(i.excavate){let _=Math.floor(g),A=Math.floor(x),T=Math.ceil(m+g-_),z=Math.ceil(p+x-A);S={x:_,y:A,w:T,h:z}}const C=i.crossOrigin;return{x:g,y:x,h:p,w:m,excavation:S,opacity:j,crossOrigin:C}}function WK(t,n){return n!=null?Math.max(Math.floor(n),0):t?FK:VK}function XM({value:t,level:n,minVersion:r,includeMargin:i,marginSize:l,imageSettings:u,size:d,boostLevel:m}){let p=fn.useMemo(()=>{const _=(Array.isArray(t)?t:[t]).reduce((A,T)=>(A.push(...qd.QrSegment.makeSegments(T)),A),[]);return qd.QrCode.encodeSegments(_,$K[n],r,void 0,void 0,m)},[t,n,r,m]);const{cells:g,margin:x,numCells:j,calculatedImageSettings:S}=fn.useMemo(()=>{let C=p.getModules();const _=WK(i,l),A=C.length+_*2,T=HK(C,d,_,u);return{cells:C,margin:_,numCells:A,calculatedImageSettings:T}},[p,d,u,i,l]);return{qrcode:p,margin:x,cells:g,numCells:j,calculatedImageSettings:S}}var qK=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),KM=fn.forwardRef(function(n,r){const i=n,{value:l,size:u=VM,level:d=UM,bgColor:m=HM,fgColor:p=WM,includeMargin:g=qM,minVersion:x=GM,boostLevel:j,marginSize:S,imageSettings:C}=i,A=xj(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=A,z=xj(A,["style"]),P=C?.src,k=fn.useRef(null),I=fn.useRef(null),N=fn.useCallback(me=>{k.current=me,typeof r=="function"?r(me):r&&(r.current=me)},[r]),[F,Y]=fn.useState(!1),{margin:q,cells:ce,numCells:de,calculatedImageSettings:le}=XM({value:l,level:d,minVersion:x,boostLevel:j,includeMargin:g,marginSize:S,imageSettings:C,size:u});fn.useEffect(()=>{if(k.current!=null){const me=k.current,G=me.getContext("2d");if(!G)return;let Z=ce;const H=I.current,W=le!=null&&H!==null&&H.complete&&H.naturalHeight!==0&&H.naturalWidth!==0;W&&le.excavation!=null&&(Z=YM(ce,le.excavation));const Se=window.devicePixelRatio||1;me.height=me.width=u*Se;const B=u/de*Se;G.scale(B,B),G.fillStyle=m,G.fillRect(0,0,de,de),G.fillStyle=p,qK?G.fill(new Path2D(ZM(Z,q))):ce.forEach(function(ie,pe){ie.forEach(function($,V){$&&G.fillRect(V+q,pe+q,1,1)})}),le&&(G.globalAlpha=le.opacity),W&&G.drawImage(H,le.x+q,le.y+q,le.w,le.h)}}),fn.useEffect(()=>{Y(!1)},[P]);const ve=gj({height:u,width:u},T);let Pe=null;return P!=null&&(Pe=fn.createElement("img",{src:P,key:P,style:{display:"none"},onLoad:()=>{Y(!0)},ref:I,crossOrigin:le?.crossOrigin})),fn.createElement(fn.Fragment,null,fn.createElement("canvas",gj({style:ve,height:u,width:u,ref:N,role:"img"},z)),Pe)});KM.displayName="QRCodeCanvas";var GK=fn.forwardRef(function(n,r){const i=n,{value:l,size:u=VM,level:d=UM,bgColor:m=HM,fgColor:p=WM,includeMargin:g=qM,minVersion:x=GM,boostLevel:j,title:S,marginSize:C,imageSettings:_}=i,A=xj(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:z,numCells:P,calculatedImageSettings:k}=XM({value:l,level:d,minVersion:x,boostLevel:j,includeMargin:g,marginSize:C,imageSettings:_,size:u});let I=z,N=null;_!=null&&k!=null&&(k.excavation!=null&&(I=YM(z,k.excavation)),N=fn.createElement("image",{href:_.src,height:k.h,width:k.w,x:k.x+T,y:k.y+T,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const F=ZM(I,T);return fn.createElement("svg",gj({height:u,width:u,viewBox:`0 0 ${P} ${P}`,ref:r,role:"img"},A),!!S&&fn.createElement("title",null,S),fn.createElement("path",{fill:m,d:`M0,0 h${P}v${P}H0z`,shapeRendering:"crispEdges"}),fn.createElement("path",{fill:p,d:F,shapeRendering:"crispEdges"}),N)});GK.displayName="QRCodeSVG";const RA=window.location.origin,ZK=()=>{const[t,n]=y.useState([]),[r,i]=y.useState(!1),[l,u]=y.useState(""),[d,m]=y.useState(!1),[p,g]=y.useState(null),x=wn(),j=y.useRef(null),S=y.useCallback(async T=>{try{i(!0);const z=await mt.get("/vehicles");n(Array.isArray(z)?z:[])}catch(z){z.name!=="AbortError"&&(console.error(z),n([]),x({status:"error",title:"Impossible de charger la liste",description:z.message}))}finally{i(!1)}},[x]);y.useEffect(()=>{const T=new AbortController;return S(T.signal),()=>T.abort()},[S]);const C=t.filter(T=>{if(!l.trim())return!0;const z=l.toLowerCase();return[T.parc,T.modele,T.marque,T.immat].filter(Boolean).some(P=>P.toLowerCase().includes(z))}),_=T=>{g(T),m(!0)},A=()=>{const T=j.current?.querySelector("canvas");if(T){const z=T.toDataURL(),P=document.createElement("a");P.href=z,P.download=`qr-${p?.parc||"vehicle"}.png`,P.click()}};return e.jsxs(ue,{p:6,children:[e.jsxs(Qn,{justify:"space-between",align:"center",mb:6,children:[e.jsx(Me,{children:"Vhicules"}),e.jsx(ne,{as:or,to:"/dashboard/vehicules/ajouter",leftIcon:e.jsx(Nn,{}),colorScheme:"blue",children:"Ajouter un vhicule"})]}),e.jsx(ue,{mb:6,children:e.jsx(xe,{placeholder:"Rechercher par parc, modle, marque ou immatriculation...",value:l,onChange:T=>u(T.target.value),maxW:"400px"})}),r?e.jsx(xn,{py:20,children:e.jsx(pn,{size:"xl"})}):e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:6,children:C.map(T=>e.jsxs($e,{shadow:"md",children:[e.jsx(Nt,{pb:2,children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:T.parc}),e.jsx(et,{colorScheme:T.etat==="disponible"?"green":"orange",children:T.etat})]})}),e.jsx(Be,{pt:0,children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsxs(R,{children:[e.jsx("strong",{children:"Modle:"})," ",T.modele||"Non spcifi"]}),e.jsxs(R,{children:[e.jsx("strong",{children:"Marque:"})," ",T.marque||"Non spcifie"]}),T.immat&&e.jsxs(R,{children:[e.jsx("strong",{children:"Immat:"})," ",T.immat]}),e.jsxs(re,{spacing:2,pt:4,w:"100%",children:[e.jsx(ne,{as:or,to:`/dashboard/vehicules/${T.parc}`,leftIcon:e.jsx(Ls,{}),size:"sm",flex:1,children:"Grer"}),e.jsx(ne,{leftIcon:e.jsx(j1,{}),size:"sm",onClick:()=>_(T),children:"QR"})]})]})})]},T.parc))}),C.length===0&&!r&&e.jsx(xn,{py:20,children:e.jsx(R,{color:"gray.500",children:"Aucun vhicule trouv"})}),e.jsxs(Et,{isOpen:d,onClose:()=>m(!1),isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsxs(Tt,{children:["QR Code - ",p?.parc]}),e.jsx(It,{}),e.jsx(At,{pb:6,children:e.jsxs(se,{spacing:4,children:[e.jsx(ue,{ref:j,children:e.jsx(KM,{value:`${RA}/mobile/v/${p?.parc}`,size:200,level:"M"})}),e.jsx(R,{fontSize:"sm",color:"gray.600",textAlign:"center",children:`${RA}/mobile/v/${p?.parc}`}),e.jsx(ne,{onClick:A,colorScheme:"blue",children:"Tlcharger"})]})})]})]})]})},YK=(ko||"https://attractive-kindness-rbe-serveurs.up.railway.app").replace(/\/+$/,""),XK=(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+|\/+$/g,""),Tg=()=>(localStorage.getItem("rbe_api_vehicles_path")||`${XK}/vehicles`).replace(/^\/+/,"").replace(/\/+$/,""),KK=()=>(localStorage.getItem("rbe_api_origin")||YK).replace(/\/+$/,""),_a=t=>{const n=String(t||"").replace(/^\/+/,""),r=KK(),i=`/${n}`,l=r?`${r}/${n}`:null,u=[i];return l&&u.push(l),u},au=async(t,n)=>{let r=null;for(const i of t)try{const l=await fetch(i,n);if(!l.ok){r=new Error(`HTTP ${l.status}`);continue}if(!(l.headers.get("content-type")||"").toLowerCase().includes("application/json")){r=new Error("non-json");continue}return await l.json()}catch(l){r=l}throw r||new Error("fetch failed")};function QK(){const{parc:t}=Px(),[n]=JL(),r=wn(),i=Va(),l=n.get("t")||"",{matricule:u,setMatricule:d,token:m}=_s(),[p,g]=y.useState(l||""),[x,j]=y.useState(null),[S,C]=y.useState([]),[_,A]=y.useState([]),[T,z]=y.useState(!0),[P,k]=y.useState(!1),[I,N]=y.useState(!1),[F,Y]=y.useState(!1),[q,ce]=y.useState(!1),[de,le]=y.useState(u||""),[ve,Pe]=y.useState(!1),[me,G]=y.useState([]),[Z,H]=y.useState(!1),[W,Se]=y.useState(""),[B,ie]=y.useState([]),[pe,$]=y.useState(""),[V,M]=y.useState(""),[Q,Ee]=y.useState(""),[Le,Ae]=y.useState(""),[it,ct]=y.useState(""),[Je,zt]=y.useState(""),[Ve,$t]=y.useState(""),[be,Ze]=y.useState(null),[Ot,ae]=y.useState(null),ge=`rbe_current_usage_${t}`,[nt,Pt]=y.useState(()=>{const qe=localStorage.getItem(ge);return qe?JSON.parse(qe):null}),kn=qe=>{Pt(qe),qe?localStorage.setItem(ge,JSON.stringify(qe)):localStorage.removeItem(ge)},ar=()=>new Promise(qe=>{if(!("geolocation"in navigator))return qe(null);navigator.geolocation.getCurrentPosition(wt=>qe({lat:wt.coords.latitude,lng:wt.coords.longitude,accuracy:wt.coords.accuracy}),()=>qe(null),{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e4})});y.useEffect(()=>{if(I&&!F){const qe=new Date;Ee(qe.toISOString().slice(0,10)),Ae(qe.toTimeString().slice(0,5)),ar().then(Ze)}if(I&&F){const qe=new Date;ct(qe.toISOString().slice(0,10)),zt(qe.toTimeString().slice(0,5)),ar().then(ae)}I||Y(!1)},[I,F]);const Ue=async()=>{if(m)try{H(!0);const qe=_a(`${(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+/,"")}/members?limit=500`),wt=await au(qe,{headers:{Authorization:`Bearer ${m}`}});G(Array.isArray(wt?.members)?wt.members:[])}catch{G([])}finally{H(!1)}},rt=(qe=p,wt=u)=>{const nn={"Content-Type":"application/json"};return qe?nn["x-qr-token"]=qe:wt&&(nn["x-user-matricule"]=wt),m&&(nn.Authorization=`Bearer ${m}`),nn};y.useEffect(()=>{let qe=!1;return(async()=>{try{z(!0);const wt=rt(p),nn=Tg(),mn=_a(`${nn}/${encodeURIComponent(t)}`),Kt=_a(`${nn}/${encodeURIComponent(t)}/reports`),Mn=_a(`${nn}/${encodeURIComponent(t)}/usages`),[ot,Fn,Bn]=await Promise.all([au(mn,{headers:wt}),au(Kt,{headers:wt}).catch(()=>[]),au(Mn,{headers:wt}).catch(()=>[])]);if(qe)return;j(ot);const Dr=Array.isArray(Fn)?Fn.map(vn=>({id:vn.id,type:vn.type||"Rapport",date:vn.createdAt||vn.date||new Date().toISOString(),note:vn.description||vn.note||"",createdBy:vn.createdBy||vn.author||""})):[];C(Dr),A(Array.isArray(Bn)?Bn:[])}catch(wt){console.warn("fetch vehicle failed:",wt),j(null),C([]),A([])}finally{qe||z(!1)}})(),()=>{qe=!0}},[t,p]);const Mt=async qe=>{if(qe?.preventDefault?.(),!de?.trim())return r({status:"warning",title:"Matricule requis"});try{Pe(!0),d(de.trim()),r({status:"success",title:"Connect",description:de.trim()}),g(""),setTimeout(()=>{(async()=>{try{z(!0);const wt=rt("",de.trim()),nn=Tg(),mn=_a(`${nn}/${encodeURIComponent(t)}`),Kt=_a(`${nn}/${encodeURIComponent(t)}/reports`),Mn=_a(`${nn}/${encodeURIComponent(t)}/usages`),[ot,Fn,Bn]=await Promise.all([au(mn,{headers:wt}),au(Kt,{headers:wt}).catch(()=>[]),au(Mn,{headers:wt}).catch(()=>[])]);j(ot);const Dr=Array.isArray(Fn)?Fn.map(vn=>({id:vn.id,type:vn.type||"Rapport",date:vn.createdAt||vn.date||new Date().toISOString(),note:vn.description||vn.note||"",createdBy:vn.createdBy||vn.author||""})):[];C(Dr),A(Array.isArray(Bn)?Bn:[])}catch{r({status:"error",title:"Accs refus"})}finally{z(!1)}})()},250)}finally{Pe(!1)}},Ye=async qe=>{try{const wt=Tg(),nn=_a(`${wt}/${encodeURIComponent(t)}/reports`),mn=await fetch(nn[0],{method:"POST",headers:rt(),body:JSON.stringify({description:qe?.note?`${qe.type||"vnement"}: ${qe.note}`:qe?.type||"vnement"})});if(!mn.ok){const ot=await mn.json().catch(()=>({error:"err"}));throw new Error(ot?.error||mn.statusText||"Erreur")}const Kt=await mn.json(),Mn={id:Kt.id,type:"Rapport",date:Kt.createdAt||new Date().toISOString(),note:Kt.description||"",createdBy:Kt.createdBy||""};return C(ot=>[Mn,...ot]),r({status:"success",title:"vnement ajout"}),Kt}catch(wt){throw console.error(wt),r({status:"error",title:"Impossible d'ajouter l'vnement",description:String(wt.message)}),wt}},gt=async qe=>{try{const wt=Tg(),nn=_a(`${wt}/${encodeURIComponent(t)}/usages`),mn=await fetch(nn[0],{method:"POST",headers:rt(),body:JSON.stringify(qe)});if(!mn.ok){const Mn=await mn.json().catch(()=>({error:"err"}));throw new Error(Mn?.error||mn.statusText||"Erreur")}const Kt=await mn.json();return A(Mn=>[Kt,...Mn]),Kt}catch(wt){throw console.error(wt),r({status:"error",title:"Impossible d'ajouter l'usage",description:String(wt.message)}),wt}},Pn=async(qe,wt)=>{try{const nn=_a(`usages/${encodeURIComponent(qe)}`),mn=await fetch(nn[0],{method:"PUT",headers:rt(),body:JSON.stringify(wt)});if(!mn.ok){const Mn=await mn.json().catch(()=>({error:"err"}));throw new Error(Mn?.error||mn.statusText||"Erreur")}const Kt=await mn.json();return A(Mn=>Mn.map(ot=>ot.id===Kt.id?Kt:ot)),Kt}catch(nn){throw console.error(nn),r({status:"error",title:"Impossible de mettre  jour l'usage",description:String(nn.message)}),nn}};return T?e.jsx(xn,{p:8,children:e.jsx(pn,{size:"lg"})}):e.jsxs(ue,{p:4,maxW:"720px",mx:"auto",children:[x?e.jsxs(ue,{children:[e.jsx(Me,{size:"md",children:x.modele||`Parc ${x.parc}`}),e.jsx(R,{mt:1,opacity:.8,children:x.immat?`${x.immat}  Parc ${x.parc}`:`Parc ${x.parc}`}),e.jsxs(ki,{spacing:4,mt:6,children:[e.jsx(ne,{colorScheme:"red",onClick:()=>k(!0),children:"Signaler une anomalie"}),!nt&&e.jsx(ne,{colorScheme:"orange",onClick:()=>{Y(!1),N(!0)},children:"Dmarrer un pointage"}),nt&&e.jsx(ne,{colorScheme:"green",onClick:()=>{Y(!0),N(!0)},children:"Terminer le pointage"}),e.jsx(ne,{colorScheme:"blue",onClick:()=>ce(!0),children:"Ajouter un vnement au vhicule"})]}),e.jsxs(ue,{mt:6,children:[e.jsx(Me,{size:"sm",mb:2,children:"Derniers vnements"}),e.jsxs(se,{spacing:2,align:"stretch",children:[S.length===0&&e.jsx(R,{opacity:.7,children:"Aucun vnement"}),S.map(qe=>e.jsxs(ue,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(R,{fontSize:"sm",children:[e.jsx("b",{children:qe.type}),"  ",new Date(qe.date).toLocaleString()]}),qe.note&&e.jsx(R,{mt:1,fontSize:"sm",children:qe.note}),e.jsxs(R,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",qe.createdBy||""]})]},qe.id))]})]}),e.jsxs(ue,{mt:6,children:[e.jsx(Me,{size:"sm",mb:2,children:"Derniers passages"}),e.jsxs(se,{spacing:2,align:"stretch",children:[_.length===0&&e.jsx(R,{opacity:.7,children:"Aucun passage"}),_.map(qe=>e.jsxs(ue,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(R,{fontSize:"sm",children:[qe.conducteur||"","  ",qe.km?`${qe.km} km`:"","  ",qe.durationMin?`${qe.durationMin} min`:""]}),qe.note&&e.jsx(R,{mt:1,fontSize:"sm",children:qe.note}),e.jsxs(R,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",qe.createdBy||""]})]},qe.id))]})]})]}):e.jsxs(ue,{textAlign:"center",py:8,children:[e.jsx(Me,{size:"md",children:"Accs restreint"}),e.jsx(R,{mt:2,opacity:.8,children:"Ce carnet est accessible uniquement via le QR code du vhicule ou aprs authentification."}),e.jsx(ue,{mt:6,as:"form",onSubmit:Mt,maxW:"360px",mx:"auto",children:e.jsxs(se,{spacing:3,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Matricule"}),e.jsx(xe,{value:de,onChange:qe=>le(qe.target.value),placeholder:"ex: w.belaidi"})]}),e.jsxs(re,{children:[e.jsx(ne,{colorScheme:"blue",onClick:Mt,isLoading:ve,children:"Se connecter"}),e.jsx(ne,{variant:"ghost",onClick:()=>i(-1),children:"Retour"})]})]})}),e.jsx(R,{mt:4,fontSize:"sm",opacity:.8,children:"Astuce : scannez le QR sur le vhicule pour accder sans vous connecter."})]}),e.jsxs(Et,{isOpen:P,onClose:()=>k(!1),isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Signaler une anomalie"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsxs(R,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type d'anomalie"}),e.jsx(xe,{id:"anom-type",placeholder:"ex: Frein / Porte / Moteur"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{id:"anom-note",placeholder:"Dcris l'anomalie..."})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>k(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:async()=>{const qe=document.getElementById("anom-type")?.value||"Anomalie",wt=document.getElementById("anom-note")?.value||"";try{await Ye({type:`Anomalie: ${qe}`,note:wt}),k(!1)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(Et,{isOpen:I,onClose:()=>N(!1),isCentered:!0,onOverlayClick:()=>{},children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:F?"Terminer le pointage":"Dmarrer un pointage"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsxs(R,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Conducteur"}),e.jsx(xe,{id:"pass-conducteur",placeholder:"Nom ou matricule"})]}),!F&&e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Date d'arrive"}),e.jsx(xe,{type:"date",value:Q,onChange:qe=>Ee(qe.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Heure d'arrive"}),e.jsx(xe,{type:"time",value:Le,onChange:qe=>Ae(qe.target.value)})]})]}),be&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[" Arrive GPS: ",be.lat.toFixed(5),",",be.lng.toFixed(5)," (",Math.round(be.accuracy),"m)"]})]}),F&&e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Date de sortie"}),e.jsx(xe,{type:"date",value:it,onChange:qe=>ct(qe.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Heure de sortie"}),e.jsx(xe,{type:"time",value:Je,onChange:qe=>zt(qe.target.value)})]})]}),Ot&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[" Sortie GPS: ",Ot.lat.toFixed(5),",",Ot.lng.toFixed(5)," (",Math.round(Ot.accuracy),"m)"]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Membres prsents"}),e.jsx(xe,{placeholder:"Rechercher un adhrent (nom, prnom, n)",value:W,onChange:qe=>Se(qe.target.value),onFocus:()=>{me.length===0&&Ue()}}),e.jsxs(ue,{mt:2,maxH:"180px",overflowY:"auto",border:"1px solid #eee",borderRadius:"md",p:2,children:[Z&&e.jsx(xn,{py:3,children:e.jsx(pn,{size:"sm"})}),!Z&&me.filter(qe=>{if(!W.trim())return!0;const wt=W.toLowerCase();return[qe.firstName,qe.lastName,qe.memberNumber,qe.email].filter(Boolean).some(nn=>String(nn).toLowerCase().includes(wt))}).slice(0,50).map(qe=>{const wt=qe.id,nn=B.includes(wt),mn=`${qe.lastName?.toUpperCase()||""} ${qe.firstName||""}${qe.memberNumber?`  ${qe.memberNumber}`:""}`.trim();return e.jsxs(re,{py:1,spacing:3,children:[e.jsx("input",{type:"checkbox",checked:nn,onChange:Kt=>{ie(Mn=>Kt.target.checked?[...Mn,wt]:Mn.filter(ot=>ot!==wt))}}),e.jsx(R,{fontSize:"sm",children:mn})]},wt)}),!Z&&me.length===0&&e.jsx(R,{fontSize:"sm",opacity:.7,children:"Aucun adhrent charg. Connectez-vous pour voir la liste."})]})]}),e.jsxs(re,{children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Invit - Prnom"}),e.jsx(xe,{value:pe,onChange:qe=>$(qe.target.value),placeholder:"Prnom invit"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Invit - Nom"}),e.jsx(xe,{value:V,onChange:qe=>M(qe.target.value),placeholder:"Nom invit"})]})]}),F&&e.jsxs(te,{children:[e.jsx(ee,{children:"Actions ralises"}),e.jsx(Zt,{value:Ve,onChange:qe=>$t(qe.target.value),placeholder:"Dtaillez les actions ralises pendant le passage",rows:4})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>N(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:F?"green":"orange",onClick:async()=>{const qe=document.getElementById("pass-conducteur")?.value||"",nn=me.filter(Bn=>B.includes(Bn.id)).map(Bn=>`${Bn.firstName||""} ${Bn.lastName||""}`.trim()).filter(Boolean),mn=pe||V?`Invit: ${[pe,V].filter(Boolean).join(" ")}`:"",Kt=[qe?`Conducteur: ${qe}`:"",...nn,mn].filter(Boolean).join("; "),Mn=(Bn,Dr)=>{if(!Bn&&!Dr)return null;const vn=Bn||new Date().toISOString().split("T")[0],pi=Dr||new Date().toTimeString().slice(0,5),[Os,aa,po]=vn.split("-").map(Number),[Io,Bo]=pi.split(":").map(Number);return new Date(Os,aa-1,po,Io,Bo,0).toISOString()},ot=Mn(Q,Le),Fn=it||Je?Mn(it,Je):null;try{if(F){if(!nt)throw new Error("Aucun pointage en cours");const Bn=Ot?`
Sortie GPS: ${Ot.lat?.toFixed(5)},${Ot.lng?.toFixed(5)} (${Math.round(Ot.accuracy||0)}m)`:"",Dr=Ve?`
Actions:
${Ve}`:"";await Pn(nt,{endedAt:Fn||new Date().toISOString(),conducteur:qe||null,participants:Kt||null,note:`${Dr}${Bn}`.trim()}),kn(null),r({status:"success",title:"Pointage termin"})}else{const Bn=be?`
Arrive GPS: ${be.lat?.toFixed(5)},${be.lng?.toFixed(5)} (${Math.round(be.accuracy||0)}m)`:"",Dr=await gt({startedAt:ot||new Date().toISOString(),conducteur:qe||null,participants:Kt||null,note:Bn||""});kn(Dr?.id||null),r({status:"success",title:"Pointage dmarr"})}N(!1),ie([]),$(""),M(""),Se(""),Ee(""),Ae(""),ct(""),zt(""),$t(""),Ze(null),ae(null)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(Et,{isOpen:q,onClose:()=>ce(!1),isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Ajouter un vnement"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsxs(R,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type"}),e.jsx(xe,{id:"evt-type",placeholder:"ex: Rvision"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Note"}),e.jsx(Zt,{id:"evt-note",placeholder:"Dtails..."})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>ce(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:async()=>{const qe=document.getElementById("evt-type")?.value||"vnement",wt=document.getElementById("evt-note")?.value||"";try{await Ye({type:qe,note:wt}),ce(!1)}catch{}},children:"Ajouter"})]})]})]})]})}function QM({value:t=[],onChange:n,uploadEndpoint:r,deleteEndpoint:i,authHeader:l}){const u=wn(),[d,m]=y.useState(!1),p=(S,C)=>{const _=[...t],A=S+C;A<0||A>=_.length||([_[S],_[A]]=[_[A],_[S]],n(_))},g=async S=>{if(!i){n(t.filter(C=>C!==S));return}try{const C=await fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify({image:S})});if(!C.ok)throw new Error;const _=await C.json();n(_.gallery||[])}catch{n(t.filter(C=>C!==S))}},x=async S=>{if(!S?.length)return;m(!0);const C=new FormData;[...S].forEach(_=>C.append("images",_)),console.log(" Upload debug:",{endpoint:r,filesCount:S.length,hasAuth:!!l});try{const _=await fetch(r,{method:"POST",headers:{Authorization:l},body:C});if(console.log(" Upload response:",{status:_.status,statusText:_.statusText,headers:Object.fromEntries(_.headers)}),!_.ok){const T=await _.text().catch(()=>"");throw console.error(" Upload failed:",_.status,T),u({status:"error",title:"chec upload",description:`Erreur ${_.status}: ${T||_.statusText}`}),new Error(`HTTP ${_.status}: ${T}`)}const A=await _.json();n(A.gallery||[]),u({status:"success",title:"Images ajoutes"})}catch(_){console.error("Upload error",_),u({status:"error",title:"chec upload",description:_.message||"Erreur rseau"})}finally{m(!1)}},j=S=>!S||S.startsWith("http://")||S.startsWith("https://")||S.startsWith("data:")||S.startsWith("blob:")?S:"https://attractive-kindness-rbe-serveurs.up.railway.app"+S;return e.jsxs(ue,{children:[e.jsx(xe,{type:"file",multiple:!0,accept:"image/*",onChange:S=>x(S.target.files),isDisabled:d,mb:3}),t.length===0&&e.jsx(R,{fontSize:"sm",color:"gray.500",mb:2,children:"Aucune image dans la galerie."}),e.jsx(pt,{columns:{base:2,md:4},spacing:3,children:t.map((S,C)=>e.jsxs(ue,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:1,children:[e.jsx(Di,{src:j(S),w:"100%",h:"110px",objectFit:"cover",borderRadius:"sm"}),e.jsxs(re,{mt:1,justify:"space-between",children:[e.jsxs(re,{children:[e.jsx(ut,{"aria-label":"Monter",icon:e.jsx(y1,{}),size:"xs",onClick:()=>p(C,-1),isDisabled:C===0}),e.jsx(ut,{"aria-label":"Descendre",icon:e.jsx(v1,{}),size:"xs",onClick:()=>p(C,1),isDisabled:C===t.length-1})]}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"xs",colorScheme:"red",onClick:()=>g(S)})]})]},S+C))})]})}function JK({value:t=[],onChange:n}){const r=(u,d,m)=>{const p=[...t];p[u]={...p[u],[d]:m},n(p)},i=()=>n([...t||[],{label:"",value:""}]),l=u=>{const d=[...t];d.splice(u,1),n(d)};return e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(ee,{mb:0,children:"Caractristiques"}),e.jsx(ne,{size:"xs",leftIcon:e.jsx(Nn,{}),onClick:i,children:"Ajouter"})]}),(t||[]).map((u,d)=>e.jsxs(re,{align:"flex-start",children:[e.jsx(xe,{placeholder:"Label",value:u.label,onChange:m=>r(d,"label",m.target.value)}),e.jsx(xe,{placeholder:"Valeur",value:u.value,onChange:m=>r(d,"value",m.target.value)}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(LK,{}),size:"sm",onClick:()=>l(d)})]},d))]})}const eQ="https://attractive-kindness-rbe-serveurs.up.railway.app";function tQ(){const t=Va(),n=wn(),[r,i]=y.useState({parc:"",modele:"",marque:"",subtitle:"",etat:"disponible",immat:"",energie:"",miseEnCirculation:"",description:"",history:"",caracteristiques:[],gallery:[],isPublic:!1}),[l,u]=y.useState(!1),d=(p,g)=>i(x=>({...x,[p]:g})),m=async()=>{if(!r.parc.trim()){n({status:"error",title:"Parc requis"});return}u(!0);try{const p=await fetch(`${eQ}/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({parc:r.parc.trim(),modele:r.modele,marque:r.marque,subtitle:r.subtitle,etat:r.etat,immat:r.immat,energie:r.energie,miseEnCirculation:r.miseEnCirculation,description:r.description,history:r.history,caracteristiques:r.caracteristiques,gallery:r.gallery,isPublic:r.isPublic})});if(!p.ok){const x=await p.json();throw new Error(x.error||"Erreur cration")}const g=await p.json();n({status:"success",title:"Vhicule cr !",description:`Le vhicule ${r.parc} a t cr avec succs`}),t(`/dashboard/vehicules/${g.parc}`)}catch(p){console.error(" Erreur cration:",p),n({status:"error",title:"Erreur sauvegarde",description:p.message})}finally{u(!1)}};return e.jsxs(ue,{p:8,children:[e.jsxs(re,{mb:6,children:[e.jsx(ne,{as:"a",href:"/dashboard/vehicules",leftIcon:e.jsx(DM,{}),variant:"outline",children:"Retour"}),e.jsx(Me,{children:" Crer un vhicule"})]}),e.jsxs(se,{align:"stretch",spacing:6,children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:" Identit du vhicule"}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Numro de parc"}),e.jsx(xe,{placeholder:"ex: 920",value:r.parc,onChange:p=>d("parc",p.target.value),fontWeight:"bold"}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Identifiant unique du vhicule"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Marque"}),e.jsx(xe,{placeholder:"ex: Mercedes-Benz",value:r.marque,onChange:p=>d("marque",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Modle"}),e.jsx(xe,{placeholder:"ex: Citaro",value:r.modele,onChange:p=>d("modele",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Sous-titre"}),e.jsx(xe,{placeholder:"ex: Un grand classique",value:r.subtitle,onChange:p=>d("subtitle",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Immatriculation"}),e.jsx(xe,{placeholder:"ex: FG-920-RE",value:r.immat,onChange:p=>d("immat",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"tat"}),e.jsx(xe,{placeholder:"ex: Disponible, Prserv, En restauration...",value:r.etat,onChange:p=>d("etat",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"nergie"}),e.jsx(xe,{placeholder:"ex: Diesel",value:r.energie,onChange:p=>d("energie",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Mise en circulation"}),e.jsx(xe,{type:"date",value:r.miseEnCirculation,onChange:p=>d("miseEnCirculation",p.target.value)})]})]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:" Descriptions"}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{rows:4,placeholder:"Description gnrale du vhicule...",value:r.description,onChange:p=>d("description",p.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Historique"}),e.jsx(Zt,{rows:5,placeholder:"Historique, anecdotes, restaurations...",value:r.history,onChange:p=>d("history",p.target.value)})]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:" Caractristiques techniques"}),e.jsx(JK,{value:r.caracteristiques,onChange:p=>d("caracteristiques",p)})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:" Galerie photos"}),e.jsx(QM,{value:r.gallery,onChange:p=>d("gallery",p),parc:r.parc||"nouveau"})]})})}),e.jsx($e,{bg:"blue.50",children:e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:" Publication"}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:0,flex:1,children:"Afficher sur le site public"}),e.jsx(jr,{isChecked:r.isPublic,onChange:p=>d("isPublic",p.target.checked),size:"lg",colorScheme:"green"})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:r.isPublic?" Ce vhicule sera visible sur le site public":" Ce vhicule n'est visible que par les administrateurs"})]})})}),e.jsx(zn,{}),e.jsxs(re,{spacing:4,justify:"flex-end",children:[e.jsx(ne,{variant:"outline",onClick:()=>t("/dashboard/vehicules"),children:"Annuler"}),e.jsx(ne,{colorScheme:"green",leftIcon:e.jsx(ku,{}),isLoading:l,loadingText:"Cration...",onClick:m,size:"lg",children:"Crer le vhicule"})]})]})]})}const nQ=window.location.origin;function rQ({etat:t}){const n={disponible:"green",en_panne:"red",maintenance:"orange",Service:"green",Prserv:"blue","A VENIR":"gray",Restauration:"orange"};return e.jsx(et,{colorScheme:n[t]||"purple",children:t})}function sQ({vehicle:t,parc:n,onChange:r,authHeader:i}){const{isOpen:l,onOpen:u,onClose:d}=Dt(),m=y.useRef(),[p,g]=y.useState(!1),[x,j]=y.useState(null),[S,C]=y.useState(!1),_=wn(),A=async I=>{if(!I)return;g(!0);const N=new FormData;N.append("image",I);try{const F=await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${n}/background`,{method:"POST",headers:{Authorization:i},body:N});if(!F.ok)throw new Error("Upload failed");const Y=await F.json();r({backgroundImage:Y.backgroundImage}),_({status:"success",title:"Image de fond mise  jour"})}catch{_({status:"error",title:"Erreur upload image de fond"})}finally{g(!1)}},T=async()=>{try{await mt.put(`/vehicles/${n}`,{backgroundImage:null,backgroundPosition:null}),r({backgroundImage:null,backgroundPosition:null}),_({status:"success",title:"Image de fond supprime"})}catch{_({status:"error",title:"Erreur suppression image de fond"})}},z=async I=>{const N=I.target.getBoundingClientRect(),F=(I.clientX-N.left)/N.width*100,Y=(I.clientY-N.top)/N.height*100,q=`${F.toFixed(1)}% ${Y.toFixed(1)}%`;j({x:F,y:Y});try{await mt.put(`/vehicles/${n}`,{backgroundPosition:q}),r({backgroundPosition:q}),_({status:"success",title:"Position focale sauvegarde",description:q})}catch{_({status:"error",title:"Erreur sauvegarde position"})}},P=t.backgroundImage??null,k=P&&t.backgroundPosition||"center";return e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",cursor:"pointer",onClick:()=>C(!S),children:[e.jsx(Me,{size:"md",children:" Image de fond Hero"}),e.jsxs(re,{spacing:2,children:[P&&S&&e.jsx(ne,{leftIcon:e.jsx(gr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:I=>{I.stopPropagation(),T()},children:"Supprimer"}),e.jsx(ut,{icon:S?e.jsx(y1,{}):e.jsx(v1,{}),size:"sm",variant:"ghost","aria-label":S?"Replier":"Dplier"})]})]}),e.jsx($S,{in:S,animateOpacity:!0,children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Gestion de l'image de fond plein cran pour la page publique"}),e.jsxs(re,{children:[e.jsx(ne,{leftIcon:e.jsx(OK,{}),size:"sm",onClick:I=>{I.stopPropagation(),m.current?.click()},isLoading:p,colorScheme:"blue",children:"Changer le fond"}),P&&e.jsx(ne,{leftIcon:e.jsx(DK,{}),size:"sm",colorScheme:"orange",onClick:I=>{I.stopPropagation(),u()},children:"Position focale"})]})]}),e.jsx(xe,{ref:m,type:"file",accept:"image/*",onChange:I=>A(I.target.files[0]),display:"none"}),P&&e.jsxs(ue,{borderRadius:"md",overflow:"hidden",bg:"gray.100",border:"1px solid",borderColor:"gray.200",children:[e.jsx(Di,{src:P,alt:"Aperu image de fond",w:"100%",h:"200px",objectFit:"cover",objectPosition:k}),e.jsxs(R,{fontSize:"sm",color:"gray.600",p:2,bg:"gray.50",children:[" Position focale : ",k]})]}),!P&&e.jsxs(ue,{borderRadius:"md",border:"2px dashed",borderColor:"gray.300",p:8,textAlign:"center",bg:"gray.50",children:[e.jsx(R,{color:"gray.500",mb:2,children:"Aucune image de fond dfinie"}),e.jsx(R,{fontSize:"sm",color:"gray.400",children:"La premire image de la galerie sera utilise par dfaut"})]})]})}),e.jsxs(Et,{isOpen:l,onClose:d,size:"4xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Ajuster la position focale"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsx(R,{color:"gray.600",children:"Cliquez sur l'image pour dfinir le point focal qui sera visible sur la page publique"}),P&&e.jsxs(ue,{position:"relative",borderRadius:"md",overflow:"hidden",children:[e.jsx(Di,{src:P,alt:"Rglage position focale",w:"100%",h:"400px",objectFit:"cover",cursor:"crosshair",onClick:z}),x&&e.jsx(ue,{position:"absolute",left:`${x.x}%`,top:`${x.y}%`,transform:"translate(-50%, -50%)",w:"20px",h:"20px",borderRadius:"50%",bg:"red.500",border:"2px solid white",boxShadow:"0 0 0 2px red.500",zIndex:1})]}),e.jsxs(R,{fontSize:"sm",color:"gray.500",mb:4,children:[" Position actuelle : ",k]})]})})]})]})]})}function iQ(){const{parc:t}=Px(),n=Va(),r=wn(),[i,l]=y.useState(!0),[u,d]=y.useState(!1),[m,p]=y.useState(null),[g,x]=y.useState({}),[j,S]=y.useState([]),C={marque:"Mercedes-Benz",modele:"Citaro ",subtitle:"Citaro 1 |  II |  | ",etat:"Prserv",type:"Bus",immat:"FG-920-RE",energie:"Diesel",miseEnCirculation:"2001-07-01",numerosFlotte:"592 / 720 / X / 920",constructeur:"Mercedes-Benz",longueur:"11,95 m",placesAssises:"32",placesDebout:"64",ufr:"1",statut:"Prserv",preservePar:"Association RtroBus Essonne",normeEuro:"Euro II",moteur:"Mercedes-Benz OM906hLA - 279 ch",boiteVitesses:"Automatique ZF5HP-502C",nombrePortes:"2",livree:"Grise",girouette:"Duhamel LED Oranges + Pastilles Vertes",climatisation:"Complte",description:"Ce vhicule est un exemple emblmatique de la gamme Citaro de premire gnration. Mis en service commercial en juillet 2001, il reprsente l'volution technologique des transports urbains du dbut des annes 2000. quip d'une climatisation complte et accessible aux personnes  mobilit rduite.",history:"Le Mercedes-Benz Citaro est un autobus urbain produit par Daimler AG depuis 1997. Ce modle a rvolutionn les transports publics europens avec son design moderne et ses innovations techniques. Notre exemplaire FG-920-RE a t command par Cars Bridet  Wissous pour le rseau du Palladin et mis en service en juillet 2001. Au cours de sa carrire, il a port successivement les numros 592, 720, X, puis 920. Il a assur la desserte Le Palladin jusqu'en aot 2014. Aprs plusieurs annes de service fidle, il est pass brivement par Brtigny en 2018, puis a rejoint Transdev STRAV  Limeil-Brvannes, avant d'tre exploit par Cars Sur. En mai 2025, ce vhicule historique a trouv sa place au sein de la collection de l'association RtroBus Essonne, o il tmoigne de l'volution du transport public francilien au dbut du XXIe sicle.",caracteristiques:[{label:"Numros de flotte",value:"592 / 720 / X / 920"},{label:"Constructeur",value:"Mercedes-Benz"},{label:"Modle",value:"Citaro "},{label:"Immatriculation",value:"FG-920-RE"},{label:"Mise en circulation",value:"juillet 2001"},{label:"Longueur",value:"11,95 m"},{label:"Places assises",value:"32"},{label:"Places debout",value:"64"},{label:"UFR",value:"1"},{label:"Statut",value:"Prserv"},{label:"Prserv par",value:"Association RtroBus Essonne"},{label:"nergie",value:"Diesel"},{label:"Norme Euro",value:"Euro II"},{label:"Moteur",value:"Mercedes-Benz OM906hLA - 279 ch"},{label:"Bote de vitesses",value:"Automatique ZF5HP-502C"},{label:"Nombre de portes",value:"2"},{label:"Livre",value:"Grise"},{label:"Girouette",value:"Duhamel LED Oranges + Pastilles Vertes"},{label:"Climatisation",value:"Complte"}]},_=y.useCallback(async()=>{if(t){l(!0);try{const k=await mt.get(`/vehicles/${t}`);p(k);try{const N=await mt.get(`/vehicles/${t}/usages`);S(Array.isArray(N)?N:[])}catch{S([])}const I={...C,...k,caracteristiques:k.caracteristiques&&k.caracteristiques.length>0?k.caracteristiques:C.caracteristiques,description:k.description||C.description,history:k.history||C.history};x(I)}catch(k){r({status:"error",title:k.message||"Erreur chargement"}),n("/dashboard/vehicules")}finally{l(!1)}}},[t,r,n]);y.useEffect(()=>{_()},[_]);const A=y.useCallback(()=>{const k=[{label:"Numros de flotte",value:g.numerosFlotte||""},{label:"Constructeur",value:g.constructeur||""},{label:"Modle",value:g.modele||""},{label:"Immatriculation",value:g.immat||""},{label:"Mise en circulation",value:g.miseEnCirculation?"juillet 2001":""},{label:"Longueur",value:g.longueur||""},{label:"Places assises",value:g.placesAssises||""},{label:"Places debout",value:g.placesDebout||""},{label:"UFR",value:g.ufr||""},{label:"Statut",value:g.statut||""},{label:"Prserv par",value:g.preservePar||""},{label:"nergie",value:g.energie||""},{label:"Norme Euro",value:g.normeEuro||""},{label:"Moteur",value:g.moteur||""},{label:"Bote de vitesses",value:g.boiteVitesses||""},{label:"Nombre de portes",value:g.nombrePortes||""},{label:"Livre",value:g.livree||""},{label:"Girouette",value:g.girouette||""},{label:"Climatisation",value:g.climatisation||""}].filter(I=>I.value);x(I=>({...I,caracteristiques:k}))},[g.numerosFlotte,g.constructeur,g.modele,g.immat,g.miseEnCirculation,g.longueur,g.placesAssises,g.placesDebout,g.ufr,g.statut,g.preservePar,g.energie,g.normeEuro,g.moteur,g.boiteVitesses,g.nombrePortes,g.livree,g.girouette,g.climatisation]);y.useEffect(()=>{A()},[A]);const T=async()=>{try{d(!0);const k=g.statut||g.etat;await mt.put(`/vehicles/${t}`,{etat:k,marque:g.marque,modele:g.modele,type:g.type,immat:g.immat,energie:g.energie,miseEnCirculation:g.miseEnCirculation,subtitle:g.subtitle,description:g.description,history:g.history,caracteristiques:g.caracteristiques,gallery:g.gallery,backgroundImage:g.backgroundImage,backgroundPosition:g.backgroundPosition,isPublic:g.isPublic!==void 0?g.isPublic:m?.isPublic||!1,numerosFlotte:g.numerosFlotte,constructeur:g.constructeur,longueur:g.longueur,placesAssises:g.placesAssises,placesDebout:g.placesDebout,ufr:g.ufr,statut:g.statut,preservePar:g.preservePar,normeEuro:g.normeEuro,moteur:g.moteur,boiteVitesses:g.boiteVitesses,nombrePortes:g.nombrePortes,livree:g.livree,girouette:g.girouette,climatisation:g.climatisation}),r({status:"success",title:" Sauvegard avec succs",description:"Visible sur la page publique"}),_()}catch{r({status:"error",title:" Erreur sauvegarde"})}finally{d(!1)}},z=k=>{p(I=>({...I,...k})),x(I=>({...I,...k}))},P=()=>{x(k=>({...k,...C,parc:k.parc,id:k.id,createdAt:k.createdAt,updatedAt:k.updatedAt,gallery:k.gallery,backgroundImage:k.backgroundImage,backgroundPosition:k.backgroundPosition})),r({status:"info",title:" Donnes par dfaut restaures",description:"N'oubliez pas de sauvegarder"})};return i?e.jsx(xn,{h:"60vh",children:e.jsx(pn,{size:"xl"})}):m?(m.marque?`${m.marque}${m.modele}`:m.modele,e.jsxs(ue,{p:8,children:[e.jsxs(Qn,{align:"center",justify:"space-between",mb:6,children:[e.jsxs(re,{children:[e.jsx(ne,{leftIcon:e.jsx(DM,{}),variant:"ghost",onClick:()=>n("/dashboard/vehicules"),children:"Retour"}),e.jsxs(Me,{size:"lg",children:[" dition vhicule ",m.parc]}),e.jsx(rQ,{etat:m.etat})]}),e.jsxs(re,{children:[e.jsx(ne,{size:"sm",variant:"outline",onClick:P,children:" Donnes par dfaut"}),e.jsx(ne,{leftIcon:e.jsx(LM,{}),colorScheme:"blue",variant:"outline",onClick:()=>window.open(nQ+"/vehicles/"+t,"_blank"),children:" Voir la page publique"})]})]}),e.jsxs(se,{spacing:8,align:"stretch",children:[e.jsx(ue,{bg:"blue.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"blue.200",children:e.jsx(sQ,{vehicle:m,parc:t,onChange:z,authHeader:`Bearer ${localStorage.getItem("token")}`})}),e.jsxs(ue,{bg:"gray.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"gray.200",children:[e.jsxs(Qn,{justify:"space-between",align:"center",mb:4,children:[e.jsx(Me,{size:"md",children:" Informations principales"}),e.jsxs(te,{display:"flex",alignItems:"center",w:"auto",children:[e.jsxs(ee,{htmlFor:"isPublic",mb:"0",mr:3,fontWeight:"bold",children:[g.isPublic?" Visible":" Cach"," sur le site public:"]}),e.jsx(jr,{id:"isPublic",isChecked:g.isPublic||!1,onChange:k=>x(I=>({...I,isPublic:k.target.checked})),colorScheme:g.isPublic?"green":"red",size:"lg"})]})]}),e.jsxs(pt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Parc"}),e.jsx(xe,{value:m.parc,isReadOnly:!0,bg:"gray.100"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Numros de flotte"}),e.jsx(xe,{value:g.numerosFlotte||"",onChange:k=>x(I=>({...I,numerosFlotte:k.target.value})),placeholder:"592 / 720 / X / 920"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Constructeur"}),e.jsx(xe,{value:g.constructeur||"",onChange:k=>x(I=>({...I,constructeur:k.target.value})),placeholder:"Mercedes-Benz"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Modle"}),e.jsx(xe,{value:g.modele||"",onChange:k=>x(I=>({...I,modele:k.target.value})),placeholder:"Citaro "})]})]}),e.jsxs(pt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Immatriculation"}),e.jsx(xe,{value:g.immat||"",onChange:k=>x(I=>({...I,immat:k.target.value})),placeholder:"FG-920-RE"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Mise en circulation"}),e.jsx(xe,{type:"date",value:g.miseEnCirculation?new Date(g.miseEnCirculation).toISOString().split("T")[0]:"",onChange:k=>x(I=>({...I,miseEnCirculation:k.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Longueur"}),e.jsx(xe,{value:g.longueur||"",onChange:k=>x(I=>({...I,longueur:k.target.value})),placeholder:"11,95 m"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Places assises"}),e.jsx(xe,{value:g.placesAssises||"",onChange:k=>x(I=>({...I,placesAssises:k.target.value})),placeholder:"32"})]})]}),e.jsxs(pt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Places debout"}),e.jsx(xe,{value:g.placesDebout||"",onChange:k=>x(I=>({...I,placesDebout:k.target.value})),placeholder:"64"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"UFR"}),e.jsx(xe,{value:g.ufr||"",onChange:k=>x(I=>({...I,ufr:k.target.value})),placeholder:"1"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Statut"}),e.jsxs(st,{value:g.statut||"",onChange:k=>x(I=>({...I,statut:k.target.value})),children:[e.jsx("option",{value:"Prserv",children:"Prserv"}),e.jsx("option",{value:"Service",children:"Service"}),e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"en_panne",children:"En panne"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"A VENIR",children:"A venir"}),e.jsx("option",{value:"Restauration",children:"Restauration"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"nergie"}),e.jsxs(st,{value:g.energie||"",onChange:k=>x(I=>({...I,energie:k.target.value})),children:[e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"lectrique",children:"lectrique"}),e.jsx("option",{value:"Hybride",children:"Hybride"}),e.jsx("option",{value:"GNV",children:"GNV"})]})]})]}),e.jsx(pt,{columns:{base:1,md:1},spacing:4,mb:4,children:e.jsxs(te,{children:[e.jsx(ee,{children:"Prserv par"}),e.jsx(xe,{value:g.preservePar||"",onChange:k=>x(I=>({...I,preservePar:k.target.value})),placeholder:"Association RtroBus Essonne"})]})}),e.jsxs(pt,{columns:{base:1,md:2,lg:3},spacing:4,mb:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Norme Euro"}),e.jsx(xe,{value:g.normeEuro||"",onChange:k=>x(I=>({...I,normeEuro:k.target.value})),placeholder:"Euro II"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Moteur"}),e.jsx(xe,{value:g.moteur||"",onChange:k=>x(I=>({...I,moteur:k.target.value})),placeholder:"Mercedes-Benz OM906hLA - 279 ch"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Bote de vitesses"}),e.jsx(xe,{value:g.boiteVitesses||"",onChange:k=>x(I=>({...I,boiteVitesses:k.target.value})),placeholder:"Automatique ZF5HP-502C"})]})]}),e.jsxs(pt,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Nombre de portes"}),e.jsx(xe,{value:g.nombrePortes||"",onChange:k=>x(I=>({...I,nombrePortes:k.target.value})),placeholder:"2"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Livre"}),e.jsx(xe,{value:g.livree||"",onChange:k=>x(I=>({...I,livree:k.target.value})),placeholder:"Grise"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Girouette"}),e.jsx(xe,{value:g.girouette||"",onChange:k=>x(I=>({...I,girouette:k.target.value})),placeholder:"Duhamel LED Oranges + Pastilles Vertes"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Climatisation"}),e.jsx(xe,{value:g.climatisation||"",onChange:k=>x(I=>({...I,climatisation:k.target.value})),placeholder:"Complte"})]})]}),e.jsxs(te,{mt:4,children:[e.jsx(ee,{children:"Sous-titre (badges affichs)"}),e.jsx(xe,{value:g.subtitle||"",onChange:k=>x(I=>({...I,subtitle:k.target.value})),placeholder:"Citaro 1 |  II |  | "}),e.jsx(R,{fontSize:"sm",color:"gray.600",mt:1,children:'Exemple avec mojis : "Citaro 1 |  II |  | "'})]}),e.jsx($e,{mt:6,bg:"blue.50",borderWidth:"2px",borderColor:"blue.200",children:e.jsx(Be,{children:e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:0,flex:1,children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"bold",children:" Afficher sur le site public"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:m?.isPublic?" Ce vhicule est visible par tous":" Ce vhicule n'est visible que par les administrateurs"})]})}),e.jsx(jr,{isChecked:m?.isPublic||!1,onChange:k=>p(I=>({...I,isPublic:k.target.checked})),size:"lg",colorScheme:"green"})]})})}),e.jsx(R,{fontSize:"xs",color:"blue.600",mt:4,fontStyle:"italic",children:" Les caractristiques techniques sont automatiquement mises  jour en fonction des champs ci-dessus"})]}),e.jsxs(ue,{bg:"green.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"green.200",children:[e.jsx(Me,{size:"md",mb:4,children:" Textes descriptifs"}),e.jsxs(se,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:g.description||"",onChange:k=>x(I=>({...I,description:k.target.value})),rows:4,placeholder:"Ce vhicule est un exemple emblmatique..."}),e.jsx(R,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Description" sur la page publique'})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Histoire"}),e.jsx(Zt,{value:g.history||"",onChange:k=>x(I=>({...I,history:k.target.value})),rows:6,placeholder:"Le Mercedes-Benz Citaro est un autobus urbain..."}),e.jsx(R,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Histoire" sur la page publique'})]})]})]}),e.jsxs(ue,{bg:"purple.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"purple.200",children:[e.jsx(Me,{size:"md",mb:4,children:" Galerie photos"}),e.jsx(QM,{value:g.gallery||[],onChange:k=>x(I=>({...I,gallery:k})),uploadEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,deleteEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,authHeader:`Bearer ${localStorage.getItem("token")}`}),e.jsx(R,{fontSize:"sm",color:"gray.600",mt:2,children:"La premire image peut servir de fond si aucune image de fond spcifique n'est dfinie. Les autres images apparaissent dans le carrousel."})]}),e.jsxs(ue,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(Me,{size:"md",mb:4,children:" Carnet de suivi"}),!j?.length&&e.jsx(R,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(se,{align:"stretch",spacing:3,divider:e.jsx(zn,{}),mt:j?.length?2:0,children:j.map(k=>e.jsxs(ue,{children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{fontWeight:"bold",children:k.conducteur||""}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:k.startedAt?new Date(k.startedAt).toLocaleString():""})]}),k.participants&&e.jsx(R,{mt:1,fontSize:"sm",children:k.participants}),k.note&&e.jsx(R,{mt:1,fontSize:"sm",color:"gray.700",children:k.note})]},k.id))})]}),e.jsxs(ue,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(Me,{size:"md",mb:4,children:" Carnet de suivi"}),!j?.length&&e.jsx(R,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(se,{align:"stretch",spacing:3,divider:e.jsx(zn,{}),mt:j?.length?2:0,children:j.map(k=>{const I=k.startedAt?new Date(k.startedAt):null,N=k.endedAt?new Date(k.endedAt):null,F=I&&N?Math.round((N-I)/6e4):null;return e.jsxs(ue,{children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontWeight:"bold",children:k.conducteur||""}),k.participants&&e.jsx(R,{mt:1,fontSize:"sm",children:k.participants})]}),e.jsxs(se,{align:"end",spacing:0,children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:I?I.toLocaleString():""}),N&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[" ",N.toLocaleString()," ",F!=null?`(${F} min)`:""]})]})]}),k.note&&e.jsx(R,{mt:2,fontSize:"sm",whiteSpace:"pre-wrap",children:k.note})]},k.id)})})]}),e.jsxs(ue,{textAlign:"center",py:4,children:[e.jsx(ne,{leftIcon:e.jsx(ku,{}),colorScheme:"blue",size:"lg",onClick:T,isLoading:u,loadingText:"Sauvegarde en cours...",children:" Sauvegarder toutes les modifications"}),e.jsx(R,{fontSize:"sm",color:"gray.600",mt:2,children:"Les modifications seront visibles immdiatement sur la page publique"})]})]})]})):null}const wc=({title:t,subtitle:n,breadcrumbs:r=[],children:i,headerActions:l,bgGradient:u,maxW:d="container.xl",titleSize:m="2xl",titleWeight:p="800",headerVariant:g="full"})=>{const x=Sr(u||"linear(to-r, rbe.600, rbe.800)","linear(to-r, rbe.700, rbe.900)");return e.jsxs(ue,{minH:"100vh",fontFamily:"Montserrat, system-ui, sans-serif",children:[g==="full"?e.jsxs(ue,{bgGradient:x,color:"white",py:{base:12,md:16},position:"relative",overflow:"hidden",children:[e.jsx(ue,{position:"absolute",inset:0,bgGradient:"radial(circle at 30% 30%, whiteAlpha.200, transparent 50%)",pointerEvents:"none"}),e.jsx(zs,{maxW:d,position:"relative",children:e.jsxs(se,{spacing:6,align:"stretch",children:[r.length>0&&e.jsx(Hb,{separator:e.jsx(_x,{color:"whiteAlpha.700"}),color:"whiteAlpha.800",fontSize:"sm",children:r.map((j,S)=>e.jsx(qb,{children:e.jsx(gx,{as:or,to:j.href,_hover:{color:"white"},children:j.label})},S))}),e.jsxs(se,{spacing:4,textAlign:"center",children:[e.jsx(Me,{as:"h1",size:m,fontWeight:p,letterSpacing:"-0.025em",textShadow:"0 2px 4px rgba(0,0,0,0.1)",children:t}),n&&e.jsx(R,{fontSize:{base:"lg",md:"xl"},opacity:.9,maxW:"2xl",lineHeight:"relaxed",children:n}),l&&e.jsx(ue,{pt:4,children:l})]})]})})]}):e.jsxs(zs,{maxW:d,py:{base:6,md:8},children:[r.length>0&&e.jsx(Hb,{separator:e.jsx(_x,{}),color:Sr("gray.600","gray.300"),fontSize:"sm",mb:4,children:r.map((j,S)=>e.jsx(qb,{children:e.jsx(gx,{as:or,to:j.href,children:j.label})},S))}),e.jsxs(ue,{bgGradient:x,color:"white",p:{base:6,md:8},borderRadius:"xl",textAlign:"center",boxShadow:"lg",children:[e.jsx(Me,{as:"h1",size:m,fontWeight:p,letterSpacing:"-0.02em",children:t}),n&&e.jsx(R,{mt:2,opacity:.9,fontSize:{base:"md",md:"lg"},children:n}),l&&e.jsx(ue,{pt:4,children:l})]})]}),e.jsx(zs,{maxW:d,py:{base:8,md:12},children:i})]})},vl=({title:t,description:n,icon:r,badge:i,children:l,variant:u="modern",color:d="gray",onClick:m,...p})=>{const g=Sr("white","gray.800"),x=Sr("gray.200","gray.600"),j=Sr("0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)");return e.jsxs($e,{variant:u,bg:g,borderColor:x,cursor:m?"pointer":"default",onClick:m,_hover:m?{boxShadow:j,transform:"translateY(-4px)",borderColor:`${d}.300`}:{},transition:"all 0.3s ease-out",...p,children:[(t||r||i)&&e.jsx(Nt,{pb:n?3:6,children:e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(re,{spacing:3,flex:1,children:[r&&e.jsx(Hn,{as:r,color:`${d}.600`,boxSize:6,flexShrink:0}),e.jsxs(se,{align:"start",spacing:1,flex:1,children:[e.jsx(Me,{size:"md",color:"gray.700",fontWeight:"600",children:t}),n&&e.jsx(R,{variant:"description",fontSize:"sm",children:n})]})]}),i&&e.jsx(et,{colorScheme:i.color||d,variant:"subtle",children:i.label})]})}),l&&e.jsx(Be,{pt:t?0:6,children:l})]})},Zy=[{title:"RtroDemandes",description:"Crez vos demandes et consultez vos devis",to:"/dashboard/retro-requests",icon:Nn,color:"blue"},{title:"Rcapitulatif Demandes",description:"Vue d'ensemble de toutes les RtroDemandes",to:"/dashboard/president/retro-requests",icon:Nn,color:"cyan",requiredRole:["PRESIDENT","ADMIN"]},{title:"RtroBus",description:"Mcanique, vhicules et maintenance",to:"/dashboard/retrobus",icon:zK,color:"teal"},{title:"Gestion Financire",description:"Recettes, dpenses et oprations programmes",to:"/admin/finance",icon:$u,color:"rbe"},{title:"Gestion des vnements",description:"Cration, planification et suivi",to:"/dashboard/events-management",icon:ui,color:"green"},{title:"Grer les adhsions",description:"Membres, cotisations et documents",to:"/dashboard/members-management",icon:oo,color:"blue"},{title:"Gestion des Stocks",description:"Inventaire et matriel de l'association",to:"/dashboard/stock-management",icon:Ex,color:"yellow"},{title:"Gestion Newsletter",description:"Abonns et campagnes d'envoi",to:"/dashboard/newsletter",icon:Cc,color:"purple"},{title:"RtroPlanning",description:"Calendrier centralis: campagnes, tournes, affectations",to:"/dashboard/retroplanning",icon:ui,color:"orange"},{title:"Gestion du Site",description:"Changelog, contenu et mise  jour",to:"/dashboard/site-management",icon:nh,color:"pink"},{title:"Retromail",description:"Messagerie interne de l'quipe",to:"/retromail",icon:_K,color:"teal"},{title:"RtroSupport",description:"Tickets: incidents, bugs et amliorations",to:"/dashboard/support",icon:EK,color:"cyan"}];function oQ(){const t=Sr("blue.50","blue.900"),n=Sr("blue.500","blue.300"),{user:r,roles:i,customPermissions:l}=_s(),u=i?.[0]||"MEMBER";let d=Zy;return u==="PRESTATAIRE"?d=Zy.filter(m=>m.title==="RtroPlanning"||m.title==="RtroSupport"):d=Zy.filter(m=>{if(u==="ADMIN")return!0;if(m.requiredRole&&!m.requiredRole.includes(u))return!1;const g={RtroBus:Xr.VEHICLES,"Gestion Financire":Xr.FINANCE,"Gestion des vnements":Xr.EVENTS,"Grer les adhsions":Xr.MEMBERS,"Gestion des Stocks":Xr.STOCK,"Gestion Newsletter":Xr.NEWSLETTER,RtroPlanning:Xr.RETROPLANNING,"Gestion du Site":Xr.SITE_MANAGEMENT,Retromail:Xr.RETROMAIL,RtroSupport:Xr.RETROSUPPORT}[m.title];return!g||pl(u,g,l)}),e.jsx(wc,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",headerVariant:"card",bgGradient:"linear(to-r, blue.500, purple.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"}],children:e.jsxs(se,{spacing:8,align:"stretch",children:[e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:6,children:d.map(m=>e.jsx(vl,{title:m.title,description:m.description,icon:m.icon,color:m.color,badge:m.badge,as:or,to:m.to,onClick:()=>{}},m.title))}),e.jsxs(se,{spacing:6,children:[e.jsx(ue,{bg:t,p:6,borderRadius:"xl",borderLeft:"4px solid",borderLeftColor:n,w:"full",children:e.jsxs(se,{spacing:3,align:"start",children:[e.jsx(re,{children:e.jsx(R,{fontSize:"lg",fontWeight:"600",color:"blue.700",children:" Guide d'utilisation"})}),e.jsx(R,{color:"blue.600",lineHeight:"relaxed",fontSize:"sm",children:"Toutes ces fonctionnalits sont connectes aux donnes relles de l'association. Les modifications que vous effectuez sont automatiquement sauvegardes et synchronises avec les autres membres de l'quipe."}),e.jsxs(re,{spacing:3,pt:2,children:[e.jsx(ne,{size:"sm",variant:"secondary",colorScheme:"blue",children:"Guide complet"}),e.jsx(ne,{size:"sm",variant:"modern",as:or,to:"/dashboard/support",children:"Support technique"})]})]})}),e.jsxs(pt,{columns:{base:2,md:4},spacing:4,w:"full",children:[e.jsx(vl,{title:"Uptime",description:"99.9%",color:"green",variant:"modern"}),e.jsx(vl,{title:"Membres actifs",description:"45",color:"blue",variant:"modern"}),e.jsx(vl,{title:"Dernire sync",description:"Il y a 2 min",color:"gray",variant:"modern"}),e.jsx(vl,{title:"Version",description:"v2.1.3",color:"purple",variant:"modern"})]})]})]})})}const hc="https://attractive-kindness-rbe-serveurs.up.railway.app",MA=[{matricule:"w.belaidi",label:"Waiyl Belaidi"},{matricule:"m.ravichandran",label:"Mthusan Ravichandran"}];function DA(t,n){return`pointage:${t}:${n}`}function aQ(t){try{const n="rbe:reports:local",r=localStorage.getItem(n),i=r?JSON.parse(r):[];return i.unshift(t),localStorage.setItem(n,JSON.stringify(i)),!0}catch(n){return console.error("saveLocalReport failed",n),!1}}function lQ(){const{parc:t}=Px(),n=wn(),{matricule:r,prenom:i}=_s(),[l,u]=y.useState(null),[d,m]=y.useState(!0),[p,g]=y.useState(MA),[x,j]=y.useState(""),[S,C]=y.useState([]),[_,A]=y.useState(null),[T,z]=y.useState(!1),[P,k]=y.useState(!1),[I,N]=y.useState(!1),[F,Y]=y.useState(""),[q,ce]=y.useState(""),[de,le]=y.useState(!1),[ve,Pe]=y.useState(""),[me,G]=y.useState([]),[Z,H]=y.useState(!1),[W,Se]=y.useState(null);y.useEffect(()=>{let Ae=!1;return(async()=>{try{m(!0);const it=await fetch(`${hc}/vehicles/${encodeURIComponent(t)}`);if(!it.ok)throw new Error("Vhicule introuvable");const ct=await it.json();Ae||u(ct)}catch(it){console.error(it),n({status:"error",title:"Impossible de charger le vhicule",description:String(it.message)})}finally{Ae||m(!1)}})(),()=>{Ae=!0}},[t,n]),y.useEffect(()=>{r&&r.trim()?(j(r),p.some(Ae=>Ae.matricule===r)||g(Ae=>[{matricule:r,label:i?`${i} (${r})`:r},...Ae])):x||j(MA[0].matricule)},[r,i]),y.useEffect(()=>{if(!x)return;const Ae=DA(t,x);try{const it=localStorage.getItem(Ae);if(it){const ct=JSON.parse(it);A(ct)}else A(null)}catch(it){console.warn("failed reading pointage from storage",it)}},[t,x]);const B=Ae=>{const it=DA(t,x);if(Ae)try{localStorage.setItem(it,JSON.stringify(Ae))}catch(ct){console.warn("persistActiveLocal failed",ct)}else try{localStorage.removeItem(it)}catch(ct){console.warn("persistActiveLocal remove failed",ct)}},ie=Ae=>{try{return new Date(Ae).toLocaleString()}catch{return Ae}},pe=()=>{const Ae=F.trim();if(!Ae)return n({status:"warning",title:"Matricule requis"});if(Ae===x)return Y(""),n({status:"info",title:"C'est dj le membre principal"});if(S.includes(Ae))return Y(""),n({status:"info",title:"Participant dj ajout"});C(it=>[...it,Ae]),p.some(it=>it.matricule===Ae)||g(it=>[{matricule:Ae,label:Ae},...it]),Y(""),n({status:"success",title:"Participant ajout"})},$=Ae=>{C(it=>it.filter(ct=>ct!==Ae))},V=async()=>{z(!0);try{try{if(!(await fetch(`${hc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Le serveur est indisponible  le pointage informatique est dsactiv."}),z(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage informatique est dsactiv."}),z(!1);return}const Ae=[...S],it={conducteur:x||null,participants:Ae,note:"pointage:start",startedAt:new Date().toISOString()},ct=await fetch(`${hc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json","x-user-matricule":x||""},body:JSON.stringify(it)});if(!ct.ok){let Ve=null;try{Ve=await ct.json()}catch{Ve=await ct.text().catch(()=>null)}console.warn("startPointage server error",ct.status,Ve),n({status:"error",title:"chec du pointage",description:Ve?.error||`Erreur serveur (${ct.status})`}),z(!1);return}const Je=await ct.json(),zt={id:Je.id||`local-${Date.now()}`,startedAt:Je.startedAt||it.startedAt,conducteur:it.conducteur,participants:it.participants||[]};A(zt),B(zt),n({status:"success",title:"Pointage dmarr",description:` ${ie(zt.startedAt)}`}),k(!1)}catch(Ae){console.error(Ae),n({status:"error",title:"chec du pointage",description:String(Ae.message)})}finally{z(!1)}},M=async()=>{if(!_)return;z(!0);const Ae=new Date().toISOString(),it=(ct,Je)=>{try{const zt="rbe:usages:local",Ve=localStorage.getItem(zt),$t=Ve?JSON.parse(Ve):[],be={id:`local-end-${Date.now()}`,relatedTo:ct,parc:t,startedAt:Je||_.startedAt,endedAt:Ae,conducteur:_.conducteur||x,participants:_.participants||S,note:q||"depointe",createdAt:new Date().toISOString(),synced:!1};return $t.unshift(be),localStorage.setItem(zt,JSON.stringify($t)),be}catch(zt){return console.error("saveLocalEnded failed",zt),null}};try{try{if(!(await fetch(`${hc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Impossible de terminer le pointage  serveur indisponible."}),z(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage ne peut pas tre termin."}),z(!1);return}const ct={endedAt:Ae,note:q||"depointe",participants:_.participants||S};let Je=null;try{const be=await fetch(`${hc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(_.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ct)});if(be.ok){try{Je=await be.json()}catch{Je=null}B(null),A(null),N(!1),ce(""),n({status:"success",title:"Dpointe",description:`arrt  ${new Date(Ae).toLocaleString()}`})}else{let Ze=null;try{Ze=await be.json()}catch{Ze=await be.text().catch(()=>null)}console.warn("depointerWithNote: PATCH failed",be.status,Ze)}}catch(be){console.warn("depointerWithNote: PATCH network error",be)}if(!Je)try{const be=await fetch(`${hc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conducteur:x||null,note:q||"pointage:end",relatedTo:_.id,participants:_.participants||S,endedAt:Ae})});if(be.ok){try{Je=await be.json()}catch{Je=null}B(null),A(null),N(!1),ce(""),n({status:"success",title:"Dpointe (fallback)",description:`arrt  ${new Date(Ae).toLocaleString()}`})}else{let Ze=null;try{Ze=await be.json()}catch{Ze=await be.text().catch(()=>null)}console.warn("depointerWithNote: POST fallback failed",be.status,Ze)}}catch(be){console.warn("depointerWithNote: POST fallback network error",be)}if(!Je){const be=it(_.id,_.startedAt);B(null),A(null),N(!1),ce(""),n({status:"warning",title:"Dpointe local",description:be?"Le pointage a t enregistr localement (pas d'API). La fiche peut tre envoye plus tard.":"Le serveur est indisponible et la sauvegarde locale a chou."}),Se({usageId:be?be.id:`local-${Date.now()}`,startedAt:be?.startedAt||_.startedAt,endedAt:be?.endedAt||Ae,conducteur:_.conducteur||x,participants:_.participants||S}),Pe(q||""),G([]),le(!0);return}const zt=Je?.id||_.id,Ve=Je?.startedAt||_.startedAt,$t=Je?.endedAt||Ae;Se({usageId:zt,startedAt:Ve,endedAt:$t,conducteur:x,participants:_.participants||S}),Pe(q||""),G([]),le(!0)}catch(ct){console.error("depointerWithNote: unexpected error",ct),n({status:"error",title:"chec du dpointeur",description:String(ct.message)})}finally{z(!1)}},Q=Ae=>{const it=Array.from(Ae.target.files||[]);G(ct=>[...ct,...it]),Ae.target.value=""},Ee=Ae=>{G(it=>it.filter((ct,Je)=>Je!==Ae))},Le=async()=>{if(W){H(!0);try{const{usageId:Ae,startedAt:it,endedAt:ct,conducteur:Je,participants:zt}=W,Ve=new FormData;Ve.append("description",ve||""),Ve.append("startedAt",it||""),Ve.append("endedAt",ct||""),Ve.append("conducteur",Je||""),Ve.append("participants",JSON.stringify(zt||[])),me.forEach((be,Ze)=>Ve.append("files",be,be.name));let $t=!1;try{const be=await fetch(`${hc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(Ae)}/report`,{method:"POST",body:Ve});be.ok?($t=!0,n({status:"success",title:"Fiche enregistre",description:"La fiche a t enregistre sur le serveur."})):console.warn("primary report endpoint failed",be.status)}catch(be){console.warn("primary report endpoint error",be)}if(!$t)try{const be=await fetch(`${hc}/vehicles/${encodeURIComponent(t)}/reports`,{method:"POST",body:Ve});be.ok?($t=!0,n({status:"success",title:"Fiche enregistre (fallback)",description:"La fiche a t envoye au fallback serveur."})):console.warn("fallback report endpoint failed",be.status)}catch(be){console.warn("fallback report endpoint error",be)}if(!$t){const be={id:`local-${Date.now()}`,parc:t,usageId:Ae,startedAt:it,endedAt:ct,conducteur:Je,participants:zt||[],description:ve||"",files:me.map(Ot=>({name:Ot.name,size:Ot.size,type:Ot.type})),createdAt:new Date().toISOString()},Ze=aQ(be);n(Ze?{status:"warning",title:"Fiche sauvegarde localement",description:"Pas d'API disponible  la fiche est dans votre navigateur."}:{status:"error",title:"chec sauvegarde locale",description:"Impossible de sauvegarder la fiche."})}le(!1),Pe(""),G([]),Se(null)}catch(Ae){console.error(Ae),n({status:"error",title:"Erreur lors de l'envoi de la fiche",description:String(Ae.message)})}finally{H(!1)}}};return d?e.jsx(xn,{p:8,children:e.jsx(pn,{size:"lg"})}):e.jsxs(zs,{maxW:"4xl",py:10,children:[e.jsx(Me,{as:"h1",size:"xl",mb:4,children:"MyRBE  Actions rapides"}),e.jsxs(ue,{mb:4,children:[e.jsxs(R,{fontSize:"md",children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Parc ",t]})]}),e.jsxs(ue,{mb:4,children:[e.jsx(R,{mb:2,children:e.jsx("b",{children:"Initiateur (scan)"})}),e.jsxs(re,{spacing:3,align:"start",children:[e.jsxs(st,{value:x,onChange:Ae=>j(Ae.target.value),maxW:"360px",children:[p.map(Ae=>e.jsxs("option",{value:Ae.matricule,children:[Ae.label," (",Ae.matricule,")"]},Ae.matricule)),r&&!p.some(Ae=>Ae.matricule===r)&&e.jsx("option",{value:r,children:i?`${i} (${r})`:r})]}),e.jsx(ue,{children:e.jsx(xe,{placeholder:"Ajouter participant (matricule)",value:F,onChange:Ae=>Y(Ae.target.value),maxW:"220px"})}),e.jsx(ne,{size:"sm",onClick:pe,children:"Ajouter"})]}),e.jsxs(ue,{mt:3,children:[e.jsx(R,{mb:2,fontSize:"sm",children:"Participants prsents :"}),e.jsxs(wM,{spacing:2,children:[S.length===0&&e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Aucun participant ajout"}),S.map(Ae=>e.jsxs(Iu,{size:"sm",borderRadius:"full",variant:"solid",colorScheme:"blue",children:[e.jsx(Bu,{children:Ae}),e.jsx(x1,{onClick:()=>$(Ae)})]},Ae))]})]})]}),e.jsxs(ki,{direction:{base:"column",md:"row"},spacing:4,mb:4,children:[e.jsx(ne,{colorScheme:"blue",size:"lg",onClick:()=>n({status:"info",title:"Planifier",description:"Fonctionnalit planification  ajouter"}),children:"Planifier une intervention"}),e.jsx(ne,{colorScheme:"red",size:"lg",onClick:()=>n({status:"info",title:"Signaler",description:"Fonctionnalit signalement  ajouter"}),children:"Signaler une anomalie"}),e.jsx(ne,{colorScheme:_?"orange":"green",size:"lg",onClick:()=>{_?N(!0):k(!0)},isLoading:T,children:_?"Dpointer":"Pointer"})]}),e.jsxs(ue,{children:[e.jsxs(R,{fontSize:"sm",color:"gray.700",children:[e.jsx("b",{children:"Initiateur :"})," ",x," ",r===x&&i?`  ${i}`:""]}),_?e.jsxs(R,{fontSize:"sm",color:"gray.700",children:["Point depuis : ",ie(_.startedAt)]}):e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Aucun pointage actif pour ce membre sur ce vhicule."})]}),e.jsxs(Et,{isOpen:P,onClose:()=>k(!1),isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Pointer  dmarrer"}),e.jsx(It,{}),e.jsxs(At,{children:[e.jsxs(R,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(R,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(R,{mb:3,children:["Participants : ",S.length?S.join(", "):""]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Confirmer pour crer le pointage (heure actuelle enregistre)."})]}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>k(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"green",onClick:V,isLoading:T,children:"Confirmer"})]})]})]}),e.jsxs(Et,{isOpen:I,onClose:()=>N(!1),isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Dpointer  terminer"}),e.jsx(It,{}),e.jsxs(At,{children:[e.jsxs(R,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(R,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description des activits ralises"}),e.jsx(Zt,{value:q,onChange:Ae=>ce(Ae.target.value),placeholder:"Ex: contrle frein, remplacement ampoule..."})]}),e.jsx(R,{mt:3,fontSize:"sm",color:"gray.500",children:"(Aprs validation, vous pourrez ajouter photos/vidos  la fiche.)"})]}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>N(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"orange",onClick:M,isLoading:T,isDisabled:!q.trim(),children:"Confirmer dpointer"})]})]})]}),e.jsxs(Et,{isOpen:de,onClose:()=>le(!1),size:"xl",isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Fiche de pointage  dtails"}),e.jsx(It,{}),e.jsxs(At,{children:[e.jsxs(ue,{mb:3,children:[e.jsxs(R,{children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(R,{children:[e.jsx("b",{children:"Initiateur :"})," ",W?.conducteur]}),e.jsxs(R,{children:[e.jsx("b",{children:"Participants :"})," ",(W?.participants||[]).join(", ")||""]}),e.jsxs(R,{children:[e.jsx("b",{children:"Dbut :"})," ",W?ie(W.startedAt):""]}),e.jsxs(R,{children:[e.jsx("b",{children:"Fin :"})," ",W?ie(W.endedAt):""]})]}),e.jsxs(te,{mb:3,children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:ve,onChange:Ae=>Pe(Ae.target.value),placeholder:"Dcrivez les actions effectues..."})]}),e.jsxs(te,{mb:3,children:[e.jsx(ee,{children:"Photos / Vidos"}),e.jsx(xe,{type:"file",accept:"image/*,video/*",multiple:!0,onChange:Q}),me.length>0&&e.jsx(pt,{columns:{base:2,md:3},spacing:2,mt:3,children:me.map((Ae,it)=>e.jsxs(ue,{borderRadius:"md",overflow:"hidden",pos:"relative",bg:"gray.50",p:2,children:[Ae.type.startsWith("image/")?e.jsx(Di,{src:URL.createObjectURL(Ae),alt:Ae.name,objectFit:"cover",maxH:"140px",w:"100%"}):e.jsxs(ue,{p:2,children:[e.jsx(R,{fontSize:"sm",noOfLines:2,children:Ae.name}),e.jsxs(R,{fontSize:"xs",color:"gray.600",children:[Ae.size/1024|0," KB"]})]}),e.jsx(ut,{"aria-label":"Supprimer",size:"sm",pos:"absolute",top:"6px",right:"6px",onClick:()=>Ee(it),icon:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),e.jsx("path",{d:"M10 11v6"}),e.jsx("path",{d:"M14 11v6"})]})})]},it))})]}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Les fichiers seront envoys au serveur si disponible ; sinon la fiche sera sauvegarde localement."})]}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>le(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Le,isLoading:Z,children:"Enregistrer la fiche"})]})]})]})]})}const cp={getAll:async()=>mt.get("/vehicles"),getByParc:async t=>mt.get(`/vehicles/${t}`),create:async t=>mt.post("/vehicles",t),update:async(t,n)=>mt.put(`/vehicles/${t}`,n),delete:async t=>mt.delete(`/vehicles/${t}`)},Mo={getAll:async()=>mt.get("/events"),getById:async t=>mt.get(`/events/${t}`),create:async t=>mt.post("/events",t),update:async(t,n)=>mt.put(`/events/${t}`,n),delete:async t=>mt.delete(`/events/${t}`),publish:async(t,n)=>mt.put(`/events/${t}`,{status:n})},zA="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),vj=()=>{const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}},cQ=async t=>{const n=(t.headers.get("content-type")||"").toLowerCase();if(!(n.includes("application/json")||n.includes("+json"))){const r=await t.text().catch(()=>"");throw new Error(`Rponse non-JSON (${t.status}) ${r?.slice(0,200)||""}`)}},yj=(t,n={},r=8e3)=>{const i=new AbortController,l=setTimeout(()=>i.abort(),r);return fetch(t,{...n,signal:i.signal}).finally(()=>clearTimeout(l))},qf=t=>{const n=String(t||"").replace(/^\/+|\/+$/g,"");return zA?`${zA}/${n}`:`/${n}`},bj=["api/members","members","api/v1/members","v1/members"];async function Pf(t,n,r){let i=null;for(const l of bj)try{const u=qf(l),d=await yj(u,{method:t,headers:{Accept:"application/json","Content-Type":n instanceof FormData?void 0:"application/json",...vj(),...r||{}},body:n==null?void 0:n instanceof FormData?n:JSON.stringify(n)});if(!d.ok){i=new Error(`HTTP ${d.status}`);continue}return await cQ(d),await d.json()}catch(u){i=u;continue}throw i||new Error("Aucun endpoint membre valide")}const bl={async getAll(){try{const t=await Pf("GET");return Array.isArray(t)?{members:t}:Array.isArray(t?.members)?t:Array.isArray(t?.data)?{members:t.data}:{members:[]}}catch{return{members:[]}}},async testConnectivity(){const t=[qf("api/health"),qf("health"),qf(bj[0])];for(const n of t)try{if((await yj(n,{method:"GET",headers:{...vj()}},3e3)).ok)return!0}catch{}return!1},async create(t){const n=await Pf("POST",t);return n?.member||n?.data||n},async update(t,n){try{const r=await Pf("PATCH",{id:t,...n},{"X-Method-Override":"PATCH"});return r?.member||r?.data||r}catch{const r=await Pf("PUT",{id:t,...n});return r?.member||r?.data||r}},async delete(t){const n={id:t};try{const r=await Pf("DELETE",n);return r?.ok===!0?r:{ok:!0}}catch(r){for(const i of bj)try{const l=qf(`${i}/${encodeURIComponent(t)}`);if((await yj(l,{method:"DELETE",headers:{...vj()}})).ok)return{ok:!0}}catch{}throw r}}},uQ="rbe:announcements";function dQ(){try{const t=localStorage.getItem(uQ);if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const r=Date.now();return n.filter(i=>i&&i.active&&(!i.expiresAt||new Date(i.expiresAt).getTime()>r))}catch(t){return console.warn("loadFlashes:",t),[]}}function Yy(){const t=_s(),[n,r]=y.useState([]),[i,l]=y.useState({vehicles:{total:0,active:0,loading:!0},events:{total:0,upcoming:0,published:0,loading:!0},members:{total:0,active:0,loading:!0}}),[u,d]=y.useState([]),[m,p]=y.useState(!0),[g,x]=y.useState([]),[j,S]=y.useState([]),[C,_]=y.useState(0);wn();const A=Sr("white","gray.800"),T=Sr("linear(to-r, blue.500, purple.600)","linear(to-r, blue.600, purple.700)"),z=Sr("gray.200","gray.700");y.useEffect(()=>{r(dQ()),P();const le=setInterval(P,300*1e3);return()=>clearInterval(le)},[]);const P=async()=>{console.log(" Chargement des donnes du dashboard..."),I(),N(),F(),Y(),q(),k()},k=async()=>{try{const le="https://attractive-kindness-rbe-serveurs.up.railway.app",ve=[`${le}/api/retro-news`,`${le}/retro-news`,"/data/retro-news.json"];for(const Pe of ve)try{const me=await fetch(Pe);if(!me.ok)continue;const G=await me.json();S(Array.isArray(G)?G:[]);return}catch(me){console.warn(`chec chargement depuis ${Pe}:`,me)}S([])}catch(le){console.error("Erreur chargement RtroActus:",le),S([])}},I=async()=>{try{if(console.log(" Chargement des vhicules..."),!cp||typeof cp.getAll!="function"){console.warn("vehiculesAPI non disponible"),l(me=>({...me,vehicles:{total:0,active:0,loading:!1}}));return}const le=await cp.getAll();console.log(" Rponse vhicules:",le);let ve=[];le?.data?ve=Array.isArray(le.data)?le.data:[le.data]:Array.isArray(le)&&(ve=le);const Pe={total:ve.length,active:ve.filter(me=>{const G=me?.statut||me?.status||me?.etat||"";return G==="ACTIF"||G==="ACTIVE"||G==="active"||G==="En service"}).length,loading:!1};if(console.log(" Stats vhicules:",Pe),l(me=>({...me,vehicles:Pe})),ve.length>0){const me=ve.filter(G=>{const Z=new Date(G.createdAt||G.dateCreation||G.created_at),H=new Date(Date.now()-1440*60*1e3);return Z>H});me.length>0&&d(G=>[{id:`vehicles-${Date.now()}`,type:"vehicle",title:`${me.length} nouveau(x) vhicule(s) ajout(s)`,time:"Aujourd'hui",icon:yc,color:"blue"},...G.filter(Z=>Z.type!=="vehicle")])}}catch(le){console.error(" Erreur chargement vhicules:",le),l(ve=>({...ve,vehicles:{total:0,active:0,loading:!1}}))}},N=async()=>{try{if(console.log(" Chargement des vnements..."),!Mo||typeof Mo.getAll!="function"){console.warn("eventsAPI non disponible"),l(G=>({...G,events:{total:0,upcoming:0,published:0,loading:!1}}));return}const le=await Mo.getAll();console.log(" Rponse vnements:",le);let ve=[];le?.data?ve=Array.isArray(le.data)?le.data:[le.data]:Array.isArray(le)&&(ve=le);const Pe=new Date,me={total:ve.length,upcoming:ve.filter(G=>{try{const Z=new Date(G?.date||G?.dateEvent||G?.startDate),H=G?.status||G?.statut||"";return Z>Pe&&(H==="PUBLISHED"||H==="published"||H==="Publi")}catch{return!1}}).length,published:ve.filter(G=>{const Z=G?.status||G?.statut||"";return Z==="PUBLISHED"||Z==="published"||Z==="Publi"}).length,loading:!1};if(console.log(" Stats vnements:",me),l(G=>({...G,events:me})),ve.length>0){const G=ve.filter(Z=>{const H=new Date(Z.createdAt||Z.dateCreation||Z.created_at),W=new Date(Date.now()-1440*60*1e3);return H>W});G.length>0&&d(Z=>[{id:`events-${Date.now()}`,type:"event",title:`${G.length} nouvel(s) vnement(s) cr(s)`,time:"Aujourd'hui",icon:ui,color:"green"},...Z.filter(H=>H.type!=="event")])}}catch(le){console.error(" Erreur chargement vnements:",le),l(ve=>({...ve,events:{total:0,upcoming:0,published:0,loading:!1}}))}},F=async()=>{try{if(console.log(" Chargement des membres..."),!bl||typeof bl.getAll!="function"){console.warn("membersAPI non disponible"),l(me=>({...me,members:{total:0,active:0,loading:!1}}));return}const le=await bl.getAll();console.log(" Rponse membres:",le);let ve=[];le?.members?ve=Array.isArray(le.members)?le.members:[le.members]:le?.data?ve=Array.isArray(le.data)?le.data:[le.data]:Array.isArray(le)&&(ve=le);const Pe={total:ve.length,active:ve.filter(me=>{const G=me?.membershipStatus||me?.statut||me?.status||me?.adhesionStatus||"";return G==="ACTIVE"||G==="active"||G==="Actif"||G===" jour"}).length,loading:!1};if(console.log(" Stats membres:",Pe),l(me=>({...me,members:Pe})),ve.length>0){const me=ve.filter(G=>{const Z=new Date(G.createdAt||G.dateCreation||G.dateAdhesion||G.created_at),H=new Date(Date.now()-1440*60*1e3);return Z>H});me.length>0&&d(G=>[{id:`members-${Date.now()}`,type:"member",title:`${me.length} nouvelle(s) adhsion(s)`,time:"Aujourd'hui",icon:oo,color:"purple"},...G.filter(Z=>Z.type!=="member")])}}catch(le){console.error(" Erreur chargement membres:",le),l(ve=>({...ve,members:{total:0,active:0,loading:!1}}))}},Y=()=>{const le=[{id:"system-1",type:"system",title:"Dashboard mis  jour",time:" l'instant",icon:Ra,color:"gray"}];d(ve=>ve.length>0?ve:le)},q=()=>{x([{title:"Nouveau vhicule",icon:Nn,to:"/dashboard/vehicules",color:"blue"},{title:"Crer vnement",icon:ui,to:"/dashboard/events-management",color:"green"},{title:"Gestion membres",icon:oo,to:"/dashboard/members-management",color:"purple"},{title:"Finance",icon:$u,to:"/admin",color:"orange"}])};y.useEffect(()=>{!i.vehicles.loading&&!i.events.loading&&!i.members.loading&&m&&(console.log(" Toutes les donnes sont charges"),p(!1))},[i,m]);const ce=()=>{const le=new Date().getHours();return le<12?"Bonjour":le<17?"Bon aprs-midi":"Bonsoir"},de=y.useMemo(()=>n.map(le=>({id:le.id,message:le.message,category:le.category||"info",createdAt:le.createdAt})),[n]);return m?e.jsx(zs,{maxW:"container.xl",py:8,children:e.jsxs(se,{spacing:8,children:[e.jsxs(ue,{bgGradient:T,color:"white",p:8,borderRadius:"xl",textAlign:"center",w:"full",children:[e.jsx(Me,{size:"xl",children:"Chargement des donnes..."}),e.jsx(R,{mt:2,opacity:.9,children:"Rcupration des vhicules, vnements et membres"})]}),e.jsx(pn,{size:"xl",color:"blue.500"})]})}):e.jsxs(zs,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(ue,{bgGradient:T,color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsxs(Me,{size:"xl",mb:4,children:[ce(),", ",t?.prenom||t?.email||"Utilisateur"," ! "]}),e.jsx(R,{fontSize:"lg",opacity:.9,children:"Voici un aperu de votre activit RtrobuS Essonne"})]}),e.jsxs(pt,{columns:{base:1,lg:4},spacing:8,children:[e.jsx(rj,{colSpan:{base:1,lg:3},children:e.jsxs(se,{spacing:8,align:"stretch",children:[e.jsxs(pt,{columns:{base:2,md:4},spacing:6,children:[e.jsx($e,{bg:A,borderColor:z,shadow:"lg",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{color:"gray.600",children:"Vhicules actifs"}),e.jsx(bt,{color:"blue.500",children:e.jsxs(re,{children:[e.jsx(Hn,{as:yc}),i.vehicles.loading?e.jsx(pn,{size:"sm"}):e.jsxs(R,{children:[i.vehicles.active,"/",i.vehicles.total]})]})}),e.jsx(xc,{value:i.vehicles.total>0?i.vehicles.active/i.vehicles.total*100:0,colorScheme:"blue",size:"sm",mt:2,isIndeterminate:i.vehicles.loading})]})})}),e.jsx($e,{bg:A,borderColor:z,shadow:"lg",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{color:"gray.600",children:"vnements  venir"}),e.jsx(bt,{color:"green.500",children:e.jsxs(re,{children:[e.jsx(Hn,{as:ui}),i.events.loading?e.jsx(pn,{size:"sm"}):e.jsxs(R,{children:[i.events.upcoming,"/",i.events.total]})]})}),e.jsx(xc,{value:i.events.total>0?i.events.upcoming/i.events.total*100:0,colorScheme:"green",size:"sm",mt:2,isIndeterminate:i.events.loading})]})})}),e.jsx($e,{bg:A,borderColor:z,shadow:"lg",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{color:"gray.600",children:"Membres actifs"}),e.jsx(bt,{color:"purple.500",children:e.jsxs(re,{children:[e.jsx(Hn,{as:oo}),i.members.loading?e.jsx(pn,{size:"sm"}):e.jsxs(R,{children:[i.members.active,"/",i.members.total]})]})}),e.jsx(xc,{value:i.members.total>0?i.members.active/i.members.total*100:0,colorScheme:"purple",size:"sm",mt:2,isIndeterminate:i.members.loading})]})})})]}),e.jsxs($e,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",fontWeight:"700",children:"Actions rapides"})}),e.jsx(Be,{children:e.jsx(pt,{columns:{base:2,md:4},spacing:4,children:g.map(le=>e.jsx(ne,{as:or,to:le.to,leftIcon:e.jsx(Hn,{as:le.icon}),colorScheme:le.color,variant:"outline",size:"sm",h:"auto",py:4,flexDirection:"column",textAlign:"center",children:le.title},le.title))})})]}),j.length>0&&e.jsxs($e,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",fontWeight:"700",children:" Les RtroActus"}),e.jsxs(re,{spacing:2,children:[e.jsx(ut,{icon:e.jsx(zM,{}),size:"sm",variant:"ghost",onClick:()=>_(le=>le===0?j.length-1:le-1),"aria-label":"Actu prcdente",isDisabled:j.length<=1}),e.jsxs(R,{fontSize:"xs",color:"gray.500",children:[C+1," / ",j.length]}),e.jsx(ut,{icon:e.jsx(_x,{}),size:"sm",variant:"ghost",onClick:()=>_(le=>(le+1)%j.length),"aria-label":"Actu suivante",isDisabled:j.length<=1})]})]})}),e.jsx(Be,{children:e.jsxs(se,{align:"start",spacing:3,children:[e.jsx(Me,{size:"sm",color:"blue.600",children:j[C]?.title||"Sans titre"}),j[C]?.date&&e.jsxs(re,{spacing:2,color:"gray.500",fontSize:"sm",children:[e.jsx(Hn,{as:ui}),e.jsx(R,{children:new Date(j[C].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(R,{fontSize:"sm",color:"gray.700",children:j[C]?.content||""}),j[C]?.imageUrl&&e.jsx(Di,{src:j[C].imageUrl,alt:j[C]?.title,maxH:"150px",w:"100%",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsxs($e,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",fontWeight:"700",children:"Activit rcente"}),e.jsx(ut,{icon:e.jsx(ea,{}),size:"sm",variant:"ghost",onClick:P,title:"Actualiser"})]})}),e.jsx(Be,{children:e.jsx(se,{spacing:4,align:"stretch",children:u.length===0?e.jsx(R,{color:"gray.500",textAlign:"center",py:4,children:"Aucune activit rcente"}):u.slice(0,5).map(le=>e.jsxs(re,{spacing:4,p:3,bg:"gray.50",borderRadius:"lg",children:[e.jsx(Hn,{as:le.icon,color:`${le.color}.500`}),e.jsxs(se,{align:"start",spacing:0,flex:1,children:[e.jsx(R,{fontWeight:"600",fontSize:"sm",children:le.title}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:le.time})]}),e.jsx(et,{colorScheme:le.color,variant:"subtle",children:le.type})]},le.id))})})]})]})}),e.jsx(rj,{children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs($e,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",fontWeight:"700",children:"Notifications"}),e.jsx(et,{colorScheme:"blue",variant:"subtle",children:n.length})]})}),e.jsx(Be,{children:e.jsx(se,{spacing:3,align:"stretch",children:de.length===0?e.jsx(R,{color:"gray.500",fontSize:"sm",textAlign:"center",py:4,children:"Aucune notification"}):de.slice(0,5).map(le=>e.jsx(ue,{p:3,borderRadius:"lg",bg:"gray.50",children:e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",spacing:1,flex:1,children:[e.jsx(R,{fontSize:"sm",fontWeight:"600",children:le.message}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:le.createdAt?new Date(le.createdAt).toLocaleDateString("fr-FR"):""})]}),e.jsx(et,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:le.category})]})},le.id))})})]}),e.jsxs($e,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",fontWeight:"700",children:"Liens utiles"})}),e.jsx(Be,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsx(ne,{as:or,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(wK,{}),size:"sm",children:"MyRBE"}),e.jsxs(ne,{as:or,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(yc,{}),size:"sm",children:["Vhicules (",i.vehicles.total,")"]}),e.jsxs(ne,{as:or,to:"/dashboard/events-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(ui,{}),size:"sm",children:["vnements (",i.events.total,")"]}),e.jsxs(ne,{as:or,to:"/dashboard/members-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(oo,{}),size:"sm",children:["Membres (",i.members.total,")"]}),e.jsx(ne,{as:or,to:"/admin",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx($u,{}),size:"sm",children:"Finance"}),e.jsx(zn,{my:1}),e.jsx(ne,{as:or,to:"/dashboard/api-diagnostics",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(jK,{}),size:"sm",colorScheme:"orange",children:" Diagnostiques API"})]})})]}),e.jsxs(sn,{status:"info",borderRadius:"md",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",children:"APIs disponibles"}),e.jsx(R,{fontSize:"xs",children:"Les donnes sont rcupres en temps rel quand les APIs sont disponibles."})]})]})]})})]})]})}const Md="https://attractive-kindness-rbe-serveurs.up.railway.app";function Xy(t){return`retromail:read:${t||"anon"}`}function LA(t){return`retromail:released:${t}`}function hQ(){const{matricule:t,prenom:n,isAdmin:r}=_s(),i=wn(),[l,u]=y.useState(!0),[d,m]=y.useState([]),[p,g]=y.useState([]),[x,j]=y.useState(null),[S,C]=y.useState("");y.useEffect(()=>{let I=!0;return(async()=>{u(!0);try{const N=await fetch(`${Md.replace(/\/$/,"")}/retromail/list`);if(!I)return;if(!N.ok)throw new Error(`status ${N.status}`);const F=await N.json();m(Array.isArray(F)?F:[])}catch(N){console.warn("retromail list failed",N),m(null)}finally{I&&u(!1)}})(),()=>{I=!1}},[]),y.useEffect(()=>{let I=!0;if(!d||d.length===0){g([]);return}return(async()=>{try{const N=await Promise.all(d.map(async Y=>{try{const q=await fetch(`${Md.replace(/\/$/,"")}/retromail/${encodeURIComponent(Y)}`);if(!q.ok)return null;const ce=await q.json();return{filename:Y,json:ce}}catch{return null}}));if(!I)return;const F=N.filter(Boolean).sort((Y,q)=>{const ce=new Date(Y.json.createdAt||0).getTime();return new Date(q.json.createdAt||0).getTime()-ce});g(F),!x&&F.length>0&&j(F[0].filename)}catch(N){console.error(N)}})(),()=>{I=!1}},[d]);const _=I=>{const N=Xy(t);try{const F=localStorage.getItem(N),Y=F?JSON.parse(F):{};Y[I]=Date.now(),localStorage.setItem(N,JSON.stringify(Y))}catch{}},A=I=>{try{const N=localStorage.getItem(Xy(t));if(!N)return!1;const F=JSON.parse(N);return!!(F&&F[I])}catch{return!1}},T=I=>{try{localStorage.setItem(LA(I),"1"),i({status:"success",title:"Vido libre",description:"Le tlchargement est maintenant autoris localement."}),g(N=>[...N])}catch(N){i({status:"error",title:"Impossible",description:String(N.message)})}},z=I=>localStorage.getItem(LA(I))==="1",P=y.useMemo(()=>{if(!p)return[];const I=(S||"").trim().toLowerCase();return I?p.filter(N=>{const F=N.json||{};return String(F.parc||"").toLowerCase().includes(I)||String(F.id||"").toLowerCase().includes(I)||String(F.description||"").toLowerCase().includes(I)}):p},[p,S]),k=p.find(I=>I.filename===x);return y.useEffect(()=>{x&&(_(x),g(I=>[...I]))},[x]),e.jsxs(ue,{p:6,children:[e.jsx(Me,{size:"lg",mb:4,children:"RtroMail"}),e.jsxs(Qn,{gap:6,align:"stretch",children:[e.jsxs(ue,{w:{base:"100%",md:"360px"},borderWidth:"1px",borderRadius:"md",p:3,bg:"white",children:[e.jsxs(re,{mb:3,children:[e.jsx(xe,{placeholder:"Rechercher par parc / id / texte",value:S,onChange:I=>C(I.target.value)}),e.jsx(ne,{size:"sm",onClick:()=>{C("")},children:"Effacer"})]}),l&&e.jsx(xn,{p:6,children:e.jsx(pn,{})}),!l&&d===null&&e.jsxs(ue,{p:4,bg:"orange.50",borderRadius:"md",children:[e.jsx(R,{color:"orange.800",fontWeight:"600",children:"API Retromail non disponible"}),e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Aucune liste trouve. Vrifie que le serveur expose ",e.jsx("code",{children:"/retromail/list"}),"."]})]}),!l&&P&&P.length===0&&e.jsx(R,{color:"gray.600",mt:3,children:"Aucun message."}),e.jsx(se,{align:"stretch",spacing:2,mt:3,children:P.map(I=>{const N=I.json||{},F=N.parc?`Parc ${N.parc}`:`Fiche ${N.id||I.filename}`,Y=(N.description||"").slice(0,120),q=!A(I.filename);return e.jsx($e,{size:"sm",onClick:()=>j(I.filename),cursor:"pointer",bg:x===I.filename?"gray.50":"white",children:e.jsx(Nt,{children:e.jsxs(Qn,{justify:"space-between",align:"center",children:[e.jsxs(ue,{children:[e.jsxs(R,{fontWeight:"600",children:[F," ",N.id?e.jsx(et,{ml:2,children:`#${N.id}`}):null]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:Y||e.jsx("i",{children:"(Pas de description)"})})]}),e.jsxs(ue,{textAlign:"right",children:[q?e.jsx(et,{colorScheme:"red",children:"Nouveau"}):e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Lu"}),e.jsx(R,{fontSize:"xs",color:"gray.400",children:N.createdAt?new Date(N.createdAt).toLocaleString():""})]})]})})},I.filename)})})]}),e.jsx(ue,{flex:"1",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",children:k?e.jsxs(e.Fragment,{children:[e.jsxs(Qn,{justify:"space-between",align:"center",mb:3,children:[e.jsxs(ue,{children:[e.jsxs(Me,{size:"md",children:["Fiche pointage  ",k.json.parc?`Parc ${k.json.parc}`:k.json.id]}),e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["ID: ",k.json.id||k.filename,"  ",k.json.createdAt?new Date(k.json.createdAt).toLocaleString():""]})]}),e.jsx(ue,{children:e.jsxs(re,{spacing:2,children:[e.jsx(ne,{size:"sm",as:"a",href:`${Md.replace(/\/$/,"")}/retromail/${encodeURIComponent(k.filename.replace(/\.json$/,"")+".pdf")}`,target:"_blank",rel:"noreferrer",children:"Tlcharger PDF"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:()=>{const I=Xy(t),N=localStorage.getItem(I),F=N?JSON.parse(N):{};F[k.filename]?delete F[k.filename]:F[k.filename]=Date.now(),localStorage.setItem(I,JSON.stringify(F)),g(Y=>[...Y])},children:A(k.filename)?"Marquer non lu":"Marquer lu"})]})})]}),e.jsx(zn,{mb:3}),e.jsxs(ue,{mb:4,children:[e.jsx(R,{fontWeight:"600",children:"Initiateur :"}),e.jsx(R,{mb:2,children:k.json.conducteur||""}),e.jsx(R,{fontWeight:"600",children:"Participants :"}),e.jsx(R,{mb:2,children:(k.json.participants||[]).join(", ")||""}),e.jsx(R,{fontWeight:"600",children:"Description :"}),e.jsx(R,{mb:3,whiteSpace:"pre-wrap",children:k.json.description||""}),e.jsx(R,{fontWeight:"600",mb:2,children:"Images :"}),(k.json.files||[]).filter(I=>(I.mime||"").startsWith("image/")).length===0?e.jsx(R,{color:"gray.600",mb:2,children:"Aucune image."}):e.jsx(pt,{columns:{base:1,md:3},gap:3,mb:3,children:(k.json.files||[]).filter(I=>(I.mime||"").startsWith("image/")).map((I,N)=>e.jsxs(ue,{borderWidth:"1px",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(Di,{src:`${Md.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(I.filename)}`,alt:I.originalname||I.filename,objectFit:"cover",maxH:"160px",w:"100%"}),e.jsxs(re,{mt:2,justify:"space-between",children:[e.jsx(R,{fontSize:"sm",noOfLines:1,children:I.originalname||I.filename}),e.jsx(ne,{size:"sm",as:"a",href:`${Md.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(I.filename)}`,target:"_blank",rel:"noreferrer",children:"Ouvrir"})]})]},N))}),e.jsx(R,{fontWeight:"600",mb:2,children:"Vidos (spares)"}),(k.json.files||[]).filter(I=>(I.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(I.originalname||I.filename)).length===0?e.jsx(R,{color:"gray.600",children:"Aucune vido."}):e.jsx(se,{align:"stretch",spacing:2,mb:3,children:(k.json.files||[]).filter(I=>(I.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(I.originalname||I.filename)).map((I,N)=>{const F=z(I.filename);return e.jsx(ue,{p:3,borderWidth:"1px",borderRadius:"md",children:e.jsxs(Qn,{justify:"space-between",align:"center",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"600",noOfLines:1,children:I.originalname||I.filename}),e.jsxs(R,{fontSize:"sm",color:"gray.500",children:[I.size/1024|0," KB"]}),!F&&e.jsx(R,{fontSize:"xs",color:"orange.600",children:"Tlchargement restreint ( analyser)"})]}),e.jsxs(re,{children:[r&&!F&&e.jsx(ne,{size:"sm",colorScheme:"green",onClick:()=>T(I.filename),children:"Librer le tlchargement"}),e.jsx(ne,{size:"sm",as:"a",href:F?`${Md.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(I.filename)}`:"#",target:"_blank",rel:"noreferrer",isDisabled:!F,children:F?"Tlcharger":"Demand"})]})]})},N)})})]})]}):e.jsx(xn,{p:6,children:e.jsx(R,{color:"gray.600",children:"Slectionne un message  lire."})})})]})]})}function JM(){const t=wn(),{isOpen:n,onOpen:r,onClose:i}=Dt(),{isOpen:l,onOpen:u,onClose:d}=Dt(),[m,p]=y.useState([]),[g,x]=y.useState(!0),[j,S]=y.useState(null),[C,_]=y.useState({}),[A,T]=y.useState({}),[z,P]=y.useState("MEMBER"),[k,I]=y.useState({resource:"",actions:[],expiresAt:"",reason:""}),[N,F]=y.useState(null),Y=y.useCallback(async()=>{try{x(!0);const G=await mt.get("/api/permissions/resources");G&&G.resources&&(_(G.resources),T(G.roleDefaults||{}));const Z=await mt.get("/api/admin/users");Z&&Z.users&&p(Z.users)}catch(G){console.error("Erreur chargement:",G),t({title:"Erreur",description:"Impossible de charger les donnes",status:"error",duration:3e3,isClosable:!0})}finally{x(!1)}},[t]);y.useEffect(()=>{Y()},[Y]);const q=async G=>{S(G),P(G.role);try{const Z=await mt.get(`/api/admin/users/${G.id}/permissions`);Z&&Z.user&&S(H=>({...H,...Z.user,permissions:Z.permissions}))}catch(Z){console.error("Erreur chargement permissions:",Z)}r()},ce=async()=>{if(!(!j||z===j.role))try{await mt.put(`/api/admin/users/${j.id}/role`,{role:z}),p(m.map(G=>G.id===j.id?{...G,role:z}:G)),S({...j,role:z}),t({title:"Succs",description:`Rle chang en ${z}`,status:"success",duration:3e3,isClosable:!0})}catch(G){console.error("Erreur changement rle:",G),t({title:"Erreur",description:"Impossible de changer le rle",status:"error",duration:3e3,isClosable:!0})}},de=()=>{F(null),I({resource:"",actions:[],expiresAt:"",reason:""}),u()},le=G=>{F(G),I({resource:G.resource,actions:G.actions?JSON.parse(G.actions):[],expiresAt:G.expiresAt?new Date(G.expiresAt).toISOString().split("T")[0]:"",reason:G.reason||""}),u()},ve=async()=>{if(!k.resource||k.actions.length===0){t({title:"Erreur",description:"Ressource et actions requises",status:"warning",duration:3e3,isClosable:!0});return}try{const G={resource:k.resource,actions:k.actions,reason:k.reason};k.expiresAt&&(G.expiresAt=new Date(k.expiresAt).toISOString()),N?(await mt.put(`/api/admin/users/${j.id}/permissions/${N.id}`,G),t({title:"Succs",description:"Permission mise  jour",status:"success"})):(await mt.post(`/api/admin/users/${j.id}/permissions`,G),t({title:"Succs",description:"Permission ajoute",status:"success"}));const Z=await mt.get(`/api/admin/users/${j.id}/permissions`);S(H=>({...H,...Z.user,permissions:Z.permissions})),d()}catch(G){console.error("Erreur sauvegarde permission:",G),t({title:"Erreur",description:G.response?.data?.error||"Erreur lors de la sauvegarde",status:"error",duration:3e3,isClosable:!0})}},Pe=async G=>{if(window.confirm("tes-vous sr?"))try{await mt.delete(`/api/admin/users/${j.id}/permissions/${G}`);const Z=await mt.get(`/api/admin/users/${j.id}/permissions`);S(H=>({...H,...Z.user,permissions:Z.permissions})),t({title:"Succs",description:"Permission supprime",status:"success",duration:3e3,isClosable:!0})}catch(Z){console.error("Erreur suppression:",Z),t({title:"Erreur",description:"Impossible de supprimer",status:"error",duration:3e3,isClosable:!0})}},me=G=>{const Z={PRESIDENT:"red",VICE_PRESIDENT:"orange",TRESORIER:"yellow",SECRETAIRE_GENERAL:"green",MEMBER:"blue",PRESTATAIRE:"purple",CLIENT:"cyan",ADMIN:"red",MANAGER:"orange",OPERATOR:"blue",GUEST:"gray"};return e.jsx(et,{colorScheme:Z[G]||"gray",children:G})};return g?e.jsx($e,{children:e.jsx(Be,{children:e.jsx(pn,{})})}):e.jsxs($e,{width:"100%",children:[e.jsx(Nt,{children:e.jsx(Me,{size:"lg",children:" Gestion des Rles & Permissions"})}),e.jsx(zn,{}),e.jsxs(Be,{children:[e.jsxs(sn,{status:"info",mb:6,borderRadius:"md",children:[e.jsx(on,{}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:"Fonctionnement:"}),e.jsxs(R,{fontSize:"sm",children:["1. Choisir un rle mtier (Prsident, Membre, Client, etc.) -  titre informatif",e.jsx("br",{}),"2. Grer les permissions personnalises ci-dessous pour contrler l'accs aux modules"]})]})]}),e.jsx(ue,{overflowX:"auto",children:e.jsxs(br,{size:"sm",variant:"striped",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Nom"}),e.jsx(Ie,{children:"Email"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Rle"}),e.jsx(Ie,{children:"Permissions"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:m.map(G=>e.jsxs(Ft,{children:[e.jsxs(Ne,{fontWeight:"medium",children:[G.firstName," ",G.lastName]}),e.jsx(Ne,{fontSize:"sm",children:G.email}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:G.isMember?"cyan":"gray",children:G.isMember?"Adhrent":"SiteUser"})}),e.jsx(Ne,{children:me(G.role)}),e.jsx(Ne,{children:G.permissions?.length>0?e.jsxs(et,{colorScheme:"blue",children:[G.permissions.length," custom"]}):e.jsx(R,{fontSize:"xs",color:"gray.500",children:"-"})}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:G.isActive?"green":"red",children:G.isActive?"Actif":"Inactif"})}),e.jsx(Ne,{children:e.jsx(ne,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>q(G),children:"Grer"})})]},G.id))})]})})]}),e.jsxs(Et,{isOpen:n,onClose:i,size:"2xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsxs(Tt,{children:["Gestion: ",j?.firstName," ",j?.lastName,j?.isMember&&e.jsx(et,{ml:3,colorScheme:"cyan",children:"Adhrent"})]}),e.jsx(It,{}),e.jsx(At,{children:j&&e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsx(ue,{p:4,bg:"gray.50",borderRadius:"md",children:e.jsxs(re,{spacing:4,align:"end",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Rle principal"}),e.jsx(st,{value:z,onChange:G=>P(G.target.value),children:Object.keys(A).map(G=>e.jsx("option",{value:G,children:G},G))})]}),e.jsx(ne,{colorScheme:"blue",onClick:ce,isDisabled:z===j.role,children:"Sauvegarder"})]})}),e.jsxs(ue,{children:[e.jsxs(re,{justify:"space-between",mb:3,children:[e.jsx(Me,{size:"sm",children:"Permissions personnalises"}),e.jsx(ne,{size:"sm",colorScheme:"green",leftIcon:e.jsx(EM,{}),onClick:de,children:"Ajouter"})]}),j.permissions?.permanent?.length>0&&e.jsxs(ue,{mb:4,children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",color:"gray.600",mb:2,children:"Permanentes:"}),e.jsx(ki,{spacing:2,children:j.permissions.permanent.map(G=>e.jsxs(re,{p:3,bg:"green.50",borderRadius:"md",justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:G.resource}),e.jsx(R,{fontSize:"sm",children:JSON.parse(G.actions).join(", ")})]}),e.jsxs(re,{spacing:1,children:[e.jsx(ut,{icon:e.jsx(Pp,{}),size:"sm",variant:"ghost",onClick:()=>le(G)}),e.jsx(ut,{icon:e.jsx(th,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Pe(G.id)})]})]},G.id))})]}),j.permissions?.temporary?.length>0&&e.jsxs(ue,{mb:4,children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",color:"gray.600",mb:2,children:"Temporaires (actives):"}),e.jsx(ki,{spacing:2,children:j.permissions.temporary.map(G=>e.jsxs(re,{p:3,bg:"yellow.50",borderRadius:"md",justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:G.resource}),e.jsx(R,{fontSize:"sm",children:JSON.parse(G.actions).join(", ")}),e.jsxs(R,{fontSize:"xs",color:"gray.600",children:["Expire: ",new Date(G.expiresAt).toLocaleDateString()]})]}),e.jsxs(re,{spacing:1,children:[e.jsx(ut,{icon:e.jsx(Pp,{}),size:"sm",variant:"ghost",onClick:()=>le(G)}),e.jsx(ut,{icon:e.jsx(th,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Pe(G.id)})]})]},G.id))})]}),j.permissions?.expired?.length>0&&e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",color:"gray.600",mb:2,children:"Expires:"}),e.jsx(ki,{spacing:2,children:j.permissions.expired.map(G=>e.jsxs(re,{p:3,bg:"gray.100",borderRadius:"md",justify:"space-between",opacity:.6,children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:G.resource}),e.jsx(R,{fontSize:"sm",children:JSON.parse(G.actions).join(", ")}),e.jsxs(R,{fontSize:"xs",color:"gray.600",children:["Expir: ",new Date(G.expiresAt).toLocaleDateString()]})]}),e.jsx(ut,{icon:e.jsx(th,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Pe(G.id)})]},G.id))})]}),(!j.permissions||j.permissions.permanent.length===0&&j.permissions.temporary.length===0)&&e.jsx(R,{fontSize:"sm",color:"gray.500",textAlign:"center",py:4,children:"Aucune permission personnalise"})]})]})})]})]}),e.jsxs(Et,{isOpen:l,onClose:d,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:N?"diter permission":"Ajouter permission"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Ressource"}),e.jsxs(st,{value:k.resource,onChange:G=>I({...k,resource:G.target.value}),children:[e.jsx("option",{value:"",children:"Slectionner..."}),Object.entries(C).map(([G,Z])=>e.jsx("option",{value:Z,children:Z},G))]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Actions"}),e.jsx(qS,{value:k.actions,onChange:G=>I({...k,actions:G}),children:e.jsxs(ki,{children:[e.jsx(ro,{value:"READ",children:"READ (Lecture)"}),e.jsx(ro,{value:"CREATE",children:"CREATE (Cration)"}),e.jsx(ro,{value:"UPDATE",children:"UPDATE (Modification)"}),e.jsx(ro,{value:"DELETE",children:"DELETE (Suppression)"}),e.jsx(ro,{value:"APPROVE",children:"APPROVE (Approbation)"})]})})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date d'expiration (optionnel)"}),e.jsx(xe,{type:"date",value:k.expiresAt,onChange:G=>I({...k,expiresAt:G.target.value})}),e.jsx(R,{fontSize:"xs",color:"gray.600",mt:1,children:"Laissez vide pour une permission permanente"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Raison (optionnel)"}),e.jsx(xe,{placeholder:"Ex: Accs temporaire pour projet X",value:k.reason,onChange:G=>I({...k,reason:G.target.value})})]})]})}),e.jsx(Vt,{children:e.jsxs(re,{spacing:3,children:[e.jsx(ne,{variant:"outline",onClick:d,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:ve,children:N?"Mettre  jour":"Ajouter"})]})})]})]})]})}const fQ={},pQ=()=>{const[t,n]=y.useState(!1),[r,i]=y.useState(0),[l,u]=y.useState(0),[d,m]=y.useState(null),[p,g]=y.useState(!0),[x,j]=y.useState({balance:0,totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),[S,C]=y.useState([]),[_,A]=y.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[T,z]=y.useState([]),[P,k]=y.useState({categoryId:"",allocatedAmount:"",notes:""}),[I,N]=y.useState([]),[F,Y]=y.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[q,ce]=y.useState(null),[de,le]=y.useState(()=>{const O=new Date;return`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}`}),[ve,Pe]=y.useState(""),[me,G]=y.useState(null),[Z,H]=y.useState([]),[W,Se]=y.useState(!1),[B,ie]=y.useState(""),[pe,$]=y.useState(""),[V,M]=y.useState(""),[Q,Ee]=y.useState([]),[Le,Ae]=y.useState({scenarios:[],activeScenario:null,projectionMonths:12}),[it,ct]=y.useState(null),[Je,zt]=y.useState(null),[Ve,$t]=y.useState(null),[be,Ze]=y.useState({name:"",description:"",projectionMonths:12}),[Ot,ae]=y.useState({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),[ge,nt]=y.useState({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),[Pt,kn]=y.useState([]),[ar,Ue]=y.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),rt=new Date().getFullYear(),[Mt,Ye]=y.useState(rt),[gt,Pn]=y.useState(null),[qe,wt]=y.useState([]),[nn,mn]=y.useState([]),[Kt,Mn]=y.useState(null),[ot,Fn]=y.useState({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),[Bn,Dr]=y.useState("manual"),[vn,pi]=y.useState(null),[Os,aa]=y.useState([]),[po,Io]=y.useState(null),{isOpen:Bo,onOpen:Wa,onClose:cs}=Dt(),[fr,pr]=y.useState(null),{isOpen:Jr,onOpen:mo,onClose:es}=Dt(),[xt,qa]=y.useState(null),[$o,mi]=y.useState(""),{isOpen:la,onOpen:Ns,onClose:Wr}=Dt(),tt=wn(),{isOpen:zi,onOpen:Tr,onClose:ca}=Dt(),{isOpen:Ml,onOpen:Li,onClose:Es}=Dt(),{isOpen:Rc,onOpen:Ys,onClose:go}=Dt(),{isOpen:Mc,onOpen:Oi,onClose:Ni}=Dt(),{isOpen:Xs,onOpen:Ii,onClose:Bi}=Dt(),{isOpen:gi,onOpen:ua,onClose:xi}=Dt(),{isOpen:bn,onOpen:er,onClose:zr}=Dt(),{isOpen:$i,onOpen:xo,onClose:Fi}=Dt(),tr=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173")?fQ?.VITE_API_BASE_URL||"https://attractive-kindness-rbe-serveurs.up.railway.app":"",vo=String(tr||"").replace(/\/$/,""),Ut=O=>`${vo}${O}`,nr=O=>{const J=String(O||"");return J.startsWith("/api/")?[J,J.replace(/^\/api/,"")]:[J,`/api${J}`]},vi=async(O,J={})=>{const Qe=Array.isArray(O)?O:[O];let St=null;for(const un of Qe)try{const rn=await fetch(Ut(un),J);if(!rn.ok)throw new Error(`${rn.status} ${rn.statusText}`);return(rn.headers.get("content-type")||"").includes("application/json")?await rn.json():{}}catch(rn){St=rn}if(St)throw St;return{}},yi=async(O,J={})=>{const Qe=Array.isArray(O)?O:[O];let St=null;for(const un of Qe)try{const rn=await fetch(Ut(un),{method:"DELETE",headers:J});if(!rn.ok)throw new Error(`${rn.status} ${rn.statusText}`);return!0}catch(rn){St=rn}if(St)throw St;return!1},xs=async(O,J={},Qe={})=>{const St=Array.isArray(O)?O:[O];let un=null;for(const rn of St)try{const Ln=await fetch(Ut(rn),{method:"PATCH",headers:{"Content-Type":"application/json",...Qe},body:JSON.stringify(J)});if(!Ln.ok)throw new Error(`${Ln.status} ${Ln.statusText}`);return(Ln.headers.get("content-type")||"").includes("application/json")?await Ln.json():J}catch(Ln){un=Ln}if(un)throw un;return J},lr=()=>{try{const O=localStorage.getItem("rbe:finance:documents");return O?JSON.parse(O):[]}catch{return[]}},Is=O=>{try{localStorage.setItem("rbe:finance:documents",JSON.stringify(O||[]))}catch{}},vs=async()=>{try{n(!0),await Promise.all([Ks(),Bs(),$s(),yo(),Vi(),As(),bi(),Qs(Mt),Fs()])}catch(O){console.error(" Erreur chargement donnes financires:",O),tt({status:"error",title:"Erreur de chargement",description:"Impossible de charger les donnes financires",duration:4e3,isClosable:!0})}finally{n(!1)}},bi=async()=>{try{const O=nr("/api/finance/documents"),J=await vi(O,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Qe=Array.isArray(J?.documents)?J.documents:Array.isArray(J?.items)?J.items:Array.isArray(J)?J:[];if(Qe.length===0){const St=lr();mn(St)}else mn(Qe),Is(Qe)}catch{const J=lr();mn(J)}},Ks=async()=>{try{const O=await fetch(Ut("/api/finance/balance"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();u(J.balance||0),m(J.lastUpdate),g(J.isLocked!==!1)}else console.warn(" Solde non disponible, utilisation de 0"),u(0)}catch(O){console.error(" Erreur chargement solde:",O),u(0)}},Bs=async()=>{try{const O=await fetch(Ut("/api/finance/transactions"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();C(J.transactions||[])}else console.warn(" Transactions non disponibles"),C([])}catch(O){console.error(" Erreur chargement transactions:",O),C([])}},$s=async()=>{try{const O=await fetch(Ut("/api/finance/scheduled-operations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();N(J.operations||[])}else console.warn(" Oprations programmes non disponibles"),N([])}catch(O){console.error(" Erreur chargement oprations programmes:",O),N([])}},Ga=async O=>{try{const J=await fetch(Ut(`/api/finance/scheduled-operations/${O}/payments`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(J.ok){const Qe=await J.json();H(Qe.payments||[])}else H([])}catch(J){console.error(" Erreur chargement paiements chance:",J),H([])}},yo=async()=>{try{const O=await fetch(Ut("/api/finance/simulations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();Ae(Qe=>({...Qe,scenarios:J.scenarios||[]}))}else console.warn(" Simulations non disponibles"),Ae(J=>({...J,scenarios:[]}))}catch(O){console.error(" Erreur chargement simulations:",O),Ae(J=>({...J,scenarios:[]}))}},Vi=async()=>{try{const O=await fetch(Ut("/api/finance/balance/history"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();Ee(J.history||[])}else console.warn(" Historique non disponible"),Ee([])}catch(O){console.error(" Erreur chargement historique:",O),Ee([])}},As=async()=>{try{const O=await fetch(Ut("/api/finance/expense-reports"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();kn(J.reports||[])}else kn([])}catch(O){console.error(" Erreur chargement notes de frais:",O),kn([])}},Qs=async O=>{try{const J=await fetch(Ut(`/api/finance/reports?year=${encodeURIComponent(O)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(J.ok){const Qe=await J.json();Pn(Qe)}else Pn(null)}catch(J){console.error(" Erreur chargement rapports:",J),Pn(null)}},Js=async()=>{try{const O=await fetch(Ut(`/api/finance/reports/pdf?year=${encodeURIComponent(Mt)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!O.ok){tt({status:"error",title:"Export PDF chou"});return}const J=await O.blob(),Qe=URL.createObjectURL(J),St=document.createElement("a");St.href=Qe,St.download=`rapport-financier-${Mt}.pdf`,document.body.appendChild(St),St.click(),St.remove(),URL.revokeObjectURL(Qe)}catch(O){console.error(" Export PDF:",O),tt({status:"error",title:"Export PDF chou"})}},Fs=async()=>{try{const O=await fetch(Ut("/api/finance/categories"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(O.ok){const J=await O.json();wt(Array.isArray(J)?J:[])}}catch(O){console.error(" Erreur chargement catgories:",O)}},[Dc,qt]=y.useState(!1),[qr,_n]=y.useState(null),Lr=(qr?.roles||[]).some(O=>String(O).toUpperCase()==="TRESORIER"),ei=async()=>{try{const O=await fetch(Ut("/api/me"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(O.ok){const J=await O.json();_n(J),qt(!0),console.log(" Utilisateur connect:",J.matricule,"- Modification du solde contrle par code")}}catch(O){console.error(" Erreur chargement utilisateur:",O)}},Ui=()=>{const O=S.filter(Wn=>Wn.type==="CREDIT").reduce((Wn,kr)=>Wn+(kr.amount||0),0),J=S.filter(Wn=>Wn.type==="DEBIT").reduce((Wn,kr)=>Wn+(kr.amount||0),0),Qe=new Date,St=new Date(Qe.getFullYear(),Qe.getMonth(),1),un=new Date(Qe.getFullYear(),Qe.getMonth()+1,0),rn=S.filter(Wn=>{const kr=new Date(Wn.date||Wn.createdAt);return kr>=St&&kr<=un}),Ln=rn.filter(Wn=>Wn.type==="CREDIT").reduce((Wn,kr)=>Wn+(kr.amount||0),0),cr=rn.filter(Wn=>Wn.type==="DEBIT").reduce((Wn,kr)=>Wn+(kr.amount||0),0),us=Ln-cr,Si=I.filter(Wn=>Wn.isActive).reduce((Wn,kr)=>{const ha=xr(kr.frequency),Ya=kr.type==="SCHEDULED_CREDIT"?kr.amount||0:-(kr.amount||0);return Wn+Ya*ha},0);j({balance:l,totalCredits:O,totalDebits:J,monthlyBalance:us,scheduledMonthlyImpact:Si,scheduledCount:I.filter(Wn=>Wn.isActive).length})},ys=({percent:O,color:J="gray"})=>{const Qe=typeof O=="number"?Math.max(0,Math.min(1,O)):null,St=50,un=60,rn=60,Ln=Math.PI,cr=Math.PI*(1-(Qe??0)),us=un+St*Math.cos(Ln),Si=rn-St*Math.sin(Ln),Wn=un+St*Math.cos(cr),kr=rn-St*Math.sin(cr),ha=0,Ya=0,fa=`M ${us} ${Si} A ${St} ${St} 0 ${ha} ${Ya} ${Wn} ${kr}`;return e.jsxs("svg",{viewBox:"0 0 120 70",width:"100%",height:"70",role:"img","aria-label":Qe!=null?`${Math.round(Qe*100)}%`:"N/A",children:[e.jsx("path",{d:`M ${us} ${Si} A ${St} ${St} 0 0 ${Ya} ${un+St} ${rn}`,stroke:"#E2E8F0",strokeWidth:"10",fill:"none"}),Qe!=null&&Qe>0&&e.jsx("path",{d:fa,stroke:J,strokeWidth:"10",fill:"none",strokeLinecap:"round"}),e.jsx("text",{x:"60",y:"65",textAnchor:"middle",fontSize:"10",fill:"#4A5568",children:Qe!=null?`${Math.round(Qe*100)}%`:"N/A"})]})},ft=O=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(O||0),Or=O=>O?new Date(O).toLocaleDateString("fr-FR"):"N/A",bo=O=>({ADHESION:"Adhsion",MAINTENANCE:"Maintenance",CARBURANT:"Carburant",ASSURANCE:"Assurance",AUTRE:"Autre"})[O]||O,xr=O=>{switch(O){case"SEMI_ANNUAL":return .5;case"ONE_SHOT":return 0;case"WEEKLY":return 4.33;case"QUARTERLY":return 1/3;case"YEARLY":return 1/12;case"MONTHLY":default:return 1}},bs=O=>{switch(O){case"ONE_SHOT":return"Ponctuel";case"SEMI_ANNUAL":return"Semestriel (6 mois)";case"WEEKLY":return"Hebdomadaire";case"QUARTERLY":return"Trimestriel";case"YEARLY":return"Annuel";case"MONTHLY":default:return"Mensuel"}},da=async()=>{if(!B||B.length!==4){tt({status:"warning",title:"Code requis",description:"Veuillez saisir le code  4 chiffres (0920)",duration:3e3,isClosable:!0});return}if(B!=="0920"){tt({status:"error",title:"Code incorrect",description:"Le code de scurit n'est pas valide",duration:4e3,isClosable:!0});return}if(!pe||isNaN(parseFloat(pe))){tt({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide",duration:3e3,isClosable:!0});return}try{n(!0);const O=await fetch(Ut("/api/finance/balance/configure"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({code:B,newBalance:parseFloat(pe),reason:V?.trim()||`Mise  jour manuelle du solde par ${qr?.matricule||qr?.username||"inconnu"} - ${new Date().toLocaleDateString("fr-FR")}`})});if(O.ok){const J=await O.json();u(J.newBalance),ie(""),$(""),M(""),Se(!1),ca(),tt({status:"success",title:"Solde mis  jour",description:`Nouveau solde: ${ft(J.newBalance)} (diffrence: ${J.difference>=0?"+":""}${ft(J.difference)})`,duration:5e3,isClosable:!0}),await Vi(),await Ks()}else{const J=await O.text().catch(()=>"");let Qe={};try{Qe=J?JSON.parse(J):{}}catch{Qe={message:J?.slice(0,200)||"Erreur inconnue"}}O.status===403?tt({status:"error",title:"Accs refus",description:"Vous n'avez pas l'autorisation de modifier le solde",duration:5e3,isClosable:!0}):O.status===401?tt({status:"error",title:"Code incorrect",description:"Le code de scurit 0920 est incorrect",duration:4e3,isClosable:!0}):tt({status:"error",title:"Erreur de configuration",description:Qe.message||"Erreur serveur",duration:4e3,isClosable:!0})}}catch(O){console.error(" Erreur configuration solde:",O),tt({status:"error",title:"Erreur",description:"Impossible de configurer le solde. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},oe=async()=>{if(!ar.description||!ar.amount){tt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires"});return}try{n(!0);const O=await fetch(Ut("/api/finance/expense-reports"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:ar.description,amount:parseFloat(ar.amount),date:ar.date})});if(O.ok)tt({status:"success",title:"Note de frais ajoute"}),Ue({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),await As();else{const J=await O.json().catch(()=>({}));tt({status:"error",title:"Erreur",description:J.message||"Impossible d'ajouter la note de frais"})}}catch(O){console.error(" Erreur cration note de frais:",O),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la note de frais"})}finally{n(!1)}},je=async(O,J)=>{try{(await fetch(Ut(`/api/finance/expense-reports/${O}`),{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:J})})).ok?await As():tt({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}catch(Qe){console.error(" Erreur MAJ statut note de frais:",Qe),tt({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}},De=async O=>{try{(await fetch(Ut(`/api/finance/expense-reports/${O}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Note de frais supprime"}),await As()):tt({status:"error",title:"Erreur",description:"Suppression impossible"})}catch(J){console.error(" Erreur suppression note de frais:",J),tt({status:"error",title:"Erreur",description:"Suppression impossible"})}},dt=async()=>{if(!_.type||!_.amount||!_.description){tt({status:"warning",title:"Champs requis",description:"Type, montant et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const O=nr("/api/finance/transactions"),J=await vi(O,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({..._,amount:parseFloat(_.amount)})});if(J){if(T.length>0){const Qe=nr(`/api/finance/transactions/${J.id}/categories`),St=T.map(un=>({categoryId:un.categoryId,allocatedAmount:parseFloat(un.allocatedAmount),notes:un.notes||null}));await vi(Qe,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({allocations:St})})}tt({status:"success",title:"Transaction ajoute",description:T.length>0?`Transaction ajoute avec ${T.length} allocation(s)`:"La transaction a t enregistre avec succs",duration:3e3,isClosable:!0}),A({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),z([]),k({categoryId:"",allocatedAmount:"",notes:""}),Es(),await Bs(),await Ks()}}catch(O){console.error(" Erreur ajout transaction:",O),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la transaction. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},gn=O=>{pr({...O}),Wa()},Rn=async()=>{if(!(!fr||!fr.id))try{n(!0);const O=nr(`/api/finance/transactions/${encodeURIComponent(fr.id)}`);await vi(O,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:fr.description,category:fr.category,type:fr.type,amount:parseFloat(fr.amount),date:fr.date})}),tt({status:"success",title:"Transaction mise  jour"}),cs(),await Bs(),await Ks()}catch(O){console.error(" Erreur modification transaction:",O),tt({status:"error",title:"Erreur",description:"Impossible de modifier la transaction"})}finally{n(!1)}},jt=async O=>{try{if(!confirm("Supprimer cette transaction ?"))return;const J=nr(`/api/finance/transactions/${encodeURIComponent(O)}`);await yi(J,{Authorization:`Bearer ${localStorage.getItem("token")}`}),tt({status:"success",title:"Transaction supprime"}),await Bs(),await Ks()}catch(J){console.error(" Erreur suppression transaction:",J),tt({status:"error",title:"Erreur",description:"Suppression impossible"})}},dn=O=>{qa(O),mi(O?.documentId||""),mo()},an=async()=>{try{if(!xt)return;const O=nr(`/api/finance/transactions/${encodeURIComponent(xt.id)}`);await vi(O,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({documentId:$o||null})}),C(J=>J.map(Qe=>Qe.id===xt.id?{...Qe,documentId:$o||null}:Qe)),es(),qa(null),mi(""),tt({status:"success",title:"Transaction lie au document"})}catch(O){console.error(" Erreur liaison transaction/document:",O),tt({status:"error",title:"Erreur",description:"Impossible de lier la transaction"})}},$r=async()=>{try{const O=nr("/api/document-templates"),J=await vi(O,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});J&&J.templates&&aa(J.templates)}catch(O){console.error(" Erreur chargement templates:",O)}},ts=async()=>{if(!vn){tt({status:"warning",title:"Erreur",description:"Slectionnez un template"});return}try{let O=vn.htmlContent||"";const J={"{{NUMERO}}":ot.number,"{{TITRE}}":ot.title,"{{DESCRIPTION}}":ot.description||"","{{MONTANT}}":parseFloat(ot.amount||0).toFixed(2),"{{DATE}}":new Date(ot.date).toLocaleDateString("fr-FR"),"{{NOTES}}":ot.notes||""};Object.entries(J).forEach(([St,un])=>{O=O.replace(new RegExp(St,"g"),un)});const Qe=window.open("","_blank");Qe.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <title>${ot.title}</title>
          <style>${vn.cssContent||""}</style>
        </head>
        <body>
          ${O}
          <script>window.print();<\/script>
        </body>
        </html>
      `),Qe.document.close(),tt({status:"success",title:"Document gnr",description:"Utilisez le menu Imprimer pour gnrer le PDF"})}catch(O){console.error(" Erreur gnration:",O),tt({status:"error",title:"Erreur",description:"Impossible de gnrer le document"})}},Fo=async O=>{const J=O.target.files?.[0];if(J){if(J.type!=="application/pdf"){tt({status:"warning",title:"Erreur",description:"Veuillez slectionner un fichier PDF"});return}Io(J),tt({status:"info",title:"PDF slectionn",description:`${J.name} sera attach au document`})}},Vo=()=>{Mn(null),Fn({type:"QUOTE",number:"",title:"",description:"",date:new Date().toISOString().split("T")[0],dueDate:"",amountExcludingTax:"",taxRate:20,taxAmount:0,amount:"",status:"DRAFT",eventId:"",memberId:"",notes:"",paymentMethod:"",paymentDate:"",amountPaid:""}),Ns()},Uo=O=>{Mn(O),Fn({type:O.type||"QUOTE",number:O.number||"",title:O.title||"",description:O.description||"",date:(O.date||new Date().toISOString()).slice(0,10),dueDate:O.dueDate?O.dueDate.slice(0,10):"",amountExcludingTax:String(O.amountExcludingTax??""),taxRate:O.taxRate||20,taxAmount:O.taxAmount||0,amount:String(O.amount??""),status:O.quoteStatus||O.invoiceStatus||O.status||"DRAFT",eventId:O.eventId||"",memberId:O.memberId||"",notes:O.notes||"",paymentMethod:O.paymentMethod||"",paymentDate:O.paymentDate?O.paymentDate.slice(0,10):"",amountPaid:String(O.amountPaid??"")}),Ns()},Za=async()=>{try{if(!ot.number||!ot.title){tt({status:"warning",title:"Erreur",description:"Numro et titre obligatoires"});return}const O=!!Kt?.id,J=nr(O?`/api/finance/documents/${encodeURIComponent(Kt.id)}`:"/api/finance/documents"),Qe=parseFloat(ot.amount)||0,St={type:ot.type,number:ot.number,title:ot.title,description:ot.description||null,date:ot.date,dueDate:ot.dueDate||null,amountExcludingTax:Qe,taxRate:0,taxAmount:0,amount:Qe,quoteStatus:ot.type==="QUOTE"?ot.status:null,invoiceStatus:ot.type==="INVOICE"?ot.status:null,eventId:ot.eventId||null,memberId:ot.memberId||null,notes:ot.notes||null,paymentMethod:ot.paymentMethod||null,paymentDate:ot.paymentDate||null,amountPaid:parseFloat(ot.amountPaid||0)},un=await vi(J,{method:O?"PUT":"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(St)});await bi(),Wr(),tt({status:"success",title:O?"Document modifi":"Document cr"})}catch{const J=Kt?.id||`local-${Date.now()}`,Qe=parseFloat(ot.amount)||0,St={...ot,id:J,amountExcludingTax:Qe,taxRate:0,taxAmount:0,amount:Qe,quoteStatus:ot.type==="QUOTE"?ot.status:null,invoiceStatus:ot.type==="INVOICE"?ot.status:null},un=Kt?nn.map(rn=>rn.id===Kt.id?St:rn):[St,...nn];Is(un),mn(un),Wr(),tt({status:"info",title:"Document enregistr en local"})}},Eh=async O=>{try{const J=nr(`/api/finance/documents/${encodeURIComponent(O)}`);await yi(J,{Authorization:`Bearer ${localStorage.getItem("token")}`}),await bi(),tt({status:"success",title:"Document supprim"})}catch{const Qe=nn.filter(St=>St.id!==O);Is(Qe),mn(Qe),tt({status:"info",title:"Document supprim (local)"})}},ji=async(O,J)=>{try{const Qe=nr(`/api/finance/documents/${encodeURIComponent(O)}/status`),St=await xs(Qe,{status:J},{Authorization:`Bearer ${localStorage.getItem("token")}`});mn(rn=>rn.map(Ln=>Ln.id===O?St:Ln));const un=O.type==="QUOTE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[J]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente",PAID:"Pay",DEPOSIT_PAID:"Accompte"}[J];tt({status:"success",title:"Statut mis  jour",description:` ${un}`}),await bi()}catch(Qe){console.error("Erreur changement statut:",Qe),tt({status:"error",title:"Erreur",description:"Impossible de mettre  jour le statut"})}},zc=O=>{Mn(O),Fn({type:"QUOTE",number:`${O.number}-REV`,title:`${O.title} (Rvision)`,date:new Date().toISOString().split("T")[0],amount:O.amount,status:"DRAFT",eventId:O.eventId||""}),Ns()},Ah=async()=>{const O=r===2;if(!F.amount||!F.description||!F.nextDate||!O&&!F.type||!O&&!F.frequency){tt({status:"warning",title:"Champs requis",description:"Tous les champs sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const J=await fetch(Ut("/api/finance/scheduled-operations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...F,type:O?"SCHEDULED_PAYMENT":F.type,frequency:O?"MONTHLY":F.frequency,amount:parseFloat(F.amount),totalAmount:F.totalAmount!==""&&F.totalAmount!==null?parseFloat(F.totalAmount):void 0})});if(J.ok)tt({status:"success",title:O?"chancier cr":"Opration programme",description:O?"L'chancier a t cr avec succs":"L'opration a t programme avec succs",duration:3e3,isClosable:!0}),Y({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),go(),await $s();else{const Qe=await J.json();tt({status:"error",title:"Erreur",description:Qe.message||"Impossible de programmer l'opration",duration:4e3,isClosable:!0})}}catch(J){console.error(" Erreur programmation opration:",J),tt({status:"error",title:"Erreur",description:"Impossible de programmer l'opration. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},Vs=async O=>{try{if(!confirm("Supprimer cette opration programme et tous ses paiements ?"))return;const J=await fetch(Ut(`/api/finance/scheduled-operations/${O}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(J.ok)tt({status:"success",title:"Opration supprime"}),await $s();else{const Qe=await J.json().catch(()=>({}));tt({status:"error",title:"Erreur",description:Qe.message||"Suppression impossible"})}}catch(J){console.error(" Erreur suppression opration programme:",J),tt({status:"error",title:"Erreur",description:"Suppression impossible"})}},qu=O=>{ce(O),Pe(O.amount||"");const J=O.nextDate?new Date(O.nextDate):new Date,Qe=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`;le(Qe),G(null),er()},Gu=async()=>{if(q){if(!de||!/^\d{4}-\d{2}$/.test(de)){tt({status:"warning",title:"Priode invalide",description:"Format attendu: YYYY-MM"});return}if(!ve||isNaN(parseFloat(ve))){tt({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide"});return}try{n(!0);const O=new FormData;O.append("period",de),O.append("amount",String(parseFloat(ve))),me&&O.append("attachment",me);const J=await fetch(Ut(`/api/finance/scheduled-operations/${q.id}/payments`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:O});if(J.ok)tt({status:"success",title:"Mensualit dclare paye"}),zr(),await Promise.all([$s(),Bs(),Ks()]);else{const Qe=await J.json().catch(()=>({}));tt({status:"error",title:"Erreur",description:Qe.message||"Dclaration impossible"})}}catch(O){console.error(" Erreur dclaration paiement:",O),tt({status:"error",title:"Erreur",description:"Dclaration impossible"})}finally{n(!1)}}},Hi=async O=>{ce(O),await Ga(O.id),xo()};y.useEffect(()=>{(async()=>{await ei(),await vs(),await $r()})()},[]),y.useEffect(()=>{S.length>=0&&I.length>=0&&Ui()},[S,I,l]);const Zu=async()=>{if(!be.name||!be.description){tt({status:"warning",title:"Champs requis",description:"Nom et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const O=await fetch(Ut("/api/finance/simulations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(be)});if(O.ok){const J=await O.json();tt({status:"success",title:"Scnario cr",description:"Vous pouvez maintenant ajouter les recettes et dpenses",duration:4e3,isClosable:!0}),Ze({name:"",description:"",projectionMonths:12}),await yo(),Ni(),$t(J.scenario),Ii()}else{const J=await O.json();tt({status:"error",title:"Erreur",description:J.message||"Impossible de crer le scnario",duration:4e3,isClosable:!0})}}catch(O){console.error(" Erreur cration scnario:",O),tt({status:"error",title:"Erreur",description:"Impossible de crer le scnario. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},Wi=async O=>{try{const J=await fetch(Ut(`/api/finance/simulations/${O}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(J.ok){const Qe=await J.json();$t(Qe.scenario)}else tt({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}catch(J){console.error(" Erreur chargement dtails scnario:",J),tt({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}},Lc=async()=>{if(!Ot.description||!Ot.amount){tt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const O=await fetch(Ut(`/api/finance/simulations/${Ve.id}/income`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...Ot,amount:parseFloat(Ot.amount)})});if(O.ok)tt({status:"success",title:"Recette ajoute",duration:2e3,isClosable:!0}),ae({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),await Wi(Ve.id);else{const J=await O.json();tt({status:"error",title:"Erreur",description:J.message||"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}}catch(O){console.error(" Erreur ajout recette:",O),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}},Th=async()=>{if(!ge.description||!ge.amount){tt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const O=await fetch(Ut(`/api/finance/simulations/${Ve.id}/expense`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...ge,amount:parseFloat(ge.amount)})});if(O.ok)tt({status:"success",title:"Dpense ajoute",duration:2e3,isClosable:!0}),nt({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),await Wi(Ve.id);else{const J=await O.json();tt({status:"error",title:"Erreur",description:J.message||"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}}catch(O){console.error(" Erreur ajout dpense:",O),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}},Yu=async O=>{try{(await fetch(Ut(`/api/finance/simulations/income/${O}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Recette supprime",duration:2e3,isClosable:!0}),await Wi(Ve.id)):tt({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}catch(J){console.error(" Erreur suppression recette:",J),tt({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}},Oc=async O=>{try{(await fetch(Ut(`/api/finance/simulations/expense/${O}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Dpense supprime",duration:2e3,isClosable:!0}),await Wi(Ve.id)):tt({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}catch(J){console.error(" Erreur suppression dpense:",J),tt({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}},Nc=async O=>{try{n(!0);const J=await fetch(Ut(`/api/finance/simulations/${O}/run`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(J.ok){const Qe=await J.json();zt(Qe.simulation),ua()}else{const Qe=await J.json();tt({status:"error",title:"Erreur",description:Qe.message||"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}}catch(J){console.error(" Erreur excution simulation:",J),tt({status:"error",title:"Erreur",description:"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}finally{n(!1)}},kh=async O=>{try{(await fetch(Ut(`/api/finance/simulations/${O}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Scnario supprim",duration:2e3,isClosable:!0}),await yo()):tt({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}catch(J){console.error(" Erreur suppression scnario:",J),tt({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}},Ic=async(O,J="simulation")=>{try{const Qe=await fetch(Ut(`/api/finance/simulations/${O}/report.pdf`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Qe.ok){tt({status:"error",title:"Export PDF",description:"chec de la gnration du PDF"});return}const St=await Qe.blob(),un=URL.createObjectURL(St),rn=document.createElement("a");rn.href=un;const Ln=(J||"simulation").replace(/[^a-z0-9-_]+/gi,"_");rn.download=`simulation-${Ln}.pdf`,document.body.appendChild(rn),rn.click(),document.body.removeChild(rn),URL.revokeObjectURL(un),tt({status:"success",title:"Export PDF",description:"Tlchargement dmarr"})}catch(Qe){console.error(" Erreur export PDF:",Qe),tt({status:"error",title:"Export PDF",description:"Erreur lors du tlchargement"})}};return e.jsx(ue,{p:6,children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsx(Me,{size:"lg",color:"blue.600",children:" Gestion Financire"}),e.jsxs(re,{children:[e.jsx(ut,{icon:e.jsx(ea,{}),onClick:vs,isLoading:t,variant:"outline",size:"sm"}),e.jsx(ut,{icon:e.jsx(em,{}),onClick:Tr,variant:"outline",size:"sm",colorScheme:"purple"}),e.jsxs(et,{colorScheme:x.balance>=0?"green":"red",fontSize:"lg",p:2,borderRadius:"md",cursor:"pointer",onClick:()=>Se(!W),children:[p?e.jsx(Hn,{as:Rl,mr:1}):e.jsx(Hn,{as:mj,mr:1}),"Solde: ",ft(x.balance)]})]})]}),W&&e.jsxs(sn,{status:"warning",borderRadius:"md",children:[e.jsx(on,{}),e.jsxs(se,{align:"stretch",spacing:3,flex:1,children:[e.jsx(R,{fontWeight:"bold",children:"Configuration du solde (Code requis)"}),e.jsxs(re,{children:[e.jsxs(re,{children:[e.jsx(R,{fontSize:"sm",children:"Code:"}),e.jsx(re,{children:e.jsxs(uj,{value:B,onChange:ie,type:"number",children:[e.jsx(fl,{}),e.jsx(fl,{}),e.jsx(fl,{}),e.jsx(fl,{})]})})]}),e.jsxs(Yn,{value:pe,onChange:$,precision:2,step:.01,width:"150px",children:[e.jsx(Xn,{placeholder:"Nouveau solde"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]}),e.jsx(xe,{value:V,onChange:O=>M(O.target.value),placeholder:"Motif de rgularisation",width:"280px",size:"sm"}),e.jsx(ne,{size:"sm",colorScheme:"orange",onClick:da,isLoading:t,leftIcon:e.jsx(wx,{}),children:"Appliquer"}),e.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>Se(!1),leftIcon:e.jsx(Mp,{}),children:"Annuler"})]})]})]}),e.jsxs(pt,{columns:{base:2,md:6},spacing:4,children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Solde Actuel"}),e.jsx(bt,{color:x.balance>=0?"green.600":"red.600",children:ft(x.balance)}),d&&e.jsxs(so,{fontSize:"xs",children:["MAJ: ",Or(d)]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Recettes Total"}),e.jsx(bt,{color:"green.600",children:ft(x.totalCredits)}),e.jsxs(so,{children:[e.jsx(Wd,{type:"increase"}),"Entres"]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Dpenses Total"}),e.jsx(bt,{color:"red.600",children:ft(x.totalDebits)}),e.jsxs(so,{children:[e.jsx(Wd,{type:"decrease"}),"Sorties"]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Ce Mois"}),e.jsx(bt,{color:x.monthlyBalance>=0?"green.600":"red.600",children:ft(x.monthlyBalance)}),e.jsxs(so,{children:[e.jsx(Wd,{type:x.monthlyBalance>=0?"increase":"decrease"}),"Rsultat mensuel"]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Programm/Mois"}),e.jsx(bt,{color:x.scheduledMonthlyImpact>=0?"green.600":"red.600",children:ft(x.scheduledMonthlyImpact)}),e.jsxs(so,{children:[x.scheduledCount," oprations"]})]})})})]}),e.jsxs(sa,{index:r,onChange:i,children:[e.jsxs(ia,{children:[e.jsx(ln,{children:" Transactions"}),e.jsx(ln,{children:" Devis & Factures"}),e.jsx(ln,{children:" chanciers"}),e.jsx(ln,{children:" Paiements programms"}),e.jsx(ln,{children:" Notes de frais"}),e.jsx(ln,{children:" Simulations"}),e.jsx(ln,{children:" Rapports"}),e.jsx(ln,{children:" Rles & Permissions"}),e.jsx(ln,{children:" Configuration"})]}),e.jsxs(oa,{children:[e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"Transactions"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:Li,size:"sm",children:"Nouvelle transaction"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(pn,{size:"lg"}),e.jsx(R,{mt:2,children:"Chargement..."})]}):S.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucune transaction enregistre"]}):e.jsx($e,{children:e.jsx(Be,{p:0,children:e.jsxs(br,{variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Description"}),e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{children:"Document"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{isNumeric:!0,children:"Montant"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:S.map((O,J)=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:Or(O.date||O.createdAt)}),e.jsx(Ne,{children:O.description}),e.jsx(Ne,{children:e.jsx(et,{size:"sm",variant:"outline",children:bo(O.category)})}),e.jsx(Ne,{children:(()=>{const Qe=nn.find(St=>St.id===O.documentId);return Qe?e.jsxs(re,{spacing:2,children:[e.jsx(et,{colorScheme:Qe.type==="INVOICE"?"purple":"gray",children:Qe.type==="INVOICE"?"Facture":"Devis"}),e.jsx(R,{fontSize:"sm",children:Qe.number||Qe.title||Qe.id})]}):e.jsx(R,{fontSize:"sm",color:"gray.500",children:""})})()}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:O.type==="CREDIT"?"green":"red",size:"sm",children:O.type==="CREDIT"?"Recette":"Dpense"})}),e.jsx(Ne,{isNumeric:!0,children:e.jsxs(R,{color:O.type==="CREDIT"?"green.600":"red.600",fontWeight:"bold",children:[O.type==="CREDIT"?"+":"-",ft(Math.abs(O.amount))]})}),e.jsx(Ne,{children:e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(rh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Wf,{}),onClick:()=>gn(O),children:"Modifier"}),e.jsx(Cn,{onClick:()=>dn(O),children:"Lier  devis/facture"}),e.jsx(Cn,{icon:e.jsx(gr,{}),color:"red.500",onClick:()=>jt(O.id),children:"Supprimer"})]})]})})]},O.id||J))})]})})})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"Devis & Factures"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"purple",size:"sm",onClick:Vo,children:"Nouveau document"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(pn,{size:"lg"}),e.jsx(R,{mt:2,children:"Chargement"})]}):e.jsx($e,{children:e.jsx(Be,{p:0,children:e.jsxs(br,{variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Numro"}),e.jsx(Ie,{children:"Titre"}),e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{isNumeric:!0,children:"Montant"}),e.jsx(Ie,{children:"vnement"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:nn.map(O=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:e.jsx(et,{colorScheme:O.type==="INVOICE"?"purple":"gray",children:O.type==="INVOICE"?"Facture":"Devis"})}),e.jsx(Ne,{children:O.number||""}),e.jsx(Ne,{children:O.title||""}),e.jsx(Ne,{children:Or(O.date)}),e.jsx(Ne,{isNumeric:!0,children:ft(Number(O.amount||0))}),e.jsx(Ne,{children:O.eventId?e.jsx(et,{children:O.eventId}):e.jsx(R,{fontSize:"sm",color:"gray.500",children:""})}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:O.type==="INVOICE"?{DRAFT:"gray",SENT:"blue",ACCEPTED:"cyan",PENDING_PAYMENT:"orange",PAID:"green",DEPOSIT_PAID:"yellow"}[O.invoiceStatus||"gray"]:{DRAFT:"gray",SENT:"blue",ACCEPTED:"green",REFUSED:"red",REEDITED:"orange"}[O.quoteStatus||"gray"],variant:"subtle",children:O.type==="INVOICE"?{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",PENDING_PAYMENT:"En attente de paiement",PAID:"Pay",DEPOSIT_PAID:"Accompte pay"}[O.invoiceStatus||"DRAFT"]:{DRAFT:"Brouillon",SENT:"Envoy",ACCEPTED:"Accept",REFUSED:"Refus",REEDITED:"Rdit"}[O.quoteStatus||"DRAFT"]})}),e.jsx(Ne,{children:e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(rh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Wf,{}),onClick:()=>Uo(O),children:"Modifier"}),e.jsx(bx,{}),e.jsx(QR,{title:"Changer le statut",children:O.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx(no,{onClick:()=>ji(O.id,"DRAFT"),children:"Brouillon"}),e.jsx(no,{onClick:()=>ji(O.id,"SENT"),children:"Envoy"}),e.jsx(no,{onClick:()=>ji(O.id,"ACCEPTED"),children:"Accept"}),e.jsx(no,{onClick:()=>ji(O.id,"REFUSED"),children:"Refus"}),e.jsx(no,{onClick:()=>zc(O),children:"Rdit vers un nouveau"})]}):e.jsxs(e.Fragment,{children:[e.jsx(no,{onClick:()=>ji(O.id,"DRAFT"),children:"Brouillon"}),e.jsx(no,{onClick:()=>ji(O.id,"SENT"),children:"Envoy"}),e.jsx(no,{onClick:()=>ji(O.id,"ACCEPTED"),children:"Accept"}),e.jsx(no,{onClick:()=>ji(O.id,"PENDING_PAYMENT"),children:"En attente de paiement"}),e.jsx(no,{onClick:()=>ji(O.id,"PAID"),children:"Pay"}),e.jsx(no,{onClick:()=>ji(O.id,"DEPOSIT_PAID"),children:"Accompte pay"})]})}),e.jsx(bx,{}),e.jsx(Cn,{icon:e.jsx(gr,{}),color:"red.500",onClick:()=>Eh(O.id),children:"Supprimer"})]})]})})]},O.id))})]})})})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"chanciers"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"purple",onClick:Ys,size:"sm",children:"Nouvel chancier"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(pn,{size:"lg"}),e.jsx(R,{mt:2,children:"Chargement..."})]}):(()=>{const O=I.filter(J=>J.type==="SCHEDULED_PAYMENT"&&String(J.frequency||"").toUpperCase()==="MONTHLY");return O.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucun chancier (mensualits) enregistr"]}):e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:4,children:O.map((J,Qe)=>{const St=Number.isFinite(J.totalAmount)&&J.totalAmount>0,un=St?Math.max(J.totalAmount-(J.remainingTotalAmount||0),0):null,rn=Number.isFinite(J.plannedCountYear)&&J.plannedCountYear>0,Ln=rn?Math.max((J.plannedCountYear||0)-(J.remainingCountYear||0),0):null,cr=rn?Math.max(0,Math.min(1,Ln/J.plannedCountYear)):null,us=St?Math.max(0,Math.min(1,un/J.totalAmount)):cr,Si=us==null?"gray.400":us>=.75?"red":us>=.4?"orange":"red";return e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"sm",noOfLines:2,children:J.description}),e.jsxs(re,{children:[e.jsx(et,{variant:"outline",children:"Mensuel"}),e.jsx(et,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Be,{children:e.jsxs(re,{align:"center",spacing:4,children:[e.jsx(ue,{minW:"120px",w:"120px",children:e.jsx(ys,{percent:us,color:Si})}),e.jsxs(se,{align:"start",spacing:1,flex:1,children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(R,{fontWeight:"medium",children:J.nextDate?Or(J.nextDate):""}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(R,{fontWeight:"bold",color:"red.600",children:["- ",ft(Math.abs(J.amount))]}),e.jsxs(re,{spacing:3,children:[e.jsxs(et,{variant:"subtle",colorScheme:"blue",children:["Payes: ",J.paymentsCount??0]}),St&&e.jsxs(et,{variant:"subtle",children:["Restant total: ",ft(J.remainingTotalAmount||0)]}),!St&&rn&&e.jsxs(et,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",Ln]})]}),J.monthsRemainingTotal&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Mensualits restantes: ",J.monthsRemainingTotal]}),J.estimatedEndDate&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",Or(J.estimatedEndDate)]})]})]})}),e.jsx(Be,{pt:0,children:e.jsxs(re,{children:[e.jsx(ne,{size:"sm",onClick:()=>qu(J),children:"Dclarer pay"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:()=>Hi(J),children:"Voir paiements"}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Vs(J.id)})]})})]},J.id||Qe)})})})()]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"Paiements programms (mensuels)"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"purple",onClick:Ys,size:"sm",children:"Ajouter un prlvement"})]}),t?e.jsxs(ue,{textAlign:"center",p:8,children:[e.jsx(pn,{size:"lg"}),e.jsx(R,{mt:2,children:"Chargement..."})]}):(()=>{const O=I.filter(J=>J.type==="SCHEDULED_PAYMENT"&&String(J.frequency||"").toUpperCase()==="MONTHLY");return O.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucun paiement mensuel programm"]}):e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:4,children:O.map((J,Qe)=>{const St=Number.isFinite(J.totalAmount)&&J.totalAmount>0,un=St?Math.max(J.totalAmount-(J.remainingTotalAmount||0),0):null,rn=Number.isFinite(J.plannedCountYear)&&J.plannedCountYear>0,Ln=rn?Math.max((J.plannedCountYear||0)-(J.remainingCountYear||0),0):null,cr=rn?Math.max(0,Math.min(1,Ln/J.plannedCountYear)):null,us=St?Math.max(0,Math.min(1,un/J.totalAmount)):cr,Si=us==null?"gray.400":us>=.75?"red":us>=.4?"orange":"red";return e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"sm",noOfLines:2,children:J.description}),e.jsxs(re,{children:[e.jsx(et,{variant:"outline",children:"Mensuel"}),e.jsx(et,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Be,{children:e.jsxs(re,{align:"center",spacing:4,children:[e.jsx(ue,{minW:"120px",w:"120px",children:e.jsx(ys,{percent:us,color:Si})}),e.jsxs(se,{align:"start",spacing:1,flex:1,children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(R,{fontWeight:"medium",children:J.nextDate?Or(J.nextDate):""}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(R,{fontWeight:"bold",color:"red.600",children:["- ",ft(Math.abs(J.amount))]}),e.jsxs(re,{spacing:3,children:[e.jsxs(et,{variant:"subtle",colorScheme:"blue",children:["Payes: ",J.paymentsCount??0]}),St&&e.jsxs(et,{variant:"subtle",children:["Restant total: ",ft(J.remainingTotalAmount||0)]}),!St&&rn&&e.jsxs(et,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",Ln]})]}),J.estimatedEndDate&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",Or(J.estimatedEndDate)]})]})]})}),e.jsx(Be,{pt:0,children:e.jsxs(re,{children:[e.jsx(ne,{size:"sm",onClick:()=>qu(J),children:"Dclarer pay"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:()=>Hi(J),children:"Voir paiements"}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Vs(J.id)})]})})]},J.id||Qe)})})})()]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsx(re,{justify:"space-between",children:e.jsx(Me,{size:"md",children:"Notes de frais"})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(re,{spacing:3,align:"end",children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description"}),e.jsx(xe,{value:ar.description,onChange:O=>Ue(J=>({...J,description:O.target.value})),placeholder:"Ex: Achat fournitures"})]}),e.jsxs(te,{isRequired:!0,width:"220px",children:[e.jsx(ee,{children:"Montant ()"}),e.jsxs(Yn,{value:ar.amount,onChange:O=>Ue(J=>({...J,amount:O})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsxs(te,{width:"220px",children:[e.jsx(ee,{children:"Date"}),e.jsx(xe,{type:"date",value:ar.date,onChange:O=>Ue(J=>({...J,date:O.target.value}))})]}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:oe,children:"Ajouter"})]})})}),Pt.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucune note de frais pour le moment"]}):e.jsx($e,{children:e.jsx(Be,{p:0,children:e.jsxs(br,{variant:"simple",size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Description"}),e.jsx(Ie,{isNumeric:!0,children:"Montant"}),e.jsx(Ie,{children:"Statut"}),Lr&&e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:Pt.map(O=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:Or(O.date||O.createdAt)}),e.jsx(Ne,{children:O.description}),e.jsx(Ne,{isNumeric:!0,children:ft(O.amount)}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:O.status==="PAID"?"green":O.status==="APPROVED"?"blue":O.status==="REJECTED"?"red":"orange",children:O.status})}),Lr&&e.jsx(Ne,{children:e.jsxs(re,{children:[e.jsx(ne,{size:"xs",onClick:()=>je(O.id,"APPROVED"),leftIcon:e.jsx(wx,{}),colorScheme:"blue",variant:"outline",children:"Approuver"}),e.jsx(ne,{size:"xs",onClick:()=>je(O.id,"PAID"),leftIcon:e.jsx($u,{}),colorScheme:"green",variant:"outline",children:"Pay"}),e.jsx(ne,{size:"xs",onClick:()=>je(O.id,"REJECTED"),leftIcon:e.jsx(Mp,{}),colorScheme:"red",variant:"outline",children:"Rejeter"}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>De(O.id)})]})})]},O.id))})]})})})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"Simulations Financires"}),e.jsx(ne,{leftIcon:e.jsx(Ra,{}),colorScheme:"teal",onClick:Oi,size:"sm",children:"Nouveau scnario"})]}),Le.scenarios.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:2,children:[e.jsx(R,{fontWeight:"bold",children:"Aucun scnario de simulation"}),e.jsx(R,{fontSize:"sm",children:"Crez des scnarios pour simuler l'volution de votre trsorerie. tape 1: Crer le contexte, tape 2: Ajouter recettes/dpenses."})]})]}):e.jsx(pt,{columns:{base:1,md:2},spacing:4,children:Le.scenarios.map(O=>{const J=O.itemsCount>0,Qe=O.totalMonthlyIncome-O.totalMonthlyExpenses;return e.jsxs($e,{borderWidth:2,borderColor:J?"green.200":"orange.200",children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"sm",children:O.name}),e.jsxs(re,{children:[e.jsx(et,{colorScheme:J?"green":"orange",size:"sm",children:J?"Complet":"Brouillon"}),e.jsxs(et,{variant:"outline",size:"sm",children:[O.itemsCount," lment(s)"]})]})]}),e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(rh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Wf,{}),onClick:async()=>{await Wi(O.id),Ii()},children:"diter"}),e.jsx(Cn,{icon:e.jsx(Ra,{}),onClick:()=>Nc(O.id),isDisabled:!J,children:"Excuter"}),e.jsx(Cn,{icon:e.jsx($a,{}),onClick:()=>Ic(O.id,O.name),isDisabled:!J,children:"Exporter PDF"}),e.jsx(zn,{}),e.jsx(Cn,{icon:e.jsx(gr,{}),color:"red.500",onClick:()=>{confirm("Supprimer ce scnario ?")&&kh(O.id)},children:"Supprimer"})]})]})]})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsx(R,{fontSize:"sm",color:"gray.600",noOfLines:2,children:O.description}),J?e.jsxs(pt,{columns:3,spacing:2,children:[e.jsxs(vt,{size:"sm",children:[e.jsx(yt,{fontSize:"xs",children:"Revenus"}),e.jsx(bt,{fontSize:"sm",color:"green.600",children:ft(O.totalMonthlyIncome)})]}),e.jsxs(vt,{size:"sm",children:[e.jsx(yt,{fontSize:"xs",children:"Dpenses"}),e.jsx(bt,{fontSize:"sm",color:"red.600",children:ft(O.totalMonthlyExpenses)})]}),e.jsxs(vt,{size:"sm",children:[e.jsx(yt,{fontSize:"xs",children:"Rsultat"}),e.jsx(bt,{fontSize:"sm",color:Qe>=0?"green.600":"red.600",children:ft(Qe)})]})]}):e.jsxs(sn,{status:"warning",size:"sm",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"xs",children:"Ajoutez des recettes et dpenses pour complter le scnario"})]}),e.jsxs(re,{children:[e.jsx(ne,{size:"xs",variant:"outline",leftIcon:e.jsx(Wf,{}),onClick:async()=>{await Wi(O.id),Ii()},children:"diter"}),e.jsx(ne,{size:"xs",colorScheme:"teal",leftIcon:e.jsx(Ra,{}),onClick:()=>Nc(O.id),isDisabled:!J,isLoading:t,children:"Simuler"})]})]})})]},O.id)})})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"Rapports Financiers"}),e.jsxs(re,{children:[e.jsxs(te,{width:"150px",children:[e.jsx(ee,{children:"Anne"}),e.jsx(st,{value:Mt,onChange:O=>Ye(parseInt(O.target.value,10)),children:[0,1,2,3,4].map(O=>{const J=new Date().getFullYear()-O;return e.jsx("option",{value:J,children:J},J)})})]}),e.jsx(ne,{leftIcon:e.jsx(ea,{}),onClick:()=>Qs(Mt),isLoading:t,children:"Actualiser"}),e.jsx(ne,{leftIcon:e.jsx($a,{}),colorScheme:"purple",onClick:Js,children:"Export PDF"})]})]}),gt?e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(pt,{columns:{base:1,md:4},spacing:4,children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Total recettes (priode)"}),e.jsx(bt,{color:"green.600",children:ft(gt?.totals?.credits||0)})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Total dpenses (priode)"}),e.jsx(bt,{color:"red.600",children:ft(gt?.totals?.debits||0)})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Net (priode)"}),e.jsx(bt,{color:(gt?.totals?.net||0)>=0?"green.600":"red.600",children:ft(gt?.totals?.net||0)})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Solde actuel"}),e.jsx(bt,{children:ft(l)})]})})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Soldes de priode"})}),e.jsx(Be,{children:e.jsxs(pt,{columns:{base:1,md:3},spacing:4,children:[e.jsxs(vt,{children:[e.jsx(yt,{children:"Solde d'ouverture"}),e.jsx(bt,{children:ft(gt?.balances?.opening||0)})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Solde de clture (calcul)"}),e.jsx(bt,{children:ft(gt?.balances?.closing||0)})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Ouverture + Net"}),e.jsx(bt,{children:ft(gt?.balances?.closingFromOpeningPlusNet||0)})]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(Me,{size:"sm",children:["Par mois (",Mt,")"]})}),e.jsx(Be,{p:0,children:e.jsxs(br,{size:"sm",variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Mois"}),e.jsx(Ie,{isNumeric:!0,children:"Recettes"}),e.jsx(Ie,{isNumeric:!0,children:"Dpenses"}),e.jsx(Ie,{isNumeric:!0,children:"Net"})]})}),e.jsx(_r,{children:(gt?.monthly||[]).map(O=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:String(O.month).padStart(2,"0")}),e.jsx(Ne,{isNumeric:!0,children:ft(O.credits)}),e.jsx(Ne,{isNumeric:!0,children:ft(O.debits)}),e.jsx(Ne,{isNumeric:!0,children:e.jsx(R,{color:(O.net||0)>=0?"green.600":"red.600",children:ft(O.net)})})]},O.month))})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Par catgorie"})}),e.jsx(Be,{p:0,children:e.jsxs(br,{size:"sm",variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{isNumeric:!0,children:"Recettes"}),e.jsx(Ie,{isNumeric:!0,children:"Dpenses"}),e.jsx(Ie,{isNumeric:!0,children:"Net"})]})}),e.jsx(_r,{children:Object.entries(gt?.byCategory||{}).map(([O,J])=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:O}),e.jsx(Ne,{isNumeric:!0,children:ft(J.credits)}),e.jsx(Ne,{isNumeric:!0,children:ft(J.debits)}),e.jsx(Ne,{isNumeric:!0,children:e.jsx(R,{color:(J.net||0)>=0?"green.600":"red.600",children:ft(J.net)})})]},O))})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Transactions rcentes (extrait)"})}),e.jsx(Be,{p:0,children:e.jsxs(br,{size:"sm",variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Description"}),e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{isNumeric:!0,children:"Montant"})]})}),e.jsx(_r,{children:(gt?.sample||[]).map(O=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:Or(O.date)}),e.jsx(Ne,{children:O.description}),e.jsx(Ne,{children:(O.category||"AUTRE").toUpperCase()}),e.jsx(Ne,{isNumeric:!0,children:e.jsx(R,{color:String(O.type).toUpperCase()==="CREDIT"?"green.600":"red.600",children:ft(O.amount)})})]},`${O.id}-${O.date}`))})]})})]})]}):e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsxs(R,{children:["Aucun rapport disponible pour ",Mt,". Essayez d'actualiser."]})]})]})}),e.jsx(cn,{children:e.jsx(JM,{})}),e.jsx(cn,{children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsx(Me,{size:"md",children:"Configuration Avance"}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Historique des Modifications de Solde"})}),e.jsx(Be,{children:Q.length===0?e.jsx(R,{color:"gray.500",fontSize:"sm",children:"Aucune modification enregistre"}):e.jsxs(br,{variant:"simple",size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Ancien solde"}),e.jsx(Ie,{children:"Nouveau solde"}),e.jsx(Ie,{children:"Diffrence"}),e.jsx(Ie,{children:"Raison"})]})}),e.jsx(_r,{children:Q.slice(0,10).map((O,J)=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:Or(O.date)}),e.jsx(Ne,{children:ft(O.oldBalance)}),e.jsx(Ne,{children:ft(O.newBalance)}),e.jsx(Ne,{children:e.jsxs(R,{color:O.newBalance-O.oldBalance>=0?"green.600":"red.600",children:[O.newBalance-O.oldBalance>=0?"+":"",ft(O.newBalance-O.oldBalance)]})}),e.jsx(Ne,{fontSize:"sm",children:O.reason})]},J))})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Paramtres de Simulation"})}),e.jsx(Be,{children:e.jsxs(te,{children:[e.jsx(ee,{children:"Nombre de mois  projeter"}),e.jsxs(Yn,{value:Le.projectionMonths,onChange:O=>Ae(J=>({...J,projectionMonths:parseInt(O)||12})),min:1,max:60,children:[e.jsx(Xn,{}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]}),e.jsxs(R,{fontSize:"xs",color:"gray.500",mt:1,children:["Entre 1 et 60 mois (actuellement: ",Le.projectionMonths," mois)"]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Scurit"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(re,{children:[e.jsx(Hn,{as:p?Rl:mj,color:p?"red.500":"green.500"}),e.jsxs(R,{fontSize:"sm",children:["Solde ",p?"verrouill":"dverrouill"," -",p?" Code requis pour modification":" Modification libre"]})]}),e.jsxs(sn,{status:"warning",size:"sm",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"xs",children:"Le code de scurit  4 chiffres est requis pour toute modification directe du solde. Contactez l'administrateur systme si vous avez oubli le code."})]})]})})]})]})})]})]}),e.jsxs(Et,{isOpen:Bo,onClose:cs,isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Modifier la transaction"}),e.jsx(It,{}),e.jsx(At,{children:fr&&e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(xe,{value:fr.description||"",onChange:O=>pr(J=>({...J,description:O.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Catgorie"}),e.jsxs(st,{value:fr.category||"ADHESION",onChange:O=>pr(J=>({...J,category:O.target.value})),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"EVENEMENT",children:"vnement"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"CARBURANT",children:"Carburant"}),e.jsx("option",{value:"AUTRE",children:"Autre"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type"}),e.jsxs(st,{value:fr.type||"CREDIT",onChange:O=>pr(J=>({...J,type:O.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Montant"}),e.jsxs(Yn,{value:fr.amount,onChange:O=>pr(J=>({...J,amount:O})),precision:2,step:.5,children:[e.jsx(Xn,{}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date"}),e.jsx(xe,{type:"date",value:(fr.date||"").slice(0,10),onChange:O=>pr(J=>({...J,date:O.target.value}))})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:cs,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Rn,children:"Enregistrer"})]})]})]}),e.jsxs(Et,{isOpen:Jr,onClose:es,isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Lier  un devis/une facture"}),e.jsx(It,{}),e.jsx(At,{children:e.jsx(se,{spacing:3,align:"stretch",children:e.jsxs(te,{children:[e.jsx(ee,{children:"Document"}),e.jsx(st,{placeholder:"Slectionner un document",value:$o,onChange:O=>mi(O.target.value),children:nn.map(O=>e.jsxs("option",{value:O.id,children:[O.type==="INVOICE"?"Facture":"Devis","  ",O.number||O.title||O.id,"  ",ft(Number(O.amount||0))]},O.id))})]})})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",onClick:es,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:an,children:"Lier"})]})]})]}),e.jsxs(Et,{isOpen:la,onClose:Wr,isCentered:!0,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:Kt?"Modifier le document":"Nouveau document"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{spacing:3,children:[e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"Type"}),e.jsxs(st,{value:ot.type,onChange:O=>Fn(J=>({...J,type:O.target.value})),children:[e.jsx("option",{value:"QUOTE",children:" Devis"}),e.jsx("option",{value:"INVOICE",children:" Facture"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"Date"}),e.jsx(xe,{type:"date",value:ot.date,onChange:O=>Fn(J=>({...J,date:O.target.value}))})]}),ot.type==="INVOICE"&&e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"chance"}),e.jsx(xe,{type:"date",value:ot.dueDate||"",onChange:O=>Fn(J=>({...J,dueDate:O.target.value}))})]})]}),e.jsxs(re,{spacing:3,children:[e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"Numro"}),e.jsx(xe,{value:ot.number,onChange:O=>Fn(J=>({...J,number:O.target.value})),placeholder:ot.type==="QUOTE"?"ex: DV-2025-001":"ex: FA-2025-001"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"Titre"}),e.jsx(xe,{value:ot.title,onChange:O=>Fn(J=>({...J,title:O.target.value})),placeholder:"Objet du document"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"Description"}),e.jsx(Zt,{value:ot.description||"",onChange:O=>Fn(J=>({...J,description:O.target.value})),placeholder:"Dtails du document",rows:2})]}),e.jsx(ue,{bg:"blue.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"blue.500",children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"sm",children:" Montant"}),e.jsx(R,{fontSize:"xs",color:"gray.600",children:" Association (exempte TVA)"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",fontWeight:"bold",children:"Montant total"}),e.jsxs(Yn,{value:ot.amount||"",onChange:O=>{Fn(J=>({...J,amount:O,amountExcludingTax:O,taxRate:0,taxAmount:0}))},precision:2,step:10,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsx(ue,{p:3,bg:"green.100",borderRadius:"md",border:"1px solid",borderColor:"green.400",children:e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{fontSize:"sm",color:"green.700",fontWeight:"bold",children:"Montant TTC:"}),e.jsxs(R,{fontSize:"lg",color:"green.700",fontWeight:"bold",children:[parseFloat(ot.amount||0).toFixed(2)," "]})]})})]})}),e.jsxs(te,{children:[e.jsx(ee,{fontWeight:"bold",children:"Statut"}),e.jsx(st,{value:ot.status,onChange:O=>Fn(J=>({...J,status:O.target.value})),children:ot.type==="QUOTE"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"REFUSED",children:" Refus"}),e.jsx("option",{value:"REEDITED",children:" Rdit"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"DRAFT",children:" Brouillon"}),e.jsx("option",{value:"SENT",children:" Envoy"}),e.jsx("option",{value:"ACCEPTED",children:" Accept"}),e.jsx("option",{value:"PENDING_PAYMENT",children:" En attente de paiement"}),e.jsx("option",{value:"PAID",children:" Pay"}),e.jsx("option",{value:"DEPOSIT_PAID",children:" Accompte pay"})]})})]}),ot.type==="INVOICE"&&e.jsx(ue,{bg:"purple.50",p:3,borderRadius:"md",borderLeft:"4px solid",borderColor:"purple.500",children:e.jsxs(se,{spacing:2,align:"stretch",children:[e.jsx(ee,{fontSize:"sm",fontWeight:"bold",children:"Infos de paiement"}),e.jsxs(re,{spacing:2,children:[e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Mode"}),e.jsx(xe,{size:"sm",value:ot.paymentMethod||"",onChange:O=>Fn(J=>({...J,paymentMethod:O.target.value})),placeholder:"ex: Virement, Espces"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Date paiement"}),e.jsx(xe,{size:"sm",type:"date",value:ot.paymentDate||"",onChange:O=>Fn(J=>({...J,paymentDate:O.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Montant pay"}),e.jsx(Yn,{value:ot.amountPaid||"",onChange:O=>Fn(J=>({...J,amountPaid:O})),size:"sm",precision:2,children:e.jsx(Xn,{})})]})]})]})}),e.jsxs(re,{spacing:3,children:[e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"vnement (optionnel)"}),e.jsx(xe,{size:"sm",value:ot.eventId||"",onChange:O=>Fn(J=>({...J,eventId:O.target.value})),placeholder:"ID d'vnement"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Membre (optionnel)"}),e.jsx(xe,{size:"sm",value:ot.memberId||"",onChange:O=>Fn(J=>({...J,memberId:O.target.value})),placeholder:"ID de membre"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Notes (visibles au client)"}),e.jsx(Zt,{size:"sm",value:ot.notes||"",onChange:O=>Fn(J=>({...J,notes:O.target.value})),placeholder:"Remarques publiques",rows:1})]}),e.jsx(ue,{bg:"amber.50",p:4,borderRadius:"md",borderLeft:"4px solid",borderColor:"amber.500",children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"sm",children:" Gnrer le document"}),e.jsx(jr,{isChecked:Bn!=="manual",onChange:O=>Dr(O.target.checked?"template":"manual")})]}),Bn!=="manual"&&e.jsxs(se,{spacing:2,align:"stretch",children:[e.jsxs(re,{children:[e.jsx(ne,{size:"sm",variant:Bn==="template"?"solid":"outline",colorScheme:"orange",onClick:()=>Dr("template"),children:" Depuis template"}),e.jsx(ne,{size:"sm",variant:Bn==="pdf"?"solid":"outline",colorScheme:"orange",onClick:()=>Dr("pdf"),children:" Uploader PDF"})]}),Bn==="template"&&e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",fontWeight:"bold",children:"Slectionner un template"}),e.jsx(st,{size:"sm",value:vn?.id||"",onChange:O=>{const J=Os.find(Qe=>Qe.id===O.target.value);pi(J)},placeholder:"Choisir un template...",children:Os.filter(O=>O.docType===ot.type).map(O=>e.jsxs("option",{value:O.id,children:[O.name," ",O.isDefault?"":""]},O.id))}),e.jsx(R,{fontSize:"xs",color:"gray.600",mt:1,children:vn?.description||"Aucun template slectionn"})]}),Bn==="pdf"&&e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",fontWeight:"bold",children:"Uploader un PDF"}),e.jsx(xe,{type:"file",accept:".pdf",size:"sm",onChange:Fo}),po&&e.jsxs(R,{fontSize:"xs",color:"green.600",mt:1,children:[" ",po.name," slectionn"]})]})]})]})})]})}),e.jsx(Vt,{children:e.jsxs(re,{spacing:2,children:[e.jsx(ne,{variant:"ghost",onClick:Wr,children:"Annuler"}),Bn==="template"&&vn&&e.jsx(ne,{colorScheme:"orange",onClick:ts,leftIcon:e.jsx($a,{}),children:" Aperu & PDF"}),Bn==="pdf"&&po&&e.jsx(ne,{colorScheme:"blue",onClick:()=>tt({title:"PDF attach",status:"info"}),leftIcon:e.jsx(av,{}),children:" Attacher PDF"}),e.jsx(ne,{colorScheme:"purple",onClick:Za,children:Kt?" Enregistrer":" Crer"})]})})]})]}),e.jsxs(Et,{isOpen:zi,onClose:ca,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Configuration Rapide"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"sm",children:"Configuration scurise du solde de base. Un code  4 chiffres est requis."})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Code de scurit (4 chiffres)"}),e.jsx(re,{children:e.jsxs(uj,{value:B,onChange:ie,type:"number",children:[e.jsx(fl,{}),e.jsx(fl,{}),e.jsx(fl,{}),e.jsx(fl,{})]})})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nouveau solde ()"}),e.jsxs(Yn,{value:pe,onChange:$,precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"Entrez le nouveau solde"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),pe&&!isNaN(parseFloat(pe))&&e.jsxs(sn,{status:parseFloat(pe)>=l?"success":"warning",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",children:"Aperu de la modification"}),e.jsxs(R,{fontSize:"sm",children:["Solde actuel: ",ft(l)]}),e.jsxs(R,{fontSize:"sm",children:["Nouveau solde: ",ft(parseFloat(pe))]}),e.jsxs(R,{fontSize:"sm",color:parseFloat(pe)-l>=0?"green.600":"red.600",children:["Diffrence: ",parseFloat(pe)-l>=0?"+":"",ft(parseFloat(pe)-l)]})]})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:ca,children:"Annuler"}),e.jsx(ne,{colorScheme:"orange",onClick:da,isLoading:t,leftIcon:e.jsx(ku,{}),children:"Configurer le solde"})]})]})]}),e.jsxs(Et,{isOpen:bn,onClose:zr,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Dclarer une mensualit paye"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Priode"}),e.jsx(xe,{type:"month",value:de,onChange:O=>le(O.target.value)})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Montant ()"}),e.jsxs(Yn,{value:ve,onChange:O=>Pe(O),precision:2,step:.01,children:[e.jsx(Xn,{}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Attestation / Photo"}),e.jsx(xe,{type:"file",accept:"image/*,application/pdf",onChange:O=>G(O.target.files?.[0]||null)}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"Pice justificative obligatoire"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:zr,children:"Annuler"}),e.jsx(ne,{colorScheme:"green",onClick:Gu,isLoading:t,children:"Dclarer"})]})]})]}),e.jsxs(Et,{isOpen:$i,onClose:Fi,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsxs(Tt,{children:["Paiements  ",q?.description]}),e.jsx(It,{}),e.jsx(At,{children:Z.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucun paiement enregistr"]}):e.jsxs(br,{size:"sm",variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Priode"}),e.jsx(Ie,{children:"Pay le"}),e.jsx(Ie,{isNumeric:!0,children:"Montant"}),e.jsx(Ie,{children:"Justificatif"})]})}),e.jsx(_r,{children:Z.map(O=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:O.period}),e.jsx(Ne,{children:Or(O.paidAt)}),e.jsx(Ne,{isNumeric:!0,children:ft(O.amount)}),e.jsx(Ne,{children:O.attachment?.dataUrl?e.jsx(a1,{href:O.attachment.dataUrl,target:"_blank",color:"blue.600",children:"Ouvrir"}):e.jsx(R,{fontSize:"xs",color:"gray.500",children:"N/A"})})]},O.id))})]})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:Fi,children:"Fermer"})})]})]}),e.jsxs(Et,{isOpen:Ml,onClose:Es,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Tt,{children:"Nouvelle Transaction"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:6,children:[e.jsxs(se,{spacing:4,width:"full",children:[e.jsx(Me,{size:"sm",children:"Informations de la transaction"}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Type"}),e.jsxs(st,{value:_.type,onChange:O=>A(J=>({...J,type:O.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Montant ()"}),e.jsxs(Yn,{value:_.amount,onChange:O=>A(J=>({...J,amount:O})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description"}),e.jsx(xe,{value:_.description,onChange:O=>A(J=>({...J,description:O.target.value})),placeholder:"Description de la transaction"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date"}),e.jsx(xe,{type:"date",value:_.date,onChange:O=>A(J=>({...J,date:O.target.value}))})]})]}),e.jsx(zn,{}),e.jsxs(se,{spacing:3,width:"full",children:[e.jsx(Me,{size:"sm",children:"Allouer par catgorie"}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Vous pouvez diviser ce montant entre plusieurs catgories (ex: 100 gasoil + 13 assurance)"}),T.length>0&&e.jsxs(ue,{width:"full",children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Allocations actuelles:"}),e.jsx(se,{spacing:2,align:"stretch",children:T.map((O,J)=>e.jsxs(re,{p:2,borderRadius:"md",bg:Sr("gray.100","gray.600"),justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:0,children:[e.jsxs(re,{children:[e.jsx(ue,{w:3,h:3,borderRadius:"full",bg:O.category?.color}),e.jsx(R,{fontWeight:"bold",children:O.category?.name})]}),O.notes&&e.jsx(R,{fontSize:"xs",color:"gray.500",children:O.notes})]}),e.jsxs(re,{children:[e.jsx(R,{fontWeight:"bold",children:ft(O.allocatedAmount)}),e.jsx(ut,{size:"sm",icon:e.jsx(gr,{}),colorScheme:"red",variant:"ghost",onClick:()=>{z(T.filter((Qe,St)=>St!==J))}})]})]},J))}),e.jsxs(R,{fontSize:"xs",color:"gray.500",mt:2,children:["Total allou: ",ft(T.reduce((O,J)=>O+(parseFloat(J.allocatedAmount)||0),0))," / ",ft(parseFloat(_.amount)||0)]})]}),e.jsx($e,{width:"full",children:e.jsx(Be,{children:e.jsxs(se,{spacing:3,children:[e.jsx(Me,{size:"xs",children:"Ajouter une allocation"}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Catgorie"}),e.jsxs(st,{value:P.categoryId,onChange:O=>k({...P,categoryId:O.target.value}),size:"sm",children:[e.jsx("option",{value:"",children:"Slectionner une catgorie"}),qe.map(O=>e.jsx("option",{value:O.id,children:O.name},O.id))]})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Montant ()"}),e.jsxs(Yn,{value:P.allocatedAmount,onChange:O=>k({...P,allocatedAmount:O}),precision:2,step:.01,size:"sm",children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Notes (optionnel)"}),e.jsx(Zt,{value:P.notes,onChange:O=>k({...P,notes:O.target.value}),placeholder:"ex: gasoil station Shell",rows:2,size:"sm"})]}),e.jsxs(ne,{colorScheme:"blue",width:"full",size:"sm",onClick:()=>{if(!P.categoryId||!P.allocatedAmount){tt({status:"error",title:"Remplissez catgorie et montant"});return}const O=qe.find(J=>J.id===P.categoryId);z([...T,{categoryId:P.categoryId,category:O,allocatedAmount:parseFloat(P.allocatedAmount),notes:P.notes}]),k({categoryId:"",allocatedAmount:"",notes:""})},children:[e.jsx(Nn,{})," Ajouter l'allocation"]})]})})})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Es,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:()=>{if(!_.type||!_.amount||!_.description){tt({status:"error",title:"Remplissez les champs obligatoires"});return}dt()},isLoading:t,children:"Ajouter"})]})]})]}),e.jsxs(Et,{isOpen:Rc,onClose:go,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:r===2?"Nouvel chancier":"Nouvelle Opration Programme"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[r!==2&&e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Type"}),e.jsxs(st,{value:F.type,onChange:O=>Y(J=>({...J,type:O.target.value})),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"SCHEDULED_CREDIT",children:"Crdit programm"})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:r===2?"Mensualit ( / mois)":"Montant ()"}),e.jsxs(Yn,{value:F.amount,onChange:O=>Y(J=>({...J,amount:O})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description"}),e.jsx(xe,{value:F.description,onChange:O=>Y(J=>({...J,description:O.target.value})),placeholder:"Description de l'opration"})]}),r!==2&&e.jsxs(te,{children:[e.jsx(ee,{children:"Frquence"}),e.jsxs(st,{value:F.frequency,onChange:O=>Y(J=>({...J,frequency:O.target.value})),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Prochaine excution"}),e.jsx(xe,{type:"date",value:F.nextDate,onChange:O=>Y(J=>({...J,nextDate:O.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:r===2?"Montant total (optionnel)":"Total  amortir (optionnel)"}),e.jsxs(Yn,{value:F.totalAmount,onChange:O=>Y(J=>({...J,totalAmount:O})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"Ex: 4000.00"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Permet de calculer le nombre de mensualits restantes et la date de fin estime."})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:go,children:"Annuler"}),e.jsx(ne,{colorScheme:"purple",onClick:Ah,isLoading:t,children:r===2?"Crer lchancier":"Programmer"})]})]})]}),e.jsxs(Et,{isOpen:Mc,onClose:Ni,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Nouveau Scnario de Simulation"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",children:"tape 1: Contexte du scnario"}),e.jsx(R,{fontSize:"xs",children:"Dfinissez le nom et la description. Vous pourrez ajouter les recettes et dpenses dans l'tape suivante."})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom du scnario"}),e.jsx(xe,{value:be.name,onChange:O=>Ze(J=>({...J,name:O.target.value})),placeholder:"ex: Scnario optimiste 2024"})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:be.description,onChange:O=>Ze(J=>({...J,description:O.target.value})),placeholder:"Dcrivez les hypothses et le contexte de ce scnario...",rows:4})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Priode de projection (mois)"}),e.jsxs(Yn,{value:be.projectionMonths,onChange:O=>Ze(J=>({...J,projectionMonths:parseInt(O)||12})),min:1,max:60,children:[e.jsx(Xn,{}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"Entre 1 et 60 mois"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Ni,children:"Annuler"}),e.jsx(ne,{colorScheme:"teal",onClick:Zu,isLoading:t,leftIcon:e.jsx(Ra,{}),children:"Crer le scnario"})]})]})]}),e.jsxs(Et,{isOpen:Xs,onClose:Bi,size:"6xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:e.jsxs(re,{children:[e.jsxs(R,{children:["dition: ",Ve?.name]}),e.jsx(et,{colorScheme:"blue",variant:"outline",children:"tape 2: Recettes & Dpenses"})]})}),e.jsx(It,{}),e.jsxs(At,{children:[Ve&&e.jsxs(ho,{templateColumns:"1fr 1fr",gap:6,children:[e.jsx(se,{align:"stretch",spacing:4,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(Me,{size:"sm",color:"green.600",children:[" Recettes (",Ve.incomeItems?.length||0,")"]})}),e.jsx(Be,{children:e.jsxs(se,{spacing:3,children:[e.jsxs(re,{width:"100%",children:[e.jsx(xe,{placeholder:"Description",size:"sm",value:Ot.description,onChange:O=>ae(J=>({...J,description:O.target.value}))}),e.jsx(Yn,{size:"sm",width:"120px",value:Ot.amount,onChange:O=>ae(J=>({...J,amount:O})),children:e.jsx(Xn,{placeholder:"Montant"})}),e.jsxs(st,{size:"sm",width:"120px",value:Ot.frequency,onChange:O=>ae(J=>({...J,frequency:O.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(ut,{icon:e.jsx(Nn,{}),size:"sm",colorScheme:"green",onClick:Lc})]}),e.jsx(se,{width:"100%",spacing:2,children:Ve.incomeItems?.map((O,J)=>e.jsxs(re,{width:"100%",justify:"space-between",p:2,bg:"green.50",borderRadius:"md",children:[e.jsxs(se,{align:"start",spacing:0,flex:1,children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",children:O.description}),e.jsxs(R,{fontSize:"xs",color:"gray.600",children:[ft(O.amount)," - ",bs(O.frequency)]})]}),e.jsx(ut,{icon:e.jsx(gr,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Yu(O.id)})]},O.id))}),e.jsx(ue,{width:"100%",p:2,bg:"green.100",borderRadius:"md",children:e.jsxs(R,{fontSize:"sm",fontWeight:"bold",color:"green.700",children:["Total mensuel: ",ft(Ve.totalMonthlyIncome||0)]})})]})})]})}),e.jsx(se,{align:"stretch",spacing:4,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(Me,{size:"sm",color:"red.600",children:[" Dpenses (",Ve.expenseItems?.length||0,")"]})}),e.jsx(Be,{children:e.jsxs(se,{spacing:3,children:[e.jsxs(re,{width:"100%",children:[e.jsx(xe,{placeholder:"Description",size:"sm",value:ge.description,onChange:O=>nt(J=>({...J,description:O.target.value}))}),e.jsx(Yn,{size:"sm",width:"120px",value:ge.amount,onChange:O=>nt(J=>({...J,amount:O})),children:e.jsx(Xn,{placeholder:"Montant"})}),e.jsxs(st,{size:"sm",width:"120px",value:ge.frequency,onChange:O=>nt(J=>({...J,frequency:O.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(ut,{icon:e.jsx(Nn,{}),size:"sm",colorScheme:"red",onClick:Th})]}),e.jsx(se,{width:"100%",spacing:2,children:Ve.expenseItems?.map((O,J)=>e.jsxs(re,{width:"100%",justify:"space-between",p:2,bg:"red.50",borderRadius:"md",children:[e.jsxs(se,{align:"start",spacing:0,flex:1,children:[e.jsx(R,{fontSize:"sm",fontWeight:"bold",children:O.description}),e.jsxs(R,{fontSize:"xs",color:"gray.600",children:[ft(O.amount)," - ",bs(O.frequency)]})]}),e.jsx(ut,{icon:e.jsx(gr,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Oc(O.id)})]},O.id))}),e.jsx(ue,{width:"100%",p:2,bg:"red.100",borderRadius:"md",children:e.jsxs(R,{fontSize:"sm",fontWeight:"bold",color:"red.700",children:["Total mensuel: ",ft(Ve.totalMonthlyExpenses||0)]})})]})})]})})]}),Ve&&e.jsx($e,{mt:4,children:e.jsx(Be,{children:e.jsxs(pt,{columns:4,spacing:4,children:[e.jsxs(vt,{children:[e.jsx(yt,{children:"Recettes/mois"}),e.jsx(bt,{color:"green.600",children:ft(Ve.totalMonthlyIncome||0)})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Dpenses/mois"}),e.jsx(bt,{color:"red.600",children:ft(Ve.totalMonthlyExpenses||0)})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Rsultat/mois"}),e.jsx(bt,{color:Ve.monthlyNet>=0?"green.600":"red.600",children:ft(Ve.monthlyNet||0)})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"lments"}),e.jsx(bt,{children:(Ve.incomeItems?.length||0)+(Ve.expenseItems?.length||0)})]})]})})}),e.jsxs(te,{children:[e.jsx(ee,{children:"Motif de rgularisation"}),e.jsx(xe,{value:V,onChange:O=>M(O.target.value),placeholder:"Ex: Correction comptable, ajustement bancaire, etc."})]})]}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Bi,children:"Fermer"}),e.jsx(ne,{colorScheme:"teal",onClick:()=>Nc(Ve?.id),isLoading:t,leftIcon:e.jsx(Ra,{}),isDisabled:!Ve||Ve.itemsCount===0,children:"Excuter la simulation"})]})]})]}),e.jsxs(Et,{isOpen:gi,onClose:xi,size:"6xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:e.jsxs(re,{children:[e.jsxs(R,{children:["Rsultats: ",Je?.scenarioName]}),e.jsx(et,{colorScheme:Je?.summary?.isPositive?"green":"red",children:Je?.summary?.isPositive?"Positif":"Dficitaire"})]})}),e.jsx(It,{}),e.jsx(At,{children:Je&&e.jsxs(se,{spacing:6,children:[e.jsxs(pt,{columns:4,spacing:4,width:"100%",children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Solde initial"}),e.jsx(bt,{children:ft(Je.startingBalance)})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Solde final"}),e.jsx(bt,{color:Je.finalBalance>=0?"green.600":"red.600",children:ft(Je.finalBalance)})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"volution totale"}),e.jsxs(bt,{color:Je.totalChange>=0?"green.600":"red.600",children:[e.jsx(Wd,{type:Je.totalChange>=0?"increase":"decrease"}),ft(Math.abs(Je.totalChange))]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Rsultat/mois"}),e.jsx(bt,{color:Je.monthlyNet>=0?"green.600":"red.600",children:ft(Je.monthlyNet)})]})})})]}),e.jsxs($e,{width:"100%",children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"volution mensuelle"})}),e.jsxs(Be,{children:[e.jsx(ue,{overflowX:"auto",children:e.jsxs(br,{variant:"simple",size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Mois"}),e.jsx(Ie,{children:"Solde dbut"}),e.jsx(Ie,{isNumeric:!0,children:"Recettes"}),e.jsx(Ie,{isNumeric:!0,children:"Dpenses"}),e.jsx(Ie,{isNumeric:!0,children:"Rsultat"}),e.jsx(Ie,{isNumeric:!0,children:"Solde fin"})]})}),e.jsx(_r,{children:Je.projection.slice(0,12).map(O=>e.jsxs(Ft,{children:[e.jsxs(Ne,{children:["Mois ",O.month]}),e.jsx(Ne,{children:ft(O.startBalance)}),e.jsxs(Ne,{isNumeric:!0,color:"green.600",children:["+",ft(O.income)]}),e.jsxs(Ne,{isNumeric:!0,color:"red.600",children:["-",ft(O.expenses)]}),e.jsxs(Ne,{isNumeric:!0,color:O.net>=0?"green.600":"red.600",children:[O.net>=0?"+":"",ft(O.net)]}),e.jsx(Ne,{isNumeric:!0,fontWeight:"bold",color:O.endBalance>=0?"green.600":"red.600",children:ft(O.endBalance)})]},O.month))})]})}),Je.projection.length>12&&e.jsxs(R,{fontSize:"sm",color:"gray.500",mt:2,textAlign:"center",children:["... et ",Je.projection.length-12," mois supplmentaires"]})]})]}),Je.summary.breakEvenMonth&&e.jsxs(sn,{status:"warning",width:"100%",children:[e.jsx(on,{}),e.jsxs(R,{children:["Attention: Le solde devient ngatif au mois ",Je.summary.breakEvenMonth]})]})]})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:xi,children:"Fermer"})})]})]})]})})},Ky={public_open_access:{name:"Ouvert au Public",icon:nh,color:"green",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"vnement ouvert au public, accs libre sans inscription"},public_with_registration:{name:"Public avec Inscription",icon:oo,color:"blue",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:15,childPrice:8,maxParticipants:100,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"vnement public avec inscription ouverte directement au public"},private_outing:{name:"Sortie Prive",icon:fj,color:"yellow",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Sortie visible publiquement mais rserve (pas d'inscription possible)"},public_contact_required:{name:"Contact Association Requis",icon:fj,color:"orange",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:30,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Visible par tous mais inscription uniquement en contactant l'association"},members_only:{name:"Adhrents Seulement",icon:Rl,color:"purple",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:50,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"Rserv aux adhrents, non visible sur le site public"},private_internal:{name:"vnement Interne",icon:Rl,color:"red",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"DRAFT"},description:"vnement interne, compltement priv"},public_pdf_form:{name:"Formulaire PDF Public",icon:$a,color:"teal",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:null,registrationDeadline:"",registrationMethod:"pdf",status:"PUBLISHED"},description:"vnement public avec formulaire PDF  tlcharger"},parade_classic_vehicles:{name:" Dfil Anciennes",icon:yc,color:"red",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED",registrationType:"parade_vehicles"},description:"Dfil de vhicules anciens - Inscription avec nom, vhicule et club"}},mQ=()=>{const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!1),[d,m]=y.useState(!1),[p,g]=y.useState("cards"),[x,j]=y.useState(""),S=wn(),{isOpen:C,onOpen:_,onClose:A}=Dt(),[T,z]=y.useState(null),[P,k]=y.useState(null),[I,N]=y.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),F=async()=>{const V=localStorage.getItem("token");if(console.log(" Testing API connection..."),console.log("Token exists:",!!V),!V){S({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const M=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`}});if(console.log("GET /events status:",M.status),M.ok){const Q=await M.json();console.log(" GET API works, events:",Q.length),n(Array.isArray(Q)?Q:[]),console.log(" Testing POST with minimal data...");const Ee={id:`test-${Date.now()}`,title:"Test Event",date:"2025-12-31",status:"DRAFT"},Le=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify(Ee)});if(console.log("POST /events status:",Le.status),Le.ok){const Ae=await Le.json();console.log(" POST works, created:",Ae),await fetch(`https://refreshing-adaptation-rbe-serveurs.up.railway.app/events/${Ee.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${V}`}}),S({status:"success",title:"API entirement fonctionnelle",description:"GET et POST fonctionnent correctement"})}else{const Ae=await Le.text();console.log(" POST error:",Le.status,Ae),S({status:"error",title:`Erreur POST ${Le.status}`,description:Ae})}}else{const Q=await M.text();console.log(" GET error:",M.status,Q),S({status:"error",title:`Erreur GET ${M.status}`,description:Q})}}catch(M){console.error("Network error:",M),S({status:"error",title:"Erreur rseau",description:M.message})}},Y=y.useCallback(async()=>{try{u(!0);const V=localStorage.getItem("token");if(!V){S({status:"warning",title:"Session expire",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}try{const Q=V.split(".");if(Q.length!==3)throw new Error("Format de token invalide");const Ee=JSON.parse(atob(Q[1])),Le=Math.floor(Date.now()/1e3);if(Ee.exp&&Ee.exp<Le)throw new Error("Token expir")}catch(Q){console.error("Token invalide:",Q),localStorage.removeItem("token"),localStorage.removeItem("user"),S({status:"error",title:"Session invalide",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}const M=await Mo.getAll();n(Array.isArray(M)?M:[])}catch(V){if(console.error("Erreur events API:",V),V.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}V.message.includes("400")?S({status:"error",title:"Erreur 400 - Bad Request",description:"Problme avec la requte. Cliquez sur 'Tester API' pour diagnostiquer."}):S({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements."}),n([])}finally{u(!1)}},[S]),q=y.useCallback(async()=>{try{const V=await cp.getAll();i(Array.isArray(V)?V:[])}catch(V){console.error(V),i([])}},[]);y.useEffect(()=>{Y(),q()},[Y,q]);const ce=()=>{N({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),j("")},de=V=>{const M=Ky[V];M&&(N(Q=>({...Q,...M.defaults,eventType:V,title:Q.title,date:Q.date,time:Q.time,location:Q.location,description:Q.description,vehicleId:Q.vehicleId})),j(V),S({status:"info",title:"Template appliqu",description:M.description}))},le=()=>{z(null),ce(),_()},ve=V=>{z(V);let M={};try{M=V.extras?JSON.parse(V.extras):{}}catch(Q){console.log("Impossible de parser extras:",Q)}N({title:V.title||"",date:V.date||"",time:V.time||"",location:V.location||"",description:V.description||"",adultPrice:V.adultPrice||"",childPrice:V.childPrice||"",helloAssoUrl:V.helloAssoUrl||"",vehicleId:V.vehicleId||"",status:V.status||"DRAFT",isVisible:M.isVisible!==!1,allowPublicRegistration:M.allowPublicRegistration||!1,requiresRegistration:M.requiresRegistration||!!V.helloAssoUrl,isFree:M.isFree!==!1,maxParticipants:M.maxParticipants||"",registrationDeadline:M.registrationDeadline||"",registrationMethod:M.registrationMethod||(V.helloAssoUrl?"helloasso":"none"),pdfUrl:M.pdfUrl||"",eventType:M.eventType||"public_info_only"}),j(M.eventType||""),_()},Pe=(V,M)=>{const Q=V.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,30),Ee=M.replace(/-/g,""),Le=Math.random().toString(36).substring(2,6);return`${Q}-${Ee}-${Le}`},me=async()=>{if(!I.title.trim()){S({status:"warning",title:"Le titre est requis"});return}if(!I.date){S({status:"warning",title:"La date est requise"});return}try{m(!0);const V={title:I.title.trim(),date:I.date,time:I.time||null,location:I.location.trim()||null,description:I.description.trim()||null,adultPrice:I.adultPrice?parseFloat(I.adultPrice):null,childPrice:I.childPrice?parseFloat(I.childPrice):null,helloAssoUrl:I.helloAssoUrl.trim()||null,vehicleId:I.vehicleId||null,status:I.status,extras:{isVisible:I.isVisible,allowPublicRegistration:I.allowPublicRegistration,requiresRegistration:I.requiresRegistration,isFree:I.isFree,maxParticipants:I.maxParticipants?parseInt(I.maxParticipants):null,registrationDeadline:I.registrationDeadline||null,registrationMethod:I.registrationMethod,pdfUrl:I.pdfUrl||null,eventType:I.eventType}};T||(V.id=Pe(I.title,I.date),console.log(" Generated ID:",V.id)),console.log(" Saving event data:",V),T?(await Mo.update(T.id,V),S({status:"success",title:"vnement modifi avec succs"})):(await Mo.create(V),S({status:"success",title:"vnement cr avec succs"})),await Y(),A(),ce()}catch(V){console.error("Save error:",V),V.message.includes("409")||V.message.includes("ID dj utilis")?S({status:"error",title:"ID dj utilis",description:"Un vnement avec ce nom et cette date existe dj. Modifiez le titre ou la date."}):V.message.includes("400")?(console.log("Dtails erreur 400 - Data envoye:",eventData),S({status:"error",title:"Erreur 400 - Donnes invalides",description:"Vrifiez la console pour voir les donnes envoyes."})):S({status:"error",title:"Erreur lors de la sauvegarde",description:V.message})}finally{m(!1)}},G=async V=>{if(confirm(`tes-vous sr de vouloir supprimer l'vnement "${V.title}" ?`))try{await Mo.delete(V.id),S({status:"success",title:"vnement supprim"}),await Y()}catch(M){S({status:"error",title:"Erreur lors de la suppression",description:M.message})}},Z=async V=>{const M=V.status==="PUBLISHED"?"DRAFT":"PUBLISHED";try{console.log(" Toggling status from",V.status,"to",M),await Mo.update(V.id,{status:M}),S({status:"success",title:`vnement ${M==="PUBLISHED"?"publi":"dpubli"}`}),await Y()}catch(Q){console.error("Erreur toggle publish:",Q),S({status:"error",title:"Erreur lors de la publication",description:Q.message})}},H=V=>V==="PUBLISHED"?e.jsx(et,{colorScheme:"green",children:"Publi"}):e.jsx(et,{colorScheme:"gray",children:"Brouillon"}),W=V=>{try{const Q=(V.extras?JSON.parse(V.extras):{}).eventType||"public_info_only",Ee=Ky[Q];if(Ee)return e.jsxs(et,{colorScheme:Ee.color,variant:"subtle",children:[e.jsx(Hn,{as:Ee.icon,mr:1}),Ee.name]})}catch(M){console.log("Error parsing event extras:",M)}return e.jsx(et,{colorScheme:"gray",children:"Standard"})},Se=V=>{try{const M=V.extras?JSON.parse(V.extras):{};return console.log(` Internal - Event "${V.title}" extras:`,M),M.isVisible?M.requiresRegistration?M.requiresRegistration&&!M.allowPublicRegistration?e.jsx(ne,{size:"sm",leftIcon:e.jsx(fj,{}),colorScheme:"orange",variant:"outline",isDisabled:!0,children:"Contact requis"}):M.requiresRegistration&&M.allowPublicRegistration?e.jsx(ne,{size:"sm",leftIcon:e.jsx(oo,{}),colorScheme:"blue",variant:"solid",isDisabled:!0,children:"Inscription publique"}):e.jsx(ne,{size:"sm",leftIcon:e.jsx(nh,{}),colorScheme:"gray",variant:"outline",isDisabled:!0,children:"Indtermin"}):e.jsx(ne,{size:"sm",leftIcon:e.jsx(nh,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Ouvert au public"}):e.jsx(ne,{size:"sm",leftIcon:e.jsx(Rl,{}),colorScheme:"red",variant:"solid",isDisabled:!0,children:"Priv/Interne"})}catch(M){return console.log(`Error parsing extras for ${V.title}:`,M),e.jsx(ne,{size:"sm",leftIcon:e.jsx(nh,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Legacy (ouvert)"})}},B=V=>{const M=r.find(Q=>Q.parc===V);return M?`${M.parc} - ${M.modele}`:"Aucun vhicule"},ie=t.find(V=>V.id===P);ie&&r.find(V=>V.parc===ie.vehicleId);const pe=()=>e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(V=>e.jsxs($e,{shadow:"md",position:"relative",children:[e.jsx(Nt,{pb:2,children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsxs(re,{justify:"space-between",w:"100%",children:[e.jsx(Me,{size:"md",noOfLines:2,flex:1,children:V.title}),Se(V)]}),e.jsxs(re,{spacing:2,wrap:"wrap",children:[H(V.status),W(V)]})]})}),e.jsx(Be,{pt:0,children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx(ui,{}),e.jsxs(R,{fontSize:"sm",children:[V.date," ",V.time&&` ${V.time}`]})]}),V.location&&e.jsxs(re,{children:[e.jsx(vc,{}),e.jsx(R,{fontSize:"sm",children:V.location})]}),V.vehicleId&&e.jsxs(R,{fontSize:"sm",children:[" ",B(V.vehicleId)]}),V.description&&e.jsx(R,{fontSize:"sm",color:"gray.600",noOfLines:3,children:V.description}),(V.adultPrice||V.childPrice)&&e.jsxs(re,{spacing:4,children:[V.adultPrice&&e.jsxs(R,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Adulte: ",V.adultPrice,""]}),V.childPrice&&e.jsxs(R,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Enfant: ",V.childPrice,""]})]}),e.jsxs(re,{spacing:2,pt:4,w:"100%",wrap:"wrap",children:[e.jsx(ne,{leftIcon:e.jsx(Ls,{}),size:"sm",onClick:()=>ve(V),children:"Modifier"}),e.jsx(ne,{leftIcon:e.jsx(Rp,{}),size:"sm",colorScheme:V.status==="PUBLISHED"?"red":"green",onClick:()=>Z(V),children:V.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(ne,{leftIcon:e.jsx(gr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>G(V),children:"Supprimer"})]})]})})]},V.id))}),$=()=>e.jsx(ue,{overflowX:"auto",children:e.jsxs(br,{variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Titre"}),e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:t.map(V=>e.jsxs(Ft,{bg:V.id===P?"blue.50":void 0,cursor:"pointer",onClick:()=>k(V.id===P?null:V.id),_hover:{bg:"gray.50"},children:[e.jsx(Ne,{fontWeight:"semibold",children:V.title}),e.jsxs(Ne,{children:[V.date," ",V.time&&` ${V.time}`]}),e.jsx(Ne,{children:W(V)}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:1,children:[H(V.status),Se(V)]})}),e.jsx(Ne,{children:e.jsxs(re,{spacing:1,children:[e.jsx(ne,{size:"sm",onClick:M=>{M.stopPropagation(),ve(V)},children:"diter"}),e.jsx(ne,{size:"sm",colorScheme:V.status==="PUBLISHED"?"red":"green",onClick:M=>{M.stopPropagation(),Z(V)},children:V.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(ne,{size:"sm",colorScheme:"red",variant:"outline",onClick:M=>{M.stopPropagation(),G(V)},children:"Supprimer"})]})})]},V.id))})]})});return e.jsxs(ue,{p:6,children:[e.jsxs(Qn,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{children:" Cration des vnements"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(re,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(Ls,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:F,children:"Tester API"}),e.jsx(ne,{leftIcon:p==="cards"?e.jsx(OM,{}):e.jsx(j1,{}),size:"sm",variant:"outline",onClick:()=>g(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:le,children:"Nouvel vnement"})]})]}),l?e.jsx(xn,{py:20,children:e.jsx(pn,{size:"xl"})}):t.length===0?e.jsx(xn,{py:20,children:e.jsxs(se,{spacing:4,children:[e.jsx(R,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsxs(re,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(Ls,{}),colorScheme:"purple",variant:"outline",onClick:F,children:"Tester API"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:le,children:"Crer le premier vnement"})]})]})}):p==="cards"?e.jsx(pe,{}):e.jsx($,{}),e.jsxs(Et,{isOpen:C,onClose:A,size:"6xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Tt,{children:T?"Modifier l'vnement":"Nouvel vnement"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(sa,{children:[e.jsxs(ia,{children:[e.jsx(ln,{children:" Informations de base"}),e.jsx(ln,{children:" Configuration"}),e.jsx(ln,{children:" Templates"})]}),e.jsxs(oa,{children:[e.jsx(cn,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre"}),e.jsx(xe,{value:I.title,onChange:V=>N(M=>({...M,title:V.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Date"}),e.jsx(xe,{type:"date",value:I.date,onChange:V=>N(M=>({...M,date:V.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Heure"}),e.jsx(xe,{type:"time",value:I.time,onChange:V=>N(M=>({...M,time:V.target.value}))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Lieu"}),e.jsx(xe,{value:I.location,onChange:V=>N(M=>({...M,location:V.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Vhicule participant"}),e.jsx(st,{value:I.vehicleId,onChange:V=>N(M=>({...M,vehicleId:V.target.value})),placeholder:"Slectionner un vhicule (optionnel)",children:r.map(V=>e.jsxs("option",{value:V.parc,children:[V.parc," - ",V.modele," (",V.marque,")"]},V.parc))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:I.description,onChange:V=>N(M=>({...M,description:V.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:6,children:[e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(Me,{size:"sm",mb:3,children:" Visibilit"}),e.jsxs(te,{children:[e.jsxs(re,{children:[e.jsx(jr,{isChecked:I.isVisible,onChange:V=>N(M=>({...M,isVisible:V.target.checked}))}),e.jsx(ee,{mb:0,children:"Visible sur le site public"})]}),e.jsxs(sn,{status:I.isVisible?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"sm",children:I.isVisible?" L'vnement apparatra sur la page Events du site externe":" vnement priv, visible seulement dans l'interface interne"})]})]})]}),e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(Me,{size:"sm",mb:3,children:" Gestion des inscriptions"}),e.jsxs(se,{spacing:4,align:"start",children:[e.jsxs(te,{children:[e.jsxs(re,{children:[e.jsx(jr,{isChecked:I.requiresRegistration,onChange:V=>N(M=>({...M,requiresRegistration:V.target.checked}))}),e.jsx(ee,{mb:0,children:"Inscription requise pour participer"})]}),e.jsxs(sn,{status:I.requiresRegistration?"info":"success",mt:2,borderRadius:"md",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"sm",children:I.requiresRegistration?" Une inscription sera ncessaire pour participer  cet vnement":" Bouton 'Ouvert au public' - Aucune inscription ncessaire"})]})]}),I.requiresRegistration&&e.jsxs(te,{children:[e.jsxs(re,{children:[e.jsx(jr,{isChecked:I.allowPublicRegistration,onChange:V=>N(M=>({...M,allowPublicRegistration:V.target.checked}))}),e.jsx(ee,{mb:0,children:"Le public peut s'inscrire directement"})]}),e.jsxs(sn,{status:I.allowPublicRegistration?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"sm",children:I.allowPublicRegistration?" Bouton d'inscription disponible sur le site externe":" Bouton 'Contacter l'association' - Inscription via contact uniquement"})]})]})]})]}),e.jsxs(ue,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(Me,{size:"sm",mb:3,children:" Tarification"}),e.jsxs(se,{spacing:3,align:"start",children:[e.jsx(te,{children:e.jsxs(re,{children:[e.jsx(jr,{isChecked:I.isFree,onChange:V=>N(M=>({...M,isFree:V.target.checked,adultPrice:V.target.checked?"":M.adultPrice,childPrice:V.target.checked?"":M.childPrice}))}),e.jsx(ee,{mb:0,children:"vnement gratuit"})]})}),!I.isFree&&e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Prix adulte ()"}),e.jsx(xe,{type:"number",step:"0.01",value:I.adultPrice,onChange:V=>N(M=>({...M,adultPrice:V.target.value})),placeholder:"15.00"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Prix enfant ()"}),e.jsx(xe,{type:"number",step:"0.01",value:I.childPrice,onChange:V=>N(M=>({...M,childPrice:V.target.value})),placeholder:"8.00"})]})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Statut de publication"}),e.jsxs(st,{value:I.status,onChange:V=>N(M=>({...M,status:V.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"})]})]})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,children:[e.jsx(R,{fontSize:"lg",fontWeight:"bold",mb:4,children:" Choisissez un template pour configurer rapidement votre vnement"}),e.jsx(pt,{columns:{base:1,md:2},spacing:4,w:"100%",children:Object.entries(Ky).map(([V,M])=>e.jsx($e,{cursor:"pointer",onClick:()=>de(V),bg:x===V?`${M.color}.50`:"white",borderColor:x===V?`${M.color}.200`:"gray.200",borderWidth:"2px",_hover:{borderColor:`${M.color}.300`},children:e.jsx(Be,{children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx(Hn,{as:M.icon,color:`${M.color}.500`}),e.jsx(R,{fontWeight:"bold",color:`${M.color}.700`,children:M.name})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:M.description}),x===V&&e.jsx(et,{colorScheme:M.color,children:"Slectionn"})]})})},V))}),x&&e.jsxs(sn,{status:"info",borderRadius:"md",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"bold",children:"Template appliqu"}),e.jsx(R,{fontSize:"sm",children:`Vous pouvez maintenant personnaliser les paramtres dans l'onglet "Configuration"`})]})]})]})})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:()=>{A(),ce()},children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:me,isLoading:d,children:T?"Modifier":"Crer"})]})]})]})]})},gQ=t=>{const n={DRAFT:{cs:"gray",label:"Brouillon"},PUBLISHED:{cs:"green",label:"Publi"},ARCHIVED:{cs:"orange",label:"Archiv"}},r=n[t]??n.DRAFT;return e.jsx(et,{colorScheme:r.cs,children:r.label})},xQ=t=>{if(!t)return"Date non dfinie";try{return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}};function vQ(){const t=wn(),[n,r]=y.useState([]),[i,l]=y.useState(!0),[u,d]=y.useState(""),[m,p]=y.useState("ALL"),[g,x]=y.useState(null),[j,S]=y.useState([]),[C,_]=y.useState([]),[A,T]=y.useState({revenue:0,expenses:0,profit:0,capacity:0,occupancy:0,rate:0,breakdown:null}),[z,P]=y.useState({url:"",org:"",event:""}),{isOpen:k,onOpen:I,onClose:N}=Dt(),[F,Y]=y.useState(!1);y.useEffect(()=>{(async()=>{l(!0);try{const M=await Mo.getAll();r(Array.isArray(M)?M:[])}catch{t({status:"error",title:"Erreur",description:"Impossible de charger les vnements"})}finally{l(!1)}})()},[t]);const q=y.useMemo(()=>{const M=u.trim().toLowerCase();return(n||[]).filter(Q=>{const Ee=Q.title?.toLowerCase().includes(M)||Q.location?.toLowerCase().includes(M),Le=m==="ALL"||Q.status===m;return Ee&&Le})},[n,u,m]),ce=y.useMemo(()=>{const M=n.length,Q=n.filter(Le=>Le.status==="PUBLISHED").length,Ee=n.filter(Le=>Le.status==="PUBLISHED"&&new Date(Le.date)>new Date).length;return{total:M,published:Q,upcoming:Ee,totalParticipants:0,totalRevenue:0}},[n]),de=M=>{x(M),S([]),_([{id:1,name:"Trajet principal",vehicle:M.vehicleId||"Bus",capacity:45,stops:[{name:"Dpart",time:"09:00",address:""},{name:M.location||"Arrive",time:"10:00",address:M.location||""}]}]),P({url:M.helloAssoUrl||"",org:M.helloAssoOrg||"",event:M.helloAssoEvent||""}),I()},le=M=>{if(!M?.name||!M?.email){t({status:"warning",title:"Nom et email requis"});return}const Q=C.reduce((Le,Ae)=>Le+(Ae.capacity||0),0),Ee=j.filter(Le=>Le.status==="confirmed").length;if(M.status==="confirmed"&&Ee>=Q){t({status:"error",title:"Capacit atteinte"});return}S(Le=>[...Le,{id:Date.now(),type:"adult",status:"pending",...M}])},ve=(M,Q)=>{S(Ee=>Ee.map(Le=>Le.id===M?{...Le,...Q}:Le))},Pe=M=>S(Q=>Q.filter(Ee=>Ee.id!==M)),me=()=>{_(M=>[...M,{id:Date.now(),name:"Nouveau trajet",vehicle:"",capacity:0,stops:[]}])},G=(M,Q)=>{const Ee=parseInt(Q||0,10);_(Le=>Le.map(Ae=>Ae.id===M?{...Ae,capacity:Ee}:Ae))},Z=y.useMemo(()=>{if(!g)return null;const M=parseFloat(g.adultPrice||0),Q=parseFloat(g.childPrice||0),Ee=j.filter(be=>be.status==="confirmed"),Le=Ee.filter(be=>be.type==="adult").length,Ae=Ee.filter(be=>be.type==="child").length,it=Math.round(Le*M+Ae*Q),ct=C.reduce((be,Ze)=>be+(Ze.capacity||0),0),Je=Ee.length,zt=ct>0?Math.round(Je/ct*100):0,Ve=Math.round(it*.25+ct*2+Je*3),$t=it-Ve;return{revenue:it,expenses:Ve,profit:$t,capacity:ct,occupancy:Je,rate:zt,breakdown:{adult:{price:M,count:Le,total:M*Le},child:{price:Q,count:Ae,total:Q*Ae},expenseLines:[{label:"Base (25%)",amount:Math.round(it*.25)},{label:`Capacit (${ct})`,amount:Math.round(ct*2)},{label:`Participants (${Je})`,amount:Math.round(Je*3)}]}}},[g,j,C]);y.useEffect(()=>{Z&&T(Z)},[Z]);const H=async()=>{Y(!0);try{t({status:"success",title:"Modifications sauvegardes"})}catch{t({status:"error",title:"Erreur de sauvegarde"})}finally{Y(!1)}},[W,Se]=y.useState({type:"recette",description:"",amount:0,category:""}),[B,ie]=y.useState(!1),[pe,$]=y.useState([]),V=async()=>{if(g){ie(!0);try{const M={id:Date.now(),...W,date:new Date};$(Q=>[...Q,M]),Se({type:"recette",description:"",amount:0,category:""}),t({status:"success",title:"Transaction ajoute"})}catch{t({status:"error",title:"Erreur d'ajout de transaction"})}finally{ie(!1)}}};return e.jsxs(zs,{maxW:"7xl",py:6,children:[e.jsxs(se,{align:"start",spacing:6,mb:8,children:[e.jsxs(re,{w:"100%",justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"lg",children:" Gestion des vnements"}),e.jsx(R,{color:"gray.600",children:"Administration des vnements, participants et finances"})]}),e.jsxs(re,{children:[e.jsx(ne,{as:or,to:"/dashboard/evenements",leftIcon:e.jsx(Nn,{}),colorScheme:"blue",variant:"outline",children:"Crer un vnement"}),e.jsx(ne,{leftIcon:e.jsx(ea,{}),onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})]}),e.jsxs(pt,{columns:{base:2,md:5},spacing:4,w:"100%",children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Total"}),e.jsx(bt,{color:"blue.500",children:ce.total})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Publis"}),e.jsx(bt,{color:"green.500",children:ce.published})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:" venir"}),e.jsx(bt,{color:"orange.500",children:ce.upcoming})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Participants"}),e.jsx(bt,{color:"purple.500",children:ce.totalParticipants})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Revenus"}),e.jsxs(bt,{color:"green.600",children:[ce.totalRevenue,""]})]})})})]})]}),e.jsx($e,{mb:6,children:e.jsx(Be,{children:e.jsxs(re,{spacing:4,children:[e.jsxs(Lu,{maxW:"320px",children:[e.jsx(Ou,{pointerEvents:"none",children:e.jsx(lv,{})}),e.jsx(xe,{placeholder:"Rechercher un vnement...",value:u,onChange:M=>d(M.target.value)})]}),e.jsxs(st,{maxW:"220px",value:m,onChange:M=>p(M.target.value),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),e.jsx("option",{value:"PUBLISHED",children:"Publis"}),e.jsx("option",{value:"DRAFT",children:"Brouillons"}),e.jsx("option",{value:"ARCHIVED",children:"Archivs"})]})]})})}),i?e.jsx(xn,{py:20,children:e.jsx(pn,{size:"xl"})}):q.length===0?e.jsx($e,{children:e.jsx(Be,{children:e.jsx(xn,{py:16,children:e.jsxs(se,{spacing:4,children:[e.jsx(R,{color:"gray.500",children:"Aucun vnement trouv"}),e.jsx(ne,{as:or,to:"/dashboard/evenements",leftIcon:e.jsx(Nn,{}),colorScheme:"blue",children:"Crer le premier"})]})})})}):e.jsx($e,{children:e.jsx(Be,{p:0,children:e.jsxs(br,{variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"vnement"}),e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:q.map(M=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"semibold",children:M.title}),M.location&&e.jsxs(re,{fontSize:"sm",color:"gray.600",children:[e.jsx(vc,{}),e.jsx(R,{children:M.location})]}),M.vehicleId&&e.jsxs(re,{fontSize:"sm",color:"blue.600",children:[e.jsx(yc,{}),e.jsx(R,{children:M.vehicleId})]})]})}),e.jsxs(Ne,{children:[xQ(M.date),M.time?e.jsx(R,{fontSize:"sm",color:"gray.600",children:M.time}):null]}),e.jsx(Ne,{children:gQ(M.status)}),e.jsx(Ne,{children:e.jsxs(re,{spacing:1,children:[e.jsx(Zs,{label:"Gestion complte",children:e.jsx(ut,{"aria-label":"Grer",icon:e.jsx(Rp,{}),size:"sm",variant:"ghost",onClick:()=>de(M)})}),e.jsx(Zs,{label:"Modifier l'vnement",children:e.jsx(ut,{as:or,to:"/dashboard/evenements","aria-label":"Modifier",icon:e.jsx(Ls,{}),size:"sm",variant:"ghost"})}),e.jsx(Zs,{label:"Exporter ( venir)",children:e.jsx(ut,{"aria-label":"Exporter",icon:e.jsx($a,{}),size:"sm",variant:"ghost",onClick:()=>t({status:"info",title:"Bientt disponible"})})})]})})]},M.id))})]})})}),e.jsxs(Et,{isOpen:k,onClose:N,size:"6xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",children:[e.jsx(Tt,{children:e.jsxs(re,{children:[e.jsx(Rp,{}),e.jsxs(R,{ml:2,children:["Gestion : ",g?.title]})]})}),e.jsx(It,{}),e.jsx(At,{overflow:"auto",children:e.jsxs(sa,{children:[e.jsxs(ia,{children:[e.jsx(ln,{children:" Participants"}),e.jsx(ln,{children:" Trajets"}),e.jsx(ln,{children:" Finances"}),e.jsx(ln,{children:" HelloAsso"})]}),e.jsxs(oa,{children:[e.jsx(cn,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(Me,{size:"md",children:["Participants (",j.length,")"]}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",size:"sm",onClick:()=>le({name:"Nouveau participant",email:`user${Date.now()}@mail.com`,type:"adult",status:"pending"}),children:"Ajouter vite (dmo)"})]}),j.length===0?e.jsx(xn,{py:8,children:e.jsx(R,{color:"gray.500",children:"Aucun participant"})}):e.jsxs(br,{size:"sm",variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Nom"}),e.jsx(Ie,{children:"Email"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{})]})}),e.jsx(_r,{children:j.map(M=>e.jsxs(Ft,{children:[e.jsx(Ne,{fontWeight:"bold",children:M.name}),e.jsx(Ne,{children:M.email}),e.jsx(Ne,{children:e.jsxs(st,{size:"sm",value:M.type,onChange:Q=>ve(M.id,{type:Q.target.value}),children:[e.jsx("option",{value:"adult",children:"Adulte"}),e.jsx("option",{value:"child",children:"Enfant"})]})}),e.jsx(Ne,{children:e.jsxs(st,{size:"sm",value:M.status,onChange:Q=>ve(M.id,{status:Q.target.value}),children:[e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirm"}),e.jsx("option",{value:"cancelled",children:"Annul"})]})}),e.jsx(Ne,{isNumeric:!0,children:e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Pe(M.id)})})]},M.id))})]})]})}),e.jsx(cn,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"md",children:"Trajets"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),size:"sm",colorScheme:"blue",onClick:me,children:"Ajouter un trajet"})]}),e.jsx($e,{bg:"blue.50",borderLeft:"4px solid",borderLeftColor:"blue.400",children:e.jsx(Be,{children:e.jsxs(re,{spacing:8,children:[e.jsxs(vt,{children:[e.jsx(yt,{children:"Capacit totale"}),e.jsxs(bt,{color:"blue.600",children:[A.capacity," places"]})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Confirms"}),e.jsx(bt,{color:"green.600",children:A.occupancy})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Taux d'occupation"}),e.jsxs(bt,{color:"purple.600",children:[A.rate,"%"]})]})]})})}),e.jsx(pt,{columns:{base:1,lg:2},spacing:4,children:C.map(M=>e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"sm",children:M.name}),M.vehicle&&e.jsx(et,{colorScheme:"blue",children:M.vehicle})]})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(re,{children:[e.jsx(oo,{}),e.jsx(R,{fontSize:"sm",children:"Capacit:"}),e.jsxs(Yn,{size:"sm",min:0,max:200,value:M.capacity||0,onChange:Q=>G(M.id,Q),w:"90px",children:[e.jsx(Xn,{}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"places"})]}),e.jsxs(re,{spacing:3,children:[e.jsxs(R,{fontSize:"sm",fontWeight:"bold",children:[A.occupancy," / ",M.capacity||0]}),e.jsx(xc,{value:(M.capacity||0)>0?Math.min(100,Math.round(A.occupancy/M.capacity*100)):0,size:"sm",colorScheme:(M.capacity||0)>0&&A.occupancy/(M.capacity||1)>.9?"red":(M.capacity||0)>0&&A.occupancy/(M.capacity||1)>.75?"orange":"green",flex:1})]}),e.jsx(ue,{fontSize:"sm",color:"gray.600",children:M.stops?.length?e.jsx("ul",{style:{marginLeft:"1rem"},children:M.stops.map((Q,Ee)=>e.jsxs("li",{children:[Q.time?`${Q.time}  `:"",Q.name]},Ee))}):e.jsx(R,{children:"Aucun arrt"})})]})})]},M.id))})]})}),e.jsx(cn,{children:e.jsxs(se,{align:"stretch",spacing:6,children:[e.jsx(Me,{size:"md",children:"Finances"}),e.jsxs(pt,{columns:{base:1,md:4},spacing:4,children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Revenus"}),e.jsxs(bt,{color:"green.500",children:[A.revenue,""]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Dpenses"}),e.jsxs(bt,{color:"red.500",children:[A.expenses,""]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Bnfice"}),e.jsxs(bt,{color:A.profit>=0?"green.500":"red.500",children:[A.profit,""]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Taux d'occupation"}),e.jsxs(bt,{color:"blue.500",children:[A.rate,"%"]}),e.jsxs(R,{fontSize:"xs",color:"gray.600",children:[A.occupancy," / ",A.capacity," places"]})]})})})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Revenus"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(R,{children:["Adulte (",A.breakdown?.adult.count,")"]}),e.jsxs(R,{fontWeight:"bold",children:[Math.round(A.breakdown?.adult.total||0),""]})]}),e.jsxs(re,{justify:"space-between",children:[e.jsxs(R,{children:["Enfant (",A.breakdown?.child.count,")"]}),e.jsxs(R,{fontWeight:"bold",children:[Math.round(A.breakdown?.child.total||0),""]})]}),e.jsx(zn,{}),e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{fontWeight:"bold",children:"Total"}),e.jsxs(R,{fontWeight:"bold",color:"green.500",children:[A.revenue,""]})]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Dpenses"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[A.breakdown?.expenseLines?.map((M,Q)=>e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{fontSize:"sm",children:M.label}),e.jsxs(R,{fontWeight:"bold",children:[M.amount,""]})]},Q)),e.jsx(zn,{}),e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{fontWeight:"bold",children:"Total"}),e.jsxs(R,{fontWeight:"bold",color:"red.500",children:[A.expenses,""]})]})]})})]})]})]})}),e.jsx(cn,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:"Configuration HelloAsso"}),e.jsxs(te,{children:[e.jsx(ee,{children:"URL de l'vnement"}),e.jsx(xe,{placeholder:"https://www.helloasso.com/associations/.../evenements/...",value:z.url,onChange:M=>P(Q=>({...Q,url:M.target.value}))}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"Optionnel : on peut parser plus tard"})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Organisation"}),e.jsx(xe,{value:z.org,onChange:M=>P(Q=>({...Q,org:M.target.value})),placeholder:"nom-organisation"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"vnement"}),e.jsx(xe,{value:z.event,onChange:M=>P(Q=>({...Q,event:M.target.value})),placeholder:"nom-evenement"})]})]}),e.jsx(ne,{leftIcon:e.jsx(ku,{}),onClick:()=>t({status:"success",title:"Paramtres enregistrs"}),colorScheme:"blue",children:"Sauvegarder"}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"sm",children:"Participants HelloAsso"}),e.jsx(et,{colorScheme:"gray",children:"Non synchronis"})]})}),e.jsxs(Be,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"La synchronisation sera ajoute ultrieurement."}),e.jsxs(ue,{mt:3,children:[e.jsxs(xx,{fontSize:"xs",children:["org: ",z.org||"-"]}),"  ",e.jsxs(xx,{fontSize:"xs",children:["event: ",z.event||"-"]})]})]})]})]})}),e.jsx(cn,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(Me,{size:"md",children:"Transactions lies  lvnement"}),e.jsxs(re,{children:[e.jsxs(st,{maxW:"160px",value:W.type,onChange:M=>Se(Q=>({...Q,type:M.target.value})),children:[e.jsx("option",{value:"recette",children:"Recette"}),e.jsx("option",{value:"depense",children:"Dpense"})]}),e.jsx(xe,{placeholder:"Description",value:W.description,onChange:M=>Se(Q=>({...Q,description:M.target.value}))}),e.jsxs(Yn,{maxW:"160px",value:W.amount,min:0,precision:2,step:1,onChange:(M,Q)=>Se(Ee=>({...Ee,amount:Number.isFinite(Q)?Q:0})),children:[e.jsx(Xn,{placeholder:"Montant"}),e.jsxs(ai,{children:[e.jsx(ci,{}),e.jsx(li,{})]})]}),e.jsxs(st,{maxW:"220px",placeholder:"Catgorie",value:W.category,onChange:M=>Se(Q=>({...Q,category:M.target.value})),children:[e.jsx("option",{value:"evenements",children:"vnements"}),e.jsx("option",{value:"carburant",children:"Carburant"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"materiel",children:"Matriel"}),e.jsx("option",{value:"autres",children:"Autres"})]}),e.jsx(ne,{leftIcon:e.jsx(ku,{}),colorScheme:"blue",onClick:V,children:"Ajouter"})]}),e.jsx($e,{children:e.jsx(Be,{p:0,children:B?e.jsx(xn,{py:8,children:e.jsx(pn,{})}):pe.length===0?e.jsx(xn,{py:10,children:e.jsx(R,{color:"gray.500",children:"Aucune transaction lie"})}):e.jsxs(br,{size:"sm",variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Description"}),e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{isNumeric:!0,children:"Montant"})]})}),e.jsx(_r,{children:pe.map(M=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:M.date?new Date(M.date).toLocaleDateString("fr-FR"):"-"}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:M.type==="recette"?"green":"red",children:M.type==="recette"?"Recette":"Dpense"})}),e.jsx(Ne,{children:M.description}),e.jsx(Ne,{children:e.jsx(et,{variant:"subtle",children:M.category||"-"})}),e.jsx(Ne,{isNumeric:!0,children:e.jsx(R,{fontWeight:"bold",color:M.type==="recette"?"green.500":"red.500",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(M.amount||0)})})]},M.id))})]})})})]})})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:N,children:"Fermer"}),e.jsx(ne,{colorScheme:"blue",leftIcon:e.jsx(ku,{}),onClick:H,isLoading:F,children:"Sauvegarder"})]})]})]})]})}function eD(t,n){const r=y.useRef(n);y.useEffect(function(){n!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),n!=null&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}const yQ=1;function bQ(t){return Object.freeze({__version:yQ,map:t})}function tD(t,n){return Object.freeze({...t,...n})}const S1=y.createContext(null);function cv(){const t=y.use(S1);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function nD(t){function n(r,i){const{instance:l,context:u}=t(r).current;y.useImperativeHandle(i,()=>l);const{children:d}=r;return d==null?null:fn.createElement(S1,{value:u},d)}return y.forwardRef(n)}function jQ(t){function n(r,i){const[l,u]=y.useState(!1),{instance:d}=t(r,u).current;y.useImperativeHandle(i,()=>d),y.useEffect(function(){l&&d.update()},[d,l,r.children]);const m=d._contentNode;return m?zj.createPortal(r.children,m):null}return y.forwardRef(n)}function SQ(t){function n(r,i){const{instance:l}=t(r).current;return y.useImperativeHandle(i,()=>l),null}return y.forwardRef(n)}function C1(t,n){const r=y.useRef(void 0);y.useEffect(function(){return n!=null&&t.instance.on(n),r.current=n,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,n])}function uv(t,n){const r=t.pane??n.pane;return r?{...t,pane:r}:t}function CQ(t,n){return function(i,l){const u=cv(),d=t(uv(i,u),u);return eD(u.map,i.attribution),C1(d.current,i.eventHandlers),n(d.current,u,i,l),d}}var Gf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var wQ=Gf.exports,OA;function _Q(){return OA||(OA=1,(function(t,n){(function(r,i){i(n)})(wQ,(function(r){var i="1.9.4";function l(a){var h,v,E,D;for(v=1,E=arguments.length;v<E;v++){D=arguments[v];for(h in D)a[h]=D[h]}return a}var u=Object.create||(function(){function a(){}return function(h){return a.prototype=h,new a}})();function d(a,h){var v=Array.prototype.slice;if(a.bind)return a.bind.apply(a,v.call(arguments,1));var E=v.call(arguments,2);return function(){return a.apply(h,E.length?E.concat(v.call(arguments)):arguments)}}var m=0;function p(a){return"_leaflet_id"in a||(a._leaflet_id=++m),a._leaflet_id}function g(a,h,v){var E,D,X,he;return he=function(){E=!1,D&&(X.apply(v,D),D=!1)},X=function(){E?D=arguments:(a.apply(v,arguments),setTimeout(he,h),E=!0)},X}function x(a,h,v){var E=h[1],D=h[0],X=E-D;return a===E&&v?a:((a-D)%X+X)%X+D}function j(){return!1}function S(a,h){if(h===!1)return a;var v=Math.pow(10,h===void 0?6:h);return Math.round(a*v)/v}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function _(a){return C(a).split(/\s+/)}function A(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var v in h)a.options[v]=h[v];return a.options}function T(a,h,v){var E=[];for(var D in a)E.push(encodeURIComponent(v?D.toUpperCase():D)+"="+encodeURIComponent(a[D]));return(!h||h.indexOf("?")===-1?"?":"&")+E.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function P(a,h){return a.replace(z,function(v,E){var D=h[E];if(D===void 0)throw new Error("No value provided for variable "+v);return typeof D=="function"&&(D=D(h)),D})}var k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function I(a,h){for(var v=0;v<a.length;v++)if(a[v]===h)return v;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Y=0;function q(a){var h=+new Date,v=Math.max(0,16-(h-Y));return Y=h+v,window.setTimeout(a,v)}var ce=window.requestAnimationFrame||F("RequestAnimationFrame")||q,de=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function le(a,h,v){if(v&&ce===q)a.call(h);else return ce.call(window,d(a,h))}function ve(a){a&&de.call(window,a)}var Pe={__proto__:null,extend:l,create:u,bind:d,get lastId(){return m},stamp:p,throttle:g,wrapNum:x,falseFn:j,formatNum:S,trim:C,splitWords:_,setOptions:A,getParamString:T,template:P,isArray:k,indexOf:I,emptyImageUrl:N,requestFn:ce,cancelFn:de,requestAnimFrame:le,cancelAnimFrame:ve};function me(){}me.extend=function(a){var h=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=h.__super__=this.prototype,E=u(v);E.constructor=h,h.prototype=E;for(var D in this)Object.prototype.hasOwnProperty.call(this,D)&&D!=="prototype"&&D!=="__super__"&&(h[D]=this[D]);return a.statics&&l(h,a.statics),a.includes&&(G(a.includes),l.apply(null,[E].concat(a.includes))),l(E,a),delete E.statics,delete E.includes,E.options&&(E.options=v.options?u(v.options):{},l(E.options,a.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var X=0,he=E._initHooks.length;X<he;X++)E._initHooks[X].call(this)}},h},me.include=function(a){var h=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},me.mergeOptions=function(a){return l(this.prototype.options,a),this},me.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),v=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function G(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=k(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(a,h,v){if(typeof a=="object")for(var E in a)this._on(E,a[E],h);else{a=_(a);for(var D=0,X=a.length;D<X;D++)this._on(a[D],h,v)}return this},off:function(a,h,v){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var E in a)this._off(E,a[E],h);else{a=_(a);for(var D=arguments.length===1,X=0,he=a.length;X<he;X++)D?this._off(a[X]):this._off(a[X],h,v)}return this},_on:function(a,h,v,E){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,v)===!1){v===this&&(v=void 0);var D={fn:h,ctx:v};E&&(D.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(D)}},_off:function(a,h,v){var E,D,X;if(this._events&&(E=this._events[a],!!E)){if(arguments.length===1){if(this._firingCount)for(D=0,X=E.length;D<X;D++)E[D].fn=j;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var he=this._listens(a,h,v);if(he!==!1){var _e=E[he];this._firingCount&&(_e.fn=j,this._events[a]=E=E.slice()),E.splice(he,1)}}},fire:function(a,h,v){if(!this.listens(a,v))return this;var E=l({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var D=this._events[a];if(D){this._firingCount=this._firingCount+1||1;for(var X=0,he=D.length;X<he;X++){var _e=D[X],Oe=_e.fn;_e.once&&this.off(a,Oe,_e.ctx),Oe.call(_e.ctx||this,E)}this._firingCount--}}return v&&this._propagateEvent(E),this},listens:function(a,h,v,E){typeof a!="string"&&console.warn('"string" type argument expected');var D=h;typeof h!="function"&&(E=!!h,D=void 0,v=void 0);var X=this._events&&this._events[a];if(X&&X.length&&this._listens(a,D,v)!==!1)return!0;if(E){for(var he in this._eventParents)if(this._eventParents[he].listens(a,h,v,E))return!0}return!1},_listens:function(a,h,v){if(!this._events)return!1;var E=this._events[a]||[];if(!h)return!!E.length;v===this&&(v=void 0);for(var D=0,X=E.length;D<X;D++)if(E[D].fn===h&&E[D].ctx===v)return D;return!1},once:function(a,h,v){if(typeof a=="object")for(var E in a)this._on(E,a[E],h,!0);else{a=_(a);for(var D=0,X=a.length;D<X;D++)this._on(a[D],h,v,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[p(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[p(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var H=me.extend(Z);function W(a,h,v){this.x=v?Math.round(a):a,this.y=v?Math.round(h):h}var Se=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(a){return this.clone()._add(B(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(B(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new W(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new W(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(a){a=B(a);var h=a.x-this.x,v=a.y-this.y;return Math.sqrt(h*h+v*v)},equals:function(a){return a=B(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=B(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function B(a,h,v){return a instanceof W?a:k(a)?new W(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new W(a.x,a.y):new W(a,h,v)}function ie(a,h){if(a)for(var v=h?[a,h]:a,E=0,D=v.length;E<D;E++)this.extend(v[E])}ie.prototype={extend:function(a){var h,v;if(!a)return this;if(a instanceof W||typeof a[0]=="number"||"x"in a)h=v=B(a);else if(a=pe(a),h=a.min,v=a.max,!h||!v)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=v.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(a){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,v;return typeof a[0]=="number"||a instanceof W?a=B(a):a=pe(a),a instanceof ie?(h=a.min,v=a.max):h=v=a,h.x>=this.min.x&&v.x<=this.max.x&&h.y>=this.min.y&&v.y<=this.max.y},intersects:function(a){a=pe(a);var h=this.min,v=this.max,E=a.min,D=a.max,X=D.x>=h.x&&E.x<=v.x,he=D.y>=h.y&&E.y<=v.y;return X&&he},overlaps:function(a){a=pe(a);var h=this.min,v=this.max,E=a.min,D=a.max,X=D.x>h.x&&E.x<v.x,he=D.y>h.y&&E.y<v.y;return X&&he},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,v=this.max,E=Math.abs(h.x-v.x)*a,D=Math.abs(h.y-v.y)*a;return pe(B(h.x-E,h.y-D),B(v.x+E,v.y+D))},equals:function(a){return a?(a=pe(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function pe(a,h){return!a||a instanceof ie?a:new ie(a,h)}function $(a,h){if(a)for(var v=h?[a,h]:a,E=0,D=v.length;E<D;E++)this.extend(v[E])}$.prototype={extend:function(a){var h=this._southWest,v=this._northEast,E,D;if(a instanceof M)E=a,D=a;else if(a instanceof $){if(E=a._southWest,D=a._northEast,!E||!D)return this}else return a?this.extend(Q(a)||V(a)):this;return!h&&!v?(this._southWest=new M(E.lat,E.lng),this._northEast=new M(D.lat,D.lng)):(h.lat=Math.min(E.lat,h.lat),h.lng=Math.min(E.lng,h.lng),v.lat=Math.max(D.lat,v.lat),v.lng=Math.max(D.lng,v.lng)),this},pad:function(a){var h=this._southWest,v=this._northEast,E=Math.abs(h.lat-v.lat)*a,D=Math.abs(h.lng-v.lng)*a;return new $(new M(h.lat-E,h.lng-D),new M(v.lat+E,v.lng+D))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof M||"lat"in a?a=Q(a):a=V(a);var h=this._southWest,v=this._northEast,E,D;return a instanceof $?(E=a.getSouthWest(),D=a.getNorthEast()):E=D=a,E.lat>=h.lat&&D.lat<=v.lat&&E.lng>=h.lng&&D.lng<=v.lng},intersects:function(a){a=V(a);var h=this._southWest,v=this._northEast,E=a.getSouthWest(),D=a.getNorthEast(),X=D.lat>=h.lat&&E.lat<=v.lat,he=D.lng>=h.lng&&E.lng<=v.lng;return X&&he},overlaps:function(a){a=V(a);var h=this._southWest,v=this._northEast,E=a.getSouthWest(),D=a.getNorthEast(),X=D.lat>h.lat&&E.lat<v.lat,he=D.lng>h.lng&&E.lng<v.lng;return X&&he},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=V(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(a,h){return a instanceof $?a:new $(a,h)}function M(a,h,v){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,v!==void 0&&(this.alt=+v)}M.prototype={equals:function(a,h){if(!a)return!1;a=Q(a);var v=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return v<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+S(this.lat,a)+", "+S(this.lng,a)+")"},distanceTo:function(a){return Le.distance(this,Q(a))},wrap:function(){return Le.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,v=h/Math.cos(Math.PI/180*this.lat);return V([this.lat-h,this.lng-v],[this.lat+h,this.lng+v])},clone:function(){return new M(this.lat,this.lng,this.alt)}};function Q(a,h,v){return a instanceof M?a:k(a)&&typeof a[0]!="object"?a.length===3?new M(a[0],a[1],a[2]):a.length===2?new M(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new M(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new M(a,h,v)}var Ee={latLngToPoint:function(a,h){var v=this.projection.project(a),E=this.scale(h);return this.transformation._transform(v,E)},pointToLatLng:function(a,h){var v=this.scale(h),E=this.transformation.untransform(a,v);return this.projection.unproject(E)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,v=this.scale(a),E=this.transformation.transform(h.min,v),D=this.transformation.transform(h.max,v);return new ie(E,D)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?x(a.lng,this.wrapLng,!0):a.lng,v=this.wrapLat?x(a.lat,this.wrapLat,!0):a.lat,E=a.alt;return new M(v,h,E)},wrapLatLngBounds:function(a){var h=a.getCenter(),v=this.wrapLatLng(h),E=h.lat-v.lat,D=h.lng-v.lng;if(E===0&&D===0)return a;var X=a.getSouthWest(),he=a.getNorthEast(),_e=new M(X.lat-E,X.lng-D),Oe=new M(he.lat-E,he.lng-D);return new $(_e,Oe)}},Le=l({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var v=Math.PI/180,E=a.lat*v,D=h.lat*v,X=Math.sin((h.lat-a.lat)*v/2),he=Math.sin((h.lng-a.lng)*v/2),_e=X*X+Math.cos(E)*Math.cos(D)*he*he,Oe=2*Math.atan2(Math.sqrt(_e),Math.sqrt(1-_e));return this.R*Oe}}),Ae=6378137,it={R:Ae,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,v=this.MAX_LATITUDE,E=Math.max(Math.min(v,a.lat),-v),D=Math.sin(E*h);return new W(this.R*a.lng*h,this.R*Math.log((1+D)/(1-D))/2)},unproject:function(a){var h=180/Math.PI;return new M((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:(function(){var a=Ae*Math.PI;return new ie([-a,-a],[a,a])})()};function ct(a,h,v,E){if(k(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=v,this._d=E}ct.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new W((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function Je(a,h,v,E){return new ct(a,h,v,E)}var zt=l({},Le,{code:"EPSG:3857",projection:it,transformation:(function(){var a=.5/(Math.PI*it.R);return Je(a,.5,-a,.5)})()}),Ve=l({},zt,{code:"EPSG:900913"});function $t(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function be(a,h){var v="",E,D,X,he,_e,Oe;for(E=0,X=a.length;E<X;E++){for(_e=a[E],D=0,he=_e.length;D<he;D++)Oe=_e[D],v+=(D?"L":"M")+Oe.x+" "+Oe.y;v+=h?xt.svg?"z":"x":""}return v||"M0 0"}var Ze=document.documentElement.style,Ot="ActiveXObject"in window,ae=Ot&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),nt=es("webkit"),Pt=es("android"),kn=es("android 2")||es("android 3"),ar=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ue=Pt&&es("Google")&&ar<537&&!("AudioNode"in window),rt=!!window.opera,Mt=!ge&&es("chrome"),Ye=es("gecko")&&!nt&&!rt&&!Ot,gt=!Mt&&es("safari"),Pn=es("phantom"),qe="OTransition"in Ze,wt=navigator.platform.indexOf("Win")===0,nn=Ot&&"transition"in Ze,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kn,Kt="MozPerspective"in Ze,Mn=!window.L_DISABLE_3D&&(nn||mn||Kt)&&!qe&&!Pn,ot=typeof orientation<"u"||es("mobile"),Fn=ot&&nt,Bn=ot&&mn,Dr=!window.PointerEvent&&window.MSPointerEvent,vn=!!(window.PointerEvent||Dr),pi="ontouchstart"in window||!!window.TouchEvent,Os=!window.L_NO_TOUCH&&(pi||vn),aa=ot&&rt,po=ot&&Ye,Io=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bo=(function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",j,h),window.removeEventListener("testPassiveEventSupport",j,h)}catch{}return a})(),Wa=(function(){return!!document.createElement("canvas").getContext})(),cs=!!(document.createElementNS&&$t("svg").createSVGRect),fr=!!cs&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),pr=!cs&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Jr=navigator.platform.indexOf("Mac")===0,mo=navigator.platform.indexOf("Linux")===0;function es(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var xt={ie:Ot,ielt9:ae,edge:ge,webkit:nt,android:Pt,android23:kn,androidStock:Ue,opera:rt,chrome:Mt,gecko:Ye,safari:gt,phantom:Pn,opera12:qe,win:wt,ie3d:nn,webkit3d:mn,gecko3d:Kt,any3d:Mn,mobile:ot,mobileWebkit:Fn,mobileWebkit3d:Bn,msPointer:Dr,pointer:vn,touch:Os,touchNative:pi,mobileOpera:aa,mobileGecko:po,retina:Io,passiveEvents:Bo,canvas:Wa,svg:cs,vml:pr,inlineSvg:fr,mac:Jr,linux:mo},qa=xt.msPointer?"MSPointerDown":"pointerdown",$o=xt.msPointer?"MSPointerMove":"pointermove",mi=xt.msPointer?"MSPointerUp":"pointerup",la=xt.msPointer?"MSPointerCancel":"pointercancel",Ns={touchstart:qa,touchmove:$o,touchend:mi,touchcancel:la},Wr={touchstart:go,touchmove:Ys,touchend:Ys,touchcancel:Ys},tt={},zi=!1;function Tr(a,h,v){return h==="touchstart"&&Rc(),Wr[h]?(v=Wr[h].bind(this,v),a.addEventListener(Ns[h],v,!1),v):(console.warn("wrong event specified:",h),j)}function ca(a,h,v){if(!Ns[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(Ns[h],v,!1)}function Ml(a){tt[a.pointerId]=a}function Li(a){tt[a.pointerId]&&(tt[a.pointerId]=a)}function Es(a){delete tt[a.pointerId]}function Rc(){zi||(document.addEventListener(qa,Ml,!0),document.addEventListener($o,Li,!0),document.addEventListener(mi,Es,!0),document.addEventListener(la,Es,!0),zi=!0)}function Ys(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var v in tt)h.touches.push(tt[v]);h.changedTouches=[h],a(h)}}function go(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&xr(h),Ys(a,h)}function Mc(a){var h={},v,E;for(E in a)v=a[E],h[E]=v&&v.bind?v.bind(a):v;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Oi=200;function Ni(a,h){a.addEventListener("dblclick",h);var v=0,E;function D(X){if(X.detail!==1){E=X.detail;return}if(!(X.pointerType==="mouse"||X.sourceCapabilities&&!X.sourceCapabilities.firesTouchEvents)){var he=da(X);if(!(he.some(function(Oe){return Oe instanceof HTMLLabelElement&&Oe.attributes.for})&&!he.some(function(Oe){return Oe instanceof HTMLInputElement||Oe instanceof HTMLSelectElement}))){var _e=Date.now();_e-v<=Oi?(E++,E===2&&h(Mc(X))):E=1,v=_e}}}return a.addEventListener("click",D),{dblclick:h,simDblclick:D}}function Xs(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var Ii=yi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bi=yi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gi=Bi==="webkitTransition"||Bi==="OTransition"?Bi+"End":"transitionend";function ua(a){return typeof a=="string"?document.getElementById(a):a}function xi(a,h){var v=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!v||v==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(a,null);v=E?E[h]:null}return v==="auto"?null:v}function bn(a,h,v){var E=document.createElement(a);return E.className=h||"",v&&v.appendChild(E),E}function er(a){var h=a.parentNode;h&&h.removeChild(a)}function zr(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function $i(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function xo(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function Fi(a,h){if(a.classList!==void 0)return a.classList.contains(h);var v=Ut(a);return v.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(v)}function tn(a,h){if(a.classList!==void 0)for(var v=_(h),E=0,D=v.length;E<D;E++)a.classList.add(v[E]);else if(!Fi(a,h)){var X=Ut(a);vo(a,(X?X+" ":"")+h)}}function tr(a,h){a.classList!==void 0?a.classList.remove(h):vo(a,C((" "+Ut(a)+" ").replace(" "+h+" "," ")))}function vo(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function Ut(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function nr(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&vi(a,h)}function vi(a,h){var v=!1,E="DXImageTransform.Microsoft.Alpha";try{v=a.filters.item(E)}catch{if(h===1)return}h=Math.round(h*100),v?(v.Enabled=h!==100,v.Opacity=h):a.style.filter+=" progid:"+E+"(opacity="+h+")"}function yi(a){for(var h=document.documentElement.style,v=0;v<a.length;v++)if(a[v]in h)return a[v];return!1}function xs(a,h,v){var E=h||new W(0,0);a.style[Ii]=(xt.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(v?" scale("+v+")":"")}function lr(a,h){a._leaflet_pos=h,xt.any3d?xs(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function Is(a){return a._leaflet_pos||new W(0,0)}var vs,bi,Ks;if("onselectstart"in document)vs=function(){qt(window,"selectstart",xr)},bi=function(){_n(window,"selectstart",xr)};else{var Bs=yi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vs=function(){if(Bs){var a=document.documentElement.style;Ks=a[Bs],a[Bs]="none"}},bi=function(){Bs&&(document.documentElement.style[Bs]=Ks,Ks=void 0)}}function $s(){qt(window,"dragstart",xr)}function Ga(){_n(window,"dragstart",xr)}var yo,Vi;function As(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Qs(),yo=a,Vi=a.style.outlineStyle,a.style.outlineStyle="none",qt(window,"keydown",Qs))}function Qs(){yo&&(yo.style.outlineStyle=Vi,yo=void 0,Vi=void 0,_n(window,"keydown",Qs))}function Js(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Fs(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var Dc={__proto__:null,TRANSFORM:Ii,TRANSITION:Bi,TRANSITION_END:gi,get:ua,getStyle:xi,create:bn,remove:er,empty:zr,toFront:$i,toBack:xo,hasClass:Fi,addClass:tn,removeClass:tr,setClass:vo,getClass:Ut,setOpacity:nr,testProp:yi,setTransform:xs,setPosition:lr,getPosition:Is,get disableTextSelection(){return vs},get enableTextSelection(){return bi},disableImageDrag:$s,enableImageDrag:Ga,preventOutline:As,restoreOutline:Qs,getSizedParentNode:Js,getScale:Fs};function qt(a,h,v,E){if(h&&typeof h=="object")for(var D in h)Ui(a,D,h[D],v);else{h=_(h);for(var X=0,he=h.length;X<he;X++)Ui(a,h[X],v,E)}return this}var qr="_leaflet_events";function _n(a,h,v,E){if(arguments.length===1)Lr(a),delete a[qr];else if(h&&typeof h=="object")for(var D in h)ys(a,D,h[D],v);else if(h=_(h),arguments.length===2)Lr(a,function(_e){return I(h,_e)!==-1});else for(var X=0,he=h.length;X<he;X++)ys(a,h[X],v,E);return this}function Lr(a,h){for(var v in a[qr]){var E=v.split(/\d/)[0];(!h||h(E))&&ys(a,E,null,null,v)}}var ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ui(a,h,v,E){var D=h+p(v)+(E?"_"+p(E):"");if(a[qr]&&a[qr][D])return this;var X=function(_e){return v.call(E||a,_e||window.event)},he=X;!xt.touchNative&&xt.pointer&&h.indexOf("touch")===0?X=Tr(a,h,X):xt.touch&&h==="dblclick"?X=Ni(a,X):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(ei[h]||h,X,xt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(X=function(_e){_e=_e||window.event,dt(a,_e)&&he(_e)},a.addEventListener(ei[h],X,!1)):a.addEventListener(h,he,!1):a.attachEvent("on"+h,X),a[qr]=a[qr]||{},a[qr][D]=X}function ys(a,h,v,E,D){D=D||h+p(v)+(E?"_"+p(E):"");var X=a[qr]&&a[qr][D];if(!X)return this;!xt.touchNative&&xt.pointer&&h.indexOf("touch")===0?ca(a,h,X):xt.touch&&h==="dblclick"?Xs(a,X):"removeEventListener"in a?a.removeEventListener(ei[h]||h,X,!1):a.detachEvent("on"+h,X),a[qr][D]=null}function ft(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Or(a){return Ui(a,"wheel",ft),this}function bo(a){return qt(a,"mousedown touchstart dblclick contextmenu",ft),a._leaflet_disable_click=!0,this}function xr(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function bs(a){return xr(a),ft(a),this}function da(a){if(a.composedPath)return a.composedPath();for(var h=[],v=a.target;v;)h.push(v),v=v.parentNode;return h}function oe(a,h){if(!h)return new W(a.clientX,a.clientY);var v=Fs(h),E=v.boundingClientRect;return new W((a.clientX-E.left)/v.x-h.clientLeft,(a.clientY-E.top)/v.y-h.clientTop)}var je=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function De(a){return xt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/je:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function dt(a,h){var v=h.relatedTarget;if(!v)return!0;try{for(;v&&v!==a;)v=v.parentNode}catch{return!1}return v!==a}var gn={__proto__:null,on:qt,off:_n,stopPropagation:ft,disableScrollPropagation:Or,disableClickPropagation:bo,preventDefault:xr,stop:bs,getPropagationPath:da,getMousePosition:oe,getWheelDelta:De,isExternalTarget:dt,addListener:qt,removeListener:_n},Rn=H.extend({run:function(a,h,v,E){this.stop(),this._el=a,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=Is(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,v=this._duration*1e3;h<v?this._runFrame(this._easeOut(h/v),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var v=this._startPos.add(this._offset.multiplyBy(a));h&&v._round(),lr(this._el,v),this.fire("step")},_complete:function(){ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),jt=H.extend({options:{crs:zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=A(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Q(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bi&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qt(this._proxy,gi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,v){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(Q(a),h,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=l({animate:v.animate},v.zoom),v.pan=l({animate:v.animate,duration:v.duration},v.pan));var E=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,v.zoom):this._tryAnimatedPan(a,v.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,v.pan&&v.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,v){var E=this.getZoomScale(h),D=this.getSize().divideBy(2),X=a instanceof W?a:this.latLngToContainerPoint(a),he=X.subtract(D).multiplyBy(1-1/E),_e=this.containerPointToLatLng(D.add(he));return this.setView(_e,h,{zoom:v})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():V(a);var v=B(h.paddingTopLeft||h.padding||[0,0]),E=B(h.paddingBottomRight||h.padding||[0,0]),D=this.getBoundsZoom(a,!1,v.add(E));if(D=typeof h.maxZoom=="number"?Math.min(h.maxZoom,D):D,D===1/0)return{center:a.getCenter(),zoom:D};var X=E.subtract(v).divideBy(2),he=this.project(a.getSouthWest(),D),_e=this.project(a.getNorthEast(),D),Oe=this.unproject(he.add(_e).divideBy(2).add(X),D);return{center:Oe,zoom:D}},fitBounds:function(a,h){if(a=V(a),!a.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(a,h);return this.setView(v.center,v.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=B(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){tn(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,v,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,v){if(v=v||{},v.animate===!1||!xt.any3d)return this.setView(a,h,v);this._stop();var E=this.project(this.getCenter()),D=this.project(a),X=this.getSize(),he=this._zoom;a=Q(a),h=h===void 0?he:h;var _e=Math.max(X.x,X.y),Oe=_e*this.getZoomScale(he,h),Xe=D.distanceTo(E)||1,ht=1.42,Ct=ht*ht;function Lt(Pr){var Co=Pr?-1:1,qo=Pr?Oe:_e,xa=Oe*Oe-_e*_e+Co*Ct*Ct*Xe*Xe,Go=2*qo*Ct*Xe,Xc=xa/Go,sd=Math.sqrt(Xc*Xc+1)-Xc,Kc=sd<1e-9?-18:Math.log(sd);return Kc}function Jt(Pr){return(Math.exp(Pr)-Math.exp(-Pr))/2}function vr(Pr){return(Math.exp(Pr)+Math.exp(-Pr))/2}function Nr(Pr){return Jt(Pr)/vr(Pr)}var js=Lt(0);function Ci(Pr){return _e*(vr(js)/vr(js+ht*Pr))}function um(Pr){return _e*(vr(js)*Nr(js+ht*Pr)-Jt(js))/Ct}function dm(Pr){return 1-Math.pow(1-Pr,1.5)}var Yc=Date.now(),Vl=(Lt(1)-js)/ht,hm=v.duration?1e3*v.duration:1e3*Vl*.8;function Ul(){var Pr=(Date.now()-Yc)/hm,Co=dm(Pr)*Vl;Pr<=1?(this._flyToFrame=le(Ul,this),this._move(this.unproject(E.add(D.subtract(E).multiplyBy(um(Co)/Xe)),he),this.getScaleZoom(_e/Ci(Co),he),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),Ul.call(this),this},flyToBounds:function(a,h){var v=this._getBoundsCenterZoom(a,h);return this.flyTo(v.center,v.zoom,h)},setMaxBounds:function(a){return a=V(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var v=this.getCenter(),E=this._limitCenter(v,this._zoom,V(a));return v.equals(E)||this.panTo(E,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var v=B(h.paddingTopLeft||h.padding||[0,0]),E=B(h.paddingBottomRight||h.padding||[0,0]),D=this.project(this.getCenter()),X=this.project(a),he=this.getPixelBounds(),_e=pe([he.min.add(v),he.max.subtract(E)]),Oe=_e.getSize();if(!_e.contains(X)){this._enforcingBounds=!0;var Xe=X.subtract(_e.getCenter()),ht=_e.extend(X).getSize().subtract(Oe);D.x+=Xe.x<0?-ht.x:ht.x,D.y+=Xe.y<0?-ht.y:ht.y,this.panTo(this.unproject(D),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),E=h.divideBy(2).round(),D=v.divideBy(2).round(),X=E.subtract(D);return!X.x&&!X.y?this:(a.animate&&a.pan?this.panBy(X):(a.pan&&this._rawPanBy(X),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=d(this._handleGeolocationResponse,this),v=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,v,a):navigator.geolocation.getCurrentPosition(h,v,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,v=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,v=a.coords.longitude,E=new M(h,v),D=E.toBounds(a.coords.accuracy*2),X=this._locateOptions;if(X.setView){var he=this.getBoundsZoom(D);this.setView(E,X.maxZoom?Math.min(he,X.maxZoom):he)}var _e={latlng:E,bounds:D,timestamp:a.timestamp};for(var Oe in a.coords)typeof a.coords[Oe]=="number"&&(_e[Oe]=a.coords[Oe]);this.fire("locationfound",_e)}},addHandler:function(a,h){if(!h)return this;var v=this[a]=new h(this);return this._handlers.push(v),this.options[a]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),er(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)er(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var v="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),E=bn("div",v,h||this._mapPane);return a&&(this._panes[a]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),v=this.unproject(a.getTopRight());return new $(h,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,v){a=V(a),v=B(v||[0,0]);var E=this.getZoom()||0,D=this.getMinZoom(),X=this.getMaxZoom(),he=a.getNorthWest(),_e=a.getSouthEast(),Oe=this.getSize().subtract(v),Xe=pe(this.project(_e,E),this.project(he,E)).getSize(),ht=xt.any3d?this.options.zoomSnap:1,Ct=Oe.x/Xe.x,Lt=Oe.y/Xe.y,Jt=h?Math.max(Ct,Lt):Math.min(Ct,Lt);return E=this.getScaleZoom(Jt,E),ht&&(E=Math.round(E/(ht/100))*(ht/100),E=h?Math.ceil(E/ht)*ht:Math.floor(E/ht)*ht),Math.max(D,Math.min(X,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var v=this._getTopLeftPoint(a,h);return new ie(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var v=this.options.crs;return h=h===void 0?this._zoom:h,v.scale(a)/v.scale(h)},getScaleZoom:function(a,h){var v=this.options.crs;h=h===void 0?this._zoom:h;var E=v.zoom(a*v.scale(h));return isNaN(E)?1/0:E},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Q(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(B(a),h)},layerPointToLatLng:function(a){var h=B(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(Q(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Q(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(V(a))},distance:function(a,h){return this.options.crs.distance(Q(a),Q(h))},containerPointToLayerPoint:function(a){return B(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return B(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(B(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Q(a)))},mouseEventToContainerPoint:function(a){return oe(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=ua(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qt(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,tn(a,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=xi(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lr(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(tn(a.markerPane,"leaflet-zoom-hide"),tn(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,v){lr(this._mapPane,new W(0,0));var E=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var D=this._zoom!==h;this._moveStart(D,v)._move(a,h)._moveEnd(D),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,v,E){h===void 0&&(h=this._zoom);var D=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),E?v&&v.pinch&&this.fire("zoom",v):((D||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){lr(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[p(this._container)]=this;var h=a?_n:qt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ve(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var v=[],E,D=h==="mouseout"||h==="mouseover",X=a.target||a.srcElement,he=!1;X;){if(E=this._targets[p(X)],E&&(h==="click"||h==="preclick")&&this._draggableMoved(E)){he=!0;break}if(E&&E.listens(h,!0)&&(D&&!dt(X,a)||(v.push(E),D))||X===this._container)break;X=X.parentNode}return!v.length&&!he&&!D&&this.listens(h,!0)&&(v=[this]),v},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var v=a.type;v==="mousedown"&&As(h),this._fireDOMEvent(a,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,v){if(a.type==="click"){var E=l({},a);E.type="preclick",this._fireDOMEvent(E,E.type,v)}var D=this._findEventTargets(a,h);if(v){for(var X=[],he=0;he<v.length;he++)v[he].listens(h,!0)&&X.push(v[he]);D=X.concat(D)}if(D.length){h==="contextmenu"&&xr(a);var _e=D[0],Oe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Xe=_e.getLatLng&&(!_e._radius||_e._radius<=10);Oe.containerPoint=Xe?this.latLngToContainerPoint(_e.getLatLng()):this.mouseEventToContainerPoint(a),Oe.layerPoint=this.containerPointToLayerPoint(Oe.containerPoint),Oe.latlng=Xe?_e.getLatLng():this.layerPointToLatLng(Oe.layerPoint)}for(he=0;he<D.length;he++)if(D[he].fire(h,Oe,!0),Oe.originalEvent._stopped||D[he].options.bubblingMouseEvents===!1&&I(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return Is(this._mapPane)||new W(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var v=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var v=this.getSize()._divideBy(2);return this.project(a,h)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,v){var E=this._getNewPixelOrigin(v,h);return this.project(a,h)._subtract(E)},_latLngBoundsToNewLayerBounds:function(a,h,v){var E=this._getNewPixelOrigin(v,h);return pe([this.project(a.getSouthWest(),h)._subtract(E),this.project(a.getNorthWest(),h)._subtract(E),this.project(a.getSouthEast(),h)._subtract(E),this.project(a.getNorthEast(),h)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,v){if(!v)return a;var E=this.project(a,h),D=this.getSize().divideBy(2),X=new ie(E.subtract(D),E.add(D)),he=this._getBoundsOffset(X,v,h);return Math.abs(he.x)<=1&&Math.abs(he.y)<=1?a:this.unproject(E.add(he),h)},_limitOffset:function(a,h){if(!h)return a;var v=this.getPixelBounds(),E=new ie(v.min.add(a),v.max.add(a));return a.add(this._getBoundsOffset(E,h))},_getBoundsOffset:function(a,h,v){var E=pe(this.project(h.getNorthEast(),v),this.project(h.getSouthWest(),v)),D=E.min.subtract(a.min),X=E.max.subtract(a.max),he=this._rebound(D.x,-X.x),_e=this._rebound(D.y,-X.y);return new W(he,_e)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),v=this.getMaxZoom(),E=xt.any3d?this.options.zoomSnap:1;return E&&(a=Math.round(a/E)*E),Math.max(h,Math.min(v,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var v=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,h),!0)},_createAnimProxy:function(){var a=this._proxy=bn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var v=Ii,E=this._proxy.style[v];xs(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),E===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){er(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();xs(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(h),D=this._getCenterOffset(a)._divideBy(1-1/E);return v.animate!==!0&&!this.getSize().contains(D)?!1:(le(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,v,E){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,tn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dn(a,h){return new jt(a,h)}var an=me.extend({options:{position:"topright"},initialize:function(a){A(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),v=this.getPosition(),E=a._controlCorners[v];return tn(h,"leaflet-control"),v.indexOf("bottom")!==-1?E.insertBefore(h,E.firstChild):E.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(er(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),$r=function(a){return new an(a)};jt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",v=this._controlContainer=bn("div",h+"control-container",this._container);function E(D,X){var he=h+D+" "+h+X;a[D+X]=bn("div",he,v)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)er(this._controlCorners[a]);er(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ts=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,v,E){return v<E?-1:E<v?1:0}},initialize:function(a,h,v){A(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in a)this._addLayer(a[E],E);for(E in h)this._addLayer(h[E],E,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return an.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){tn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(tn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):tr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=bn("div",a),v=this.options.collapsed;h.setAttribute("aria-haspopup",!0),bo(h),Or(h);var E=this._section=bn("section",a+"-list");v&&(this._map.on("click",this.collapse,this),qt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var D=this._layersLink=bn("a",a+"-toggle",h);D.href="#",D.title="Layers",D.setAttribute("role","button"),qt(D,{keydown:function(X){X.keyCode===13&&this._expandSafely()},click:function(X){xr(X),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=bn("div",a+"-base",E),this._separator=bn("div",a+"-separator",E),this._overlaysList=bn("div",a+"-overlays",E),h.appendChild(E)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,v){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:v}),this.options.sortLayers&&this._layers.sort(d(function(E,D){return this.options.sortFunction(E.layer,D.layer,E.name,D.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zr(this._baseLayersList),zr(this._overlaysList),this._layerControlInputs=[];var a,h,v,E,D=0;for(v=0;v<this._layers.length;v++)E=this._layers[v],this._addItem(E),h=h||E.overlay,a=a||!E.overlay,D+=E.overlay?0:1;return this.options.hideSingleBase&&(a=a&&D>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(p(a.target)),v=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;v&&this._map.fire(v,h)},_createRadioElement:function(a,h){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=v,E.firstChild},_addItem:function(a){var h=document.createElement("label"),v=this._map.hasLayer(a.layer),E;a.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=v):E=this._createRadioElement("leaflet-base-layers_"+p(this),v),this._layerControlInputs.push(E),E.layerId=p(a.layer),qt(E,"click",this._onInputClick,this);var D=document.createElement("span");D.innerHTML=" "+a.name;var X=document.createElement("span");h.appendChild(X),X.appendChild(E),X.appendChild(D);var he=a.overlay?this._overlaysList:this._baseLayersList;return he.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,v,E=[],D=[];this._handlingClick=!0;for(var X=a.length-1;X>=0;X--)h=a[X],v=this._getLayer(h.layerId).layer,h.checked?E.push(v):h.checked||D.push(v);for(X=0;X<D.length;X++)this._map.hasLayer(D[X])&&this._map.removeLayer(D[X]);for(X=0;X<E.length;X++)this._map.hasLayer(E[X])||this._map.addLayer(E[X]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,v,E=this._map.getZoom(),D=a.length-1;D>=0;D--)h=a[D],v=this._getLayer(h.layerId).layer,h.disabled=v.options.minZoom!==void 0&&E<v.options.minZoom||v.options.maxZoom!==void 0&&E>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,qt(a,"click",xr),this.expand();var h=this;setTimeout(function(){_n(a,"click",xr),h._preventClick=!1})}}),Fo=function(a,h,v){return new ts(a,h,v)},Vo=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",v=bn("div",h+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,h+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,h+"-out",v,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,v,E,D){var X=bn("a",v,E);return X.innerHTML=a,X.href="#",X.title=h,X.setAttribute("role","button"),X.setAttribute("aria-label",h),bo(X),qt(X,"click",bs),qt(X,"click",D,this),qt(X,"click",this._refocusOnMap,this),X},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";tr(this._zoomInButton,h),tr(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(tn(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(tn(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});jt.mergeOptions({zoomControl:!0}),jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vo,this.addControl(this.zoomControl))});var Uo=function(a){return new Vo(a)},Za=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",v=bn("div",h),E=this.options;return this._addScales(E,h+"-line",v),a.on(E.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),v},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,v){a.metric&&(this._mScale=bn("div",h,v)),a.imperial&&(this._iScale=bn("div",h,v))},_update:function(){var a=this._map,h=a.getSize().y/2,v=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(v)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),v=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,v,h/a)},_updateImperial:function(a){var h=a*3.2808399,v,E,D;h>5280?(v=h/5280,E=this._getRoundNum(v),this._updateScale(this._iScale,E+" mi",E/v)):(D=this._getRoundNum(h),this._updateScale(this._iScale,D+" ft",D/h))},_updateScale:function(a,h,v){a.style.width=Math.round(this.options.maxWidth*v)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),v=a/h;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,h*v}}),Eh=function(a){return new Za(a)},ji='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zc=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?ji+" ":"")+"Leaflet</a>"},initialize:function(a){A(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=bn("div","leaflet-control-attribution"),bo(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var v=[];this.options.prefix&&v.push(this.options.prefix),a.length&&v.push(a.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});jt.mergeOptions({attributionControl:!0}),jt.addInitHook(function(){this.options.attributionControl&&new zc().addTo(this)});var Ah=function(a){return new zc(a)};an.Layers=ts,an.Zoom=Vo,an.Scale=Za,an.Attribution=zc,$r.layers=Fo,$r.zoom=Uo,$r.scale=Eh,$r.attribution=Ah;var Vs=me.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vs.addTo=function(a,h){return a.addHandler(h,this),this};var qu={Events:Z},Gu=xt.touch?"touchstart mousedown":"mousedown",Hi=H.extend({options:{clickTolerance:3},initialize:function(a,h,v,E){A(this,E),this._element=a,this._dragStartTarget=h||a,this._preventOutline=v},enable:function(){this._enabled||(qt(this._dragStartTarget,Gu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hi._dragging===this&&this.finishDrag(!0),_n(this._dragStartTarget,Gu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Fi(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Hi._dragging===this&&this.finishDrag();return}if(!(Hi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Hi._dragging=this,this._preventOutline&&As(this._element),$s(),vs(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,v=Js(this._element);this._startPoint=new W(h.clientX,h.clientY),this._startPos=Is(this._element),this._parentScale=Fs(v);var E=a.type==="mousedown";qt(document,E?"mousemove":"touchmove",this._onMove,this),qt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,v=new W(h.clientX,h.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,xr(a),this._moved||(this.fire("dragstart"),this._moved=!0,tn(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),tn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),lr(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){tr(document.body,"leaflet-dragging"),this._lastTarget&&(tr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_n(document,"mousemove touchmove",this._onMove,this),_n(document,"mouseup touchend touchcancel",this._onUp,this),Ga(),bi();var h=this._moved&&this._moving;this._moving=!1,Hi._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Zu(a,h,v){var E,D=[1,4,2,8],X,he,_e,Oe,Xe,ht,Ct,Lt;for(X=0,ht=a.length;X<ht;X++)a[X]._code=un(a[X],h);for(_e=0;_e<4;_e++){for(Ct=D[_e],E=[],X=0,ht=a.length,he=ht-1;X<ht;he=X++)Oe=a[X],Xe=a[he],Oe._code&Ct?Xe._code&Ct||(Lt=St(Xe,Oe,Ct,h,v),Lt._code=un(Lt,h),E.push(Lt)):(Xe._code&Ct&&(Lt=St(Xe,Oe,Ct,h,v),Lt._code=un(Lt,h),E.push(Lt)),E.push(Oe));a=E}return a}function Wi(a,h){var v,E,D,X,he,_e,Oe,Xe,ht;if(!a||a.length===0)throw new Error("latlngs not passed");cr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ct=Q([0,0]),Lt=V(a),Jt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Jt<1700&&(Ct=Lc(a));var vr=a.length,Nr=[];for(v=0;v<vr;v++){var js=Q(a[v]);Nr.push(h.project(Q([js.lat-Ct.lat,js.lng-Ct.lng])))}for(_e=Oe=Xe=0,v=0,E=vr-1;v<vr;E=v++)D=Nr[v],X=Nr[E],he=D.y*X.x-X.y*D.x,Oe+=(D.x+X.x)*he,Xe+=(D.y+X.y)*he,_e+=he*3;_e===0?ht=Nr[0]:ht=[Oe/_e,Xe/_e];var Ci=h.unproject(B(ht));return Q([Ci.lat+Ct.lat,Ci.lng+Ct.lng])}function Lc(a){for(var h=0,v=0,E=0,D=0;D<a.length;D++){var X=Q(a[D]);h+=X.lat,v+=X.lng,E++}return Q([h/E,v/E])}var Th={__proto__:null,clipPolygon:Zu,polygonCenter:Wi,centroid:Lc};function Yu(a,h){if(!h||!a.length)return a.slice();var v=h*h;return a=O(a,v),a=kh(a,v),a}function Oc(a,h,v){return Math.sqrt(Ln(a,h,v,!0))}function Nc(a,h,v){return Ln(a,h,v)}function kh(a,h){var v=a.length,E=typeof Uint8Array<"u"?Uint8Array:Array,D=new E(v);D[0]=D[v-1]=1,Ic(a,D,h,0,v-1);var X,he=[];for(X=0;X<v;X++)D[X]&&he.push(a[X]);return he}function Ic(a,h,v,E,D){var X=0,he,_e,Oe;for(_e=E+1;_e<=D-1;_e++)Oe=Ln(a[_e],a[E],a[D],!0),Oe>X&&(he=_e,X=Oe);X>v&&(h[he]=1,Ic(a,h,v,E,he),Ic(a,h,v,he,D))}function O(a,h){for(var v=[a[0]],E=1,D=0,X=a.length;E<X;E++)rn(a[E],a[D])>h&&(v.push(a[E]),D=E);return D<X-1&&v.push(a[X-1]),v}var J;function Qe(a,h,v,E,D){var X=E?J:un(a,v),he=un(h,v),_e,Oe,Xe;for(J=he;;){if(!(X|he))return[a,h];if(X&he)return!1;_e=X||he,Oe=St(a,h,_e,v,D),Xe=un(Oe,v),_e===X?(a=Oe,X=Xe):(h=Oe,he=Xe)}}function St(a,h,v,E,D){var X=h.x-a.x,he=h.y-a.y,_e=E.min,Oe=E.max,Xe,ht;return v&8?(Xe=a.x+X*(Oe.y-a.y)/he,ht=Oe.y):v&4?(Xe=a.x+X*(_e.y-a.y)/he,ht=_e.y):v&2?(Xe=Oe.x,ht=a.y+he*(Oe.x-a.x)/X):v&1&&(Xe=_e.x,ht=a.y+he*(_e.x-a.x)/X),new W(Xe,ht,D)}function un(a,h){var v=0;return a.x<h.min.x?v|=1:a.x>h.max.x&&(v|=2),a.y<h.min.y?v|=4:a.y>h.max.y&&(v|=8),v}function rn(a,h){var v=h.x-a.x,E=h.y-a.y;return v*v+E*E}function Ln(a,h,v,E){var D=h.x,X=h.y,he=v.x-D,_e=v.y-X,Oe=he*he+_e*_e,Xe;return Oe>0&&(Xe=((a.x-D)*he+(a.y-X)*_e)/Oe,Xe>1?(D=v.x,X=v.y):Xe>0&&(D+=he*Xe,X+=_e*Xe)),he=a.x-D,_e=a.y-X,E?he*he+_e*_e:new W(D,X)}function cr(a){return!k(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function us(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cr(a)}function Si(a,h){var v,E,D,X,he,_e,Oe,Xe;if(!a||a.length===0)throw new Error("latlngs not passed");cr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ht=Q([0,0]),Ct=V(a),Lt=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Lt<1700&&(ht=Lc(a));var Jt=a.length,vr=[];for(v=0;v<Jt;v++){var Nr=Q(a[v]);vr.push(h.project(Q([Nr.lat-ht.lat,Nr.lng-ht.lng])))}for(v=0,E=0;v<Jt-1;v++)E+=vr[v].distanceTo(vr[v+1])/2;if(E===0)Xe=vr[0];else for(v=0,X=0;v<Jt-1;v++)if(he=vr[v],_e=vr[v+1],D=he.distanceTo(_e),X+=D,X>E){Oe=(X-E)/D,Xe=[_e.x-Oe*(_e.x-he.x),_e.y-Oe*(_e.y-he.y)];break}var js=h.unproject(B(Xe));return Q([js.lat+ht.lat,js.lng+ht.lng])}var Wn={__proto__:null,simplify:Yu,pointToSegmentDistance:Oc,closestPointOnSegment:Nc,clipSegment:Qe,_getEdgeIntersection:St,_getBitCode:un,_sqClosestPointOnSegment:Ln,isFlat:cr,_flat:us,polylineCenter:Si},kr={project:function(a){return new W(a.lng,a.lat)},unproject:function(a){return new M(a.y,a.x)},bounds:new ie([-180,-90],[180,90])},ha={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,v=this.R,E=a.lat*h,D=this.R_MINOR/v,X=Math.sqrt(1-D*D),he=X*Math.sin(E),_e=Math.tan(Math.PI/4-E/2)/Math.pow((1-he)/(1+he),X/2);return E=-v*Math.log(Math.max(_e,1e-10)),new W(a.lng*h*v,E)},unproject:function(a){for(var h=180/Math.PI,v=this.R,E=this.R_MINOR/v,D=Math.sqrt(1-E*E),X=Math.exp(-a.y/v),he=Math.PI/2-2*Math.atan(X),_e=0,Oe=.1,Xe;_e<15&&Math.abs(Oe)>1e-7;_e++)Xe=D*Math.sin(he),Xe=Math.pow((1-Xe)/(1+Xe),D/2),Oe=Math.PI/2-2*Math.atan(X*Xe)-he,he+=Oe;return new M(he*h,a.x*h/v)}},Ya={__proto__:null,LonLat:kr,Mercator:ha,SphericalMercator:it},fa=l({},Le,{code:"EPSG:3395",projection:ha,transformation:(function(){var a=.5/(Math.PI*ha.R);return Je(a,.5,-a,.5)})()}),nm=l({},Le,{code:"EPSG:4326",projection:kr,transformation:Je(1/180,1,-1/180,.5)}),fv=l({},Ee,{projection:kr,transformation:Je(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var v=h.lng-a.lng,E=h.lat-a.lat;return Math.sqrt(v*v+E*E)},infinite:!0});Ee.Earth=Le,Ee.EPSG3395=fa,Ee.EPSG3857=zt,Ee.EPSG900913=Ve,Ee.EPSG4326=nm,Ee.Simple=fv;var qi=H.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[p(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[p(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var v=this.getEvents();h.on(v,this),this.once("remove",function(){h.off(v,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});jt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=p(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return p(a)in this._layers},eachLayer:function(a,h){for(var v in this._layers)a.call(h,this._layers[v]);return this},_addLayers:function(a){a=a?k(a)?a:[a]:[];for(var h=0,v=a.length;h<v;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[p(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=p(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,v=this._getZoomSpan();for(var E in this._zoomBoundLayers){var D=this._zoomBoundLayers[E].options;a=D.minZoom===void 0?a:Math.min(a,D.minZoom),h=D.maxZoom===void 0?h:Math.max(h,D.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xa=qi.extend({initialize:function(a,h){A(this,h),this._layers={};var v,E;if(a)for(v=0,E=a.length;v<E;v++)this.addLayer(a[v])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),v,E;for(v in this._layers)E=this._layers[v],E[a]&&E[a].apply(E,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var v in this._layers)a.call(h,this._layers[v]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return p(a)}}),rm=function(a,h){return new Xa(a,h)},ti=Xa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Xa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Xa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new $;for(var h in this._layers){var v=this._layers[h];a.extend(v.getBounds?v.getBounds():v.getLatLng())}return a}}),Bc=function(a,h){return new ti(a,h)},Dl=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){A(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var v=this._getIconUrl(a);if(!v){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(v,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(E,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(a,h){var v=this.options,E=v[h+"Size"];typeof E=="number"&&(E=[E,E]);var D=B(E),X=B(h==="shadow"&&v.shadowAnchor||v.iconAnchor||D&&D.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(v.className||""),X&&(a.style.marginLeft=-X.x+"px",a.style.marginTop=-X.y+"px"),D&&(a.style.width=D.x+"px",a.style.height=D.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return xt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Xu(a){return new Dl(a)}var zl=Dl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof zl.imagePath!="string"&&(zl.imagePath=this._detectIconPath()),(this.options.imagePath||zl.imagePath)+Dl.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(v,E,D){var X=E.exec(v);return X&&X[D]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=bn("div","leaflet-default-icon-path",document.body),h=xi(a,"background-image")||xi(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Ph=Vs.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Hi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),tn(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,v=h._map,E=this._marker.options.autoPanSpeed,D=this._marker.options.autoPanPadding,X=Is(h._icon),he=v.getPixelBounds(),_e=v.getPixelOrigin(),Oe=pe(he.min._subtract(_e).add(D),he.max._subtract(_e).subtract(D));if(!Oe.contains(X)){var Xe=B((Math.max(Oe.max.x,X.x)-Oe.max.x)/(he.max.x-Oe.max.x)-(Math.min(Oe.min.x,X.x)-Oe.min.x)/(he.min.x-Oe.min.x),(Math.max(Oe.max.y,X.y)-Oe.max.y)/(he.max.y-Oe.max.y)-(Math.min(Oe.min.y,X.y)-Oe.min.y)/(he.min.y-Oe.min.y)).multiplyBy(E);v.panBy(Xe,{animate:!1}),this._draggable._newPos._add(Xe),this._draggable._startPos._add(Xe),lr(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=le(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(ve(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,v=h._shadow,E=Is(h._icon),D=h._map.layerPointToLatLng(E);v&&lr(v,E),h._latlng=D,a.latlng=D,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ll=qi.extend({options:{icon:new zl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){A(this,h),this._latlng=Q(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=Q(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=a.icon.createIcon(this._icon),E=!1;v!==this._icon&&(this._icon&&this._removeIcon(),E=!0,a.title&&(v.title=a.title),v.tagName==="IMG"&&(v.alt=a.alt||"")),tn(v,h),a.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qt(v,"focus",this._panOnFocus,this);var D=a.icon.createShadow(this._shadow),X=!1;D!==this._shadow&&(this._removeShadow(),X=!0),D&&(tn(D,h),D.alt=""),this._shadow=D,a.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),D&&X&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_n(this._icon,"focus",this._panOnFocus,this),er(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&er(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&lr(this._icon,a),this._shadow&&lr(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(tn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ph)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ph(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&nr(this._icon,a),this._shadow&&nr(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,v=h.iconSize?B(h.iconSize):B(0,0),E=h.iconAnchor?B(h.iconAnchor):B(0,0);a.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:v.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rh(a,h){return new Ll(a,h)}var Ho=qi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return A(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$c=Ho.extend({options:{fill:!0,radius:10},initialize:function(a,h){A(this,h),this._latlng=Q(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=Q(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return Ho.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,v=this._clickTolerance(),E=[a+v,h+v];this._pxBounds=new ie(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sm(a,h){return new $c(a,h)}var Mh=$c.extend({initialize:function(a,h,v){if(typeof h=="number"&&(h=l({},v,{radius:h})),A(this,h),this._latlng=Q(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ho.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,v=this._map,E=v.options.crs;if(E.distance===Le.distance){var D=Math.PI/180,X=this._mRadius/Le.R/D,he=v.project([h+X,a]),_e=v.project([h-X,a]),Oe=he.add(_e).divideBy(2),Xe=v.unproject(Oe).lat,ht=Math.acos((Math.cos(X*D)-Math.sin(h*D)*Math.sin(Xe*D))/(Math.cos(h*D)*Math.cos(Xe*D)))/D;(isNaN(ht)||ht===0)&&(ht=X/Math.cos(Math.PI/180*h)),this._point=Oe.subtract(v.getPixelOrigin()),this._radius=isNaN(ht)?0:Oe.x-v.project([Xe,a-ht]).x,this._radiusY=Oe.y-he.y}else{var Ct=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Ct).x}this._updateBounds()}});function pv(a,h,v){return new Mh(a,h,v)}var Wo=Ho.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){A(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,v=null,E=Ln,D,X,he=0,_e=this._parts.length;he<_e;he++)for(var Oe=this._parts[he],Xe=1,ht=Oe.length;Xe<ht;Xe++){D=Oe[Xe-1],X=Oe[Xe];var Ct=E(a,D,X,!0);Ct<h&&(h=Ct,v=E(a,D,X))}return v&&(v.distance=Math.sqrt(h)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Si(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=Q(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new $,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return cr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],v=cr(a),E=0,D=a.length;E<D;E++)v?(h[E]=Q(a[E]),this._bounds.extend(h[E])):h[E]=this._convertLatLngs(a[E]);return h},_project:function(){var a=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new W(a,a);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,v){var E=a[0]instanceof M,D=a.length,X,he;if(E){for(he=[],X=0;X<D;X++)he[X]=this._map.latLngToLayerPoint(a[X]),v.extend(he[X]);h.push(he)}else for(X=0;X<D;X++)this._projectLatlngs(a[X],h,v)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,v,E,D,X,he,_e,Oe;for(v=0,D=0,X=this._rings.length;v<X;v++)for(Oe=this._rings[v],E=0,he=Oe.length;E<he-1;E++)_e=Qe(Oe[E],Oe[E+1],a,E,!0),_e&&(h[D]=h[D]||[],h[D].push(_e[0]),(_e[1]!==Oe[E+1]||E===he-2)&&(h[D].push(_e[1]),D++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,v=0,E=a.length;v<E;v++)a[v]=Yu(a[v],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var v,E,D,X,he,_e,Oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(v=0,X=this._parts.length;v<X;v++)for(_e=this._parts[v],E=0,he=_e.length,D=he-1;E<he;D=E++)if(!(!h&&E===0)&&Oc(a,_e[D],_e[E])<=Oe)return!0;return!1}});function mv(a,h){return new Wo(a,h)}Wo._flat=us;var Ol=Wo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=Wo.prototype._convertLatLngs.call(this,a),v=h.length;return v>=2&&h[0]instanceof M&&h[0].equals(h[v-1])&&h.pop(),h},_setLatLngs:function(a){Wo.prototype._setLatLngs.call(this,a),cr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,v=new W(h,h);if(a=new ie(a.min.subtract(v),a.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,D=this._rings.length,X;E<D;E++)X=Zu(this._rings[E],a,!0),X.length&&this._parts.push(X)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,v,E,D,X,he,_e,Oe,Xe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(X=0,Oe=this._parts.length;X<Oe;X++)for(v=this._parts[X],he=0,Xe=v.length,_e=Xe-1;he<Xe;_e=he++)E=v[he],D=v[_e],E.y>a.y!=D.y>a.y&&a.x<(D.x-E.x)*(a.y-E.y)/(D.y-E.y)+E.x&&(h=!h);return h||Wo.prototype._containsPoint.call(this,a,!0)}});function ni(a,h){return new Ol(a,h)}var ri=ti.extend({initialize:function(a,h){A(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=k(a)?a:a.features,v,E,D;if(h){for(v=0,E=h.length;v<E;v++)D=h[v],(D.geometries||D.geometry||D.features||D.coordinates)&&this.addData(D);return this}var X=this.options;if(X.filter&&!X.filter(a))return this;var he=Fc(a,X);return he?(he.feature=Nl(a),he.defaultOptions=he.options,this.resetStyle(he),X.onEachFeature&&X.onEachFeature(a,he),this.addLayer(he)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function Fc(a,h){var v=a.type==="Feature"?a.geometry:a,E=v?v.coordinates:null,D=[],X=h&&h.pointToLayer,he=h&&h.coordsToLatLng||Ku,_e,Oe,Xe,ht;if(!E&&!v)return null;switch(v.type){case"Point":return _e=he(E),Dh(X,a,_e,h);case"MultiPoint":for(Xe=0,ht=E.length;Xe<ht;Xe++)_e=he(E[Xe]),D.push(Dh(X,a,_e,h));return new ti(D);case"LineString":case"MultiLineString":return Oe=Vc(E,v.type==="LineString"?0:1,he),new Wo(Oe,h);case"Polygon":case"MultiPolygon":return Oe=Vc(E,v.type==="Polygon"?1:2,he),new Ol(Oe,h);case"GeometryCollection":for(Xe=0,ht=v.geometries.length;Xe<ht;Xe++){var Ct=Fc({geometry:v.geometries[Xe],type:"Feature",properties:a.properties},h);Ct&&D.push(Ct)}return new ti(D);case"FeatureCollection":for(Xe=0,ht=v.features.length;Xe<ht;Xe++){var Lt=Fc(v.features[Xe],h);Lt&&D.push(Lt)}return new ti(D);default:throw new Error("Invalid GeoJSON object.")}}function Dh(a,h,v,E){return a?a(h,v):new Ll(v,E&&E.markersInheritOptions&&E)}function Ku(a){return new M(a[1],a[0],a[2])}function Vc(a,h,v){for(var E=[],D=0,X=a.length,he;D<X;D++)he=h?Vc(a[D],h-1,v):(v||Ku)(a[D]),E.push(he);return E}function Uc(a,h){return a=Q(a),a.alt!==void 0?[S(a.lng,h),S(a.lat,h),S(a.alt,h)]:[S(a.lng,h),S(a.lat,h)]}function Qu(a,h,v,E){for(var D=[],X=0,he=a.length;X<he;X++)D.push(h?Qu(a[X],cr(a[X])?0:h-1,v,E):Uc(a[X],E));return!h&&v&&D.length>0&&D.push(D[0].slice()),D}function Gi(a,h){return a.feature?l({},a.feature,{geometry:h}):Nl(h)}function Nl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ka={toGeoJSON:function(a){return Gi(this,{type:"Point",coordinates:Uc(this.getLatLng(),a)})}};Ll.include(Ka),Mh.include(Ka),$c.include(Ka),Wo.include({toGeoJSON:function(a){var h=!cr(this._latlngs),v=Qu(this._latlngs,h?1:0,!1,a);return Gi(this,{type:(h?"Multi":"")+"LineString",coordinates:v})}}),Ol.include({toGeoJSON:function(a){var h=!cr(this._latlngs),v=h&&!cr(this._latlngs[0]),E=Qu(this._latlngs,v?2:h?1:0,!0,a);return h||(E=[E]),Gi(this,{type:(v?"Multi":"")+"Polygon",coordinates:E})}}),Xa.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(v){h.push(v.toGeoJSON(a).geometry.coordinates)}),Gi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var v=h==="GeometryCollection",E=[];return this.eachLayer(function(D){if(D.toGeoJSON){var X=D.toGeoJSON(a);if(v)E.push(X.geometry);else{var he=Nl(X);he.type==="FeatureCollection"?E.push.apply(E,he.features):E.push(he)}}}),v?Gi(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function Ju(a,h){return new ri(a,h)}var im=Ju,jo=qi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,v){this._url=a,this._bounds=V(h),A(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(tn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){er(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$i(this._image),this},bringToBack:function(){return this._map&&xo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=V(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:bn("img");if(tn(h,"leaflet-image-layer"),this._zoomAnimated&&tn(h,"leaflet-zoom-animated"),this.options.className&&tn(h,this.options.className),h.onselectstart=j,h.onmousemove=j,h.onload=d(this.fire,this,"load"),h.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;xs(this._image,v,h)},_reset:function(){var a=this._image,h=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=h.getSize();lr(a,h.min),a.style.width=v.x+"px",a.style.height=v.y+"px"},_updateOpacity:function(){nr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Il=function(a,h,v){return new jo(a,h,v)},ed=jo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:bn("video");if(tn(h,"leaflet-image-layer"),this._zoomAnimated&&tn(h,"leaflet-zoom-animated"),this.options.className&&tn(h,this.options.className),h.onselectstart=j,h.onmousemove=j,h.onloadeddata=d(this.fire,this,"load"),a){for(var v=h.getElementsByTagName("source"),E=[],D=0;D<v.length;D++)E.push(v[D].src);this._url=v.length>0?E:[h.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var X=0;X<this._url.length;X++){var he=bn("source");he.src=this._url[X],h.appendChild(he)}}});function om(a,h,v){return new ed(a,h,v)}var pa=jo.extend({_initImage:function(){var a=this._image=this._url;tn(a,"leaflet-image-layer"),this._zoomAnimated&&tn(a,"leaflet-zoom-animated"),this.options.className&&tn(a,this.options.className),a.onselectstart=j,a.onmousemove=j}});function am(a,h,v){return new pa(a,h,v)}var Zi=qi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof M||k(a))?(this._latlng=Q(a),A(this,h)):(A(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&nr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&nr(this._container,1),this.bringToFront(),this.options.interactive&&(tn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(nr(this._container,0),this._removeTimeout=setTimeout(d(er,void 0,this._container),200)):er(this._container),this.options.interactive&&(tr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Q(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$i(this._container),this},bringToBack:function(){return this._map&&xo(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof ti){h=null;var v=this._source._layers;for(var E in v)if(v[E]._map){h=v[E];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=B(this.options.offset),v=this._getAnchor();this._zoomAnimated?lr(this._container,a.add(v)):h=h.add(a).add(v);var E=this._containerBottom=-h.y,D=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=E+"px",this._container.style.left=D+"px"}},_getAnchor:function(){return[0,0]}});jt.include({_initOverlay:function(a,h,v,E){var D=h;return D instanceof a||(D=new a(E).setContent(h)),v&&D.setLatLng(v),D}}),qi.include({_initOverlay:function(a,h,v,E){var D=v;return D instanceof a?(A(D,E),D._source=this):(D=h&&!E?h:new a(E,this),D.setContent(v)),D}});var Hc=Zi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Zi.prototype.openOn.call(this,a)},onAdd:function(a){Zi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ho||this._source.on("preclick",ft))},onRemove:function(a){Zi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ho||this._source.off("preclick",ft))},getEvents:function(){var a=Zi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=bn("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=bn("div",a+"-content-wrapper",h);if(this._contentNode=bn("div",a+"-content",v),bo(h),Or(this._contentNode),qt(h,"contextmenu",ft),this._tipContainer=bn("div",a+"-tip-container",h),this._tip=bn("div",a+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=bn("a",a+"-close-button",h);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',qt(E,"click",function(D){xr(D),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var v=a.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),h.width=v+1+"px",h.whiteSpace="",h.height="";var E=a.offsetHeight,D=this.options.maxHeight,X="leaflet-popup-scrolled";D&&E>D?(h.height=D+"px",tn(a,X)):tr(a,X),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),v=this._getAnchor();lr(this._container,h.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(xi(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+h,E=this._containerWidth,D=new W(this._containerLeft,-v-this._containerBottom);D._add(Is(this._container));var X=a.layerPointToContainerPoint(D),he=B(this.options.autoPanPadding),_e=B(this.options.autoPanPaddingTopLeft||he),Oe=B(this.options.autoPanPaddingBottomRight||he),Xe=a.getSize(),ht=0,Ct=0;X.x+E+Oe.x>Xe.x&&(ht=X.x+E-Xe.x+Oe.x),X.x-ht-_e.x<0&&(ht=X.x-_e.x),X.y+v+Oe.y>Xe.y&&(Ct=X.y+v-Xe.y+Oe.y),X.y-Ct-_e.y<0&&(Ct=X.y-_e.y),(ht||Ct)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ht,Ct]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gv=function(a,h){return new Hc(a,h)};jt.mergeOptions({closePopupOnClick:!0}),jt.include({openPopup:function(a,h,v){return this._initOverlay(Hc,a,h,v).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),qi.include({bindPopup:function(a,h){return this._popup=this._initOverlay(Hc,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){bs(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof Ho)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var td=Zi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Zi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Zi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Zi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bn("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,v,E=this._map,D=this._container,X=E.latLngToContainerPoint(E.getCenter()),he=E.layerPointToContainerPoint(a),_e=this.options.direction,Oe=D.offsetWidth,Xe=D.offsetHeight,ht=B(this.options.offset),Ct=this._getAnchor();_e==="top"?(h=Oe/2,v=Xe):_e==="bottom"?(h=Oe/2,v=0):_e==="center"?(h=Oe/2,v=Xe/2):_e==="right"?(h=0,v=Xe/2):_e==="left"?(h=Oe,v=Xe/2):he.x<X.x?(_e="right",h=0,v=Xe/2):(_e="left",h=Oe+(ht.x+Ct.x)*2,v=Xe/2),a=a.subtract(B(h,v,!0)).add(ht).add(Ct),tr(D,"leaflet-tooltip-right"),tr(D,"leaflet-tooltip-left"),tr(D,"leaflet-tooltip-top"),tr(D,"leaflet-tooltip-bottom"),tn(D,"leaflet-tooltip-"+_e),lr(D,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&nr(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xv=function(a,h){return new td(a,h)};jt.include({openTooltip:function(a,h,v){return this._initOverlay(td,a,h,v).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),qi.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(td,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[h](v),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(qt(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),qt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,v,E;this._tooltip.options.sticky&&a.originalEvent&&(v=this._map.mouseEventToContainerPoint(a.originalEvent),E=this._map.containerPointToLayerPoint(v),h=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(h)}});var zh=Dl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),v=this.options;if(v.html instanceof Element?(zr(h),h.appendChild(v.html)):h.innerHTML=v.html!==!1?v.html:"",v.bgPos){var E=B(v.bgPos);h.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function lm(a){return new zh(a)}Dl.Default=zl;var Qa=qi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){A(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),er(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($i(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof W?a:new W(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,v=-a(-1/0,1/0),E=0,D=h.length,X;E<D;E++)X=h[E].style.zIndex,h[E]!==this._container&&X&&(v=a(v,+X));isFinite(v)&&(this.options.zIndex=v+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){nr(this._container,this.options.opacity);var a=+new Date,h=!1,v=!1;for(var E in this._tiles){var D=this._tiles[E];if(!(!D.current||!D.loaded)){var X=Math.min(1,(a-D.loaded)/200);nr(D.el,X),X<1?h=!0:(D.active?v=!0:this._onOpaqueTile(D),D.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),h&&(ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=bn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===a?(this._levels[v].el.style.zIndex=h-Math.abs(a-v),this._onUpdateLevel(v)):(er(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var E=this._levels[a],D=this._map;return E||(E=this._levels[a]={},E.el=bn("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=h,E.origin=D.project(D.unproject(D.getPixelOrigin()),a).round(),E.zoom=a,this._setZoomTransform(E,D.getCenter(),D.getZoom()),j(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var a,h,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var E=h.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)er(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,v,E){var D=Math.floor(a/2),X=Math.floor(h/2),he=v-1,_e=new W(+D,+X);_e.z=+he;var Oe=this._tileCoordsToKey(_e),Xe=this._tiles[Oe];return Xe&&Xe.active?(Xe.retain=!0,!0):(Xe&&Xe.loaded&&(Xe.retain=!0),he>E?this._retainParent(D,X,he,E):!1)},_retainChildren:function(a,h,v,E){for(var D=2*a;D<2*a+2;D++)for(var X=2*h;X<2*h+2;X++){var he=new W(D,X);he.z=v+1;var _e=this._tileCoordsToKey(he),Oe=this._tiles[_e];if(Oe&&Oe.active){Oe.retain=!0;continue}else Oe&&Oe.loaded&&(Oe.retain=!0);v+1<E&&this._retainChildren(D,X,v+1,E)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,v,E){var D=Math.round(h);this.options.maxZoom!==void 0&&D>this.options.maxZoom||this.options.minZoom!==void 0&&D<this.options.minZoom?D=void 0:D=this._clampZoom(D);var X=this.options.updateWhenZooming&&D!==this._tileZoom;(!E||X)&&(this._tileZoom=D,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),D!==void 0&&this._update(a),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var v in this._levels)this._setZoomTransform(this._levels[v],a,h)},_setZoomTransform:function(a,h,v){var E=this._map.getZoomScale(v,a.zoom),D=a.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(h,v)).round();xt.any3d?xs(a.el,D,E):lr(a.el,D)},_resetGrid:function(){var a=this._map,h=a.options.crs,v=this._tileSize=this.getTileSize(),E=this._tileZoom,D=this._map.getPixelWorldBounds(this._tileZoom);D&&(this._globalTileRange=this._pxBoundsToTileRange(D)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],E).x/v.x),Math.ceil(a.project([0,h.wrapLng[1]],E).x/v.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],E).y/v.x),Math.ceil(a.project([h.wrapLat[1],0],E).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,v=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),E=h.getZoomScale(v,this._tileZoom),D=h.project(a,this._tileZoom).floor(),X=h.getSize().divideBy(E*2);return new ie(D.subtract(X),D.add(X))},_update:function(a){var h=this._map;if(h){var v=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(a),D=this._pxBoundsToTileRange(E),X=D.getCenter(),he=[],_e=this.options.keepBuffer,Oe=new ie(D.getBottomLeft().subtract([_e,-_e]),D.getTopRight().add([_e,-_e]));if(!(isFinite(D.min.x)&&isFinite(D.min.y)&&isFinite(D.max.x)&&isFinite(D.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Xe in this._tiles){var ht=this._tiles[Xe].coords;(ht.z!==this._tileZoom||!Oe.contains(new W(ht.x,ht.y)))&&(this._tiles[Xe].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(a,v);return}for(var Ct=D.min.y;Ct<=D.max.y;Ct++)for(var Lt=D.min.x;Lt<=D.max.x;Lt++){var Jt=new W(Lt,Ct);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var vr=this._tiles[this._tileCoordsToKey(Jt)];vr?vr.current=!0:he.push(Jt)}}if(he.sort(function(js,Ci){return js.distanceTo(X)-Ci.distanceTo(X)}),he.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nr=document.createDocumentFragment();for(Lt=0;Lt<he.length;Lt++)this._addTile(he[Lt],Nr);this._level.el.appendChild(Nr)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var v=this._globalTileRange;if(!h.wrapLng&&(a.x<v.min.x||a.x>v.max.x)||!h.wrapLat&&(a.y<v.min.y||a.y>v.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(a);return V(this.options.bounds).overlaps(E)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,v=this.getTileSize(),E=a.scaleBy(v),D=E.add(v),X=h.unproject(E,a.z),he=h.unproject(D,a.z);return[X,he]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),v=new $(h[0],h[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),v=new W(+h[0],+h[1]);return v.z=+h[2],v},_removeTile:function(a){var h=this._tiles[a];h&&(er(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){tn(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=j,a.onmousemove=j,xt.ielt9&&this.options.opacity<1&&nr(a,this.options.opacity)},_addTile:function(a,h){var v=this._getTilePos(a),E=this._tileCoordsToKey(a),D=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(D),this.createTile.length<2&&le(d(this._tileReady,this,a,null,D)),lr(D,v),this._tiles[E]={el:D,coords:a,current:!0},h.appendChild(D),this.fire("tileloadstart",{tile:D,coords:a})},_tileReady:function(a,h,v){h&&this.fire("tileerror",{error:h,tile:v,coords:a});var E=this._tileCoordsToKey(a);v=this._tiles[E],v&&(v.loaded=+new Date,this._map._fadeAnimated?(nr(v.el,0),ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),h||(tn(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new W(this._wrapX?x(a.x,this._wrapX):a.x,this._wrapY?x(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new ie(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Yi(a){return new Qa(a)}var Ja=Qa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=A(this,h),h.detectRetina&&xt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var v=document.createElement("img");return qt(v,"load",d(this._tileOnLoad,this,h,v)),qt(v,"error",d(this._tileOnError,this,h,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(a),v},getTileUrl:function(a){var h={r:xt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=v),h["-y"]=v}return P(this._url,l(h,this.options))},_tileOnLoad:function(a,h){xt.ielt9?setTimeout(d(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,v){var E=this.options.errorTileUrl;E&&h.getAttribute("src")!==E&&(h.src=E),a(v,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,v=this.options.zoomReverse,E=this.options.zoomOffset;return v&&(a=h-a),a+E},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=j,h.onerror=j,!h.complete)){h.src=N;var v=this._tiles[a].coords;er(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:v})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",N),Qa.prototype._removeTile.call(this,a)},_tileReady:function(a,h,v){if(!(!this._map||v&&v.getAttribute("src")===N))return Qa.prototype._tileReady.call(this,a,h,v)}});function si(a,h){return new Ja(a,h)}var ii=Ja.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var v=l({},this.defaultWmsParams);for(var E in h)E in this.options||(v[E]=h[E]);h=A(this,h);var D=h.detectRetina&&xt.retina?2:1,X=this.getTileSize();v.width=X.x*D,v.height=X.y*D,this.wmsParams=v},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Ja.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),v=this._crs,E=pe(v.project(h[0]),v.project(h[1])),D=E.min,X=E.max,he=(this._wmsVersion>=1.3&&this._crs===nm?[D.y,D.x,X.y,X.x]:[D.x,D.y,X.x,X.y]).join(","),_e=Ja.prototype.getTileUrl.call(this,a);return _e+T(this.wmsParams,_e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+he},setParams:function(a,h){return l(this.wmsParams,a),h||this.redraw(),this}});function Bl(a,h){return new ii(a,h)}Ja.WMS=ii,si.wms=Bl;var Xi=qi.extend({options:{padding:.1},initialize:function(a){A(this,a),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),tn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var v=this._map.getZoomScale(h,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),D=this._map.project(this._center,h),X=E.multiplyBy(-v).add(D).subtract(this._map._getNewPixelOrigin(a,h));xt.any3d?xs(this._container,X,v):lr(this._container,X)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),v=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new ie(v,v.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wc=Xi.extend({options:{tolerance:0},getEvents:function(){var a=Xi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");qt(a,"mousemove",this._onMouseMove,this),qt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){ve(this._redrawRequest),delete this._ctx,er(this._container),_n(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xi.prototype._update.call(this);var a=this._bounds,h=this._container,v=a.getSize(),E=xt.retina?2:1;lr(h,a.min),h.width=E*v.x,h.height=E*v.y,h.style.width=v.x+"px",h.style.height=v.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Xi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[p(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,v=h.next,E=h.prev;v?v.prev=E:this._drawLast=E,E?E.next=v:this._drawFirst=v,delete a._order,delete this._layers[p(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),v=[],E,D;for(D=0;D<h.length;D++){if(E=Number(h[D]),isNaN(E))return;v.push(E)}a.options._dashArray=v}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var v=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)a=E.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var v,E,D,X,he=a._parts,_e=he.length,Oe=this._ctx;if(_e){for(Oe.beginPath(),v=0;v<_e;v++){for(E=0,D=he[v].length;E<D;E++)X=he[v][E],Oe[E?"lineTo":"moveTo"](X.x,X.y);h&&Oe.closePath()}this._fillStroke(Oe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,v=this._ctx,E=Math.max(Math.round(a._radius),1),D=(Math.max(Math.round(a._radiusY),1)||E)/E;D!==1&&(v.save(),v.scale(1,D)),v.beginPath(),v.arc(h.x,h.y/D,E,0,Math.PI*2,!1),D!==1&&v.restore(),this._fillStroke(v,a)}},_fillStroke:function(a,h){var v=h.options;v.fill&&(a.globalAlpha=v.fillOpacity,a.fillStyle=v.fillColor||v.color,a.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=v.opacity,a.lineWidth=v.weight,a.strokeStyle=v.color,a.lineCap=v.lineCap,a.lineJoin=v.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),v,E,D=this._drawFirst;D;D=D.next)v=D.layer,v.options.interactive&&v._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(v))&&(E=v);this._fireEvent(E?[E]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(tr(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var v,E,D=this._drawFirst;D;D=D.next)v=D.layer,v.options.interactive&&v._containsPoint(h)&&(E=v);E!==this._hoveredLayer&&(this._handleMouseOut(a),E&&(tn(this._container,"leaflet-interactive"),this._fireEvent([E],a,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,v){this._map._fireDOMEvent(h,v||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var v=h.next,E=h.prev;if(v)v.prev=E;else return;E?E.next=v:v&&(this._drawFirst=v),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var v=h.next,E=h.prev;if(E)E.next=v;else return;v?v.prev=E:E&&(this._drawLast=E),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function qc(a){return xt.canvas?new Wc(a):null}var el=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),$l={_initContainer:function(){this._container=bn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=el("shape");tn(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=el("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;er(h),a.removeInteractiveTarget(h),delete this._layers[p(a)]},_updateStyle:function(a){var h=a._stroke,v=a._fill,E=a.options,D=a._container;D.stroked=!!E.stroke,D.filled=!!E.fill,E.stroke?(h||(h=a._stroke=el("stroke")),D.appendChild(h),h.weight=E.weight+"px",h.color=E.color,h.opacity=E.opacity,E.dashArray?h.dashStyle=k(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=E.lineCap.replace("butt","flat"),h.joinstyle=E.lineJoin):h&&(D.removeChild(h),a._stroke=null),E.fill?(v||(v=a._fill=el("fill")),D.appendChild(v),v.color=E.fillColor||E.color,v.opacity=E.fillOpacity):v&&(D.removeChild(v),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),v=Math.round(a._radius),E=Math.round(a._radiusY||v);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+v+","+E+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){$i(a._container)},_bringToBack:function(a){xo(a._container)}},Gc=xt.vml?el:$t,ma=Xi.extend({_initContainer:function(){this._container=Gc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){er(this._container),_n(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xi.prototype._update.call(this);var a=this._bounds,h=a.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,v.setAttribute("width",h.x),v.setAttribute("height",h.y)),lr(v,a.min),v.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=Gc("path");a.options.className&&tn(h,a.options.className),a.options.interactive&&tn(h,"leaflet-interactive"),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){er(a._path),a.removeInteractiveTarget(a._path),delete this._layers[p(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,v=a.options;h&&(v.stroke?(h.setAttribute("stroke",v.color),h.setAttribute("stroke-opacity",v.opacity),h.setAttribute("stroke-width",v.weight),h.setAttribute("stroke-linecap",v.lineCap),h.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?h.setAttribute("stroke-dasharray",v.dashArray):h.removeAttribute("stroke-dasharray"),v.dashOffset?h.setAttribute("stroke-dashoffset",v.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),v.fill?(h.setAttribute("fill",v.fillColor||v.color),h.setAttribute("fill-opacity",v.fillOpacity),h.setAttribute("fill-rule",v.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,be(a._parts,h))},_updateCircle:function(a){var h=a._point,v=Math.max(Math.round(a._radius),1),E=Math.max(Math.round(a._radiusY),1)||v,D="a"+v+","+E+" 0 1,0 ",X=a._empty()?"M0 0":"M"+(h.x-v)+","+h.y+D+v*2+",0 "+D+-v*2+",0 ";this._setPath(a,X)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){$i(a._path)},_bringToBack:function(a){xo(a._path)}});xt.vml&&ma.include($l);function tl(a){return xt.svg||xt.vml?new ma(a):null}jt.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&qc(a)||tl(a)}});var cm=Ol.extend({initialize:function(a,h){Ol.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=V(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function oi(a,h){return new cm(a,h)}ma.create=Gc,ma.pointsToPath=be,ri.geometryToLayer=Fc,ri.coordsToLatLng=Ku,ri.coordsToLatLngs=Vc,ri.latLngToCoords=Uc,ri.latLngsToCoords=Qu,ri.getFeature=Gi,ri.asFeature=Nl,jt.mergeOptions({boxZoom:!0});var nd=Vs.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_n(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){er(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vs(),$s(),this._startPoint=this._map.mouseEventToContainerPoint(a),qt(document,{contextmenu:bs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=bn("div","leaflet-zoom-box",this._container),tn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new ie(this._point,this._startPoint),v=h.getSize();lr(this._box,h.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(er(this._box),tr(this._container,"leaflet-crosshair")),bi(),Ga(),_n(document,{contextmenu:bs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var h=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jt.addInitHook("addHandler","boxZoom",nd),jt.mergeOptions({doubleClickZoom:!0});var So=Vs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,v=h.getZoom(),E=h.options.zoomDelta,D=a.originalEvent.shiftKey?v-E:v+E;h.options.doubleClickZoom==="center"?h.setZoom(D):h.setZoomAround(a.containerPoint,D)}});jt.addInitHook("addHandler","doubleClickZoom",So),jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lh=Vs.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Hi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}tn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tr(this._map._container,"leaflet-grab"),tr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=V(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),v=this._initialWorldOffset,E=this._draggable._newPos.x,D=(E-h+v)%a+h-v,X=(E+h+v)%a-h-v,he=Math.abs(D+v)<Math.abs(X+v)?D:X;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=he},_onDragEnd:function(a){var h=this._map,v=h.options,E=!v.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),E)h.fire("moveend");else{this._prunePositions(+new Date);var D=this._lastPos.subtract(this._positions[0]),X=(this._lastTime-this._times[0])/1e3,he=v.easeLinearity,_e=D.multiplyBy(he/X),Oe=_e.distanceTo([0,0]),Xe=Math.min(v.inertiaMaxSpeed,Oe),ht=_e.multiplyBy(Xe/Oe),Ct=Xe/(v.inertiaDeceleration*he),Lt=ht.multiplyBy(-Ct/2).round();!Lt.x&&!Lt.y?h.fire("moveend"):(Lt=h._limitOffset(Lt,h.options.maxBounds),le(function(){h.panBy(Lt,{duration:Ct,easeLinearity:he,noMoveStart:!0,animate:!0})}))}}});jt.addInitHook("addHandler","dragging",Lh),jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zc=Vs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),qt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_n(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,v=a.scrollTop||h.scrollTop,E=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(E,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},v=this.keyCodes,E,D;for(E=0,D=v.left.length;E<D;E++)h[v.left[E]]=[-1*a,0];for(E=0,D=v.right.length;E<D;E++)h[v.right[E]]=[a,0];for(E=0,D=v.down.length;E<D;E++)h[v.down[E]]=[0,a];for(E=0,D=v.up.length;E<D;E++)h[v.up[E]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},v=this.keyCodes,E,D;for(E=0,D=v.zoomIn.length;E<D;E++)h[v.zoomIn[E]]=a;for(E=0,D=v.zoomOut.length;E<D;E++)h[v.zoomOut[E]]=-a},_addHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_n(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,v=this._map,E;if(h in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(E=this._panKeys[h],a.shiftKey&&(E=B(E).multiplyBy(3)),v.options.maxBounds&&(E=v._limitOffset(B(E),v.options.maxBounds)),v.options.worldCopyJump){var D=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(E)));v.panTo(D)}else v.panBy(E)}else if(h in this._zoomKeys)v.setZoom(v.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;bs(a)}}});jt.addInitHook("addHandler","keyboard",Zc),jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ga=Vs.extend({addHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_n(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=De(a),v=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var E=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),E),bs(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),v=this._map.options.zoomSnap||0;a._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),D=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,X=v?Math.ceil(D/v)*v:D,he=a._limitZoom(h+(this._delta>0?X:-X))-h;this._delta=0,this._startTime=null,he&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+he):a.setZoomAround(this._lastMousePos,h+he))}});jt.addInitHook("addHandler","scrollWheelZoom",ga);var Oh=600;jt.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var rd=Vs.extend({addHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_n(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new W(h.clientX,h.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(qt(document,"touchend",xr),qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Oh),qt(document,"touchend touchcancel contextmenu",this._cancel,this),qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){_n(document,"touchend",xr),_n(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),_n(document,"touchend touchcancel contextmenu",this._cancel,this),_n(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new W(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var v=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});v._simulated=!0,h.target.dispatchEvent(v)}});jt.addInitHook("addHandler","tapHold",rd),jt.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var nl=Vs.extend({addHooks:function(){tn(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tr(this._map._container,"leaflet-touch-zoom"),_n(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var v=h.mouseEventToContainerPoint(a.touches[0]),E=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(v.add(E)._divideBy(2))),this._startDist=v.distanceTo(E),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend touchcancel",this._onTouchEnd,this),xr(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,v=h.mouseEventToContainerPoint(a.touches[0]),E=h.mouseEventToContainerPoint(a.touches[1]),D=v.distanceTo(E)/this._startDist;if(this._zoom=h.getScaleZoom(D,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&D<1||this._zoom>h.getMaxZoom()&&D>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,D===1)return}else{var X=v._add(E)._divideBy(2)._subtract(this._centerPoint);if(D===1&&X.x===0&&X.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(X),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),ve(this._animRequest);var he=d(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(he,this,!0),xr(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ve(this._animRequest),_n(document,"touchmove",this._onTouchMove,this),_n(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jt.addInitHook("addHandler","touchZoom",nl),jt.BoxZoom=nd,jt.DoubleClickZoom=So,jt.Drag=Lh,jt.Keyboard=Zc,jt.ScrollWheelZoom=ga,jt.TapHold=rd,jt.TouchZoom=nl,r.Bounds=ie,r.Browser=xt,r.CRS=Ee,r.Canvas=Wc,r.Circle=Mh,r.CircleMarker=$c,r.Class=me,r.Control=an,r.DivIcon=zh,r.DivOverlay=Zi,r.DomEvent=gn,r.DomUtil=Dc,r.Draggable=Hi,r.Evented=H,r.FeatureGroup=ti,r.GeoJSON=ri,r.GridLayer=Qa,r.Handler=Vs,r.Icon=Dl,r.ImageOverlay=jo,r.LatLng=M,r.LatLngBounds=$,r.Layer=qi,r.LayerGroup=Xa,r.LineUtil=Wn,r.Map=jt,r.Marker=Ll,r.Mixin=qu,r.Path=Ho,r.Point=W,r.PolyUtil=Th,r.Polygon=Ol,r.Polyline=Wo,r.Popup=Hc,r.PosAnimation=Rn,r.Projection=Ya,r.Rectangle=cm,r.Renderer=Xi,r.SVG=ma,r.SVGOverlay=pa,r.TileLayer=Ja,r.Tooltip=td,r.Transformation=ct,r.Util=Pe,r.VideoOverlay=ed,r.bind=d,r.bounds=pe,r.canvas=qc,r.circle=pv,r.circleMarker=sm,r.control=$r,r.divIcon=lm,r.extend=l,r.featureGroup=Bc,r.geoJSON=Ju,r.geoJson=im,r.gridLayer=Yi,r.icon=Xu,r.imageOverlay=Il,r.latLng=Q,r.latLngBounds=V,r.layerGroup=rm,r.map=dn,r.marker=Rh,r.point=B,r.polygon=ni,r.polyline=mv,r.popup=gv,r.rectangle=oi,r.setOptions=A,r.stamp=p,r.svg=tl,r.svgOverlay=am,r.tileLayer=si,r.tooltip=xv,r.transformation=Je,r.version=i,r.videoOverlay=om;var Fl=window.L;r.noConflict=function(){return window.L=Fl,this},window.L=r}))})(Gf,Gf.exports)),Gf.exports}var Ch=_Q();const wh=Dp(Ch);function dv(t,n,r){return Object.freeze({instance:t,context:n,container:r})}function hv(t,n){return n==null?function(i,l){const u=y.useRef(void 0);return u.current||(u.current=t(i,l)),u}:function(i,l){const u=y.useRef(void 0);u.current||(u.current=t(i,l));const d=y.useRef(i),{instance:m}=u.current;return y.useEffect(function(){d.current!==i&&(n(m,i,d.current),d.current=i)},[m,i,n]),u}}function rD(t,n){y.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function sD(t){return function(r){const i=cv(),l=t(uv(r,i),i);return eD(i.map,r.attribution),C1(l.current,r.eventHandlers),rD(l.current,i),l}}function EQ(t,n){const r=y.useRef(void 0);y.useEffect(function(){if(n.pathOptions!==r.current){const l=n.pathOptions??{};t.instance.setStyle(l),r.current=l}},[t,n])}function AQ(t){return function(r){const i=cv(),l=t(uv(r,i),i);return C1(l.current,r.eventHandlers),rD(l.current,i),EQ(l.current,r),l}}function TQ(t,n){const r=hv(t,n),i=sD(r);return nD(i)}function kQ(t,n){const r=hv(t),i=CQ(r,n);return jQ(i)}function PQ(t,n){const r=hv(t,n),i=AQ(r);return nD(i)}function RQ(t,n){const r=hv(t,n),i=sD(r);return SQ(i)}function MQ(t,n,r){const{opacity:i,zIndex:l}=n;i!=null&&i!==r.opacity&&t.setOpacity(i),l!=null&&l!==r.zIndex&&t.setZIndex(l)}function DQ(){return cv().map}function zQ({bounds:t,boundsOptions:n,center:r,children:i,className:l,id:u,placeholder:d,style:m,whenReady:p,zoom:g,...x},j){const[S]=y.useState({className:l,id:u,style:m}),[C,_]=y.useState(null),A=y.useRef(void 0);y.useImperativeHandle(j,()=>C?.map??null,[C]);const T=y.useCallback(P=>{if(P!==null&&!A.current){const k=new Ch.Map(P,x);A.current=k,r!=null&&g!=null?k.setView(r,g):t!=null&&k.fitBounds(t,n),p!=null&&k.whenReady(p),_(bQ(k))}},[]);y.useEffect(()=>()=>{C?.map.remove()},[C]);const z=C?fn.createElement(S1,{value:C},i):d??null;return fn.createElement("div",{...S,ref:T},z)}const LQ=y.forwardRef(zQ),OQ=TQ(function({position:n,...r},i){const l=new Ch.Marker(n,r);return dv(l,tD(i,{overlayContainer:l}))},function(n,r,i){r.position!==i.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),NA=PQ(function({positions:n,...r},i){const l=new Ch.Polyline(n,r);return dv(l,tD(i,{overlayContainer:l}))},function(n,r,i){r.positions!==i.positions&&n.setLatLngs(r.positions)}),NQ=kQ(function(n,r){const i=new Ch.Popup(n,r.overlayContainer);return dv(i,r)},function(n,r,{position:i},l){y.useEffect(function(){const{instance:d}=n;function m(g){g.popup===d&&(d.update(),l(!0))}function p(g){g.popup===d&&l(!1)}return r.map.on({popupopen:m,popupclose:p}),r.overlayContainer==null?(i!=null&&d.setLatLng(i),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:m,popupclose:p}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[n,r,l,i])}),IQ=RQ(function({url:n,...r},i){const l=new Ch.TileLayer(n,uv(r,i));return dv(l,i)},function(n,r,i){MQ(n,r,i);const{url:l}=r;l!=null&&l!==i.url&&n.setUrl(l)});delete wh.Icon.Default.prototype._getIconUrl;wh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const BQ=wh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),$Q=wh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),FQ=wh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});function VQ({waypoints:t}){const n=DQ();return y.useEffect(()=>{if(t&&t.length>0){const r=t.map(l=>[l.lat,l.lng]),i=wh.latLngBounds(r);n.fitBounds(i,{padding:[50,50]})}},[t,n]),null}function UQ({route:t}){const[n,r]=y.useState(null),[i,l]=y.useState(!0),[u,d]=y.useState(null);if(!t||!t.waypoints||t.waypoints.length===0)return e.jsx(ue,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",color:"gray.500",children:"Pas de waypoints  afficher"});const m=t.waypoints.sort((p,g)=>p.order-g.order);return y.useEffect(()=>{(async()=>{try{l(!0);const x=m.map(_=>[_.lng,_.lat]).map(_=>_.join(",")).join(";"),S=await fetch(`https://router.project-osrm.org/route/v1/driving/${x}?overview=full&geometries=geojson`,{method:"GET",headers:{Accept:"application/json"}});if(!S.ok)throw new Error("Erreur calcul route");const C=await S.json();if(C.routes&&C.routes.length>0){const A=C.routes[0].geometry.coordinates.map(T=>[T[1],T[0]]);r(A)}}catch(g){console.error("Route calculation error:",g),d(g.message),r(m.map(x=>[x.lat,x.lng]))}finally{l(!1)}})()},[m]),e.jsxs(ue,{borderRadius:"md",overflow:"hidden",boxShadow:"md",h:"500px",position:"relative",children:[i&&e.jsx(xn,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"rgba(255,255,255,0.8)",zIndex:1e3,children:e.jsxs(se,{spacing:2,children:[e.jsx(pn,{color:"purple.500",size:"lg"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Calcul de l'itinraire rel..."})]})}),e.jsxs(LQ,{center:[m[0].lat,m[0].lng],zoom:10,style:{height:"100%",width:"100%"},children:[e.jsx(IQ,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n&&!u&&e.jsx(NA,{positions:n,color:"purple",weight:5,opacity:.9,dashArray:"0"}),u&&e.jsx(NA,{positions:m.map(p=>[p.lat,p.lng]),color:"red",weight:3,opacity:.6,dashArray:"5, 5"}),m.map((p,g)=>e.jsx(OQ,{position:[p.lat,p.lng],icon:g===0?BQ:g===m.length-1?$Q:FQ,children:e.jsx(NQ,{children:e.jsxs("div",{style:{fontSize:"12px",minWidth:"180px"},children:[e.jsx("strong",{children:p.name}),e.jsx("br",{}),"Lat: ",p.lat.toFixed(4),", Lng: ",p.lng.toFixed(4),e.jsx("br",{}),p.stopTime>0&&e.jsxs("span",{children:["Arrt: ",p.stopTime," min",e.jsx("br",{})]}),e.jsxs("small",{children:["Point ",g+1,"/",m.length]}),t.maxLength&&e.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #ccc"},children:[e.jsx("strong",{children:"Restrictions:"}),e.jsx("br",{}),t.maxLength&&e.jsxs("small",{children:["Long: ",t.maxLength,"m"]}),t.maxHeight&&e.jsxs("small",{children:[" | H: ",t.maxHeight,"m"]}),t.maxWeight&&e.jsxs("small",{children:[" | P: ",t.maxWeight,"t"]})]})]})})},p.order)),e.jsx(VQ,{waypoints:m})]})]})}function HQ(){const{isOpen:t,onOpen:n,onClose:r}=Dt(),i=wn(),[l,u]=y.useState([]),[d,m]=y.useState(!1),[p,g]=y.useState("routes"),[x,j]=y.useState(null),[S,C]=y.useState({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),[_,A]=y.useState({name:"",lat:"",lng:"",stopTime:0}),T="https://attractive-kindness-rbe-serveurs.up.railway.app";y.useEffect(()=>{t&&z()},[t]);const z=async()=>{m(!0);try{const Y=await fetch(`${T}/routes`);if(!Y.ok)throw new Error("Erreur chargement");const q=await Y.json();u(q)}catch(Y){i({title:"Erreur",description:Y.message,status:"error"})}finally{m(!1)}},P=()=>{if(!_.name||!_.lat||!_.lng){i({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}C(Y=>({...Y,waypoints:[...Y.waypoints,{..._,lat:parseFloat(_.lat),lng:parseFloat(_.lng),stopTime:parseInt(_.stopTime||0),order:Y.waypoints.length}]})),A({name:"",lat:"",lng:"",stopTime:0})},k=Y=>{C(q=>({...q,waypoints:q.waypoints.filter((ce,de)=>de!==Y)}))},I=async()=>{if(!S.name||S.waypoints.length<2){i({title:"Erreur",description:"Nom + 2+ waypoints requis",status:"error"});return}try{if(!(await fetch(`${T}/routes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).ok)throw new Error("Erreur cration");i({title:"Succs",description:"Itinraire cr!",status:"success"}),C({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),g("routes"),z()}catch(Y){i({title:"Erreur",description:Y.message,status:"error"})}},N=async Y=>{if(window.confirm("Confirmer suppression?"))try{if(!(await fetch(`${T}/routes/${Y}`,{method:"DELETE"})).ok)throw new Error("Erreur");i({title:"Supprime",status:"success"}),z()}catch(q){i({title:"Erreur",description:q.message,status:"error"})}},F=Y=>{const q=Y.totalDistance||0,ce=Y.estimatedTime||0,de=Math.floor(ce/60),le=ce%60;return{distance:q,time:`${de}h${le}m`}};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onClick:n,leftIcon:e.jsx(vc,{}),colorScheme:"purple",size:"md",w:"100%",children:" RtroGPS - Traage d'itinraires"}),e.jsxs(Et,{isOpen:t,onClose:r,size:"5xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",display:"flex",flexDirection:"column",children:[e.jsx(Tt,{children:e.jsxs(re,{spacing:3,children:[e.jsx(Hn,{as:vc,color:"purple.500",boxSize:6}),e.jsxs(ue,{children:[e.jsx(Me,{size:"lg",children:"RtroGPS - Gestion des itinraires"}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Crez et tracez les tournes"})]})]})}),e.jsx(It,{}),e.jsx(At,{overflow:"auto",flex:1,pb:4,children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{spacing:0,borderBottom:"2px solid",borderColor:"gray.200",children:[e.jsxs(ne,{variant:p==="routes"?"solid":"ghost",colorScheme:p==="routes"?"purple":"gray",onClick:()=>g("routes"),leftIcon:e.jsx(vc,{}),children:["Itinraires (",l.length,")"]}),e.jsx(ne,{variant:p==="create"?"solid":"ghost",colorScheme:p==="create"?"green":"gray",onClick:()=>g("create"),leftIcon:e.jsx(Nn,{}),children:"Crer"})]}),p==="routes"&&e.jsx(se,{spacing:4,align:"stretch",children:d?e.jsx(xn,{p:8,children:e.jsx(pn,{})}):l.length===0?e.jsx(xn,{p:8,bg:"gray.50",borderRadius:"md",children:e.jsx(R,{color:"gray.500",children:"Aucun itinraire cr"})}):e.jsxs(br,{size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{bg:"gray.100",children:[e.jsx(Ie,{children:"Nom"}),e.jsx(Ie,{children:"Distance"}),e.jsx(Ie,{children:"Temps"}),e.jsx(Ie,{children:"Points"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:l.map(Y=>{const q=F(Y);return e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Ne,{fontWeight:"bold",children:Y.name}),e.jsxs(Ne,{children:[q.distance," km"]}),e.jsx(Ne,{children:q.time}),e.jsx(Ne,{textAlign:"center",children:Y.waypoints?.length||0}),e.jsx(Ne,{children:e.jsxs(re,{spacing:1,children:[e.jsx(Zs,{label:"Dtails",children:e.jsx(ut,{icon:e.jsx(Ra,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>j(Y)})}),e.jsx(Zs,{label:"Supprimer",children:e.jsx(ut,{icon:e.jsx(gr,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>N(Y.id)})})]})})]},Y.id)})})]})}),p==="create"&&e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Nom de l'itinraire"}),e.jsx(xe,{placeholder:"ex: Tourne Essonne Sud",value:S.name,onChange:Y=>C(q=>({...q,name:Y.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{placeholder:"Dtails du parcours...",value:S.description,onChange:Y=>C(q=>({...q,description:Y.target.value})),rows:2})]}),e.jsxs(pt,{columns:3,gap:3,children:[e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Longueur max (m)"}),e.jsx(Yn,{value:S.maxLength||"",onChange:Y=>C(q=>({...q,maxLength:Y?parseFloat(Y):null})),children:e.jsx(Xn,{placeholder:"12.5"})})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Hauteur max (m)"}),e.jsx(Yn,{value:S.maxHeight||"",onChange:Y=>C(q=>({...q,maxHeight:Y?parseFloat(Y):null})),children:e.jsx(Xn,{placeholder:"3.8"})})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Poids max (t)"}),e.jsx(Yn,{value:S.maxWeight||"",onChange:Y=>C(q=>({...q,maxWeight:Y?parseFloat(Y):null})),children:e.jsx(Xn,{placeholder:"13"})})]})]}),e.jsx(zn,{}),e.jsx(Me,{size:"sm",children:" Points de passage"}),e.jsxs(re,{spacing:2,align:"flex-end",children:[e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Nom"}),e.jsx(xe,{placeholder:"ex: Dpart",value:_.name,onChange:Y=>A(q=>({...q,name:Y.target.value})),size:"sm"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Lat"}),e.jsx(xe,{placeholder:"48.8566",value:_.lat,onChange:Y=>A(q=>({...q,lat:Y.target.value})),size:"sm"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Lng"}),e.jsx(xe,{placeholder:"2.3522",value:_.lng,onChange:Y=>A(q=>({...q,lng:Y.target.value})),size:"sm"})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"sm",children:"Arrt (min)"}),e.jsx(Yn,{value:_.stopTime,onChange:Y=>A(q=>({...q,stopTime:Y})),size:"sm",children:e.jsx(Xn,{})})]}),e.jsx(ne,{onClick:P,colorScheme:"green",size:"sm",leftIcon:e.jsx(Nn,{}),children:"Ajouter"})]}),S.waypoints.length>0&&e.jsxs(ue,{p:3,bg:"gray.50",borderRadius:"md",maxH:"200px",overflow:"auto",children:[e.jsxs(R,{fontWeight:"bold",mb:2,children:["Waypoints (",S.waypoints.length,"):"]}),S.waypoints.map((Y,q)=>e.jsxs(re,{p:2,bg:"white",borderRadius:"md",mb:1,justify:"space-between",children:[e.jsxs(R,{fontSize:"sm",children:[q+1,". ",e.jsx("strong",{children:Y.name})," - ",Y.lat.toFixed(4),", ",Y.lng.toFixed(4)," (+",Y.stopTime,"min)"]}),e.jsx(ne,{size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>k(q),children:""})]},q))]}),e.jsx(ne,{colorScheme:"purple",size:"lg",w:"100%",onClick:I,isDisabled:!S.name||S.waypoints.length<2,children:" Crer l'itinraire"})]}),x&&e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(ue,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"blue.500",children:[e.jsxs(re,{justify:"space-between",mb:3,children:[e.jsx(Me,{size:"md",children:x.name}),e.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>j(null),children:""})]}),e.jsxs(se,{align:"start",spacing:2,fontSize:"sm",children:[e.jsxs(R,{children:[e.jsx("strong",{children:"Description:"})," ",x.description||"N/A"]}),e.jsxs(R,{children:[e.jsx("strong",{children:"Points:"})," ",x.waypoints?.length||0]}),e.jsxs(R,{children:[e.jsx("strong",{children:"Distance:"})," ",F(x).distance," km"]}),e.jsxs(R,{children:[e.jsx("strong",{children:"Temps:"})," ",F(x).time]}),x.maxLength&&e.jsxs(et,{children:["L max: ",x.maxLength,"m"]}),x.maxHeight&&e.jsxs(et,{children:["H max: ",x.maxHeight,"m"]}),x.maxWeight&&e.jsxs(et,{children:["P max: ",x.maxWeight,"t"]})]})]}),e.jsxs(ue,{children:[e.jsxs(re,{spacing:2,mb:3,children:[e.jsx(Hn,{as:TK,color:"purple.500"}),e.jsx(Me,{size:"sm",children:"Visualisation de l'itinraire"})]}),e.jsx(UQ,{route:x})]}),e.jsx(ne,{colorScheme:"gray",size:"sm",w:"100%",onClick:()=>j(null),children:"Fermer la vue dtails"})]})]})}),e.jsx(Vt,{children:e.jsx(ne,{colorScheme:"gray",variant:"outline",onClick:r,children:"Fermer"})})]})]})]})}function WQ(){const[t,n]=y.useState(0);return Sr("gray.50","gray.900"),e.jsx(wc,{title:"Gestion des vnements",subtitle:"Crez, planifiez et suivez les tournes RtroBus",headerVariant:"card",bgGradient:"linear(to-r, green.500, teal.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"},{label:"vnements",href:"/dashboard/events-management"}],children:e.jsx(ue,{children:e.jsxs(sa,{index:t,onChange:n,variant:"enclosed",colorScheme:"green",children:[e.jsxs(ia,{borderBottom:"2px solid",borderColor:"green.200",children:[e.jsx(ln,{_selected:{color:"white",bg:"green.500"},children:e.jsxs(re,{spacing:2,children:[e.jsx(ui,{}),e.jsx("span",{children:"Gestion des vnements"})]})}),e.jsx(ln,{_selected:{color:"white",bg:"teal.500"},children:e.jsxs(re,{spacing:2,children:[e.jsx(b1,{}),e.jsx("span",{children:"Planification"})]})}),e.jsx(ln,{_selected:{color:"white",bg:"purple.500"},children:e.jsxs(re,{spacing:2,children:[e.jsx(vc,{}),e.jsx("span",{children:"RtroGPS"})]})})]}),e.jsxs(oa,{children:[e.jsx(cn,{p:0,pt:6,children:e.jsx(vQ,{})}),e.jsx(cn,{children:e.jsx(se,{spacing:6,align:"stretch",children:e.jsxs(ue,{p:6,bg:"teal.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"teal.500",children:[e.jsx(Me,{size:"md",mb:2,children:" Vue Calendrier"}),e.jsx("p",{children:"Bientt disponible : calendrier interactif de vos tournes et vnements."})]})})}),e.jsx(cn,{children:e.jsx(se,{spacing:6,align:"stretch",children:e.jsx(HQ,{})})})]})]})})})}const qQ=({value:t,onChange:n,isRequired:r=!1})=>{const[i,l]=y.useState([]),[u,d]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("token"),x=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/vehicles",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(x.ok){const j=await x.json();l(j)}}catch(g){console.error("Erreur lors du chargement des vhicules:",g)}finally{d(!1)}})()},[]);const m=i.find(p=>p.parc===t);return e.jsxs(ue,{children:[e.jsxs(ee,{children:["Vhicule participant ",r&&e.jsx(R,{as:"span",color:"red.500",children:"*"})]}),u?e.jsxs(Qn,{align:"center",justify:"center",py:4,children:[e.jsx(pn,{size:"sm",mr:2}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Chargement des vhicules..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(st,{placeholder:"Slectionner un vhicule (optionnel)",value:t,onChange:p=>n(p.target.value),bg:"white",children:i.map(p=>e.jsxs("option",{value:p.parc,children:[p.marque," ",p.modele," - ",p.parc,p.immat&&` (${p.immat})`]},p.parc))}),m&&e.jsxs(ue,{mt:3,p:3,bg:"blue.50",borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[e.jsxs(Qn,{align:"center",children:[m.gallery&&m.gallery[0]&&e.jsx(Di,{src:`https://refreshing-adaptation-rbe-serveurs.up.railway.app${m.gallery[0]}`,alt:`${m.marque} ${m.modele}`,boxSize:"60px",objectFit:"cover",borderRadius:"md",mr:3}),e.jsxs(ue,{flex:1,children:[e.jsxs(R,{fontWeight:"bold",color:"blue.700",children:[m.marque," ",m.modele]}),e.jsxs(re,{spacing:2,mt:1,children:[e.jsx(et,{colorScheme:"blue",fontSize:"xs",children:m.parc}),m.immat&&e.jsx(et,{colorScheme:"green",fontSize:"xs",children:m.immat}),m.miseEnCirculation&&e.jsx(et,{colorScheme:"orange",fontSize:"xs",children:new Date(m.miseEnCirculation).getFullYear()})]}),m.subtitle&&e.jsx(R,{fontSize:"sm",color:"gray.600",mt:1,children:m.subtitle})]})]}),e.jsxs(se,{spacing:2,align:"start",mt:3,children:[e.jsx(R,{fontSize:"xs",color:"blue.600",fontStyle:"italic",fontWeight:"semibold",children:" Ce vhicule sera mis en avant sur sa page individuelle avec une banderole spciale pour cet vnement"}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Les visiteurs verront une banderole thmatique adapte au type d'vnement sur la page de ce vhicule."})]})]})]}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:2,children:"Slectionnez un vhicule pour qu'il soit associ  cet vnement. Une banderole apparatra sur sa page pour informer les visiteurs de sa participation."})]})},Qy={public_info_only:{name:"Information publique",color:"blue",description:"vnement d'information sans inscription",defaults:{isVisible:!0,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"public_info_only"}},paid_event:{name:"vnement payant",color:"green",description:"vnement avec tarifs et inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!1,registrationMethod:"helloasso",eventType:"paid_event"}},free_registration:{name:"Inscription gratuite",color:"purple",description:"vnement gratuit avec inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!0,registrationMethod:"internal",eventType:"free_registration"}},internal_only:{name:"vnement interne",color:"orange",description:"vnement rserv aux membres",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"internal_only"}},maintenance:{name:"Maintenance/Atelier",color:"red",description:"Activit de maintenance ou atelier technique",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"maintenance"}}};function GQ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!0),[d,m]=y.useState(!1),[p,g]=y.useState("cards"),[x,j]=y.useState(""),{isOpen:S,onOpen:C,onClose:_}=Dt(),[A,T]=y.useState(null),[z,P]=y.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),k=wn(),I=y.useCallback(async()=>{try{u(!0);const G=await Mo.getAll();n(Array.isArray(G)?G:[])}catch(G){console.error(G),k({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements"}),n([])}finally{u(!1)}},[k]),N=y.useCallback(async()=>{try{const G=await cp.getAll();i(Array.isArray(G)?G:[])}catch(G){console.error(G),i([])}},[]);y.useEffect(()=>{I(),N()},[I,N]);const F=()=>{P({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),j(""),T(null)},Y=G=>{const Z=Qy[G];Z&&(P(H=>({...H,...Z.defaults,eventType:G})),j(G),k({status:"info",title:"Template appliqu",description:Z.description}))},q=()=>{T(null),F(),C()},ce=G=>{T(G);let Z={};try{Z=G.extras?JSON.parse(G.extras):{}}catch(H){console.log("Impossible de parser extras:",H)}P({title:G.title||"",date:G.date?G.date.split("T")[0]:"",time:G.time||"",location:G.location||"",description:G.description||"",adultPrice:G.adultPrice?G.adultPrice.toString():"",childPrice:G.childPrice?G.childPrice.toString():"",helloAssoUrl:G.helloAssoUrl||"",vehicleId:G.vehicleId||"",status:G.status||"DRAFT",isVisible:Z.isVisible!==void 0?Z.isVisible:!0,allowPublicRegistration:Z.allowPublicRegistration||!1,requiresRegistration:Z.requiresRegistration||!1,isFree:Z.isFree!==void 0?Z.isFree:!0,maxParticipants:Z.maxParticipants?Z.maxParticipants.toString():"",registrationDeadline:Z.registrationDeadline||"",registrationMethod:Z.registrationMethod||"none",pdfUrl:Z.pdfUrl||"",eventType:Z.eventType||"public_info_only"}),j(Z.eventType||""),C()},de=async()=>{if(!z.title.trim()||!z.date){k({status:"error",title:"Champs requis",description:"Le titre et la date sont obligatoires"});return}try{m(!0);const G={title:z.title.trim(),date:z.date,time:z.time||null,location:z.location.trim()||null,description:z.description.trim()||null,adultPrice:z.adultPrice?parseFloat(z.adultPrice):null,childPrice:z.childPrice?parseFloat(z.childPrice):null,helloAssoUrl:z.helloAssoUrl.trim()||null,vehicleId:z.vehicleId||null,status:z.status,extras:JSON.stringify({isVisible:z.isVisible,allowPublicRegistration:z.allowPublicRegistration,requiresRegistration:z.requiresRegistration,isFree:z.isFree,maxParticipants:z.maxParticipants?parseInt(z.maxParticipants):null,registrationDeadline:z.registrationDeadline||null,registrationMethod:z.registrationMethod,pdfUrl:z.pdfUrl||null,eventType:z.eventType})};if(A)await Mo.update(A.id,G),k({status:"success",title:"vnement modifi",description:"Les modifications ont t sauvegardes"});else{const Z=z.title.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"").substring(0,20)+new Date().getFullYear();await Mo.create({id:Z,...G}),k({status:"success",title:"vnement cr",description:"Le nouvel vnement a t cr avec succs"})}I(),_(),F()}catch(G){console.error(G),k({status:"error",title:"Erreur de sauvegarde",description:"Impossible de sauvegarder l'vnement"})}finally{m(!1)}},le=async()=>{const G=localStorage.getItem("token");if(console.log(" Testing API connection..."),!G){k({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const Z=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`}});Z.ok?k({status:"success",title:"API fonctionnelle",description:"La connexion API fonctionne"}):k({status:"error",title:"Erreur API",description:`Status: ${Z.status}`})}catch(Z){k({status:"error",title:"Erreur rseau",description:Z.message})}},ve=G=>{const Z={DRAFT:{colorScheme:"gray",label:"Brouillon"},PUBLISHED:{colorScheme:"green",label:"Publi"},ARCHIVED:{colorScheme:"orange",label:"Archiv"}},H=Z[G]||Z.DRAFT;return e.jsx(et,{colorScheme:H.colorScheme,children:H.label})},Pe=G=>{const Z=typeof G.extras=="string"?JSON.parse(G.extras||"{}"):G.extras||{},H=Qy[Z.eventType];return H?e.jsx(et,{colorScheme:H.color,variant:"outline",children:H.name}):null},me=G=>{const Z=r.find(H=>H.parc===G);return Z?`${Z.parc} - ${Z.modele}`:"Aucun vhicule"};return e.jsxs(ue,{p:6,children:[e.jsxs(Qn,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{children:" Cration des vnements"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(re,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(Ls,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:le,children:"Tester API"}),e.jsx(ne,{leftIcon:p==="cards"?e.jsx(OM,{}):e.jsx(j1,{}),size:"sm",variant:"outline",onClick:()=>g(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:q,children:"Nouvel vnement"})]})]}),l?e.jsx(xn,{py:20,children:e.jsx(pn,{size:"xl"})}):t.length===0?e.jsx(xn,{py:20,children:e.jsxs(se,{spacing:4,children:[e.jsx(R,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:q,children:"Crer le premier vnement"})]})}):e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(G=>e.jsxs($e,{shadow:"md",position:"relative",children:[e.jsx(Nt,{pb:2,children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsx(re,{justify:"space-between",w:"100%",children:e.jsx(Me,{size:"md",noOfLines:2,flex:1,children:G.title})}),e.jsxs(re,{spacing:2,wrap:"wrap",children:[ve(G.status),Pe(G)]})]})}),e.jsx(Be,{pt:0,children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx(ui,{}),e.jsxs(R,{fontSize:"sm",children:[G.date," ",G.time&&` ${G.time}`]})]}),G.location&&e.jsxs(re,{children:[e.jsx(vc,{}),e.jsx(R,{fontSize:"sm",children:G.location})]}),G.vehicleId&&e.jsxs(re,{children:[e.jsx(R,{fontSize:"sm",children:""}),e.jsx(R,{fontSize:"sm",fontWeight:"semibold",color:"blue.600",children:me(G.vehicleId)})]}),G.description&&e.jsx(R,{fontSize:"sm",color:"gray.600",noOfLines:3,children:G.description}),e.jsx(ne,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>ce(G),w:"100%",children:"Modifier"})]})})]},G.id))}),e.jsxs(Et,{isOpen:S,onClose:_,size:"6xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:A?"Modifier l'vnement":"Crer un nouvel vnement"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(sa,{children:[e.jsxs(ia,{children:[e.jsx(ln,{children:"Informations de base"}),e.jsx(ln,{children:"Configuration"}),e.jsx(ln,{children:"Inscription & Prix"})]}),e.jsxs(oa,{children:[e.jsx(cn,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:2,children:"Dmarrage rapide :"}),e.jsx(re,{spacing:2,wrap:"wrap",children:Object.entries(Qy).map(([G,Z])=>e.jsx(ne,{size:"sm",colorScheme:Z.color,variant:x===G?"solid":"outline",onClick:()=>Y(G),children:Z.name},G))})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre"}),e.jsx(xe,{value:z.title,onChange:G=>P(Z=>({...Z,title:G.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Date"}),e.jsx(xe,{type:"date",value:z.date,onChange:G=>P(Z=>({...Z,date:G.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Heure"}),e.jsx(xe,{type:"time",value:z.time,onChange:G=>P(Z=>({...Z,time:G.target.value}))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Lieu"}),e.jsx(xe,{value:z.location,onChange:G=>P(Z=>({...Z,location:G.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Vhicule assign"}),e.jsx(qQ,{vehicles:r,value:z.vehicleId,onChange:G=>P(Z=>({...Z,vehicleId:G}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:z.description,onChange:G=>P(Z=>({...Z,description:G.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Statut"}),e.jsxs(st,{value:z.status,onChange:G=>P(Z=>({...Z,status:G.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"}),e.jsx("option",{value:"ARCHIVED",children:"Archiv"})]})]}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:"0",children:"Visible sur le site public"}),e.jsx(jr,{isChecked:z.isVisible,onChange:G=>P(Z=>({...Z,isVisible:G.target.checked}))})]}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:"0",children:"Inscription requise"}),e.jsx(jr,{isChecked:z.requiresRegistration,onChange:G=>P(Z=>({...Z,requiresRegistration:G.target.checked}))})]}),z.requiresRegistration&&e.jsxs(te,{children:[e.jsx(ee,{children:"Mthode d'inscription"}),e.jsxs(st,{value:z.registrationMethod,onChange:G=>P(Z=>({...Z,registrationMethod:G.target.value})),children:[e.jsx("option",{value:"none",children:"Aucune"}),e.jsx("option",{value:"helloasso",children:"HelloAsso"}),e.jsx("option",{value:"pdf",children:"Formulaire PDF"}),e.jsx("option",{value:"internal",children:"Systme interne"})]})]})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:"0",children:"vnement gratuit"}),e.jsx(jr,{isChecked:z.isFree,onChange:G=>P(Z=>({...Z,isFree:G.target.checked}))})]}),!z.isFree&&e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Prix adulte ()"}),e.jsx(xe,{type:"number",step:"0.01",value:z.adultPrice,onChange:G=>P(Z=>({...Z,adultPrice:G.target.value})),placeholder:"0.00"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Prix enfant ()"}),e.jsx(xe,{type:"number",step:"0.01",value:z.childPrice,onChange:G=>P(Z=>({...Z,childPrice:G.target.value})),placeholder:"0.00"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Nombre maximum de participants"}),e.jsx(xe,{type:"number",value:z.maxParticipants,onChange:G=>P(Z=>({...Z,maxParticipants:G.target.value})),placeholder:"Illimit"})]}),z.registrationMethod==="helloasso"&&e.jsxs(te,{children:[e.jsx(ee,{children:"URL HelloAsso"}),e.jsx(xe,{value:z.helloAssoUrl,onChange:G=>P(Z=>({...Z,helloAssoUrl:G.target.value})),placeholder:"https://www.helloasso.com/..."})]}),z.registrationMethod==="pdf"&&e.jsxs(te,{children:[e.jsx(ee,{children:"URL du formulaire PDF"}),e.jsx(xe,{value:z.pdfUrl,onChange:G=>P(Z=>({...Z,pdfUrl:G.target.value})),placeholder:"https://exemple.com/formulaire.pdf"})]})]})})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:()=>{_(),F()},children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:de,isLoading:d,children:A?"Modifier":"Crer"})]})]})]})]})}function ZQ(){return e.jsxs(ue,{p:6,bg:"green.100",minH:"100vh",children:[e.jsx(Me,{color:"green.800",mb:4,children:" TEST - Gestion des vnements"}),e.jsx(R,{color:"green.700",mb:4,children:"Si vous voyez cette page, la redirection depuis MyRBE fonctionne !"}),e.jsx(ne,{as:or,to:"/dashboard/myrbe",colorScheme:"green",children:"Retour  MyRBE"})]})}function Jy(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function YQ(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function XQ(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function iD(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function IA(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function BA(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function KQ(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function $A(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function QQ(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function oD(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function aD(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function w1(t,{preferUpperLast:n=!0}={}){if(!t)return"Utilisateur";const r=t.firstName||t.prenom||t.given_name||"",i=t.lastName||t.nom||t.family_name||"",l=t.username||t.matricule||"",u=t.email||"",d=[];return n&&i&&d.push(String(i).toUpperCase()),r&&d.push(r),d.length?d.join(" ").trim():i||r?[r,i].filter(Boolean).join(" ").trim():l||u||"Utilisateur"}function _1(t){if(!t)return"Adhrent";const n=t.firstName||"",r=t.lastName||"",i=t.memberNumber||"",l=t.email||"",d=[r?String(r).toUpperCase():"",n].filter(Boolean).join(" ").trim()||l||i||"Adhrent";return i?`${d} - #${i}`:d}const Zf={async getAll(t){const n=await fetch("/api/email-templates",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Failed to fetch templates: ${n.statusText}`);return n.json()},async getById(t,n){const r=await fetch(`/api/email-templates/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error(`Failed to fetch template: ${r.statusText}`);return r.json()},async create(t,n){const r=await fetch("/api/email-templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to create template")}return r.json()},async update(t,n,r){const i=await fetch(`/api/email-templates/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to update template")}return i.json()},async delete(t,n){const r=await fetch(`/api/email-templates/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to delete template")}return r.json()},async preview(t,n,r){const i=await fetch(`/api/email-templates/preview/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to preview template")}return i.json()}};function JQ({isOpen:t,onClose:n,template:r,onSave:i,isLoading:l}){const[u,d]=y.useState({name:"",subject:"",body:"",description:"",variables:"",active:!0});y.useEffect(()=>{d(r||{name:"",subject:"",body:"",description:"",variables:"",active:!0})},[r,t]);const m=g=>{const{name:x,value:j,checked:S,type:C}=g.target;d(_=>({..._,[x]:C==="checkbox"?S:j}))},p=()=>{if(!u.name.trim()||!u.subject.trim()||!u.body.trim()){alert("Name, subject, and body are required");return}i(u)};return e.jsxs(Et,{isOpen:t,onClose:n,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:r?.id?"Edit Template":"Create New Template"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(ki,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Template Name (unique, lowercase)"}),e.jsx(xe,{name:"name",value:u.name,onChange:m,placeholder:"e.g., ticket_created",isDisabled:!!r?.id}),e.jsx(Qg,{children:"Use lowercase letters, numbers, and underscores. Cannot be changed after creation."})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Subject (supports variables)"}),e.jsx(xe,{name:"subject",value:u.subject,onChange:m,placeholder:"New ticket: {{ticket.id}}"}),e.jsx(Qg,{children:"Use double curly braces for variables, e.g.: ticket.id, creator.name"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Body (supports variables)"}),e.jsx(Zt,{name:"body",value:u.body,onChange:m,placeholder:"Enter email body...",minH:"200px"}),e.jsx(Qg,{children:"Use double curly braces for variables. Supports plain text."})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{name:"description",value:u.description,onChange:m,placeholder:"Describe when and how this template is used...",minH:"80px"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Available Variables (comma-separated, for documentation)"}),e.jsx(Zt,{name:"variables",value:u.variables,onChange:m,placeholder:"ticket.id, ticket.title, creator.name, creator.email",minH:"60px"})]}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{htmlFor:"active",mb:"0",children:"Active"}),e.jsx(jr,{id:"active",name:"active",isChecked:u.active,onChange:m,ml:4})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:n,children:"Cancel"}),e.jsxs(ne,{colorScheme:"blue",onClick:p,isLoading:l,children:[r?.id?"Update":"Create"," Template"]})]})]})]})}function eJ({isOpen:t,onClose:n,template:r,token:i}){const[l,u]=y.useState(`{
  "ticket": {
    "id": "T-001",
    "title": "Test ticket"
  },
  "creator": {
    "name": "John Doe",
    "email": "john@example.com"
  }
}`),[d,m]=y.useState(null),[p,g]=y.useState(!1),[x,j]=y.useState(null),S=wn(),C=async()=>{try{g(!0),j(null);const _=JSON.parse(l),A=await Zf.preview(r.name,_,i);m(A.preview)}catch(_){j(_.message),S({title:"Error",description:_.message,status:"error",duration:3})}finally{g(!1)}};return e.jsxs(Et,{isOpen:t,onClose:n,size:"2xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsxs(Tt,{children:["Preview Template: ",r?.name]}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(ki,{spacing:4,children:[e.jsxs(ue,{children:[e.jsx(ee,{children:"Test Data (JSON)"}),e.jsx(Zt,{value:l,onChange:_=>u(_.target.value),fontFamily:"monospace",fontSize:"xs",minH:"150px"})]}),e.jsx(ne,{onClick:C,colorScheme:"blue",isLoading:p,children:"Generate Preview"}),x&&e.jsxs(ue,{p:3,bg:"red.50",borderRadius:"md",color:"red.800",children:["Error: ",x]}),d&&e.jsxs(se,{align:"start",spacing:3,p:3,bg:"gray.50",borderRadius:"md",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Subject:"}),e.jsx(R,{fontFamily:"monospace",fontSize:"sm",children:d.subject})]}),e.jsx(zn,{}),e.jsxs(ue,{w:"100%",children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Body:"}),e.jsx(ue,{p:3,bg:"white",borderRadius:"md",border:"1px solid",borderColor:"gray.200",fontSize:"sm",whiteSpace:"pre-wrap",fontFamily:"monospace",children:d.body})]})]})]})}),e.jsx(Vt,{children:e.jsx(ne,{colorScheme:"blue",onClick:n,children:"Close"})})]})]})}function tJ({token:t}){const[n,r]=y.useState([]),[i,l]=y.useState(!1),[u,d]=y.useState(null),[m,p]=y.useState(null),[g,x]=y.useState(null),{isOpen:j,onOpen:S,onClose:C}=Dt(),{isOpen:_,onOpen:A,onClose:T}=Dt(),z=wn();y.useEffect(()=>{P()},[t]);const P=async()=>{try{l(!0),d(null);const q=await Zf.getAll(t);r(q.templates||[])}catch(q){d(q.message),z({title:"Error loading templates",description:q.message,status:"error",duration:3})}finally{l(!1)}},k=()=>{p(null),S()},I=q=>{p(q),S()},N=q=>{x(q),A()},F=async q=>{if(confirm(`Are you sure you want to delete template "${q.name}"?`))try{await Zf.delete(q.id,t),z({title:"Template deleted",status:"success",duration:2}),P()}catch(ce){z({title:"Error deleting template",description:ce.message,status:"error",duration:3})}},Y=async q=>{try{m?.id?(await Zf.update(m.id,q,t),z({title:"Template updated",status:"success",duration:2})):(await Zf.create(q,t),z({title:"Template created",status:"success",duration:2})),C(),P()}catch(ce){z({title:"Error saving template",description:ce.message,status:"error",duration:3})}};return e.jsxs(ue,{p:6,children:[e.jsxs(Qn,{justify:"space-between",align:"center",mb:6,children:[e.jsx(Me,{size:"lg",children:"Email Templates"}),e.jsx(ne,{leftIcon:e.jsx(EM,{}),colorScheme:"green",onClick:k,children:"Create Template"})]}),u&&e.jsx(ue,{p:4,mb:6,bg:"red.50",borderRadius:"md",color:"red.800",children:u}),i?e.jsx(Qn,{justify:"center",py:12,children:e.jsx(pn,{size:"lg"})}):n.length===0?e.jsx($e,{children:e.jsx(Be,{textAlign:"center",py:12,children:e.jsx(R,{color:"gray.500",children:"No templates yet. Create your first one!"})})}):e.jsx(ho,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:n.map(q=>e.jsxs($e,{children:[e.jsx(Nt,{pb:2,children:e.jsx(Qn,{justify:"space-between",align:"start",children:e.jsxs(se,{align:"start",spacing:1,flex:1,children:[e.jsx(Me,{size:"md",children:q.name}),e.jsx(et,{colorScheme:q.active?"green":"gray",children:q.active?"Active":"Inactive"})]})})}),e.jsx(zn,{}),e.jsx(Be,{children:e.jsxs(ki,{spacing:3,children:[e.jsxs(ue,{children:[e.jsx(R,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Subject:"}),e.jsx(R,{fontSize:"sm",noOfLines:2,children:q.subject})]}),q.description&&e.jsxs(ue,{children:[e.jsx(R,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Description:"}),e.jsx(R,{fontSize:"sm",noOfLines:2,children:q.description})]}),e.jsxs(re,{spacing:2,pt:2,children:[e.jsx(Zs,{label:"Preview",children:e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>N(q),children:e.jsx(Qp,{})})}),e.jsx(Zs,{label:"Edit",children:e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"orange",onClick:()=>I(q),children:e.jsx(Pp,{})})}),e.jsx(Zs,{label:"Delete",children:e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>F(q),children:e.jsx(th,{})})})]})]})})]},q.id))}),e.jsx(JQ,{isOpen:j,onClose:C,template:m,onSave:Y,isLoading:i}),g&&e.jsx(eJ,{isOpen:_,onClose:T,template:g,token:t})]})}const nJ=()=>{const[t,n]=y.useState([]),[r,i]=y.useState(!0),[l,u]=y.useState(null),[d,m]=y.useState(""),[p,g]=y.useState(""),x=wn(),j=Dt(),S=Dt(),C=Dt(),[_,A]=y.useState({name:"",description:"",docType:"QUOTE",htmlContent:"",cssContent:"",isDefault:!1});y.useEffect(()=>{T()},[]);const T=async()=>{try{i(!0);const q=await fetch("/api/document-templates");if(!q.ok)throw new Error("Failed to load templates");const ce=await q.json();n(ce),g("")}catch(q){g(q.message),x({title:"Erreur",description:q.message,status:"error"})}finally{i(!1)}},z=async()=>{try{if(!_.name||!_.htmlContent){x({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}if(!(await fetch("/api/document-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,createdBy:"admin"})})).ok)throw new Error("Failed to create template");x({title:"Succs",description:"Template cr avec succs",status:"success"}),T(),F(),j.onClose()}catch(q){x({title:"Erreur",description:q.message,status:"error"})}},P=async()=>{try{if(!_.name||!_.htmlContent){x({title:"Erreur",description:"Nom et contenu HTML requis",status:"warning"});return}if(!(await fetch(`/api/document-templates/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).ok)throw new Error("Failed to update template");x({title:"Succs",description:"Template mis  jour",status:"success"}),T(),F(),S.onClose()}catch(q){x({title:"Erreur",description:q.message,status:"error"})}},k=async q=>{if(window.confirm("tes-vous sr de vouloir supprimer ce template?"))try{if(!(await fetch(`/api/document-templates/${q}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template");x({title:"Succs",description:"Template supprim",status:"success"}),T()}catch(ce){x({title:"Erreur",description:ce.message,status:"error"})}},I=async q=>{try{const ce=await fetch(`/api/document-templates/${q.id}/preview`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!ce.ok)throw new Error("Failed to generate preview");const de=await ce.json();m(de.html),u(q),C.onOpen()}catch(ce){x({title:"Erreur",description:ce.message,status:"error"})}},N=q=>{u(q),A({name:q.name,description:q.description||"",docType:q.docType,htmlContent:q.htmlContent,cssContent:q.cssContent||"",isDefault:q.isDefault}),S.onOpen()},F=()=>{A({name:"",description:"",docType:"QUOTE",htmlContent:"",cssContent:"",isDefault:!1}),u(null)},Y=()=>{F(),j.onOpen()};return e.jsxs(ue,{p:6,children:[e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(ue,{children:[e.jsx(R,{fontSize:"2xl",fontWeight:"bold",children:"Gestion des Templates de Documents"}),e.jsx(R,{color:"gray.500",fontSize:"sm",children:"Crez et personnalisez les templates HTML pour vos devis et factures"})]}),e.jsx(ne,{colorScheme:"blue",onClick:Y,children:"+ Nouveau Template"})]}),e.jsx(zn,{}),r?e.jsx(R,{children:"Chargement..."}):t.length===0?e.jsxs(ue,{p:8,textAlign:"center",bg:"gray.50",borderRadius:"md",children:[e.jsx(R,{color:"gray.500",children:"Aucun template disponible"}),e.jsx(ne,{colorScheme:"blue",mt:4,onClick:Y,children:"Crer le premier template"})]}):e.jsx(ue,{overflowX:"auto",children:e.jsxs(br,{variant:"simple",size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{bg:"gray.100",children:[e.jsx(Ie,{children:"Nom"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Description"}),e.jsx(Ie,{children:"Dfaut"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:t.map(q=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Ne,{fontWeight:"600",children:q.name}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:q.docType==="QUOTE"?"blue":"green",children:q.docType})}),e.jsx(Ne,{fontSize:"sm",children:q.description||"-"}),e.jsx(Ne,{children:q.isDefault&&e.jsx(et,{colorScheme:"yellow",children:"Dfaut"})}),e.jsx(Ne,{children:e.jsxs(re,{spacing:2,children:[e.jsx(ut,{icon:e.jsx(Qp,{}),size:"sm",variant:"ghost",onClick:()=>I(q),title:"Aperu"}),e.jsx(ut,{icon:e.jsx(Pp,{}),size:"sm",variant:"ghost",onClick:()=>N(q),title:"Modifier"}),e.jsx(ut,{icon:e.jsx(th,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>k(q.id),title:"Supprimer"})]})})]},q.id))})]})})]}),e.jsxs(Et,{isOpen:j.isOpen,onClose:j.onClose,size:"2xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Tt,{children:"Crer un nouveau template"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsx(xe,{placeholder:"Nom du template",value:_.name,onChange:q=>A({..._,name:q.target.value})}),e.jsx(Zt,{placeholder:"Description (optionnel)",value:_.description,onChange:q=>A({..._,description:q.target.value})}),e.jsxs(st,{value:_.docType,onChange:q=>A({..._,docType:q.target.value}),children:[e.jsx("option",{value:"QUOTE",children:"Devis"}),e.jsx("option",{value:"INVOICE",children:"Facture"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(R,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(Zt,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:_.htmlContent,onChange:q=>A({..._,htmlContent:q.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(R,{fontSize:"sm",fontWeight:"600",mb:2,children:"CSS personnalis (optionnel)"}),e.jsx(Zt,{placeholder:"body { font-family: Arial; }",value:_.cssContent,onChange:q=>A({..._,cssContent:q.target.value}),minH:"100px",fontFamily:"mono",fontSize:"xs"})]}),e.jsx(re,{children:e.jsx(ro,{isChecked:_.isDefault,onChange:q=>A({..._,isDefault:q.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(ue,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(R,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(R,{fontSize:"xs",fontFamily:"mono",children:"{{NUMERO}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{TOTAL}}, {{DUE_DATE}}, {{STATUS}}, {{PAYMENT_METHOD}}, {{NOTES}}"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:j.onClose,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:z,children:"Crer"})]})]})]}),e.jsxs(Et,{isOpen:S.isOpen,onClose:S.onClose,size:"2xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Tt,{children:"Modifier le template"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsx(xe,{placeholder:"Nom du template",value:_.name,onChange:q=>A({..._,name:q.target.value})}),e.jsx(Zt,{placeholder:"Description (optionnel)",value:_.description,onChange:q=>A({..._,description:q.target.value})}),e.jsxs(st,{value:_.docType,onChange:q=>A({..._,docType:q.target.value}),children:[e.jsx("option",{value:"QUOTE",children:"Devis"}),e.jsx("option",{value:"INVOICE",children:"Facture"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(R,{fontSize:"sm",fontWeight:"600",mb:2,children:"Contenu HTML *"}),e.jsx(Zt,{placeholder:"Exemple: <h1>{{TITRE}}</h1><p>Montant: {{MONTANT}} </p>",value:_.htmlContent,onChange:q=>A({..._,htmlContent:q.target.value}),minH:"150px",fontFamily:"mono",fontSize:"xs"})]}),e.jsxs(ue,{w:"full",children:[e.jsx(R,{fontSize:"sm",fontWeight:"600",mb:2,children:"CSS personnalis (optionnel)"}),e.jsx(Zt,{placeholder:"body { font-family: Arial; }",value:_.cssContent,onChange:q=>A({..._,cssContent:q.target.value}),minH:"100px",fontFamily:"mono",fontSize:"xs"})]}),e.jsx(re,{children:e.jsx(ro,{isChecked:_.isDefault,onChange:q=>A({..._,isDefault:q.target.checked}),children:"Dfinir comme template par dfaut"})}),e.jsxs(ue,{p:3,bg:"blue.50",borderRadius:"md",w:"full",children:[e.jsx(R,{fontSize:"xs",fontWeight:"600",mb:2,children:"Variables disponibles:"}),e.jsx(R,{fontSize:"xs",fontFamily:"mono",children:"{{NUMERO}}, {{TITRE}}, {{MONTANT}}, {{DATE}}, {{DESCRIPTION}}, {{TOTAL}}, {{DUE_DATE}}, {{STATUS}}, {{PAYMENT_METHOD}}, {{NOTES}}"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:S.onClose,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:P,children:"Mettre  jour"})]})]})]}),e.jsxs(Et,{isOpen:C.isOpen,onClose:C.onClose,size:"4xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",children:[e.jsxs(Tt,{children:["Aperu du template: ",l?.name]}),e.jsx(It,{}),e.jsx(At,{children:e.jsx(ue,{p:6,bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"md",dangerouslySetInnerHTML:{__html:d},overflowY:"auto",maxH:"60vh"})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:C.onClose,children:"Fermer"})})]})]})]})};var _h={};const is={siteUsers:["api/site-users","site-users"],members:["api/members","members"],siteConfig:["api/site-config","site-config"],changelog:["api/changelog","changelog"],retroNews:["api/retro-news","retro-news"],notifications:["api/notifications","notifications"]},xu=()=>"api/site-users",jj=()=>"api/members",Rf=()=>"api/site-config",kg=()=>"api/changelog",vu=()=>_h.VITE_API_URL||"",Sj=()=>_h.VITE_API_URL||"",Mf=()=>_h.VITE_API_URL||"",Pg=()=>_h.VITE_API_URL||"",rJ=()=>_h.VITE_API_URL||"",up=t=>String(t||"").trim().replace(/^\/+|\/+$/g,""),sJ=()=>{const t=_h.VITE_API_PREFIX||"";return up(t)},os=(t,n,r="",i)=>{const l=up(r),u=sJ(),d=new Set;typeof window<"u"&&window.location?.origin&&window.location.origin.replace(/\/+$/,"");const m=g=>{const x=[up(g)];l&&x.push(l);const j=x.filter(Boolean).join("/");j&&d.add(j)},p=g=>{if(!u)return;const x=up(g);x.startsWith(`${u}/`)||m(`${u}/${x}`)};return n&&m(n),t.forEach(g=>p(g)),t.forEach(g=>m(g)),Array.from(d)},tm=async(t,n,r)=>{Array.isArray(t)||(t=[t]);const i=[];for(const l of t)try{const u=up(l);if(!u)continue;const d=u.startsWith("/")?u:`/${u}`;let m;return n==="GET"?m=await mt.get(d):n==="POST"?m=await mt.post(d,r):n==="PUT"?m=await mt.put(d,r):n==="PATCH"?m=await mt.patch(d,r):n==="DELETE"&&(m=await mt.delete(d)),console.log(` Success with URL: ${d}`),{data:m,headers:{},url:d}}catch(u){i.push(`${l}: ${u.message}`),console.log(` Failed URL ${l}: ${u.message}`)}throw new Error(`All URLs failed: ${i.join(" | ")}`)},jl=async t=>tm(t,"GET"),E1=async(t,n)=>tm(t,"POST",n),Yf=async(t,n)=>tm(t,"PUT",n),iJ=async(t,n)=>tm(t,"PATCH",n),lD=async t=>tm(t,"DELETE");function oJ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(!0),[d,m]=y.useState(""),[p,g]=y.useState("ALL"),[x,j]=y.useState("ALL"),[S,C]=y.useState(null),[_,A]=y.useState({}),[T,z]=y.useState([]),[P,k]=y.useState(0),{isOpen:I,onOpen:N,onClose:F}=Dt(),{isOpen:Y,onOpen:q,onClose:ce}=Dt(),de=wn(),le=Sr("white","gray.800");y.useEffect(()=>{ve(),Pe(),me(),G()},[]);const ve=async()=>{try{u(!0);const V=(await jl(os(is.siteUsers,xu(),"",vu()))).data;n(Array.isArray(V)?V:V?.users||[])}catch($){console.error("Erreur chargement utilisateurs:",$),de({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}finally{u(!1)}},Pe=async()=>{try{const V=(await jl(os(is.members,jj(),"",Sj()),{params:{status:"ACTIVE"}})).data;i(Array.isArray(V)?V:V?.members||[])}catch($){console.error("Erreur chargement membres:",$),de({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},me=async()=>{try{const $=await jl(os(is.siteUsers,xu(),"stats",vu()));A($.data||{})}catch($){if(console.error("Erreur chargement stats:",$),Array.isArray(t)&&t.length>0){const V=t.length,M=t.filter(Ae=>Ae.isActive).length,Q=t.filter(Ae=>!!Ae.linkedMember).length,Ee=Date.now()-1440*60*1e3,Le=t.filter(Ae=>Ae.lastLoginAt&&new Date(Ae.lastLoginAt).getTime()>=Ee).length;A({totalUsers:V,activeUsers:M,linkedUsers:Q,recentLogins:Le}),de({title:"Stats calcules localement",description:"Endpoint /site-users/stats indisponible, valeurs estimes  partir des utilisateurs chargs.",status:"info",duration:4e3})}else de({title:"Erreur API",description:`${$.message}${$.urlsTried?`  Test: ${$.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},G=async()=>{try{const V=(await jl(os(is.retroNews,"","",rJ()))).data||[];z(Array.isArray(V)?V:[])}catch($){console.error("Erreur chargement RtroNews:",$),z([])}},Z=()=>{ve(),Pe(),me()},H=t.filter($=>{const V=$.username?.toLowerCase().includes(d.toLowerCase())||$.email?.toLowerCase().includes(d.toLowerCase())||$.firstName?.toLowerCase().includes(d.toLowerCase())||$.lastName?.toLowerCase().includes(d.toLowerCase()),M=p==="ALL"||$.role===p,Q=x==="ALL"||x==="ACTIVE"&&$.isActive||x==="INACTIVE"&&!$.isActive;return V&&M&&Q});return e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"md",children:" Gestion des Accs Sites"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Gestion des comptes d'accs aux sites interne et externe"})]}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:N,children:"Crer un accs"})]}),e.jsxs(pt,{columns:{base:2,md:3},spacing:4,children:[e.jsx($e,{bg:le,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Total accs"}),e.jsx(bt,{color:"blue.500",children:_.totalUsers||0})]})})}),e.jsx($e,{bg:le,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Lis aux adhsions"}),e.jsx(bt,{color:"purple.500",children:_.linkedUsers||0})]})})}),e.jsx($e,{bg:le,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Connexions 24h"}),e.jsx(bt,{color:"orange.500",children:_.recentLogins||0})]})})})]}),T.length>0&&e.jsxs($e,{bg:le,children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",children:[e.jsx(Me,{size:"sm",children:" RtroNews"}),e.jsxs(re,{spacing:2,children:[e.jsx(ut,{icon:e.jsx(zM,{}),size:"sm",onClick:()=>k($=>$===0?T.length-1:$-1),"aria-label":"News prcdente",isDisabled:T.length<=1}),e.jsxs(R,{fontSize:"xs",color:"gray.500",children:[P+1," / ",T.length]}),e.jsx(ut,{icon:e.jsx(_x,{}),size:"sm",onClick:()=>k($=>($+1)%T.length),"aria-label":"News suivante",isDisabled:T.length<=1})]})]})}),e.jsx(Be,{children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsx(Me,{size:"md",children:T[P]?.title||"Sans titre"}),T[P]?.date&&e.jsx(R,{fontSize:"sm",color:"gray.500",children:new Date(T[P].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(R,{children:T[P]?.content||""}),T[P]?.imageUrl&&e.jsx(Di,{src:T[P].imageUrl,alt:T[P]?.title,maxH:"200px",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsx($e,{bg:le,children:e.jsx(Be,{children:e.jsxs(re,{spacing:4,children:[e.jsxs(Lu,{flex:1,children:[e.jsx(Ou,{children:e.jsx(lv,{})}),e.jsx(xe,{placeholder:"Rechercher par nom, email ou identifiant...",value:d,onChange:$=>m($.target.value)})]}),e.jsxs(st,{value:p,onChange:$=>g($.target.value),maxW:"220px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"})]}),e.jsxs(st,{value:x,onChange:$=>j($.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"INACTIVE",children:"Inactif"})]}),e.jsx(ne,{leftIcon:e.jsx(ea,{}),onClick:ve,size:"sm",children:"Actualiser"})]})})}),l?e.jsx(xn,{py:8,children:e.jsxs(se,{spacing:4,children:[e.jsx(pn,{size:"lg"}),e.jsx(R,{children:"Chargement des accs..."})]})}):e.jsx($e,{bg:le,children:e.jsxs(Be,{children:[e.jsxs(br,{size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Utilisateur"}),e.jsx(Ie,{children:"Matricule"}),e.jsx(Ie,{children:"Rle"}),e.jsx(Ie,{children:"Accs"}),e.jsx(Ie,{children:"Adhsion lie"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Dernire connexion"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:H.map($=>e.jsx(aJ,{user:$,onEdit:()=>W($),onToggleStatus:()=>Se($),onLink:()=>B($),onViewLogs:()=>ie($),onDelete:()=>pe($)},$.id))})]}),H.length===0&&e.jsxs(sn,{status:"info",mt:4,children:[e.jsx(on,{}),"Aucun utilisateur trouv avec ces critres"]})]})}),e.jsx(lJ,{isOpen:I,onClose:()=>{F(),C(null)},members:r,user:S,onUserSaved:Z}),e.jsx(cJ,{isOpen:Y,onClose:ce,user:S,members:r,onLinked:Z})]});function W($){C($),N()}async function Se($){try{await iJ(os(is.siteUsers,xu(),`${$.id}`,vu()),{isActive:!$.isActive}),de({title:"Succs",description:`Accs ${$.isActive?"dsactiv":"activ"}`,status:"success",duration:3e3}),Z()}catch(V){console.error(V),de({title:"Erreur",description:`${V.message}${V.urlsTried?`  Test: ${V.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}function B($){C($),q()}function ie($){de({title:"Info",description:`Affichage des logs pour ${$.username}  venir`,status:"info",duration:3e3})}async function pe($){if(window.confirm(`Supprimer dfinitivement l'accs de ${w1($)} (${$.username}) ?`))try{await lD(os(is.siteUsers,xu(),`${$.id}`,vu())),de({title:"Accs supprim",description:`L'utilisateur ${$.username} a t supprim`,status:"success",duration:3e3}),Z()}catch(V){console.error(V),de({title:"Erreur",description:`${V.message}${V.urlsTried?`  Test: ${V.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}}function aJ({user:t,onEdit:n,onToggleStatus:r,onLink:i,onViewLogs:l,onDelete:u}){const d={PRESIDENT:"Prsident",VICE_PRESIDENT:"Vice-Prsident",TRESORIER:"Trsorier",SECRETAIRE_GENERAL:"Secrtaire Gnral",MEMBER:"Membre"},m=p=>({PRESIDENT:"red",VICE_PRESIDENT:"pink",TRESORIER:"green",SECRETAIRE_GENERAL:"purple",MEMBER:"blue"})[p]||"gray";return e.jsxs(Ft,{children:[e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontWeight:"medium",fontSize:"sm",children:w1(t)}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:t.email})]})}),e.jsx(Ne,{children:e.jsx(R,{fontFamily:"mono",fontSize:"sm",children:t.username})}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:m(t.role),size:"sm",children:d[t.role]||t.role})}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:1,children:[t.hasInternalAccess&&e.jsx(et,{colorScheme:"blue",size:"xs",children:"Interne"}),t.hasExternalAccess&&e.jsx(et,{colorScheme:"green",size:"xs",children:"Externe"})]})}),e.jsx(Ne,{children:t.linkedMember?e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",color:"green.600",children:_1(t.linkedMember)}),t.linkedMember.memberNumber&&e.jsxs(R,{fontSize:"xs",color:"gray.500",children:["#",t.linkedMember.memberNumber]})]}):e.jsxs(ne,{size:"xs",variant:"outline",onClick:i,children:[e.jsx(AK,{style:{marginRight:"4px"}}),"Fusionner"]})}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:t.isActive?"green":"red",size:"sm",children:t.isActive?"Actif":"Inactif"})}),e.jsx(Ne,{children:e.jsx(R,{fontSize:"xs",children:t.lastLoginAt?new Date(t.lastLoginAt).toLocaleDateString("fr-FR"):"Jamais"})}),e.jsx(Ne,{children:e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(em,{}),size:"sm",variant:"ghost"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Ls,{}),onClick:n,children:"Modifier"}),e.jsx(Cn,{icon:e.jsx(Ra,{}),onClick:l,children:"Logs de connexion"}),e.jsx(Cn,{icon:t.isActive?e.jsx(Rl,{}):e.jsx(mj,{}),onClick:r,color:t.isActive?"red.500":"green.500",children:t.isActive?"Dsactiver":"Activer"}),e.jsx(Cn,{icon:e.jsx(gr,{}),onClick:u,color:"red.600",children:"Supprimer"})]})]})})]})}function lJ({isOpen:t,onClose:n,members:r,onUserSaved:i,user:l}){const u=!!l,[d,m]=y.useState({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""}),[p,g]=y.useState(!1),x=wn();y.useEffect(()=>{m(u?{username:l?.username||"",firstName:l?.firstName||"",lastName:l?.lastName||"",email:l?.email||"",role:l?.role||"MEMBER",hasInternalAccess:!!l?.hasInternalAccess,hasExternalAccess:!!l?.hasExternalAccess,linkedMemberId:l?.linkedMember?.id||"",generatePassword:!1,customPassword:""}:{username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""})},[u,l,t]);const j=async()=>{try{g(!0);const S={username:d.username,firstName:d.firstName,lastName:d.lastName,email:d.email,role:d.role,hasInternalAccess:d.hasInternalAccess,hasExternalAccess:d.hasExternalAccess,linkedMemberId:d.linkedMemberId||null};if(u)d.customPassword?.trim()&&(S.password=d.customPassword.trim()),await Yf(os(is.siteUsers,xu(),`${l.id}`,vu()),S),x({title:"Accs mis  jour",description:"L'utilisateur a t mis  jour avec succs",status:"success",duration:3e3});else{S.generatePassword=!!d.generatePassword,!d.generatePassword&&d.customPassword&&(S.customPassword=d.customPassword);const _=(await E1(os(is.siteUsers,xu(),"",vu()),S)).data;x({title:"Accs cr",description:_?.temporaryPassword?`Mot de passe temporaire: ${_.temporaryPassword}`:"L'utilisateur a t cr avec succs",status:"success",duration:_?.temporaryPassword?1e4:5e3,isClosable:!0})}i?.(),n(),m({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""})}catch(S){console.error(S),x({title:"Erreur",description:`${S?.response?.data?.message||S.message}${S.urlsTried?`  Test: ${S.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{g(!1)}};return e.jsxs(Et,{isOpen:t,onClose:n,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:u?" Modifier un accs aux sites":" Crer un accs aux sites"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsx(R,{fontSize:"sm",children:u?"Mettez  jour le profil d'accs. Le matricule est l'identifiant utilis sur le site.":"Crez un compte d'accs aux sites. Le matricule est l'identifiant utilis sur le site."})]}),e.jsxs(pt,{columns:2,spacing:4,w:"full",children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Prnom"}),e.jsx(xe,{value:d.firstName,onChange:S=>m(C=>({...C,firstName:S.target.value})),placeholder:"Prnom"})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:d.lastName,onChange:S=>m(C=>({...C,lastName:S.target.value})),placeholder:"Nom"})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Matricule (identifiant de connexion)"}),e.jsx(xe,{value:d.username,onChange:S=>m(C=>({...C,username:S.target.value})),placeholder:"Ex: w.belaidi"}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Format recommand: premire lettre du prnom + point + nom"})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Email"}),e.jsx(xe,{type:"email",value:d.email,onChange:S=>m(C=>({...C,email:S.target.value})),placeholder:"email@example.com"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Rle Mtier"}),e.jsxs(st,{value:d.role,onChange:S=>m(C=>({...C,role:S.target.value})),children:[e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"}),e.jsx("option",{value:"CLIENT",children:"Client"})]}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"Le rle mtier est  titre informatif. Les permissions d'accs aux modules sont gres individuellement ci-dessous."})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Lier  une adhsion existante (optionnel)"}),e.jsxs(st,{value:d.linkedMemberId,onChange:S=>m(C=>({...C,linkedMemberId:S.target.value})),children:[e.jsx("option",{value:"",children:"Aucune liaison"}),r.map(S=>e.jsx("option",{value:S.id,children:_1(S)},S.id))]})]}),e.jsx(zn,{}),e.jsxs(se,{align:"start",spacing:3,w:"full",children:[e.jsx(R,{fontWeight:"medium",children:"Autorisations d'accs"}),e.jsxs(re,{w:"full",justify:"space-between",children:[e.jsx(R,{fontSize:"sm",children:"Accs site interne"}),e.jsx(jr,{isChecked:d.hasInternalAccess,onChange:S=>m(C=>({...C,hasInternalAccess:S.target.checked}))})]}),e.jsxs(re,{w:"full",justify:"space-between",children:[e.jsx(R,{fontSize:"sm",children:"Accs site externe"}),e.jsx(jr,{isChecked:d.hasExternalAccess,onChange:S=>m(C=>({...C,hasExternalAccess:S.target.checked}))})]})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(zn,{}),e.jsxs(se,{align:"start",spacing:3,w:"full",children:[e.jsx(R,{fontWeight:"medium",children:"Mot de passe"}),e.jsxs(re,{w:"full",justify:"space-between",children:[e.jsx(R,{fontSize:"sm",children:"Gnrer automatiquement"}),e.jsx(jr,{isChecked:d.generatePassword,onChange:S=>m(C=>({...C,generatePassword:S.target.checked}))})]}),!d.generatePassword&&e.jsxs(te,{children:[e.jsx(ee,{children:"Mot de passe personnalis"}),e.jsx(xe,{type:"password",value:d.customPassword,onChange:S=>m(C=>({...C,customPassword:S.target.value})),placeholder:"Minimum 6 caractres"})]})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(zn,{}),e.jsxs(se,{align:"start",spacing:3,w:"full",children:[e.jsx(R,{fontWeight:"medium",children:"Changer le mot de passe (optionnel)"}),e.jsxs(te,{children:[e.jsx(ee,{children:"Nouveau mot de passe"}),e.jsx(xe,{type:"password",value:d.customPassword,onChange:S=>m(C=>({...C,customPassword:S.target.value})),placeholder:"Laissez vide pour ne pas changer"})]})]})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:j,isLoading:p,loadingText:u?"Enregistrement...":"Cration...",children:u?"Enregistrer":"Crer l'accs"})]})]})]})}function cJ({isOpen:t,onClose:n,user:r,members:i,onLinked:l}){const[u,d]=y.useState(""),[m,p]=y.useState(!1),[g,x]=y.useState(i||[]),j=wn();y.useEffect(()=>{t&&(async()=>{try{const A=(await jl(os(is.members,jj(),"",Sj()))).data,T=Array.isArray(A)?A:A?.members||[];x(T)}catch{console.warn("Chargement membres (fusion) chou, utilisation des props existantes"),x(i||[])}})()},[t]);const S=async()=>{if(!u){j({title:"Erreur",description:"Veuillez slectionner un membre",status:"error",duration:3e3});return}try{p(!0),await E1(os(is.siteUsers,xu(),`${r.id}/link-member`,vu()),{memberId:u}),j({title:"Liaison cre",description:"Accs li  l'adhsion. L'utilisateur verra la page Mon Adhsion aprs actualisation ou reconnexion.",status:"success",duration:5e3}),l?.(),n(),d("")}catch(C){j({title:"Erreur",description:`${C?.response?.data?.message||C.message}${C.urlsTried?`  Test: ${C.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{p(!1)}};return e.jsxs(Et,{isOpen:t,onClose:n,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Fusionner avec une adhsion"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsxs(R,{fontSize:"sm",children:["Fusionner l'accs de ",e.jsx("strong",{children:w1(r)})," avec une adhsion existante."]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Slectionner une adhsion"}),e.jsx(st,{value:u,onChange:C=>d(C.target.value),placeholder:"Choisir un membre...",children:(g||[]).filter(C=>!C.hasLinkedAccess).map(C=>e.jsxs("option",{value:C.id,children:[_1(C),C.email?` (${C.email})`:""]},C.id))}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:2,children:"Seuls les membres sans accs dj li sont affichs"})]}),e.jsx(re,{w:"full",justify:"flex-end",children:e.jsx(ne,{size:"sm",variant:"outline",onClick:async()=>{try{const _=(await jl(os(is.members,jj(),"",Sj()))).data;x(Array.isArray(_)?_:_?.members||[]),j({title:"Liste mise  jour",status:"success",duration:2e3})}catch(C){j({title:"Erreur rafrachissement",description:C.message,status:"error",duration:3e3})}},children:"Actualiser"})})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:S,isLoading:m,loadingText:"Fusion...",children:"Fusionner"})]})]})]})}function uJ(){const{user:t}=_s(),n=Sr("white","gray.800"),[r,i]=y.useState([]),[l,u]=y.useState(!0),[d,m]=y.useState(null),[p,g]=y.useState({title:"",version:"",date:"",entryType:"update",changes:[{tag:"update",text:""}]}),[x,j]=y.useState(localStorage.getItem("rbe_site_helloasso_url")||"https://www.helloasso.com/associations/retrobus-essonne"),{isOpen:S,onOpen:C,onClose:_}=Dt(),{isOpen:A,onOpen:T,onClose:z}=Dt(),{isOpen:P,onOpen:k,onClose:I}=Dt(),N=wn(),F=async()=>{try{u(!0);const Q=(await jl(os(is.changelog,kg(),"",Pg()))).data;Array.isArray(Q)?i(Q):Q&&Array.isArray(Q.entries)?i(Q.entries):Q&&Array.isArray(Q.items)?i(Q.items):(console.warn("Rponse inattendue de l'API:",Q),i([]))}catch(M){console.error("Erreur lors du chargement des changelogs:",M),i([]),N({title:"Erreur",description:`${M.message}${M.urlsTried?`  Test: ${M.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}finally{u(!1)}};y.useEffect(()=>{F()},[]);const[Y,q]=y.useState({headerBgFocalX:50,headerBgFocalY:50,headerBgSize:"cover",logoWidth:44}),ce=async()=>{try{const Q=(await jl(os(is.siteConfig,Rf(),"",Mf())))?.data||{};q(Ee=>({...Ee,headerBgFocalX:Number.isFinite(Q.headerBgFocalX)?Q.headerBgFocalX:Ee.headerBgFocalX,headerBgFocalY:Number.isFinite(Q.headerBgFocalY)?Q.headerBgFocalY:Ee.headerBgFocalY,headerBgSize:Q.headerBgSize||Ee.headerBgSize,logoWidth:Number.isFinite(Q.logoWidth)?Q.logoWidth:Ee.logoWidth}))}catch(M){console.warn("Chargement site-config (header) chou:",M?.message||M)}};y.useEffect(()=>{A&&ce()},[A]);const de=async()=>{try{const M={headerBgFocalX:Y.headerBgFocalX,headerBgFocalY:Y.headerBgFocalY,headerBgSize:Y.headerBgSize,logoWidth:Y.logoWidth};await Yf(os(is.siteConfig,Rf(),"",Mf()),M),N({title:"Configuration du header mise  jour",status:"success",duration:2500}),z()}catch(M){N({title:"Erreur sauvegarde Header",description:`${M.message}${M.urlsTried?`  Test: ${M.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},le=async()=>{try{if(!x||!/^https?:\/\//i.test(x)){N({title:"Lien invalide",description:"Fournissez une URL complte commenant par http(s)://",status:"error",duration:3e3});return}localStorage.setItem("rbe_site_helloasso_url",x);const M=os(is.siteConfig,Rf(),"",Mf()),Q=await Yf(M,{helloAssoUrl:x});return N({title:"Lien mis  jour",description:'Le bouton "Soutenir" utilisera le nouveau lien.',status:"success",duration:3e3}),Q}catch(M){console.error("Erreur sauvegarde HelloAsso:",M),N({title:"Erreur",description:`${M.message}${M.urlsTried?`  Test: ${M.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},ve=async()=>{try{const M=os(is.siteConfig,Rf(),"",Mf()),Ee=(await jl(M))?.data||{};N({title:"Config dtecte",description:`helloAssoUrl=${Ee.helloAssoUrl||"non dfini"}`,status:"success",duration:3e3})}catch(M){N({title:"Config indisponible",description:`${M.message}${M.urlsTried?`  Test: ${M.urlsTried.join(", ")}`:""}`,status:"warning",duration:5e3})}},Pe=()=>{g({title:"",version:"",date:new Date().toISOString().split("T")[0],entryType:"update",changes:[{tag:"update",text:""}]}),m(null)},me=()=>{Pe(),C()},G=M=>{m(M);let Q=[{tag:"update",text:""}];if(M.changes){if(Array.isArray(M.changes))M.changes.length>0&&(Q=M.changes.map(Ee=>typeof Ee=="string"?{tag:"update",text:Ee.replace(/^([\p{Emoji_Presentation}\p{Extended_Pictographic}]\s*)/u,"").trim()}:{tag:Ee.tag||"update",text:Ee.text||""}));else if(typeof M.changes=="string")try{const Ee=JSON.parse(M.changes);Q=Array.isArray(Ee)?Ee.map(Le=>typeof Le=="string"?{tag:"update",text:Le}:Le):[{tag:"update",text:String(M.changes)}]}catch{console.warn("Impossible de parser changes:",M.changes),Q=[{tag:"update",text:M.changes}]}}else M.description&&typeof M.description=="string"&&(Q=M.description.split(/\n|\r\n/).map(Ee=>({tag:"update",text:Ee.replace(/^\s*/,"")})));g({title:M.title||"",version:M.version||"",date:M.date?M.date.split("T")[0]:new Date().toISOString().split("T")[0],entryType:M.type||"update",changes:Q}),C()},Z=()=>{g(M=>({...M,changes:[...M.changes,{tag:"update",text:""}]}))},H=M=>{p.changes.length>1&&g(Q=>({...Q,changes:Q.changes.filter((Ee,Le)=>Le!==M)}))},W=(M,Q)=>{g(Ee=>({...Ee,changes:Ee.changes.map((Le,Ae)=>Ae===M?{...Le,text:Q}:Le)}))},Se=(M,Q)=>{g(Ee=>({...Ee,changes:Ee.changes.map((Le,Ae)=>Ae===M?{...Le,tag:Q}:Le)}))},B=[{key:"feature",label:"Fonctionnalit",emoji:""},{key:"fix",label:"Correction",emoji:""},{key:"update",label:"Mise  jour",emoji:""},{key:"security",label:"Scurit",emoji:""},{key:"perf",label:"Performance",emoji:""},{key:"ui",label:"Interface",emoji:""},{key:"content",label:"Contenu",emoji:""},{key:"deps",label:"Dpendances",emoji:""},{key:"docs",label:"Documentation",emoji:""}],ie=M=>B.find(Q=>Q.key===M)?.emoji||"",pe=async()=>{try{if(!p.title.trim()||!p.version.trim()){N({title:"Erreur de validation",description:"Le titre et la version sont requis",status:"error",duration:3e3,isClosable:!0});return}const M=(p.changes||[]).filter(Ae=>Ae&&String(Ae.text||"").trim()!==""),Q=M.map(Ae=>`${ie(Ae.tag)} ${Ae.text.trim()}`),Ee=Q.join(`
`),Le={title:p.title.trim(),version:p.version.trim(),date:p.date,type:p.entryType||"update",changes:M,changesText:Q,description:Ee};d?(await Yf(os(is.changelog,kg(),`${d.id}`,Pg()),Le),N({title:"Succs",description:"Changelog mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await E1(os(is.changelog,kg(),"",Pg()),Le),N({title:"Succs",description:"Changelog cr avec succs",status:"success",duration:3e3,isClosable:!0})),F(),_();try{p.version?.trim()&&(await Yf(os(is.siteConfig,Rf(),"",Mf()),{siteVersion:p.version.trim()}),N({title:"Version du site mise  jour",description:`v${p.version.trim()}`,status:"success",duration:2500}))}catch(Ae){console.warn("MJ siteVersion choue:",Ae),N({title:"Version non synchronise",description:"Impossible de mettre  jour la version du site.",status:"warning",duration:3500})}}catch(M){console.error("Erreur lors de la sauvegarde:",M),N({title:"Erreur",description:`${M.message}${M.urlsTried?`  Test: ${M.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},$=async M=>{if(window.confirm("tes-vous sr de vouloir supprimer ce changelog ?"))try{await lD(os(is.changelog,kg(),`${M}`,Pg())),N({title:"Succs",description:"Changelog supprim avec succs",status:"success",duration:3e3,isClosable:!0}),F()}catch(Q){console.error("Erreur lors de la suppression:",Q),N({title:"Erreur",description:`${Q.message}${Q.urlsTried?`  Test: ${Q.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},V=M=>{if(!M)return null;let Q=[];if(Array.isArray(M))Q=M;else if(typeof M=="string")try{const Ee=JSON.parse(M);Q=Array.isArray(Ee)?Ee:[M]}catch{Q=[M]}return Q.map((Ee,Le)=>e.jsxs(R,{fontSize:"sm",children:[" ",Ee]},Le))};return l?e.jsx(xn,{minH:"400px",children:e.jsxs(se,{children:[e.jsx(pn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(R,{children:"Chargement des changelogs..."})]})}):e.jsx(zs,{maxW:"container.xl",py:8,children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(Me,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(nh,{style:{marginRight:"12px"}}),"Gestion du Site Web"]}),e.jsxs(sa,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(ia,{children:[e.jsx(ln,{children:" Changelog & Versions"}),e.jsx(ln,{children:" Accs aux Sites"}),e.jsx(ln,{children:" Configuration"}),e.jsx(ln,{children:" Modles de Documents"}),(t?.role==="ADMIN"||t?.role==="MANAGER"||t?.role==="OPERATOR")&&e.jsx(ln,{children:" Permissions des Utilisateurs"})]}),e.jsxs(oa,{children:[e.jsxs(cn,{children:[e.jsxs(Qn,{mb:6,align:"center",children:[e.jsx(Me,{size:"lg",children:"Gestion du Site"}),e.jsx(kp,{}),e.jsx(ne,{leftIcon:e.jsx(oD,{}),colorScheme:"blue",onClick:me,children:"Nouveau Changelog"})]}),e.jsx(se,{spacing:4,align:"stretch",children:r.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucun changelog trouv. Crez le premier !"]}):r.map(M=>e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(Qn,{align:"center",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"md",children:M.title}),e.jsxs(re,{children:[e.jsxs(et,{colorScheme:"blue",children:["v",M.version]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:M.date?new Date(M.date).toLocaleDateString("fr-FR"):"Date inconnue"})]})]}),e.jsx(kp,{}),e.jsxs(re,{children:[e.jsx(ut,{icon:e.jsx(iD,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>G(M),"aria-label":"Modifier"}),e.jsx(ut,{icon:e.jsx(aD,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>$(M.id),"aria-label":"Supprimer"})]})]})}),e.jsx(Be,{pt:0,children:e.jsx(se,{align:"start",spacing:2,children:Array.isArray(M.changes)&&M.changes.length>0?M.changes.map((Q,Ee)=>e.jsx(R,{fontSize:"sm",children:typeof Q=="string"?Q:`${ie(Q.tag)} ${Q.text}`},Ee)):V(M.changesText||M.description||[])})})]},M.id))})]}),e.jsx(cn,{children:e.jsx(oJ,{})}),e.jsx(cn,{children:e.jsxs(pt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs($e,{bg:n,children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:" Pages et contenu"})}),e.jsx(Be,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsx(ne,{leftIcon:e.jsx(Ls,{}),size:"sm",variant:"outline",onClick:T,children:"Modifier le Header"}),e.jsx(ne,{leftIcon:e.jsx(Ls,{}),size:"sm",variant:"outline",children:"Grer les vnements"}),e.jsx(ne,{leftIcon:e.jsx(Ls,{}),size:"sm",variant:"outline",children:'Mettre  jour " propos"'}),e.jsx(zn,{my:2}),e.jsx(Me,{size:"xs",children:`Bouton "Soutenir l'association" (Navbar externe)`}),e.jsx(R,{fontSize:"xs",color:"gray.600",children:"Configure le lien HelloAsso utilis sur la navbar du site public."}),e.jsxs(re,{children:[e.jsx(xe,{value:x,onChange:M=>j(M.target.value),placeholder:"https://www.helloasso.com/associations/retrobus-essonne"}),e.jsx(ne,{size:"sm",colorScheme:"blue",onClick:le,children:"Enregistrer"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:ve,children:"Tester"})]})]})})]}),e.jsxs($e,{bg:n,children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:" Configuration"})}),e.jsx(Be,{children:e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsx(ne,{leftIcon:e.jsx(bK,{}),size:"sm",variant:"outline",children:"Notifications Flash"}),e.jsx(ne,{leftIcon:e.jsx(Cc,{}),size:"sm",variant:"outline",children:"Configuration Newsletter"}),e.jsx(ne,{leftIcon:e.jsx(em,{}),size:"sm",variant:"outline",children:"Paramtres gnraux"}),e.jsx(zn,{my:2}),e.jsx(ne,{leftIcon:e.jsx(Cc,{}),size:"sm",variant:"outline",colorScheme:"purple",onClick:k,children:" Grer les templates d'email"})]})})]})]})}),e.jsx(cn,{children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Me,{size:"lg",mb:2,children:" Gestion des Modles de Documents"}),e.jsx(R,{color:"gray.600",children:"Crez et grez les templates HTML pour vos devis et factures avec variables personnalisables"})]}),e.jsx(dJ,{})]})}),(t?.role==="ADMIN"||t?.role==="MANAGER"||t?.role==="OPERATOR")&&e.jsx(cn,{children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Me,{size:"lg",mb:2,children:" Gestion des Rles & Permissions"}),e.jsx(R,{color:"gray.600",children:"Grez les rles principaux et les permissions individuelles de chaque utilisateur"})]}),e.jsx(JM,{})]})})]})]}),e.jsxs(Et,{isOpen:P,onClose:I,size:"4xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Gestion des Templates d'Email"}),e.jsx(It,{}),e.jsx(At,{maxH:"80vh",overflowY:"auto",children:e.jsx(tJ,{token:localStorage.getItem("token")})})]})]}),e.jsxs(Et,{isOpen:A,onClose:z,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Modifier le Header"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Image de fond"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(sn,{status:"info",fontSize:"sm",children:[e.jsx(on,{}),"Pour modifier l'image : ditez manuellement ",e.jsx("strong",{children:"externe/public/assets/header.jpg"})]}),e.jsx(re,{children:e.jsxs(te,{maxW:"220px",children:[e.jsx(ee,{children:"Taille d'affichage"}),e.jsxs(st,{value:Y.headerBgSize,onChange:M=>q(Q=>({...Q,headerBgSize:M.target.value})),children:[e.jsx("option",{value:"cover",children:"Cover (remplit tout)"}),e.jsx("option",{value:"contain",children:"Contain (contient tout)"})]})]})}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:2,children:"Point focal (cliquez/glissez pour ajuster)"}),e.jsx(ue,{position:"relative",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"gray.200",w:"100%",h:"180px",style:{backgroundImage:`url(/assets/header.jpg?t=${Date.now()})`,backgroundSize:Y.headerBgSize||"cover",backgroundPosition:`${Y.headerBgFocalX}% ${Y.headerBgFocalY}%`},onMouseDown:M=>{const Q=M.currentTarget.getBoundingClientRect(),Ee=(M.clientX-Q.left)/Q.width*100,Le=(M.clientY-Q.top)/Q.height*100;q(Ae=>({...Ae,headerBgFocalX:Math.round(Ee),headerBgFocalY:Math.round(Le)}))},onMouseMove:M=>{if(M.buttons!==1)return;const Q=M.currentTarget.getBoundingClientRect(),Ee=(M.clientX-Q.left)/Q.width*100,Le=(M.clientY-Q.top)/Q.height*100;q(Ae=>({...Ae,headerBgFocalX:Math.round(Math.max(0,Math.min(100,Ee))),headerBgFocalY:Math.round(Math.max(0,Math.min(100,Le)))}))},children:e.jsx(ue,{position:"absolute",left:`calc(${Y.headerBgFocalX}% - 6px)`,top:`calc(${Y.headerBgFocalY}% - 6px)`,w:"12px",h:"12px",borderRadius:"full",bg:"var(--rbe-red)",border:"2px solid white",boxShadow:"sm",pointerEvents:"none"})}),e.jsx(re,{mt:2,fontSize:"xs",color:"gray.500",children:e.jsxs(R,{children:["Position: ",Y.headerBgFocalX,"% , ",Y.headerBgFocalY,"%"]})})]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Logo"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(sn,{status:"info",fontSize:"sm",children:[e.jsx(on,{}),"Pour modifier le logo : ditez manuellement les fichiers dans ",e.jsx("strong",{children:"externe/src/assets/"})]}),e.jsx(re,{children:e.jsxs(te,{maxW:"240px",children:[e.jsx(ee,{children:"Hauteur du logo (px)"}),e.jsx(xe,{type:"number",min:24,max:240,value:Y.logoWidth,onChange:M=>q(Q=>({...Q,logoWidth:parseInt(M.target.value||"44",10)}))})]})})]})})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:z,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:de,children:"Enregistrer"})]})]})]}),e.jsxs(Et,{isOpen:S,onClose:_,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:d?" Modifier un changelog":" Nouveau changelog"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre"}),e.jsx(xe,{value:p.title,onChange:M=>g(Q=>({...Q,title:M.target.value})),placeholder:"Ex: Amliorations sur la page d'accueil"})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Version"}),e.jsx(xe,{value:p.version,onChange:M=>g(Q=>({...Q,version:M.target.value})),placeholder:"Ex: 1.3.0"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date"}),e.jsx(xe,{type:"date",value:p.date,onChange:M=>g(Q=>({...Q,date:M.target.value}))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type de publication"}),e.jsxs(st,{value:p.entryType,onChange:M=>g(Q=>({...Q,entryType:M.target.value})),children:[e.jsx("option",{value:"feature",children:"Fonctionnalit "}),e.jsx("option",{value:"fix",children:"Correction "}),e.jsx("option",{value:"update",children:"Mise  jour "}),e.jsx("option",{value:"security",children:"Scurit "})]})]}),e.jsxs(se,{align:"stretch",spacing:2,children:[e.jsx(ee,{children:"Changements"}),p.changes.map((M,Q)=>e.jsxs(re,{align:"start",children:[e.jsx(st,{maxW:"180px",value:M.tag,onChange:Ee=>Se(Q,Ee.target.value),children:B.map(Ee=>e.jsxs("option",{value:Ee.key,children:[Ee.emoji," ",Ee.label]},Ee.key))}),e.jsx(xe,{value:M.text,onChange:Ee=>W(Q,Ee.target.value),placeholder:` Entre ${Q+1}`}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>H(Q)})]},Q)),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),onClick:Z,size:"sm",alignSelf:"flex-start",children:"Ajouter une ligne"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:_,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:pe,children:d?"Enregistrer":"Crer"})]})]})]})]})})}const dJ=()=>e.jsx(nJ,{}),eb={getByMember:t=>mt.get(`/api/documents/member/${t}`),delete:t=>mt.delete(`/api/documents/${t}`),updateStatus:(t,n)=>mt.put(`/api/documents/${t}/status`,n),getExpiring:(t=60)=>mt.get(`/api/documents/expiring?days=${t}`)},Rg={getAll:()=>mt.get("/newsletter"),create:t=>mt.post("/newsletter",t),delete:t=>mt.delete(`/newsletter/${t}`),updateStatus:(t,n)=>mt.put(`/newsletter/${t}/status`,{status:n}),getStats:()=>mt.get("/newsletter/stats"),export:(t="csv")=>mt.get(`/newsletter/export?format=${t}`),campaigns:{getAll:t=>mt.get("/newsletter/campaigns",{params:t}),getById:t=>mt.get(`/newsletter/campaigns/${t}`),create:t=>mt.post("/newsletter/campaigns",t),update:(t,n)=>mt.put(`/newsletter/campaigns/${t}`,n),delete:t=>mt.delete(`/newsletter/campaigns/${t}`),preview:t=>mt.get(`/newsletter/campaigns/${t}/preview`),sendTest:(t,n)=>mt.post(`/newsletter/campaigns/${t}/test`,{email:n}),prepare:t=>mt.post(`/newsletter/campaigns/${t}/prepare`),send:t=>mt.post(`/newsletter/campaigns/${t}/send`),getStats:t=>mt.get(`/newsletter/campaigns/${t}/stats`)}},tb={PIECES_DETACHEES:"Pices dtaches",CONSOMMABLES:"Consommables",OUTILLAGE:"Outillage",EQUIPEMENT:"quipement",DOCUMENTATION:"Documentation",MERCHANDISING:"Merchandising",FOURNITURES:"Fournitures",SECURITE:"Scurit",GENERAL:"Gnral"},nb={PIECE:"Pice",KG:"Kg",LITRE:"Litre",METRE:"Mtre",PAQUET:"Paquet",BOITE:"Bote",ROULEAU:"Rouleau",SET:"Set",AUTRE:"Autre"},FA={AVAILABLE:"Disponible",LOW_STOCK:"Stock bas",OUT_OF_STOCK:"Rupture",DISCONTINUED:"Discontinu",RESERVED:"Rserv"},hJ={AVAILABLE:"green",LOW_STOCK:"orange",OUT_OF_STOCK:"red",DISCONTINUED:"gray",RESERVED:"blue"};function fJ(){const[t,n]=y.useState([]),[r,i]=y.useState({}),[l,u]=y.useState(!0),[d,m]=y.useState({search:"",category:"ALL",status:"ALL",lowStock:!1}),[p,g]=y.useState(null),[x,j]=y.useState({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),[S,C]=y.useState({type:"IN",quantity:1,reason:"",notes:""}),[_,A]=y.useState(null),T=wn(),{isOpen:z,onOpen:P,onClose:k}=Dt(),{isOpen:I,onOpen:N,onClose:F}=Dt(),{isOpen:Y,onOpen:q,onClose:ce}=Dt();y.useEffect(()=>{de(),le()},[d]);const de=async()=>{try{u(!0);const B=new URLSearchParams;d.search&&B.append("search",d.search),d.category!=="ALL"&&B.append("category",d.category),d.status!=="ALL"&&B.append("status",d.status),d.lowStock&&B.append("lowStock","true");const ie=await mt.get(`/api/stocks?${B.toString()}`),pe=ie?.stocks??(Array.isArray(ie)?ie:[]);n(pe)}catch(B){console.error("Erreur lors du chargement des stocks:",B),n([]),T({title:"Stocks indisponibles",description:"LAPI des stocks nest pas encore prte ou a renvoy une erreur",status:"warning",duration:3e3})}finally{u(!1)}},le=async()=>{try{const B=await mt.get("/api/stocks/stats");i(B||{})}catch(B){console.error("Erreur lors du chargement des statistiques:",B),i({})}},ve=()=>{g(null),j({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),P()},Pe=B=>{g(B),j({reference:B.reference||"",name:B.name||"",description:B.description||"",category:B.category||"GENERAL",subcategory:B.subcategory||"",quantity:B.quantity||0,minQuantity:B.minQuantity||0,unit:B.unit||"PIECE",location:B.location||"",supplier:B.supplier||"",purchasePrice:B.purchasePrice||"",salePrice:B.salePrice||"",notes:B.notes||""}),P()},me=async()=>{try{const B=p?"put":"post",ie=p?`/api/stocks/${p.id}`:"/api/stocks";await mt[B](ie,x),T({title:"Succs",description:`Article ${p?"modifi":"cr"} avec succs`,status:"success",duration:3e3}),k(),de(),le()}catch(B){console.error("Erreur lors de la sauvegarde:",B),T({title:"Erreur",description:"Impossible de sauvegarder l'article",status:"error",duration:3e3})}},G=async()=>{if(_)try{await mt.delete(`/api/stocks/${_.id}`),T({title:"Succs",description:"Article supprim avec succs",status:"success",duration:3e3}),ce(),A(null),de(),le()}catch(B){console.error("Erreur lors de la suppression:",B),T({title:"Erreur",description:"Impossible de supprimer l'article",status:"error",duration:3e3})}},Z=async()=>{if(_)try{await mt.post(`/api/stocks/${_.id}/movement`,S),T({title:"Succs",description:"Mouvement enregistr avec succs",status:"success",duration:3e3}),F(),C({type:"IN",quantity:1,reason:"",notes:""}),de(),le()}catch(B){console.error("Erreur lors du mouvement:",B),T({title:"Erreur",description:B.response?.data?.error||"Impossible d'enregistrer le mouvement",status:"error",duration:3e3})}},H=B=>{A(B),C({type:"IN",quantity:1,reason:"",notes:""}),N()},W=B=>{A(B),q()},Se={totalItems:r.totalItems||0,totalQuantity:r.totalQuantity||0,lowStockCount:r.lowStockCount||0,outOfStockCount:r.outOfStockCount||0};return e.jsxs(ue,{p:6,children:[e.jsxs(Qn,{align:"center",mb:6,children:[e.jsx(Me,{size:"lg",color:"teal.600",children:"Gestion des Stocks"}),e.jsx(kp,{}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"teal",onClick:ve,children:"Nouvel article"})]}),e.jsxs(pt,{columns:{base:1,md:4},spacing:4,mb:6,children:[e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Articles totaux"}),e.jsx(bt,{children:Se.totalItems}),e.jsxs(so,{children:[e.jsx(Ex,{style:{display:"inline",marginRight:"4px"}}),"Articles rfrencs"]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Quantit totale"}),e.jsx(bt,{children:Se.totalQuantity}),e.jsxs(so,{children:[e.jsx(yK,{style:{display:"inline",marginRight:"4px"}}),"Units en stock"]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Stock bas"}),e.jsx(bt,{color:"orange.500",children:Se.lowStockCount}),e.jsxs(so,{children:[e.jsx(mK,{style:{display:"inline",marginRight:"4px"}})," rapprovisionner"]})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Ruptures"}),e.jsx(bt,{color:"red.500",children:Se.outOfStockCount}),e.jsxs(so,{children:[e.jsx(ea,{style:{display:"inline",marginRight:"4px"}}),"Stock puis"]})]})})})]}),e.jsx($e,{mb:6,children:e.jsx(Be,{children:e.jsxs(re,{spacing:4,wrap:"wrap",children:[e.jsx(xe,{placeholder:"Rechercher...",value:d.search,onChange:B=>m(ie=>({...ie,search:B.target.value})),maxW:"300px"}),e.jsxs(st,{value:d.category,onChange:B=>m(ie=>({...ie,category:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Toutes catgories"}),Object.entries(tb).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))]}),e.jsxs(st,{value:d.status,onChange:B=>m(ie=>({...ie,status:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(FA).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))]}),e.jsx(ne,{variant:d.lowStock?"solid":"outline",colorScheme:"orange",onClick:()=>m(B=>({...B,lowStock:!B.lowStock})),children:"Stock bas uniquement"})]})})}),e.jsx($e,{children:e.jsx(Be,{children:e.jsxs(br,{variant:"simple",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Rfrence"}),e.jsx(Ie,{children:"Nom"}),e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{children:"Quantit"}),e.jsx(Ie,{children:"Unit"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Emplacement"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:l?e.jsx(Ft,{children:e.jsx(Ne,{colSpan:8,textAlign:"center",children:"Chargement..."})}):t.length===0?e.jsx(Ft,{children:e.jsx(Ne,{colSpan:8,textAlign:"center",children:"Aucun article trouv"})}):t.map(B=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:B.reference||"-"}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"medium",children:B.name}),B.description&&e.jsx(R,{fontSize:"sm",color:"gray.600",noOfLines:1,children:B.description})]})}),e.jsx(Ne,{children:tb[B.category]}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{color:B.quantity<=B.minQuantity?"red.500":"inherit",fontWeight:B.quantity<=B.minQuantity?"bold":"normal",children:B.quantity}),B.minQuantity>0&&e.jsxs(R,{fontSize:"xs",color:"gray.500",children:["Min: ",B.minQuantity]})]})}),e.jsx(Ne,{children:nb[B.unit]}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:hJ[B.status],children:FA[B.status]})}),e.jsx(Ne,{children:B.location||"-"}),e.jsx(Ne,{children:e.jsxs(re,{spacing:2,children:[e.jsx(ut,{icon:e.jsx(SK,{}),size:"sm",variant:"outline",onClick:()=>Pe(B),"aria-label":"Modifier"}),e.jsx(ut,{icon:e.jsx(gK,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:()=>H(B),"aria-label":"Mouvement de stock"}),e.jsx(ut,{icon:e.jsx(gr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>W(B),"aria-label":"Supprimer"})]})})]},B.id))})]})})}),e.jsxs(Et,{isOpen:z,onClose:k,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:p?"Modifier l'article":"Nouvel article"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Rfrence"}),e.jsx(xe,{value:x.reference,onChange:B=>j(ie=>({...ie,reference:B.target.value})),placeholder:"REF-001"})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:x.name,onChange:B=>j(ie=>({...ie,name:B.target.value})),placeholder:"Nom de l'article"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:x.description,onChange:B=>j(ie=>({...ie,description:B.target.value})),placeholder:"Description dtaille"})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Catgorie"}),e.jsx(st,{value:x.category,onChange:B=>j(ie=>({...ie,category:B.target.value})),children:Object.entries(tb).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Sous-catgorie"}),e.jsx(xe,{value:x.subcategory,onChange:B=>j(ie=>({...ie,subcategory:B.target.value})),placeholder:"Sous-catgorie"})]})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Quantit"}),e.jsx(Yn,{value:x.quantity,onChange:B=>j(ie=>({...ie,quantity:parseInt(B)||0})),children:e.jsx(Xn,{})})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Quantit minimale"}),e.jsx(Yn,{value:x.minQuantity,onChange:B=>j(ie=>({...ie,minQuantity:parseInt(B)||0})),children:e.jsx(Xn,{})})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Unit"}),e.jsx(st,{value:x.unit,onChange:B=>j(ie=>({...ie,unit:B.target.value})),children:Object.entries(nb).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))})]})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Emplacement"}),e.jsx(xe,{value:x.location,onChange:B=>j(ie=>({...ie,location:B.target.value})),placeholder:"tagre A1, Atelier..."})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Fournisseur"}),e.jsx(xe,{value:x.supplier,onChange:B=>j(ie=>({...ie,supplier:B.target.value})),placeholder:"Nom du fournisseur"})]})]}),e.jsxs(re,{spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Prix d'achat ()"}),e.jsx(Yn,{value:x.purchasePrice,onChange:B=>j(ie=>({...ie,purchasePrice:B})),precision:2,children:e.jsx(Xn,{})})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Prix de vente ()"}),e.jsx(Yn,{value:x.salePrice,onChange:B=>j(ie=>({...ie,salePrice:B})),precision:2,children:e.jsx(Xn,{})})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes"}),e.jsx(Zt,{value:x.notes,onChange:B=>j(ie=>({...ie,notes:B.target.value})),placeholder:"Notes diverses"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:k,children:"Annuler"}),e.jsx(ne,{colorScheme:"teal",onClick:me,children:p?"Modifier":"Crer"})]})]})]}),e.jsxs(Et,{isOpen:I,onClose:F,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsxs(Tt,{children:["Mouvement de stock - ",_?.name]}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Type de mouvement"}),e.jsxs(st,{value:S.type,onChange:B=>C(ie=>({...ie,type:B.target.value})),children:[e.jsx("option",{value:"IN",children:"Entre (IN)"}),e.jsx("option",{value:"OUT",children:"Sortie (OUT)"}),e.jsx("option",{value:"ADJUSTMENT",children:"Correction (ADJUSTMENT)"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Quantit"}),e.jsx(Yn,{value:S.quantity,onChange:B=>C(ie=>({...ie,quantity:parseInt(B)||1})),children:e.jsx(Xn,{})}),_&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Stock actuel: ",_.quantity," ",nb[_.unit]]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Raison"}),e.jsx(xe,{value:S.reason,onChange:B=>C(ie=>({...ie,reason:B.target.value})),placeholder:"Achat, utilisation, correction..."})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes"}),e.jsx(Zt,{value:S.notes,onChange:B=>C(ie=>({...ie,notes:B.target.value})),placeholder:"Notes sur ce mouvement"})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:F,children:"Annuler"}),e.jsx(ne,{colorScheme:"teal",onClick:Z,children:"Enregistrer"})]})]})]}),e.jsx(cY,{isOpen:Y,onClose:ce,leastDestructiveRef:fn.useRef(),children:e.jsx(kt,{children:e.jsxs(uY,{children:[e.jsx(Tt,{children:"Confirmer la suppression"}),e.jsxs(At,{children:[`tes-vous sr de vouloir supprimer l'article "`,_?.name,'" ? Cette action est irrversible.']}),e.jsxs(Vt,{children:[e.jsx(ne,{onClick:ce,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:G,ml:3,children:"Supprimer"})]})]})})})]})}const rb={info:{label:"Information",color:"blue",icon:QQ},warning:{label:"Attention",color:"orange",icon:IA},success:{label:"Succs",color:"green",icon:YQ},error:{label:"Erreur",color:"red",icon:IA}};function pJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!0),[l,u]=y.useState(null),[d,m]=y.useState({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),{isOpen:p,onOpen:g,onClose:x}=Dt(),j=wn(),S=Sr("white","gray.700"),C=Sr("gray.200","gray.600"),_=async()=>{try{i(!0);const F=await mt.get("/flashes");F.data&&Array.isArray(F.data)?n(F.data):(console.warn("Rponse inattendue de l'API:",F.data),n([]))}catch(F){console.error("Erreur lors du chargement des flashs:",F),n([]),j({title:"Erreur",description:"Impossible de charger les flashs",status:"error",duration:3e3,isClosable:!0})}finally{i(!1)}};y.useEffect(()=>{_()},[]);const A=()=>{m({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),u(null)},T=()=>{A(),g()},z=F=>{u(F),m({content:F.content||"",type:F.type||"info",active:F.active!==void 0?F.active:!0,showOnExternal:F.showOnExternal||!1,expiresAt:F.expiresAt?new Date(F.expiresAt).toISOString().slice(0,16):""}),g()},P=async()=>{try{if(!d.content.trim()){j({title:"Erreur de validation",description:"Le contenu du flash est requis",status:"error",duration:3e3,isClosable:!0});return}const F={...d,expiresAt:d.expiresAt||null};l?(await mt.put(`/flashes/${l.id}`,F),j({title:"Succs",description:"Flash mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await mt.post("/flashes",F),j({title:"Succs",description:"Flash cr avec succs",status:"success",duration:3e3,isClosable:!0})),_(),x()}catch(F){console.error("Erreur lors de la sauvegarde:",F),j({title:"Erreur",description:"Impossible de sauvegarder le flash",status:"error",duration:3e3,isClosable:!0})}},k=async F=>{try{await mt.patch(`/flashes/${F.id}/toggle`),j({title:"Succs",description:`Flash ${F.active?"dsactiv":"activ"}`,status:"success",duration:2e3,isClosable:!0}),_()}catch(Y){console.error("Erreur lors du toggle:",Y),j({title:"Erreur",description:"Impossible de modifier le statut",status:"error",duration:3e3,isClosable:!0})}},I=async F=>{if(window.confirm("tes-vous sr de vouloir supprimer ce flash ?"))try{await mt.delete(`/flashes/${F}`),j({title:"Succs",description:"Flash supprim avec succs",status:"success",duration:3e3,isClosable:!0}),_()}catch(Y){console.error("Erreur lors de la suppression:",Y),j({title:"Erreur",description:"Impossible de supprimer le flash",status:"error",duration:3e3,isClosable:!0})}},N=F=>F.expiresAt?new Date(F.expiresAt)<new Date:!1;return r?e.jsx(xn,{minH:"400px",children:e.jsxs(se,{children:[e.jsx(pn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(R,{children:"Chargement des flashs..."})]})}):e.jsxs(ue,{p:6,children:[e.jsxs(Qn,{mb:6,align:"center",children:[e.jsxs(re,{spacing:3,children:[e.jsx(Jy,{color:"var(--rbe-red)",size:24}),e.jsx(Me,{size:"lg",children:"Gestion des Flashs Info"})]}),e.jsx(kp,{}),e.jsx(ne,{leftIcon:e.jsx(oD,{}),colorScheme:"blue",onClick:T,children:"Nouveau Flash"})]}),e.jsxs(ho,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,mb:6,children:[e.jsx($e,{bg:S,borderWidth:1,borderColor:C,children:e.jsx(Be,{children:e.jsxs(re,{children:[e.jsx(Jy,{color:"blue"}),e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Total"}),e.jsx(R,{fontSize:"2xl",fontWeight:"bold",children:t.length})]})]})})}),e.jsx($e,{bg:S,borderWidth:1,borderColor:C,children:e.jsx(Be,{children:e.jsxs(re,{children:[e.jsx($A,{color:"green"}),e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Actifs"}),e.jsx(R,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:t.filter(F=>F.active&&!N(F)).length})]})]})})}),e.jsx($e,{bg:S,borderWidth:1,borderColor:C,children:e.jsx(Be,{children:e.jsxs(re,{children:[e.jsx(BA,{color:"purple"}),e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Sur l'externe"}),e.jsx(R,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:t.filter(F=>F.showOnExternal&&F.active&&!N(F)).length})]})]})})}),e.jsx($e,{bg:S,borderWidth:1,borderColor:C,children:e.jsx(Be,{children:e.jsxs(re,{children:[e.jsx(XQ,{color:"orange"}),e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Expirs"}),e.jsx(R,{fontSize:"2xl",fontWeight:"bold",color:"orange.500",children:t.filter(F=>N(F)).length})]})]})})})]}),e.jsx(se,{spacing:4,align:"stretch",children:t.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucun flash trouv. Crez le premier !"]}):t.map(F=>{const Y=rb[F.type]||rb.info,q=Y.icon,ce=N(F);return e.jsxs($e,{bg:S,borderWidth:1,borderColor:F.active&&!ce?`${Y.color}.200`:"gray.300",opacity:F.active&&!ce?1:.6,children:[e.jsx(Nt,{children:e.jsxs(Qn,{align:"center",children:[e.jsxs(re,{spacing:3,flex:1,children:[e.jsx(q,{color:`var(--chakra-colors-${Y.color}-500)`}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsxs(re,{spacing:2,children:[e.jsx(et,{colorScheme:Y.color,children:Y.label}),F.active?e.jsx(et,{colorScheme:"green",children:"Actif"}):e.jsx(et,{colorScheme:"gray",children:"Inactif"}),F.showOnExternal&&e.jsx(et,{colorScheme:"purple",leftIcon:e.jsx(BA,{}),children:"Externe"}),ce&&e.jsx(et,{colorScheme:"red",children:"Expir"})]}),e.jsxs(R,{fontSize:"sm",color:"gray.600",children:["Cr le ",new Date(F.createdAt).toLocaleDateString("fr-FR"),F.expiresAt&&e.jsxs(e.Fragment,{children:["  Expire le ",new Date(F.expiresAt).toLocaleDateString("fr-FR")]})]})]})]}),e.jsxs(re,{spacing:1,children:[e.jsx(Zs,{label:F.active?"Dsactiver":"Activer",children:e.jsx(ut,{icon:F.active?e.jsx(KQ,{}):e.jsx($A,{}),size:"sm",colorScheme:F.active?"orange":"green",variant:"ghost",onClick:()=>k(F)})}),e.jsx(Zs,{label:"Modifier",children:e.jsx(ut,{icon:e.jsx(iD,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>z(F)})}),e.jsx(Zs,{label:"Supprimer",children:e.jsx(ut,{icon:e.jsx(aD,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>I(F.id)})})]})]})}),e.jsx(Be,{pt:0,children:e.jsx(R,{children:F.content})})]},F.id)})}),e.jsxs(Et,{isOpen:p,onClose:x,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:e.jsxs(re,{children:[e.jsx(Jy,{}),e.jsx(R,{children:l?"Modifier le flash":"Nouveau flash"})]})}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Type"}),e.jsx(st,{value:d.type,onChange:F=>m(Y=>({...Y,type:F.target.value})),children:Object.entries(rb).map(([F,Y])=>e.jsx("option",{value:F,children:Y.label},F))})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Contenu du message"}),e.jsx(Zt,{value:d.content,onChange:F=>m(Y=>({...Y,content:F.target.value})),placeholder:"Message  afficher...",rows:4})]}),e.jsxs(ho,{templateColumns:"1fr 1fr",gap:4,width:"100%",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Statut"}),e.jsxs(re,{children:[e.jsx(jr,{isChecked:d.active,onChange:F=>m(Y=>({...Y,active:F.target.checked}))}),e.jsx(R,{children:d.active?"Actif":"Inactif"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Afficher sur l'externe"}),e.jsxs(re,{children:[e.jsx(jr,{isChecked:d.showOnExternal,onChange:F=>m(Y=>({...Y,showOnExternal:F.target.checked}))}),e.jsx(R,{children:d.showOnExternal?"Oui":"Non"})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date d'expiration (optionnelle)"}),e.jsx(xe,{type:"datetime-local",value:d.expiresAt,onChange:F=>m(Y=>({...Y,expiresAt:F.target.value}))}),e.jsx(R,{fontSize:"sm",color:"gray.500",mt:1,children:"Laissez vide pour un flash permanent"})]}),d.showOnExternal&&e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Ce flash sera visible sur le site public externe"]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:P,children:l?"Mettre  jour":"Crer"})]})]})]})]})}const lu="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),mJ={PENDING:{label:"En attente",color:"yellow",progress:25},ACTIVE:{label:"Actif",color:"green",progress:100},EXPIRED:{label:"Expir",color:"red",progress:0},SUSPENDED:{label:"Suspendu",color:"orange",progress:50}},sb={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},ib={CASH:"Espces",CHECK:"Chque",BANK_TRANSFER:"Virement",CARD:"Carte bancaire",PAYPAL:"PayPal",HELLOASSO:"HelloAsso"};function gJ(){const{user:t,member:n,memberLoading:r,memberError:i,memberApiBase:l,refreshMember:u}=_s(),[d,m]=y.useState(null),[p,g]=y.useState(!0),[x,j]=y.useState(null),[S,C]=y.useState(null),[_,A]=y.useState(!1),[T,z]=y.useState({}),[P,k]=y.useState([]),[I,N]=y.useState(!1),[F,Y]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{isOpen:q,onOpen:ce,onClose:de}=Dt(),{isOpen:le,onOpen:ve,onClose:Pe}=Dt(),{isOpen:me,onOpen:G,onClose:Z}=Dt(),[H,W]=y.useState({reason:"",notes:"",pv:null,resignation:null}),[Se,B]=y.useState(!1),[ie,pe]=y.useState([]),[$,V]=y.useState(""),M=wn();y.useEffect(()=>{u()},[]),y.useEffect(()=>{m(n||null),g(r),j(i),C(l||null)},[n,r,i,l]),y.useEffect(()=>{d&&d.id?Ae():k([])},[d?.id]);const Q=async()=>{await u(!0)},Ee=()=>{A(!0),z({...d})},Le=async()=>{try{if(!T.firstName||!T.lastName)throw new Error("Prnom et nom requis");const Ue=[S??"",lu||""];let rt=null;for(const Ye of Ue)try{const gt=await fetch(`${Ye}/api/members/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(T)});if(gt.ok){rt=gt;break}}catch{}if(!rt)throw new Error("Erreur de sauvegarde");const Mt=await rt.json();m(Mt),A(!1),M({status:"success",title:"Profil mis  jour",description:"Vos informations ont t sauvegardes",duration:3e3})}catch(Ue){M({status:"error",title:"Erreur",description:Ue.message,duration:5e3})}},Ae=async()=>{try{N(!0);const Ue=[S??"",lu||""];let rt=!1;for(const Mt of Ue)try{const Ye=await fetch(`${Mt}/api/members/me/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ye.ok){const gt=await Ye.json();k(gt?.documents||[]),rt=!0;break}}catch{}if(!rt)throw new Error("Chargement des documents impossible")}catch(Ue){console.error("Docs error",Ue),k([])}finally{N(!1)}},it=async Ue=>{try{const rt=[S??"",lu||""];let Mt=null;for(const qe of rt)try{const wt=await fetch(`${qe}/api/documents/${Ue.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(wt.ok){Mt=wt;break}}catch{}if(!Mt)throw new Error("Tlchargement impossible");const Ye=await Mt.blob(),gt=URL.createObjectURL(Ye),Pn=document.createElement("a");Pn.href=gt,Pn.download=Ue.fileName||"document",document.body.appendChild(Pn),Pn.click(),Pn.remove(),URL.revokeObjectURL(gt)}catch(rt){M({status:"error",title:"Erreur",description:rt.message})}},ct=()=>{A(!1),z({...d})},Je=async()=>{if(F.newPassword!==F.confirmPassword){M({status:"error",title:"Erreur",description:"Les mots de passe ne correspondent pas",duration:3e3});return}if(F.newPassword.length<6){M({status:"error",title:"Erreur",description:"Le mot de passe doit faire au moins 6 caractres",duration:3e3});return}try{const Ue=await fetch(`${lu}/api/members/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({currentPassword:F.currentPassword,newPassword:F.newPassword})});if(!Ue.ok){const rt=await Ue.json();throw new Error(rt.error||"Erreur de changement de mot de passe")}M({status:"success",title:"Mot de passe modifi",description:"Votre mot de passe a t mis  jour avec succs",duration:3e3}),Y({currentPassword:"",newPassword:"",confirmPassword:""}),de()}catch(Ue){M({status:"error",title:"Erreur",description:Ue.message,duration:5e3})}};if(p)return e.jsx(xn,{h:"400px",children:e.jsx(pn,{size:"xl"})});const zt=Ue=>{try{const rt=typeof Ue=="string"?new Date(Ue):Ue;return rt?rt.toLocaleDateString("fr-FR"):"-"}catch{return"-"}},Ve=(Ue,rt)=>{const Mt=new Date(Ue.getTime());return Mt.setFullYear(Mt.getFullYear()+rt),Mt},$t=(Ue,rt)=>Math.ceil((rt.getTime()-Ue.getTime())/(1e3*60*60*24)),be=d?.membershipStartDate?new Date(d.membershipStartDate):null,Ze=d?.membershipEndDate?new Date(d.membershipEndDate):null,Ot=be?Ve(be,1):null,ae=Ze||Ot,ge=new Date,nt=ae?ae<ge:!1,Pt=ae?$t(ge,ae):null,kn=Ue=>{switch(Ue){case"ACTIVE":return"green";case"PENDING":return"orange";case"EXPIRED":return"red";case"SUSPENDED":return"gray";default:return"gray"}},ar=mJ[d?.membershipStatus]||{label:d?.membershipStatus||"Non dfini",progress:0};return e.jsxs(ue,{p:6,maxW:"4xl",mx:"auto",children:[e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(Me,{size:"lg",display:"flex",alignItems:"center",children:[e.jsx(Gy,{style:{marginRight:"8px"}}),"Mon Adhsion"]}),_?e.jsxs(re,{children:[e.jsx(ne,{leftIcon:e.jsx(ku,{}),colorScheme:"green",onClick:Le,children:"Sauvegarder"}),e.jsx(ne,{leftIcon:e.jsx(Mp,{}),variant:"outline",onClick:ct,children:"Annuler"})]}):e.jsx(ne,{leftIcon:e.jsx(Ls,{}),onClick:Ee,children:"Modifier"})]}),!d&&e.jsxs(sn,{status:"warning",children:[e.jsx(on,{}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:"Profil adhrent introuvable"}),e.jsx(R,{fontSize:"sm",children:x===401?"Vous ntes pas autoris. Veuillez vous reconnecter.":x===404?"Votre profil nest pas encore li. Si vous venez de raliser une liaison, actualisez la page ou reconnectez-vous. Sinon, merci de contacter un administrateur pour lassocier depuis la Gestion des Adhrents.":x===500?"Erreur serveur lors de la rcupration du profil.":x==="network-error"?"Impossible de joindre lAPI. Rseau ou CORS ? Essayez  nouveau.":"Votre profil n'est pas encore li. Merci de contacter un administrateur pour l'associer depuis la Gestion des Adhrents."}),e.jsxs(re,{mt:3,children:[e.jsx(ne,{size:"sm",onClick:Q,children:"Ressayer"}),(t?.roles||[]).map(Mt=>String(Mt).toUpperCase()).some(Mt=>["ADMIN","PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(Mt))?e.jsx(ne,{size:"sm",variant:"outline",onClick:async()=>{try{B(!0);const Mt=[S??"",lu||""];let Ye=null;for(const gt of Mt)try{const Pn=await fetch(`${gt}/api/members?limit=500`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Pn.ok){Ye=await Pn.json();break}}catch{}pe(Ye?.members||[]),G()}finally{B(!1)}},isLoading:Se,children:"Associer mon compte"}):null]})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(sa,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(ia,{children:[e.jsx(ln,{children:"Informations personnelles"}),e.jsx(ln,{children:"Informations Adhrent"}),e.jsx(ln,{children:"Documents d'adhsions"})]}),e.jsxs(oa,{children:[e.jsx(cn,{px:0,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Informations personnelles"})}),e.jsx(Be,{children:e.jsx(se,{spacing:4,align:"stretch",children:_?e.jsxs(e.Fragment,{children:[e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Prnom"}),e.jsx(xe,{value:T.firstName||"",onChange:Ue=>z(rt=>({...rt,firstName:Ue.target.value}))})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:T.lastName||"",onChange:Ue=>z(rt=>({...rt,lastName:Ue.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Email"}),e.jsx(xe,{type:"email",value:T.email||"",onChange:Ue=>z(rt=>({...rt,email:Ue.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Tlphone"}),e.jsx(xe,{value:T.phone||"",onChange:Ue=>z(rt=>({...rt,phone:Ue.target.value}))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Adresse"}),e.jsx(xe,{value:T.address||"",onChange:Ue=>z(rt=>({...rt,address:Ue.target.value}))})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Code postal"}),e.jsx(xe,{value:T.postalCode||"",onChange:Ue=>z(rt=>({...rt,postalCode:Ue.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Ville"}),e.jsx(xe,{value:T.city||"",onChange:Ue=>z(rt=>({...rt,city:Ue.target.value}))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date de naissance"}),e.jsx(xe,{type:"date",value:T.birthDate?T.birthDate.split("T")[0]:"",onChange:Ue=>z(rt=>({...rt,birthDate:Ue.target.value}))})]})]}):e.jsxs(pt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(ue,{children:[e.jsxs(re,{mb:4,children:[e.jsx(Gy,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Nom complet"}),e.jsxs(R,{fontWeight:"bold",children:[d.firstName," ",d.lastName]})]})]}),d.email&&e.jsxs(re,{mb:4,children:[e.jsx(Cc,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Email"}),e.jsx(R,{fontWeight:"bold",children:d.email})]})]}),d.phone&&e.jsxs(re,{mb:4,children:[e.jsx(NM,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Tlphone"}),e.jsx(R,{fontWeight:"bold",children:d.phone})]})]})]}),e.jsxs(ue,{children:[(d.address||d.city)&&e.jsxs(re,{mb:4,children:[e.jsx(vc,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Adresse"}),e.jsxs(R,{fontWeight:"bold",children:[d.address&&`${d.address}, `,d.postalCode," ",d.city]})]})]}),d.birthDate&&e.jsxs(re,{mb:4,children:[e.jsx(ui,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Date de naissance"}),e.jsx(R,{fontWeight:"bold",children:new Date(d.birthDate).toLocaleDateString("fr-FR")})]})]})]})]})})})]})}),e.jsx(cn,{px:0,children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Statut de l'Adhsion"})}),e.jsxs(Be,{children:[e.jsxs(pt,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:2,children:"Statut actuel"}),e.jsx(et,{colorScheme:kn(d.membershipStatus),fontSize:"md",p:2,children:ar.label}),e.jsx(xc,{value:ar.progress,colorScheme:kn(d.membershipStatus),mt:2,size:"sm"})]}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:2,children:"Type d'adhsion"}),e.jsx(R,{fontWeight:"bold",children:sb[d.membershipType]||d.membershipType})]}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:2,children:"Matricule"}),e.jsx(R,{fontWeight:"bold",color:"blue.600",children:d.matricule}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Utilis pour se connecter au site"})]}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:2,children:"Numro d'adhrent"}),e.jsx(R,{fontWeight:"bold",color:"purple.600",children:d.memberNumber}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:"Numro unique d'adhsion"})]})]}),e.jsx(zn,{my:4}),e.jsxs(pt,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:1,children:"Dbut d'adhsion"}),e.jsx(R,{fontWeight:"bold",children:be?zt(be):"-"})]}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:1,children:"Expiration prvue"}),e.jsx(R,{fontWeight:"bold",color:nt?"red.600":"gray.800",children:ae?zt(ae):"-"}),ae&&e.jsx(R,{fontSize:"xs",color:nt?"red.500":"gray.500",children:nt?"Adhsion expire":`${Pt} jour(s) restant(s)`})]}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",mb:1,children:"Dernier paiement"}),e.jsx(R,{fontWeight:"bold",children:be?zt(be):"-"}),d?.paymentAmount&&e.jsxs(R,{fontSize:"xs",color:"gray.600",children:[d.paymentAmount," (",ib[d.paymentMethod]||d.paymentMethod,")"]})]})]}),!nt&&Pt!==null&&Pt<=60&&e.jsxs(sn,{status:"warning",mt:4,borderRadius:"md",children:[e.jsx(on,{}),"Votre adhsion arrive  chance dans ",Pt," jour(s). Pensez  la renouveler."]}),nt&&e.jsxs(sn,{status:"error",mt:4,borderRadius:"md",children:[e.jsx(on,{}),"Votre adhsion est expire. Veuillez procder au renouvellement."]})]})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Dtails d'adhsion"})}),e.jsx(Be,{children:_?e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Type d'adhsion"}),e.jsx(st,{value:T.membershipType||"STANDARD",onChange:Ue=>z(rt=>({...rt,membershipType:Ue.target.value})),children:Object.entries(sb).map(([Ue,rt])=>e.jsx("option",{value:Ue,children:rt},Ue))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Montant cotisation ()"}),e.jsx(xe,{type:"number",value:T.paymentAmount||"",onChange:Ue=>z(rt=>({...rt,paymentAmount:Ue.target.value}))})]})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Mode de paiement"}),e.jsx(st,{value:T.paymentMethod||"CASH",onChange:Ue=>z(rt=>({...rt,paymentMethod:Ue.target.value})),children:Object.entries(ib).map(([Ue,rt])=>e.jsx("option",{value:Ue,children:rt},Ue))})]}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{htmlFor:"newsletter",mb:"0",children:"Newsletter"}),e.jsx(jr,{id:"newsletter",isChecked:T.newsletter,onChange:Ue=>z(rt=>({...rt,newsletter:Ue.target.checked}))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes"}),e.jsx(Zt,{value:T.notes||"",onChange:Ue=>z(rt=>({...rt,notes:Ue.target.value})),placeholder:"Notes personnelles..."})]})]}):e.jsxs(pt,{columns:{base:1,md:2},spacing:{base:4,md:6},children:[e.jsxs(ue,{children:[d.paymentAmount&&e.jsxs(re,{mb:4,children:[e.jsx(hj,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Cotisation"}),e.jsxs(R,{fontWeight:"bold",children:[d.paymentAmount," (",ib[d.paymentMethod]||d.paymentMethod,")"]})]})]}),e.jsxs(re,{mb:4,children:[e.jsx(Gy,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Type"}),e.jsx(R,{fontWeight:"bold",children:sb[d.membershipType]||d.membershipType})]})]}),be&&e.jsxs(re,{mb:4,children:[e.jsx(ui,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Dbut d'adhsion"}),e.jsx(R,{fontWeight:"bold",children:zt(be)})]})]})]}),e.jsxs(ue,{children:[e.jsxs(re,{mb:4,children:[e.jsx(Tu,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Matricule"}),e.jsx(R,{fontWeight:"bold",color:"blue.600",children:d.matricule})]})]}),e.jsxs(re,{mb:4,children:[e.jsx(Tu,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Numro d'adhrent"}),e.jsx(R,{fontWeight:"bold",color:"purple.600",children:d.memberNumber})]})]}),ae&&e.jsxs(re,{mb:4,children:[e.jsx(ui,{}),e.jsxs(ue,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Expiration prvue"}),e.jsx(R,{fontWeight:"bold",color:nt?"red.600":"gray.800",children:zt(ae)})]})]})]})]})})]})]})}),e.jsx(cn,{px:0,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Documents d'adhsions"})}),e.jsx(Be,{children:I?e.jsx(xn,{children:e.jsx(pn,{})}):P.length===0?e.jsx(R,{color:"gray.600",children:"Aucun document pour le moment."}):e.jsxs(br,{size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Fichier"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Ajout le"}),e.jsx(Ie,{children:"Expiration"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{})]})}),e.jsx(_r,{children:P.map(Ue=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:Ue.fileName}),e.jsx(Ne,{children:Ue.documentType||"-"}),e.jsx(Ne,{children:Ue.uploadedAt?new Date(Ue.uploadedAt).toLocaleString("fr-FR"):"-"}),e.jsx(Ne,{children:Ue.expiryDate?new Date(Ue.expiryDate).toLocaleDateString("fr-FR"):"-"}),e.jsx(Ne,{children:e.jsx(et,{children:Ue.status||"PENDING"})}),e.jsx(Ne,{textAlign:"right",children:e.jsx(ne,{size:"sm",leftIcon:e.jsx($a,{}),onClick:()=>it(Ue),children:"Tlcharger"})})]},Ue.id))})]})})]})})]})]}),!_&&e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Actions"})}),e.jsx(Be,{children:e.jsxs(re,{spacing:4,wrap:"wrap",children:[e.jsx(ne,{leftIcon:e.jsx(Tu,{}),onClick:ce,children:"Changer le mot de passe"}),e.jsx(ne,{leftIcon:e.jsx($a,{}),variant:"outline",children:"Tlcharger ma carte d'adhrent"}),(t?.roles||[]).map(Mt=>String(Mt).toUpperCase()).some(Mt=>["PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(Mt))&&e.jsx(ne,{colorScheme:"red",variant:"outline",onClick:ve,children:"Supprimer l'adhsion"})]})})]}),d.notes&&!_&&e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Notes"})}),e.jsx(Be,{children:e.jsx(R,{children:d.notes})})]})]})]}),e.jsxs(Et,{isOpen:q,onClose:de,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Changer le mot de passe"}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Mot de passe actuel"}),e.jsx(xe,{type:"password",value:F.currentPassword,onChange:Ue=>Y(rt=>({...rt,currentPassword:Ue.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Nouveau mot de passe"}),e.jsx(xe,{type:"password",value:F.newPassword,onChange:Ue=>Y(rt=>({...rt,newPassword:Ue.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Confirmer le nouveau mot de passe"}),e.jsx(xe,{type:"password",value:F.confirmPassword,onChange:Ue=>Y(rt=>({...rt,confirmPassword:Ue.target.value}))})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:de,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Je,children:"Modifier"})]})]})]}),e.jsxs(Et,{isOpen:le,onClose:Pe,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Supprimer l'adhsion"}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(sn,{status:"warning",children:[e.jsx(on,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Motif"}),e.jsxs(st,{value:H.reason,onChange:Ue=>W(rt=>({...rt,reason:Ue.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes (optionnel)"}),e.jsx(Zt,{value:H.notes,onChange:Ue=>W(rt=>({...rt,notes:Ue.target.value}))})]}),H.reason==="EXCLUSION"||H.reason==="DEMISSION"?e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Procs-verbal (PDF/Image)"}),e.jsx(xe,{type:"file",accept:"application/pdf,image/*",onChange:Ue=>W(rt=>({...rt,pv:Ue.target.files?.[0]||null}))})]}):null,H.reason==="DEMISSION"?e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(xe,{type:"file",accept:"application/pdf,image/*",onChange:Ue=>W(rt=>({...rt,resignation:Ue.target.files?.[0]||null}))})]}):null]})}),e.jsx(Vt,{children:e.jsxs(re,{children:[e.jsx(ne,{variant:"ghost",onClick:Pe,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:async()=>{try{if(!H.reason){M({title:"Motif requis",status:"error"});return}if(H.reason==="EXCLUSION"&&!H.pv){M({title:"PV obligatoire",status:"error"});return}if(H.reason==="DEMISSION"&&(!H.pv||!H.resignation)){M({title:"PV et lettre requis",status:"error"});return}const Ue=new FormData;Ue.append("reason",H.reason),H.notes&&Ue.append("notes",H.notes),H.pv&&Ue.append("pv",H.pv),H.resignation&&Ue.append("resignation",H.resignation);let rt=null,Mt=null;for(const Ye of[S??"",lu||""])try{const gt=await fetch(`${Ye}/api/members/${d?.id}/terminate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Ue});if(gt.ok){rt=gt,Mt=await gt.json();break}else Mt=await gt.json().catch(()=>({}))}catch{}if(!rt)throw new Error(Mt?.error||"Erreur de suppression");M({title:"Adhsion supprime",status:"success",duration:3e3}),Pe(),Q()}catch(Ue){M({title:"Erreur",description:Ue.message,status:"error"})}},children:"Confirmer"})]})})]})]}),e.jsxs(Et,{isOpen:me,onClose:Z,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Associer mon compte  un adhrent"}),e.jsx(At,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Slectionnez ladhrent correspondant  votre compte afin dactiver la page Mon Adhsion."}),e.jsxs(te,{children:[e.jsx(ee,{children:"Adhrent"}),e.jsx(st,{value:$,onChange:Ue=>V(Ue.target.value),placeholder:"Choisir",children:ie.map(Ue=>e.jsxs("option",{value:Ue.id,children:[Ue.lastName?.toUpperCase()," ",Ue.firstName,"  ",Ue.email," ",Ue.memberNumber?`(${Ue.memberNumber})`:""]},Ue.id))})]})]})}),e.jsx(Vt,{children:e.jsxs(re,{children:[e.jsx(ne,{variant:"ghost",onClick:Z,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",isDisabled:!$,onClick:async()=>{try{B(!0);let Ue=!1,rt=null;for(const Mt of[S??"",lu||""])try{const Ye=await fetch(`${Mt}/api/members/${$}/link-access`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:(t?.username||"").toLowerCase()})}),gt=await Ye.json().catch(()=>({}));if(Ye.ok){Ue=!0;break}else rt=gt?.error||"Erreur de liaison"}catch{}if(!Ue)throw new Error(rt||"Erreur de liaison");M({status:"success",title:"Compte associ"}),Z(),await u(!0)}catch(Ue){M({status:"error",title:"chec",description:Ue.message})}finally{B(!1)}},children:"Associer"})]})})]})]})]})}const cD={"w.belaidi":{password:"Waiyl9134#",prenom:"Waiyl",nom:"BELAIDI",roles:["ADMIN"]},"m.ravichandran":{password:"RBE2025",prenom:"Mthusan",nom:"RAVICHANDRAN",roles:["MEMBER"]},"g.champenois":{password:"RBE2026",prenom:"Galle",nom:"CHAMPENOIS",roles:["MEMBER"]},"n.tetillon":{password:"RBE185C",prenom:"Nathan",nom:"TETILLON",roles:["MEMBER"]}};async function xJ(t,n){const i=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/login`;try{const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=cD[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}async function vJ(t,n){const i=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/member-login`;try{const d=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=cD[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}const yJ="/univers_rbe.png";function bJ(){const[t,n]=y.useState(""),[r,i]=y.useState(""),[l,u]=y.useState(""),[d,m]=y.useState(!1),p=Va(),{setToken:g,setUser:x}=_s(),j=Sr("rbe.500","rbe.300"),S=Sr("gray.100","gray.700"),C=async()=>{if(!t.trim()||!r.trim()){u("Champs requis.");return}m(!0),u("");try{const A=t.trim(),z=/^\d{4}-\d{3}$/i.test(A)||A.includes("@")?await vJ(A,r):await xJ(A.toLowerCase(),r);g(z.token),x(z.user),p("/dashboard")}catch(A){u(A.message)}finally{m(!1)}},_=A=>A.key==="Enter"&&C();return e.jsxs(ue,{minH:"100vh",bg:"white",overflowX:"hidden",children:[e.jsx(ue,{as:"header",w:"100%",bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:e.jsx(ue,{maxW:"2000px",mx:"auto",children:e.jsx(Di,{src:yJ,alt:"Bannire Intranet",w:"100%",h:{base:"100px",md:"200px",lg:"300px"},objectFit:"cover",fallbackSrc:"https://via.placeholder.com/2000x600?text=Intranet+Banner"})})}),e.jsx(ue,{as:"main",px:4,pb:12,children:e.jsx(ue,{maxW:"xs",w:"full",mx:"auto",mt:{base:-12,md:-20},position:"relative",children:e.jsxs(se,{spacing:3,bg:"white",p:6,borderRadius:"md",shadow:"xl",border:"1px solid",borderColor:S,borderTop:"4px solid",borderTopColor:"rbe.500",children:[e.jsx(R,{fontSize:"xl",fontWeight:"bold",textAlign:"center",children:"Connexion Intranet"}),e.jsx(R,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Accs rserv aux membres et bnvoles"}),l&&e.jsx(R,{color:"red.500",textAlign:"center",children:l}),e.jsx(xe,{size:"sm",placeholder:"Identifiant",value:t,onChange:A=>n(A.target.value),onKeyDown:_,_focus:{borderColor:j,boxShadow:`0 0 0 1px ${j}`}}),e.jsx(xe,{size:"sm",placeholder:"Mot de passe",type:"password",value:r,onChange:A=>i(A.target.value),onKeyDown:_,_focus:{borderColor:j,boxShadow:`0 0 0 1px ${j}`}}),e.jsx(ne,{size:"sm",colorScheme:"rbe",w:"full",onClick:C,isLoading:d,loadingText:"Connexion...",children:"Se connecter"})]})})})]})}function jJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!1),[l,u]=y.useState(!1),[d,m]=y.useState(""),[p,g]=y.useState("CONFIRMED"),[x,j]=y.useState(!1),[S,C]=y.useState({total:0,confirmed:0,pending:0}),[_,A]=y.useState(null),[T,z]=y.useState("ALL"),P=wn(),{token:k,isAuthenticated:I}=_s(),N=Va(),{isOpen:F,onOpen:Y,onClose:q}=Dt(),ce=y.useCallback(async(Z={manual:!1})=>{if(!k){console.log("[Newsletter] Waiting for token...");return}i(!0),j(!1);try{console.log("[Newsletter] Fetching subscribers...");const H=await Rg.getAll();console.log("[Newsletter] Received:",H),n(Array.isArray(H)?H:[]);const W=H.length,Se=H.filter(ie=>ie.status==="CONFIRMED").length,B=H.filter(ie=>ie.status==="PENDING").length;C({total:W,confirmed:Se,pending:B})}catch(H){if(console.error("[Newsletter] fetch error:",H),H.status===401){P({status:"error",title:"Session expire",description:"Veuillez vous reconnecter"}),n([]);return}j(!0),Z.manual||P({status:"warning",title:"Mode dgrad",description:"Affichage de donnes de dmonstration (chec API)"}),n([{id:"demo1",email:"demo@example.com",status:"CONFIRMED",createdAt:new Date().toISOString()},{id:"demo2",email:"test@rbe.fr",status:"PENDING",createdAt:new Date().toISOString()}]),C({total:2,confirmed:1,pending:1})}finally{i(!1)}},[k,P]);y.useEffect(()=>{k&&ce()},[k,ce]);const de=async()=>{if(!d.includes("@")){P({status:"error",title:"Email invalide"});return}if(!k){P({status:"error",title:"Authentification requise"});return}u(!0);try{await Rg.create({email:d.trim().toLowerCase(),status:p}),P({status:"success",title:"Abonn ajout avec succs"}),m(""),g("CONFIRMED"),ce({manual:!0})}catch(Z){if(Z.status===401){P({status:"error",title:"Session expire"});return}if(Z.status===409){P({status:"info",title:"Email dj existant",description:"Cet email est dj dans la liste"});return}P({status:"error",title:"Erreur lors de l'ajout"})}finally{u(!1)}},le=async(Z,H)=>{if(confirm(`Supprimer l'abonn ${H} ?`)){if(!k){P({status:"error",title:"Authentification requise"});return}try{await Rg.delete(Z),P({status:"success",title:"Abonn supprim"}),n(W=>W.filter(Se=>Se.id!==Z)),C(W=>({...W,total:W.total-1,confirmed:W.confirmed-(t.find(Se=>Se.id===Z)?.status==="CONFIRMED"?1:0),pending:W.pending-(t.find(Se=>Se.id===Z)?.status==="PENDING"?1:0)}))}catch(W){if(W.status===401){P({status:"error",title:"Session expire"});return}P({status:"error",title:"Erreur lors de la suppression"})}}},ve=Z=>{A(Z),Y()},Pe=async Z=>{if(_)try{await Rg.updateStatus(_.id,Z),P({status:"success",title:"Statut mis  jour",description:`${_.email}  ${Z}`}),n(H=>H.map(W=>W.id===_.id?{...W,status:Z}:W)),q(),ce({manual:!0})}catch{P({status:"error",title:"Erreur lors de la mise  jour"})}},me=async()=>{try{P({status:"info",title:"Export en cours...",description:"Gnration du fichier CSV"});const Z=t.map(B=>({Email:B.email,Statut:B.status,"Date inscription":new Date(B.createdAt).toLocaleDateString("fr-FR")})),H=[Object.keys(Z[0]).join(";"),...Z.map(B=>Object.values(B).join(";"))].join(`
`),W=new Blob([H],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a");Se.href=URL.createObjectURL(W),Se.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,Se.click(),P({status:"success",title:"Export termin"})}catch{P({status:"error",title:"Erreur lors de l'export"})}},G=T==="ALL"?t:t.filter(Z=>Z.status===T);return I?e.jsx(ue,{p:6,children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"lg",children:" Gestion Newsletter"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Grez les abonnements  la newsletter RtroBus Essonne"})]}),e.jsxs(re,{children:[e.jsx(ne,{leftIcon:e.jsx(ea,{}),size:"sm",variant:"outline",onClick:()=>ce({manual:!0}),isLoading:r,children:"Rafrachir"}),e.jsx(ne,{leftIcon:e.jsx($a,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:me,isDisabled:t.length===0,children:"Exporter CSV"}),e.jsx(ne,{leftIcon:e.jsx(Cc,{}),size:"sm",colorScheme:"blue",onClick:()=>N("/dashboard/newsletter-campaigns"),title:"Grer les campagnes de mailing",children:"Campagnes"})]})]}),e.jsxs(g1,{children:[e.jsxs(vt,{children:[e.jsx(yt,{children:"Total abonns"}),e.jsx(bt,{color:"blue.500",children:S.total})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Confirms"}),e.jsx(bt,{color:"green.500",children:S.confirmed})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"En attente"}),e.jsx(bt,{color:"orange.500",children:S.pending})]})]}),x&&e.jsxs(sn,{status:"warning",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"bold",children:"Mode dgrad"}),e.jsx(R,{fontSize:"sm",children:"Donnes de dmonstration affiches (API indisponible)"})]})]}),e.jsx(ue,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"gray.50",children:e.jsxs(se,{spacing:4,children:[e.jsx(Me,{size:"sm",children:" Ajouter un nouvel abonn"}),e.jsxs(re,{w:"100%",spacing:4,children:[e.jsxs(te,{flex:2,children:[e.jsx(ee,{fontSize:"sm",children:"Email"}),e.jsx(xe,{placeholder:"nouvel.abonne@email.com",value:d,onChange:Z=>m(Z.target.value),bg:"white"})]}),e.jsxs(te,{flex:1,children:[e.jsx(ee,{fontSize:"sm",children:"Statut"}),e.jsxs(st,{value:p,onChange:Z=>g(Z.target.value),bg:"white",children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"green",onClick:de,isLoading:l,alignSelf:"end",children:"Ajouter"})]})]})}),e.jsxs(re,{justify:"space-between",children:[e.jsxs(re,{children:[e.jsx(R,{fontSize:"sm",fontWeight:"medium",children:"Filtrer par statut :"}),e.jsxs(st,{size:"sm",value:T,onChange:Z=>z(Z.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous"}),e.jsx("option",{value:"CONFIRMED",children:"Confirms"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsxs(Iu,{size:"lg",variant:"subtle",colorScheme:"purple",children:[e.jsxs(Bu,{children:[e.jsx(oo,{style:{marginRight:"4px"}}),G.length," affich",G.length>1?"s":""]}),t.length>0&&e.jsx(x1,{title:"Vider la liste locale (ne supprime pas en base)",onClick:()=>{confirm("Vider la liste locale affiche ? (ne supprime pas en base)")&&(n([]),C({total:0,confirmed:0,pending:0}))}})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"lg",overflowX:"auto",children:r?e.jsx(xn,{py:10,children:e.jsxs(se,{children:[e.jsx(pn,{size:"lg",color:"blue.500"}),e.jsx(R,{color:"gray.600",children:"Chargement des abonns..."})]})}):e.jsxs(br,{size:"sm",children:[e.jsx(Er,{bg:"gray.50",children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Email"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Date d'inscription"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsxs(_r,{children:[G.map(Z=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Ne,{fontWeight:"semibold",maxW:"300px",isTruncated:!0,children:Z.email}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:Z.status==="CONFIRMED"?"green":"orange",variant:"subtle",fontSize:"xs",px:2,py:1,borderRadius:"md",cursor:"pointer",onClick:()=>ve(Z),_hover:{opacity:.8},title:"Cliquer pour modifier",children:Z.status==="CONFIRMED"?" Confirm":" En attente"})}),e.jsx(Ne,{fontSize:"sm",color:"gray.600",children:Z.createdAt?new Date(Z.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"-"}),e.jsx(Ne,{children:e.jsxs(re,{spacing:1,children:[e.jsx(ut,{"aria-label":"Modifier le statut",icon:e.jsx(Ls,{}),size:"xs",colorScheme:"blue",variant:"ghost",onClick:()=>ve(Z),title:"Modifier le statut"}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>le(Z.id,Z.email),title:"Supprimer cet abonn"})]})})]},Z.id)),G.length===0&&!r&&e.jsx(Ft,{children:e.jsx(Ne,{colSpan:4,children:e.jsx(xn,{py:8,children:e.jsxs(se,{children:[e.jsx(R,{fontSize:"lg",children:""}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:T==="ALL"?"Aucun abonn pour le moment.":`Aucun abonn avec le statut "${T}".`}),T!=="ALL"&&e.jsx(ne,{size:"sm",variant:"link",onClick:()=>z("ALL"),children:"Voir tous les abonns"})]})})})})]})]})}),e.jsx(ue,{mt:8,p:4,bg:"blue.50",borderRadius:"lg",children:e.jsxs(se,{align:"start",spacing:3,children:[e.jsx(Me,{size:"sm",color:"blue.700",children:" Feuille de route"}),e.jsxs(se,{align:"start",spacing:1,fontSize:"sm",color:"blue.600",children:[e.jsx(R,{children:" Ajout / suppression manuelle d'abonns"}),e.jsx(R,{children:" Gestion des statuts (confirm / en attente)"}),e.jsx(R,{children:" Export CSV des abonns"}),e.jsx(R,{children:" Statistiques en temps rel"}),e.jsx(R,{children:" Import CSV en masse"}),e.jsx(R,{children:" Double opt-in avec email de confirmation"}),e.jsx(R,{children:" Intgration service de mailing (Sendinblue, Mailjet...)"}),e.jsx(R,{children:" Templates d'emails personnalisables"}),e.jsx(R,{children:" Segmentation avance des abonns"})]})]})}),e.jsxs(Et,{isOpen:F,onClose:q,isCentered:!0,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Modifier le statut de l'abonn"}),e.jsx(It,{}),e.jsx(At,{children:_&&e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Email :"})," ",_.email]}),e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Statut actuel :"})," ",_.status]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Nouveau statut"}),e.jsxs(st,{defaultValue:_.status,onChange:Z=>A({..._,newStatus:Z.target.value}),children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:q,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:()=>Pe(_?.newStatus||_?.status),children:"Mettre  jour"})]})]})]})]})}):e.jsx(xn,{minH:"300px",children:e.jsxs(se,{children:[e.jsx(R,{children:"Veuillez vous connecter pour accder  la gestion newsletter."}),e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Cette section ncessite des droits d'administration."})]})})}const fc="https://attractive-kindness-rbe-serveurs.up.railway.app";function SJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!1),[l,u]=y.useState(null),[d,m]=y.useState(null),[p,g]=y.useState({title:"",subject:"",content:"",scheduledAt:""}),[x,j]=y.useState(""),[S,C]=y.useState(null),[_,A]=y.useState(null),[T,z]=y.useState({}),{token:P}=_s(),k=wn(),{isOpen:I,onOpen:N,onClose:F}=Dt(),{isOpen:Y,onOpen:q,onClose:ce}=Dt(),{isOpen:de,onOpen:le,onClose:ve}=Dt(),Pe=async()=>{i(!0);try{const pe=await fetch(`${fc}/newsletter/campaigns`,{headers:{Authorization:`Bearer ${P}`}});if(!pe.ok)throw new Error("Erreur chargement");const $=await pe.json();n($)}catch{k({status:"error",title:"Erreur",description:"Impossible de charger les campagnes"})}finally{i(!1)}};y.useEffect(()=>{P&&Pe()},[P]);const me=async()=>{if(!p.title||!p.subject||!p.content){k({status:"error",title:"Erreur",description:"Tous les champs sont requis"});return}try{if(!(await fetch(`${fc}/newsletter/campaigns`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(p)})).ok)throw new Error("Erreur cration");k({status:"success",title:"Succs",description:"Campagne cre avec succs"}),g({title:"",subject:"",content:"",scheduledAt:""}),F(),Pe()}catch{k({status:"error",title:"Erreur",description:"Impossible de crer la campagne"})}},G=async pe=>{try{const $=await fetch(`${fc}/newsletter/campaigns/${pe}/preview`,{headers:{Authorization:`Bearer ${P}`}});if(!$.ok)throw new Error("Erreur prvisualisation");const V=await $.json();m(pe),C(V),q()}catch{k({status:"error",title:"Erreur",description:"Impossible de prvisualiser"})}},Z=async pe=>{if(!x){k({status:"error",title:"Erreur",description:"Email de test requis"});return}try{if(!(await fetch(`${fc}/newsletter/campaigns/${pe}/test`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({email:x})})).ok)throw new Error("Erreur envoi test");k({status:"success",title:"Test envoy",description:`Email de test envoy  ${x}`}),j("")}catch{k({status:"error",title:"Erreur",description:"Impossible d'envoyer le test"})}},H=async pe=>{if(confirm("tes-vous sr de vouloir envoyer cette campagne ? Cette action est irrversible.")){A(pe);try{const $=await fetch(`${fc}/newsletter/campaigns/${pe}/prepare`,{method:"POST",headers:{Authorization:`Bearer ${P}`}});if(!$.ok)throw new Error("Erreur prparation");const V=await $.json();k({status:"info",title:"Prparation termine",description:`${V.preparedSends} emails prpars. Envoi en cours...`});const M=await fetch(`${fc}/newsletter/campaigns/${pe}/send`,{method:"POST",headers:{Authorization:`Bearer ${P}`}});if(!M.ok)throw new Error("Erreur envoi");const Q=await M.json();k({status:"success",title:"Envoi termin",description:`${Q.success} emails envoys avec succs, ${Q.errors} erreurs`}),Pe()}catch{k({status:"error",title:"Erreur",description:"Impossible d'envoyer la campagne"})}finally{A(null)}}},W=async pe=>{u(pe);try{const $=await fetch(`${fc}/newsletter/campaigns/${pe.id}/stats`,{headers:{Authorization:`Bearer ${P}`}});if(!$.ok)throw new Error("Erreur stats");const V=await $.json();z(V),le()}catch{k({status:"error",title:"Erreur",description:"Impossible de charger les statistiques"})}},Se=async(pe,$)=>{if(confirm(`Supprimer dfinitivement la campagne "${$}" ?`))try{if(!(await fetch(`${fc}/newsletter/campaigns/${pe}`,{method:"DELETE",headers:{Authorization:`Bearer ${P}`}})).ok)throw new Error("Erreur suppression");k({status:"success",title:"Supprim",description:"Campagne supprime avec succs"}),Pe()}catch{k({status:"error",title:"Erreur",description:"Impossible de supprimer la campagne"})}},B=pe=>{const $={DRAFT:{color:"gray",text:"Brouillon"},SENDING:{color:"blue",text:"En cours"},SENT:{color:"green",text:"Envoy"},CANCELLED:{color:"red",text:"Annul"}},V=$[pe]||$.DRAFT;return e.jsx(et,{colorScheme:V.color,children:V.text})},ie={event:{title:"Nouvel vnement",subject:" Nouveau vnement RtroBus Essonne !",content:`
        <h2> Nouvel vnement  ne pas manquer !</h2>
        <p>Chers passionns de vhicules d'poque,</p>
        <p>Nous avons le plaisir de vous annoncer un nouvel vnement organis par l'association RtroBus Essonne :</p>
        
        <h3> [Nom de l'vnement]</h3>
        <p><strong>Date :</strong> [Date]<br>
        <strong>Lieu :</strong> [Lieu]<br>
        <strong>Heure :</strong> [Heure]</p>
        
        <p>[Description de l'vnement]</p>
        
        <a href="#" class="button">S'inscrire  l'vnement</a>
        
        <p>Au plaisir de vous retrouver nombreux !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `},news:{title:"Actualits du parc",subject:" Actualits RtroBus Essonne",content:`
        <h2> Les dernires nouvelles de notre parc</h2>
        <p>Bonjour  tous,</p>
        <p>Voici les dernires actualits de l'association RtroBus Essonne :</p>
        
        <h3> Nouveau vhicule au parc</h3>
        <p>[Informations sur le nouveau vhicule]</p>
        
        <h3> Travaux de restauration</h3>
        <p>[Avancement des travaux]</p>
        
        <h3> Retour en images</h3>
        <p>[Galerie photos rcente]</p>
        
        <a href="#" class="button">Voir toutes les actualits</a>
        
        <p>Merci pour votre soutien !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `}};return e.jsxs(ue,{p:6,children:[e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"lg",children:" Campagnes Newsletter"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Crez et grez vos campagnes d'emailing"})]}),e.jsxs(re,{children:[e.jsx(ne,{leftIcon:e.jsx(ea,{}),onClick:Pe,isLoading:r,variant:"outline",size:"sm",children:"Actualiser"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:N,children:"Nouvelle campagne"})]})]}),e.jsx(ue,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:r?e.jsx(xn,{py:10,children:e.jsx(pn,{size:"lg"})}):t.length===0?e.jsx(xn,{py:10,children:e.jsxs(se,{children:[e.jsx(R,{fontSize:"lg",children:""}),e.jsx(R,{color:"gray.500",children:"Aucune campagne cre"}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",size:"sm",onClick:N,children:"Crer votre premire campagne"})]})}):e.jsxs(br,{children:[e.jsx(Er,{bg:"gray.50",children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Campagne"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Cre le"}),e.jsx(Ie,{children:"Abonns"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:t.map(pe=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"semibold",children:pe.title}),e.jsx(R,{fontSize:"sm",color:"gray.600",isTruncated:!0,maxW:"300px",children:pe.subject})]})}),e.jsx(Ne,{children:B(pe.status)}),e.jsx(Ne,{children:e.jsx(R,{fontSize:"sm",children:new Date(pe.createdAt).toLocaleDateString("fr-FR")})}),e.jsx(Ne,{children:e.jsx(R,{fontSize:"sm",children:pe.totalSent||pe._count?.sends||0})}),e.jsx(Ne,{children:e.jsxs(re,{spacing:1,children:[e.jsx(ut,{"aria-label":"Prvisualiser",icon:e.jsx(Rp,{}),size:"sm",variant:"ghost",onClick:()=>G(pe.id)}),pe.status==="DRAFT"&&e.jsxs(e.Fragment,{children:[e.jsx(ut,{"aria-label":"Envoyer",icon:e.jsx(RK,{}),size:"sm",colorScheme:"green",variant:"ghost",onClick:()=>H(pe.id),isLoading:_===pe.id}),e.jsx(ut,{"aria-label":"Supprimer",icon:e.jsx(gr,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>Se(pe.id,pe.title)})]}),pe.status==="SENT"&&e.jsx(ut,{"aria-label":"Statistiques",icon:e.jsx(vK,{}),size:"sm",colorScheme:"purple",variant:"ghost",onClick:()=>W(pe)})]})})]},pe.id))})]})})]}),e.jsxs(Et,{isOpen:I,onClose:F,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Tt,{children:" Nouvelle campagne newsletter"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Titre de la campagne"}),e.jsx(xe,{placeholder:"ex: Newsletter mensuelle octobre 2025",value:p.title,onChange:pe=>g($=>({...$,title:pe.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Sujet de l'email"}),e.jsx(xe,{placeholder:"ex:  Actualits RtroBus Essonne - Octobre 2025",value:p.subject,onChange:pe=>g($=>({...$,subject:pe.target.value}))})]}),e.jsx($P,{allowToggle:!0,w:"100%",children:e.jsxs(UP,{children:[e.jsxs(FP,{children:[e.jsx(ue,{flex:"1",textAlign:"left",children:" Utiliser un template prdfini"}),e.jsx(VP,{})]}),e.jsx(HP,{children:e.jsx(se,{spacing:2,children:Object.entries(ie).map(([pe,$])=>e.jsx(ne,{size:"sm",variant:"outline",w:"100%",onClick:()=>g(V=>({...V,title:$.title,subject:$.subject,content:$.content})),children:$.title},pe))})})]})}),e.jsxs(te,{children:[e.jsx(ee,{children:"Contenu de la newsletter (HTML)"}),e.jsx(Zt,{value:p.content,onChange:pe=>g($=>({...$,content:pe.target.value})),minH:"400px",fontFamily:"mono",fontSize:"sm",placeholder:"Entrez votre contenu HTML..."})]}),e.jsxs(sn,{status:"info",fontSize:"sm",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"semibold",children:" Conseils"}),e.jsx(R,{children:" Utilisez des titres avec <h2> et <h3>"}),e.jsx(R,{children:' Ajoutez des liens avec <a href="#" class="button">Texte</a>'}),e.jsx(R,{children:" Sparez les sections avec des paragraphes <p>"})]})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:F,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:me,children:"Crer la campagne"})]})]})]}),e.jsxs(Et,{isOpen:Y,onClose:ce,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",children:[e.jsx(Tt,{children:" Prvisualisation de la campagne"}),e.jsx(It,{}),e.jsx(At,{children:S&&e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Sujet"}),e.jsx(xx,{p:2,w:"100%",children:S.subject})]}),e.jsx(zn,{}),e.jsxs(se,{spacing:2,children:[e.jsx(R,{fontWeight:"semibold",children:"Aperu de l'email :"}),e.jsx(ue,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",h:"400px",w:"100%",overflow:"auto",children:e.jsx("iframe",{srcDoc:S.html,style:{width:"100%",height:"100%",border:"none"},title:"Prvisualisation email"})})]}),e.jsx(zn,{}),e.jsxs(te,{children:[e.jsx(ee,{children:"Envoyer un test  :"}),e.jsxs(re,{children:[e.jsx(xe,{placeholder:"votre-email@test.com",value:x,onChange:pe=>j(pe.target.value)}),e.jsx(ne,{leftIcon:e.jsx(Cc,{}),colorScheme:"orange",onClick:()=>Z(d),isDisabled:!x||!d,children:"Envoyer le test"})]})]})]})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:ce,children:"Fermer"})})]})]}),e.jsxs(Et,{isOpen:de,onClose:ve,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Statistiques de la campagne"}),e.jsx(It,{}),e.jsx(At,{children:l&&e.jsxs(se,{spacing:6,children:[e.jsxs(se,{align:"start",w:"100%",children:[e.jsx(R,{fontWeight:"semibold",children:l.title}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:l.subject}),e.jsxs(R,{fontSize:"sm",color:"gray.500",children:["Envoye le ",new Date(l.sentAt).toLocaleDateString("fr-FR")]})]}),e.jsxs(g1,{w:"100%",children:[e.jsxs(vt,{children:[e.jsx(yt,{children:"Envoys"}),e.jsx(bt,{color:"blue.500",children:T.sent||0})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"checs"}),e.jsx(bt,{color:"red.500",children:T.failed||0})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:"Ouvertures"}),e.jsx(bt,{color:"green.500",children:T.opened||0})]})]}),T.sent>0&&e.jsxs(ue,{w:"100%",children:[e.jsx(R,{fontSize:"sm",mb:2,children:"Taux de russite"}),e.jsx(xc,{value:T.sent/(T.sent+T.failed)*100,colorScheme:"green",size:"lg"}),e.jsxs(R,{fontSize:"xs",color:"gray.500",mt:1,children:[Math.round(T.sent/(T.sent+T.failed)*100),"% des emails ont t envoys avec succs"]})]})]})}),e.jsx(Vt,{children:e.jsx(ne,{onClick:ve,children:"Fermer"})})]})]})]})}const CJ=({label:t,value:n,change:r,icon:i,color:l="brand",loading:u=!1})=>{const d=Sr("white","gray.800"),m=Sr(`${l}.600`,`${l}.400`);return e.jsx($e,{variant:"modern",bg:d,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsxs(re,{justify:"space-between",align:"start",mb:2,children:[e.jsx(yt,{color:"gray.600",fontSize:"sm",fontWeight:"500",children:t}),i&&e.jsx(Hn,{as:i,color:m,boxSize:5})]}),e.jsx(bt,{color:m,fontSize:"2xl",fontWeight:"700",children:u?e.jsx(pn,{size:"sm"}):n}),r&&!u&&e.jsxs(so,{mb:0,children:[e.jsx(Wd,{type:r.type}),r.value]})]})})})},wJ=({stats:t,loading:n=!1})=>e.jsx(pt,{columns:{base:1,md:2,lg:4},spacing:6,mb:8,children:t.map((r,i)=>e.jsx(CJ,{...r,loading:n},i))}),Dd={STANDARD:{label:"Standard",price:60,description:"Adhsion individuelle classique",color:"blue"},FAMILY:{label:"Famille",price:100,description:"2 adultes + enfants mineurs",color:"green"},STUDENT:{label:"tudiant",price:35,description:"Tarif rduit sur justificatif",color:"purple"},HONORARY:{label:"Honneur",price:0,description:"Membre d'honneur",color:"gold"},LIFETIME:{label:" vie",price:0,description:"Adhsion permanente",color:"red"}},Mg={PENDING:{label:"En attente",color:"yellow",icon:b1,description:"Dossier en cours de traitement"},ACTIVE:{label:"Actif",color:"green",icon:av,description:"Adhsion  jour"},EXPIRED:{label:"Expir",color:"red",icon:NK,description:"Adhsion expire"},SUSPENDED:{label:"Suspendu",color:"orange",icon:MM,description:"Adhsion suspendue"},CANCELLED:{label:"Annul",color:"gray",icon:Ax,description:"Adhsion annule"}},Dg={MEMBER:{label:"Adhrent",icon:oo,color:"blue",description:"Membre standard de l'association",permissions:["participate_events","access_newsletter"]},DRIVER:{label:"Conducteur",icon:yc,color:"green",description:"Autoris  conduire les vhicules",permissions:["drive_vehicles","access_myrbe"]},ADMIN:{label:"Administrateur",icon:IM,color:"red",description:"Accs complet aux fonctions d'administration",permissions:["admin_full_access"]},BUREAU:{label:"Bureau",icon:xK,color:"purple",description:"Membre du bureau de l'association",permissions:["bureau_access","admin_events","admin_members"]}},_J={CASH:{label:"Espces",icon:$u,color:"green"},CHECK:{label:"Chque",icon:hj,color:"blue"},TRANSFER:{label:"Virement",icon:Ra,color:"purple"},HELLOASSO:{label:"HelloAsso",icon:LM,color:"orange"},CARD:{label:"Carte bancaire",icon:hj,color:"teal"}},ob={IDENTITY_CARD:{label:"Pice d'identit",icon:BM,color:"green",required:!0,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},DRIVING_LICENSE:{label:"Permis de conduire",icon:yc,color:"blue",required:!1,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},INSURANCE_RECORD:{label:"Relev d'assurance",icon:IM,color:"orange",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEMBERSHIP_FORM:{label:"Bulletin d'adhsion",icon:pj,color:"purple",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEDICAL_CERTIFICATE:{label:"Certificat mdical",icon:av,color:"teal",required:!1,maxSizeMB:3,allowedTypes:["application/pdf"]}};function EJ(){const[t,n]=y.useState([]),[r,i]=y.useState([]),[l,u]=y.useState(null),[d,m]=y.useState(!0),[p,g]=y.useState(!1),[x,j]=y.useState("table"),[S,C]=y.useState([]),[_,A]=y.useState({search:"",status:"ALL",role:"ALL",membershipType:"ALL",hasMyRBEAccess:"ALL",expiringOnly:!1}),{isOpen:T,onOpen:z,onClose:P}=Dt(),{isOpen:k,onOpen:I,onClose:N}=Dt(),{isOpen:F,onOpen:Y,onClose:q}=Dt(),{isOpen:ce,onOpen:de,onClose:le}=Dt(),[ve,Pe]=y.useState(null),[me,G]=y.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:"",paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),[Z,H]=y.useState([]),[W,Se]=y.useState({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B=y.useRef(null),ie=wn();Sr("white","gray.800");const pe=()=>{const ae=new Date().getFullYear(),ge=Math.floor(Math.random()*900)+100;return`${ae}-${ge}`},$=()=>{const ae="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ge="";for(let nt=0;nt<8;nt++)ge+=ae.charAt(Math.floor(Math.random()*ae.length));return ge},V=(ae,ge)=>{const nt=new Date(ae),Pt=new Date(nt);return Pt.setFullYear(nt.getFullYear()+1,11,31),Pt.toISOString().split("T")[0]},M=(ae,ge=60)=>{if(!ae)return!1;const nt=new Date(ae),Pt=new Date(Date.now()+ge*24*60*60*1e3);return nt<=Pt},Q=y.useCallback(async()=>{try{if(m(!0),console.log(" Chargement des membres..."),!await bl.testConnectivity()){console.warn(" API non accessible, mode dgrad activ"),ie({status:"warning",title:"Mode dgrad",description:"L'API n'est pas accessible. Certaines fonctionnalits peuvent tre limites.",duration:5e3,isClosable:!0}),n([]);return}const ge=await bl.getAll();console.log(" Rponse API membres:",ge);let nt=[];ge?.members?nt=Array.isArray(ge.members)?ge.members:[ge.members]:ge?.data?nt=Array.isArray(ge.data)?ge.data:[ge.data]:Array.isArray(ge)?nt=ge:(console.warn(" Structure de rponse inattendue:",ge),nt=[]),n(nt),console.log(` ${nt.length} membres chargs avec succs`),nt.length===0&&ie({status:"info",title:"Aucun membre",description:"Aucun membre trouv dans la base de donnes",duration:3e3,isClosable:!0})}catch(ae){console.error(" Erreur chargement membres:",ae);let ge="Impossible de charger les membres",nt="error";ae.message.includes("404")?ge="Endpoint membres non trouv. Vrifiez la configuration de l'API.":ae.message.includes("401")?(ge="Session expire. Veuillez vous reconnecter.",setTimeout(()=>{window.location.href="/login"},2e3)):ae.message.includes("500")?ge="Erreur serveur. Contactez l'administrateur.":ae.message.includes("Network")&&(ge="Problme de rseau. Vrifiez votre connexion.",nt="warning"),ie({status:nt,title:"Erreur de chargement",description:ge,duration:8e3,isClosable:!0}),n([])}finally{m(!1)}},[ie]),Ee=y.useCallback(async()=>{try{if(t.length===0)return;const ae=new Date,ge=new Date(ae.getTime()-720*60*60*1e3),nt={totalMembers:t.length,activeMembers:t.filter(Pt=>Pt.membershipStatus==="ACTIVE").length,expiredMembers:t.filter(Pt=>Pt.membershipStatus==="EXPIRED").length,pendingMembers:t.filter(Pt=>Pt.membershipStatus==="PENDING").length,driversCount:t.filter(Pt=>Pt.role==="DRIVER"||Pt.driverLicense).length,myRBEEnabled:t.filter(Pt=>Pt.loginEnabled).length,recentJoins:t.filter(Pt=>new Date(Pt.joinDate||Pt.createdAt)>ge).length,expiringSoon:t.filter(Pt=>M(Pt.renewalDate)).length,totalRevenue:t.filter(Pt=>Pt.membershipStatus==="ACTIVE"&&Pt.paymentAmount).reduce((Pt,kn)=>Pt+(parseFloat(kn.paymentAmount)||0),0)};u(nt)}catch(ae){console.error(" Erreur calcul statistiques:",ae)}},[t]),Le=y.useCallback(()=>{let ae=[...t];if(_.search){const ge=_.search.toLowerCase();ae=ae.filter(nt=>`${nt.firstName} ${nt.lastName}`.toLowerCase().includes(ge)||nt.email?.toLowerCase().includes(ge)||nt.matricule?.toLowerCase().includes(ge)||nt.phone?.includes(ge))}if(_.status!=="ALL"&&(ae=ae.filter(ge=>ge.membershipStatus===_.status)),_.role!=="ALL"&&(ae=ae.filter(ge=>ge.role===_.role)),_.membershipType!=="ALL"&&(ae=ae.filter(ge=>ge.membershipType===_.membershipType)),_.hasMyRBEAccess!=="ALL"){const ge=_.hasMyRBEAccess==="true";ae=ae.filter(nt=>!!nt.loginEnabled===ge)}_.expiringOnly&&(ae=ae.filter(ge=>M(ge.renewalDate))),i(ae)},[t,_]);y.useEffect(()=>{Q()},[Q]),y.useEffect(()=>{Ee()},[Ee]),y.useEffect(()=>{Le()},[Le]);const Ae=()=>{G({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:Dd.STANDARD.price.toString(),paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),Pe(null)},it=()=>{Ae(),z()},ct=ae=>{G({...ae,joinDate:ae.joinDate?ae.joinDate.split("T")[0]:"",renewalDate:ae.renewalDate?ae.renewalDate.split("T")[0]:"",birthDate:ae.birthDate?ae.birthDate.split("T")[0]:"",licenseExpiryDate:ae.licenseExpiryDate?ae.licenseExpiryDate.split("T")[0]:"",medicalCertificateDate:ae.medicalCertificateDate?ae.medicalCertificateDate.split("T")[0]:"",paymentAmount:ae.paymentAmount?.toString()||"",maxPassengers:ae.maxPassengers?.toString()||"",driverCertifications:ae.driverCertifications||[],vehicleAuthorizations:ae.vehicleAuthorizations||[]}),Pe(ae),I()},Je=async()=>{try{if(g(!0),!me.firstName?.trim()||!me.lastName?.trim()||!me.email?.trim()){ie({status:"error",title:"Champs requis",description:"Nom, prnom et email sont obligatoires",duration:5e3,isClosable:!0});return}me.joinDate&&!me.renewalDate&&(me.renewalDate=V(me.joinDate,me.membershipType)),me.loginEnabled&&!me.matricule&&(me.matricule=pe()),me.loginEnabled&&!me.temporaryPassword&&(me.temporaryPassword=$(),me.mustChangePassword=!0);const ae={...me,paymentAmount:me.paymentAmount?parseFloat(me.paymentAmount):null,maxPassengers:me.maxPassengers?parseInt(me.maxPassengers):null};ve?(await bl.update(ve.id,ae),ie({status:"success",title:"Membre mis  jour",description:`${me.firstName} ${me.lastName} a t modifi avec succs`,duration:5e3,isClosable:!0})):(await bl.create(ae),ie({status:"success",title:"Membre cr",description:`${me.firstName} ${me.lastName} a t ajout avec succs`,duration:5e3,isClosable:!0})),P(),N(),Ae(),Q()}catch(ae){console.error(" Erreur sauvegarde:",ae),ie({status:"error",title:"Erreur de sauvegarde",description:ae.message||"Impossible de sauvegarder le membre",duration:5e3,isClosable:!0})}finally{g(!1)}},zt=()=>l?[{label:"Total adhrents",value:l.totalMembers,icon:oo,color:"brand",change:l.recentJoins>0?{type:"increase",value:`+${l.recentJoins} ce mois`}:void 0},{label:"Membres actifs",value:l.activeMembers,icon:av,color:"success",change:{type:"increase",value:`${Math.round(l.activeMembers/l.totalMembers*100)}% du total`}},{label:"Conducteurs habilits",value:l.driversCount,icon:yc,color:"blue"},{label:"Accs MyRBE",value:l.myRBEEnabled,icon:Tu,color:"purple"},{label:"Expirant bientt",value:l.expiringSoon,icon:MM,color:"warning"},{label:"Revenus adhsions",value:`${l.totalRevenue||0}`,icon:$u,color:"green",change:{type:"increase",value:"Cotisations encaisses"}}]:[],Ve=ae=>{const ge=Mg[ae]||Mg.PENDING;return e.jsx(Zs,{label:ge.description,children:e.jsx(et,{colorScheme:ge.color,variant:"subtle",children:e.jsxs(re,{spacing:1,children:[e.jsx(Icon,{as:ge.icon,size:"12px"}),e.jsx(R,{children:ge.label})]})})})},$t=ae=>{const ge=Dg[ae]||Dg.MEMBER;return e.jsx(Zs,{label:ge.description,children:e.jsx(et,{colorScheme:ge.color,variant:"outline",children:e.jsxs(re,{spacing:1,children:[e.jsx(Icon,{as:ge.icon,size:"12px"}),e.jsx(R,{children:ge.label})]})})})},be=ae=>{const ge=Dd[ae]||Dd.STANDARD;return e.jsx(et,{colorScheme:ge.color,variant:"subtle",children:ge.label})},Ze=ae=>{console.log(`Action en masse: ${ae} sur ${S.length} membres`)},Ot=()=>{console.log("Export des donnes membres")};return d?e.jsx(wc,{title:" Gestion des Adhsions",subtitle:"Chargement des donnes membres...",children:e.jsxs(se,{spacing:8,py:16,children:[e.jsx(pn,{size:"xl",color:"brand.500",thickness:"4px"}),e.jsx(R,{color:"gray.600",children:"Synchronisation avec la base de donnes..."})]})}):e.jsxs(wc,{title:" Gestion des Adhsions",subtitle:"Administration complte des membres de l'association RtroBus Essonne",breadcrumbs:[{label:"MyRBE",href:"/dashboard/myrbe"},{label:"Gestion des Adhsions",href:"/dashboard/members-management"}],headerActions:e.jsxs(re,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx($a,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:Ot,children:"Exporter"}),e.jsx(ne,{leftIcon:e.jsx(kA,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:it,children:"Nouvel adhrent"})]}),children:[e.jsxs(se,{spacing:8,align:"stretch",children:[e.jsx(wJ,{stats:zt(),loading:!l}),e.jsx(vl,{title:"Filtres et recherche",icon:CK,color:"gray",children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(pt,{columns:{base:1,md:2,lg:4},spacing:4,children:[e.jsxs(Lu,{children:[e.jsx(Ou,{children:e.jsx(lv,{color:"gray.400"})}),e.jsx(xe,{placeholder:"Rechercher un membre...",value:_.search,onChange:ae=>A(ge=>({...ge,search:ae.target.value}))})]}),e.jsxs(st,{value:_.status,onChange:ae=>A(ge=>({...ge,status:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),Object.entries(Mg).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))]}),e.jsxs(st,{value:_.role,onChange:ae=>A(ge=>({...ge,role:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les rles"}),Object.entries(Dg).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))]}),e.jsxs(st,{value:_.membershipType,onChange:ae=>A(ge=>({...ge,membershipType:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les types"}),Object.entries(Dd).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))]})]}),e.jsxs(re,{spacing:4,justify:"space-between",children:[e.jsxs(re,{spacing:4,children:[e.jsx(ro,{isChecked:_.expiringOnly,onChange:ae=>A(ge=>({...ge,expiringOnly:ae.target.checked})),children:"Expirant bientt"}),e.jsxs(st,{maxW:"200px",value:_.hasMyRBEAccess,onChange:ae=>A(ge=>({...ge,hasMyRBEAccess:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les accs"}),e.jsx("option",{value:"true",children:"Avec MyRBE"}),e.jsx("option",{value:"false",children:"Sans MyRBE"})]})]}),e.jsxs(re,{spacing:2,children:[e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[r.length," membre",r.length>1?"s":""," affich",r.length>1?"s":""]}),e.jsxs(Zb,{size:"sm",isAttached:!0,variant:"outline",children:[e.jsx(ne,{leftIcon:e.jsx(PK,{}),onClick:()=>j("cards"),colorScheme:x==="cards"?"blue":"gray",children:"Cartes"}),e.jsx(ne,{leftIcon:e.jsx(Ra,{}),onClick:()=>j("table"),colorScheme:x==="table"?"blue":"gray",children:"Tableau"})]})]})]})]})}),S.length>0&&e.jsxs(sn,{status:"info",borderRadius:"lg",children:[e.jsx(on,{}),e.jsxs(re,{justify:"space-between",w:"full",children:[e.jsxs(R,{children:[S.length," membre",S.length>1?"s":""," slectionn",S.length>1?"s":""]}),e.jsxs(Zb,{size:"sm",children:[e.jsx(ne,{onClick:()=>Ze("enable_myrbe"),children:"Activer MyRBE"}),e.jsx(ne,{onClick:()=>Ze("send_renewal"),children:"Envoi renouvellement"}),e.jsx(ne,{colorScheme:"red",onClick:()=>Ze("archive"),children:"Archiver"})]})]})]}),r.length===0?e.jsx(vl,{children:e.jsxs(se,{spacing:4,py:12,children:[e.jsx(Icon,{as:oo,size:"48px",color:"gray.300"}),e.jsxs(se,{spacing:2,children:[e.jsx(R,{fontSize:"lg",fontWeight:"600",color:"gray.500",children:"Aucun membre trouv"}),e.jsx(R,{fontSize:"sm",color:"gray.400",children:_.search||_.status!=="ALL"?"Aucun membre ne correspond aux critres de recherche":"Commencez par crer votre premier membre"})]}),e.jsx(ne,{leftIcon:e.jsx(kA,{}),colorScheme:"blue",onClick:it,children:"Crer un membre"})]})}):x==="cards"?e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map(ae=>e.jsx(vl,{variant:"modern",color:"blue",onClick:()=>ct(ae),children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsxs(R,{fontWeight:"600",fontSize:"lg",children:[ae.firstName," ",ae.lastName]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:ae.email}),ae.matricule&&e.jsx(et,{colorScheme:"purple",size:"sm",children:ae.matricule})]}),e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(rh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Ls,{}),onClick:()=>ct(ae),children:"Modifier"}),e.jsx(Cn,{icon:e.jsx(pj,{}),onClick:()=>{Pe(ae),de()},children:"Documents"}),e.jsx(Cn,{icon:e.jsx(Tu,{}),children:"Rinitialiser mot de passe"}),e.jsx(Cn,{icon:e.jsx(Cc,{}),children:"Envoyer email"}),e.jsx(zn,{}),e.jsx(Cn,{icon:e.jsx(gr,{}),color:"red.500",children:"Supprimer"})]})]})]}),e.jsxs(re,{spacing:2,wrap:"wrap",children:[Ve(ae.membershipStatus),$t(ae.role),be(ae.membershipType),ae.loginEnabled&&e.jsx(et,{colorScheme:"green",variant:"outline",size:"sm",children:"MyRBE"})]}),e.jsxs(se,{spacing:2,align:"stretch",fontSize:"sm",children:[ae.phone&&e.jsxs(re,{children:[e.jsx(Icon,{as:NM,color:"gray.400"}),e.jsx(R,{children:ae.phone})]}),ae.renewalDate&&e.jsxs(re,{children:[e.jsx(Icon,{as:ui,color:"gray.400"}),e.jsxs(R,{children:["Expire le ",new Date(ae.renewalDate).toLocaleDateString("fr-FR"),M(ae.renewalDate)&&e.jsx(et,{colorScheme:"orange",size:"sm",ml:2,children:"Bientt"})]})]}),ae.paymentAmount&&e.jsxs(re,{children:[e.jsx(Icon,{as:$u,color:"gray.400"}),e.jsxs(R,{children:[ae.paymentAmount,""]})]})]})]})},ae.id))}):e.jsx(vl,{children:e.jsx(ue,{overflowX:"auto",children:e.jsxs(br,{variant:"simple",size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:e.jsx(ro,{isChecked:S.length===r.length,isIndeterminate:S.length>0&&S.length<r.length,onChange:ae=>{ae.target.checked?C(r.map(ge=>ge.id)):C([])}})}),e.jsx(Ie,{children:"Membre"}),e.jsx(Ie,{children:"Contact"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Rle"}),e.jsx(Ie,{children:"Type"}),e.jsx(Ie,{children:"Renouvellement"}),e.jsx(Ie,{children:"MyRBE"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:r.map(ae=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsx(Ne,{children:e.jsx(ro,{isChecked:S.includes(ae.id),onChange:ge=>{ge.target.checked?C(nt=>[...nt,ae.id]):C(nt=>nt.filter(Pt=>Pt!==ae.id))}})}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:0,children:[e.jsxs(R,{fontWeight:"600",children:[ae.firstName," ",ae.lastName]}),ae.memberNumber&&e.jsxs(R,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:["#",ae.memberNumber]})]})}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",children:ae.email}),ae.phone&&e.jsx(R,{fontSize:"xs",color:"gray.500",children:ae.phone})]})}),e.jsx(Ne,{children:Ve(ae.membershipStatus)}),e.jsx(Ne,{children:$t(ae.role)}),e.jsx(Ne,{children:be(ae.membershipType)}),e.jsx(Ne,{children:e.jsxs(se,{align:"start",spacing:0,children:[e.jsx(R,{fontSize:"sm",children:ae.renewalDate?new Date(ae.renewalDate).toLocaleDateString("fr-FR"):""}),M(ae.renewalDate)&&e.jsx(et,{colorScheme:"orange",size:"sm",children:"Expire bientt"})]})}),e.jsx(Ne,{children:e.jsx(se,{align:"start",spacing:1,children:ae.loginEnabled?e.jsxs(e.Fragment,{children:[e.jsx(et,{colorScheme:"green",size:"sm",children:"Activ"}),ae.matricule&&e.jsx(R,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:ae.matricule}),ae.mustChangePassword&&e.jsx(et,{colorScheme:"orange",size:"sm",children:"Changer MDP"})]}):e.jsx(et,{colorScheme:"gray",size:"sm",children:"Dsactiv"})})}),e.jsx(Ne,{children:e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(rh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Ls,{}),onClick:()=>ct(ae),children:"Modifier"}),e.jsx(Cn,{icon:e.jsx(pj,{}),onClick:()=>{Pe(ae),de()},children:"Documents"}),e.jsx(Cn,{icon:e.jsx(Tu,{}),children:"Rinitialiser MDP"}),e.jsx(Cn,{icon:e.jsx(Cc,{}),children:"Envoyer email"}),e.jsx(zn,{}),e.jsx(Cn,{icon:e.jsx(gr,{}),color:"red.500",children:"Supprimer"})]})]})})]},ae.id))})]})})})]}),e.jsxs(Et,{isOpen:T||k,onClose:()=>{P(),N(),Ae()},size:"6xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Tt,{children:ve?`Modifier ${ve.firstName} ${ve.lastName}`:"Nouveau membre"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(sa,{variant:"enclosed",children:[e.jsxs(ia,{children:[e.jsx(ln,{children:" Informations personnelles"}),e.jsx(ln,{children:" Adhsion"}),e.jsx(ln,{children:" Accs MyRBE"}),e.jsx(ln,{children:" Conduite"}),e.jsx(ln,{children:" Notes"})]}),e.jsxs(oa,{children:[e.jsx(cn,{children:e.jsxs(pt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Prnom"}),e.jsx(xe,{value:me.firstName,onChange:ae=>G(ge=>({...ge,firstName:ae.target.value})),placeholder:"Prnom"})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:me.lastName,onChange:ae=>G(ge=>({...ge,lastName:ae.target.value})),placeholder:"Nom"})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Email"}),e.jsx(xe,{type:"email",value:me.email,onChange:ae=>G(ge=>({...ge,email:ae.target.value})),placeholder:"email@exemple.com"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Tlphone"}),e.jsx(xe,{type:"tel",value:me.phone,onChange:ae=>G(ge=>({...ge,phone:ae.target.value})),placeholder:"06 12 34 56 78"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date de naissance"}),e.jsx(xe,{type:"date",value:me.birthDate,onChange:ae=>G(ge=>({...ge,birthDate:ae.target.value}))})]})]}),e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Adresse"}),e.jsx(Zt,{value:me.address,onChange:ae=>G(ge=>({...ge,address:ae.target.value})),placeholder:"Adresse complte",rows:3})]}),e.jsxs(re,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Ville"}),e.jsx(xe,{value:me.city,onChange:ae=>G(ge=>({...ge,city:ae.target.value})),placeholder:"Ville"})]}),e.jsxs(te,{maxW:"150px",children:[e.jsx(ee,{children:"Code postal"}),e.jsx(xe,{value:me.postalCode,onChange:ae=>G(ge=>({...ge,postalCode:ae.target.value})),placeholder:"91000"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Contact d'urgence"}),e.jsx(xe,{value:me.emergencyContact,onChange:ae=>G(ge=>({...ge,emergencyContact:ae.target.value})),placeholder:"Nom et relation"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Tlphone d'urgence"}),e.jsx(xe,{type:"tel",value:me.emergencyPhone,onChange:ae=>G(ge=>({...ge,emergencyPhone:ae.target.value})),placeholder:"06 12 34 56 78"})]})]})]})}),e.jsx(cn,{children:e.jsxs(pt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Type d'adhsion"}),e.jsx(st,{value:me.membershipType,onChange:ae=>{const ge=ae.target.value;G(nt=>({...nt,membershipType:ge,paymentAmount:Dd[ge].price.toString()}))},children:Object.entries(Dd).map(([ae,ge])=>e.jsxs("option",{value:ae,children:[ge.label," - ",ge.price," (",ge.description,")"]},ae))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Statut d'adhsion"}),e.jsx(st,{value:me.membershipStatus,onChange:ae=>G(ge=>({...ge,membershipStatus:ae.target.value})),children:Object.entries(Mg).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Rle"}),e.jsx(st,{value:me.role,onChange:ae=>G(ge=>({...ge,role:ae.target.value})),children:Object.entries(Dg).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))})]}),e.jsxs(re,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Date d'adhsion"}),e.jsx(xe,{type:"date",value:me.joinDate,onChange:ae=>{const ge=ae.target.value;G(nt=>({...nt,joinDate:ge,renewalDate:V(ge,nt.membershipType)}))}})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Renouvellement"}),e.jsx(xe,{type:"date",value:me.renewalDate,onChange:ae=>G(ge=>({...ge,renewalDate:ae.target.value}))})]})]})]}),e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(re,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Montant pay"}),e.jsxs(Lu,{children:[e.jsx(xe,{type:"number",step:"0.01",value:me.paymentAmount,onChange:ae=>G(ge=>({...ge,paymentAmount:ae.target.value})),placeholder:"60.00"}),e.jsx(Ou,{children:""})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Mthode de paiement"}),e.jsx(st,{value:me.paymentMethod,onChange:ae=>G(ge=>({...ge,paymentMethod:ae.target.value})),children:Object.entries(_J).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))})]})]}),e.jsx(zn,{}),e.jsxs(se,{spacing:3,align:"stretch",children:[e.jsx(R,{fontWeight:"600",color:"gray.700",children:"Accs et prfrences"}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:0,flex:1,children:"Accs site externe"}),e.jsx(jr,{isChecked:me.hasExternalAccess,onChange:ae=>G(ge=>({...ge,hasExternalAccess:ae.target.checked}))})]}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:0,flex:1,children:"Accs interne"}),e.jsx(jr,{isChecked:me.hasInternalAccess,onChange:ae=>G(ge=>({...ge,hasInternalAccess:ae.target.checked}))})]}),e.jsxs(te,{display:"flex",alignItems:"center",children:[e.jsx(ee,{mb:0,flex:1,children:"Newsletter"}),e.jsx(jr,{isChecked:me.newsletter,onChange:ae=>G(ge=>({...ge,newsletter:ae.target.checked}))})]})]})]})]})}),e.jsx(cn,{children:e.jsxs(pt,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Numro de permis de conduire"}),e.jsx(xe,{value:me.driverLicense,onChange:ae=>G(ge=>({...ge,driverLicense:ae.target.value})),placeholder:"AB123456"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Catgories"}),e.jsxs(st,{multiple:!0,value:me.driverCertifications,onChange:ae=>G(ge=>({...ge,driverCertifications:Array.from(ae.target.selectedOptions,nt=>nt.value)})),children:[e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"}),e.jsx("option",{value:"E",children:"E"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date d'expiration du permis"}),e.jsx(xe,{type:"date",value:me.licenseExpiryDate,onChange:ae=>G(ge=>({...ge,licenseExpiryDate:ae.target.value}))})]})]}),e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Vhicules autoriss"}),e.jsxs(st,{multiple:!0,value:me.vehicleAuthorizations,onChange:ae=>G(ge=>({...ge,vehicleAuthorizations:Array.from(ae.target.selectedOptions,nt=>nt.value)})),children:[e.jsx("option",{value:"VL",children:"Vhicule lger"}),e.jsx("option",{value:"PL",children:"Poids lourd"}),e.jsx("option",{value:"TC",children:"Transport en commun"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Nombre maximum de passagers"}),e.jsx(xe,{type:"number",value:me.maxPassengers,onChange:ae=>G(ge=>({...ge,maxPassengers:ae.target.value})),placeholder:"4"})]})]})]})}),e.jsx(cn,{children:e.jsxs(te,{children:[e.jsx(ee,{children:"Notes internes"}),e.jsx(Zt,{value:me.notes,onChange:ae=>G(ge=>({...ge,notes:ae.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:6})]})})]})]})}),e.jsx(Vt,{children:e.jsxs(re,{spacing:4,children:[e.jsx(ne,{colorScheme:"blue",isLoading:p,onClick:Je,children:ve?"Sauvegarder les modifications":"Crer le membre"}),e.jsx(ne,{variant:"outline",onClick:()=>{P(),N(),Ae()},children:"Annuler"})]})})]})]}),e.jsxs(Et,{isOpen:ce,onClose:()=>{le(),Pe(null)},size:"4xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsxs(Tt,{children:["Documents de ",ve?.firstName," ",ve?.lastName]}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"600",mb:2,children:"Documents tlchargs"}),e.jsxs(Jx,{spacing:3,children:[Z.length===0&&e.jsx(R,{color:"gray.500",fontSize:"sm",children:"Aucun document trouv pour ce membre."}),Z.map(ae=>e.jsxs(LR,{p:3,borderWidth:"1px",borderRadius:"md",display:"flex",alignItems:"center",children:[e.jsxs(re,{spacing:3,flex:1,children:[e.jsx(Icon,{as:ob[ae.type]?.icon,boxSize:8,color:ob[ae.type]?.color}),e.jsxs(se,{align:"start",spacing:1,flex:1,children:[e.jsxs(R,{fontWeight:"500",children:[ae.type==="IDENTITY_CARD"&&"Pice d'identit",ae.type==="DRIVING_LICENSE"&&"Permis de conduire",ae.type==="INSURANCE_RECORD"&&"Relev d'assurance",ae.type==="MEMBERSHIP_FORM"&&"Bulletin d'adhsion",ae.type==="MEDICAL_CERTIFICATE"&&"Certificat mdical"]}),e.jsxs(re,{spacing:2,children:[e.jsxs(R,{fontSize:"sm",color:"gray.500",children:[ae.size," Mo"]}),e.jsxs(et,{colorScheme:ae.status==="VALIDATED"?"green":"yellow",variant:"outline",fontSize:"sm",children:[ae.status==="VALIDATED"&&"Valid",ae.status==="PENDING"&&"En attente"]})]})]})]}),e.jsxs(re,{spacing:2,children:[e.jsx(ne,{size:"sm",variant:"outline",leftIcon:e.jsx($a,{}),onClick:()=>{eb.download(ae.id).then(()=>{ie({status:"success",title:"Tlchargement lanc",description:"Le document est en cours de tlchargement",duration:5e3,isClosable:!0})}).catch(ge=>{console.error(" Erreur tlchargement document:",ge),ie({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})})},children:"Tlcharger"}),e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"red",leftIcon:e.jsx(gr,{}),onClick:async()=>{if(window.confirm("tes-vous sr de vouloir supprimer ce document ?"))try{await eb.remove(ae.id),H(ge=>ge.filter(nt=>nt.id!==ae.id)),ie({status:"success",title:"Document supprim",description:"Le document a t supprim avec succs",duration:5e3,isClosable:!0})}catch(ge){console.error(" Erreur suppression document:",ge),ie({status:"error",title:"Erreur de suppression",description:"Impossible de supprimer le document",duration:5e3,isClosable:!0})}},children:"Supprimer"})]})]},ae.id))]})]}),e.jsx(zn,{}),e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsx(R,{fontWeight:"600",children:"Tlcharger un nouveau document"}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type de document"}),e.jsx(st,{value:W.type,onChange:ae=>Se(ge=>({...ge,type:ae.target.value})),children:Object.entries(ob).map(([ae,ge])=>e.jsxs("option",{value:ae,children:[ge.label," (",ge.maxSizeMB," Mo max)"]},ae))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date d'expiration"}),e.jsx(xe,{type:"date",value:W.expiryDate,onChange:ae=>Se(ge=>({...ge,expiryDate:ae.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes"}),e.jsx(Zt,{value:W.notes,onChange:ae=>Se(ge=>({...ge,notes:ae.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:3})]}),e.jsx(ne,{colorScheme:"blue",isLoading:p,onClick:async()=>{try{if(g(!0),!W.type||!W.expiryDate){ie({status:"error",title:"Champs requis",description:"Type de document et date d'expiration sont obligatoires",duration:5e3,isClosable:!0});return}const ae=new FormData;ae.append("file",B.current.files[0]),ae.append("type",W.type),ae.append("expiryDate",W.expiryDate),ae.append("notes",W.notes);const ge=await eb.upload(ae,ve.id),nt=ge?.document||ge?.data;H(Pt=>[...Pt,nt]),Se({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B.current.value=null,ie({status:"success",title:"Document tlcharg",description:"Le document a t ajout avec succs",duration:5e3,isClosable:!0})}catch(ae){console.error(" Erreur upload document:",ae),ie({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})}finally{g(!1)}},children:"Tlcharger le document"})]})]})})]})]})]})}const AJ={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},TJ={PENDING:"En attente",ACTIVE:"Actif",EXPIRED:"Expir",SUSPENDED:"Suspendu"};function kJ({isOpen:t,onClose:n,onMemberCreated:r}){const[i,l]=y.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),[u,d]=y.useState(!1),m=wn(),p=()=>l({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),g=async()=>{if(!i.firstName.trim()||!i.lastName.trim()||!i.email.trim()){m({title:"Champs requis",description:"Prnom, nom et email sont requis",status:"error",duration:3e3});return}try{d(!0);const j={...i},S=await bl.create(j);m({title:"Adhrent cr",status:"success",duration:3e3}),r?.(S),p(),n()}catch(j){m({title:"Erreur",description:j.message,status:"error",duration:5e3})}finally{d(!1)}},x=()=>{p(),n()};return e.jsxs(Et,{isOpen:t,onClose:x,size:"xl",scrollBehavior:"inside",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Crer un adhrent"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Informations personnelles"})}),e.jsx(Be,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(pt,{columns:2,spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Prnom"}),e.jsx(xe,{value:i.firstName,onChange:j=>l(S=>({...S,firstName:j.target.value}))})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:i.lastName,onChange:j=>l(S=>({...S,lastName:j.target.value}))})]})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Email"}),e.jsx(xe,{type:"email",value:i.email,onChange:j=>l(S=>({...S,email:j.target.value}))})]}),e.jsxs(pt,{columns:2,spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Tlphone"}),e.jsx(xe,{value:i.phone,onChange:j=>l(S=>({...S,phone:j.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date de naissance"}),e.jsx(xe,{type:"date",value:i.birthDate,onChange:j=>l(S=>({...S,birthDate:j.target.value}))})]})]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Adresse"})}),e.jsx(Be,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Adresse"}),e.jsx(xe,{value:i.address,onChange:j=>l(S=>({...S,address:j.target.value}))})]}),e.jsxs(pt,{columns:2,spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Code postal"}),e.jsx(xe,{value:i.postalCode,onChange:j=>l(S=>({...S,postalCode:j.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Ville"}),e.jsx(xe,{value:i.city,onChange:j=>l(S=>({...S,city:j.target.value}))})]})]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Adhsion"})}),e.jsx(Be,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(pt,{columns:2,spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Type d'adhsion"}),e.jsx(st,{value:i.membershipType,onChange:j=>l(S=>({...S,membershipType:j.target.value})),children:Object.entries(AJ).map(([j,S])=>e.jsx("option",{value:j,children:S},j))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Statut"}),e.jsx(st,{value:i.membershipStatus,onChange:j=>l(S=>({...S,membershipStatus:j.target.value})),children:Object.entries(TJ).map(([j,S])=>e.jsx("option",{value:j,children:S},j))})]})]}),e.jsxs(pt,{columns:2,spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Montant cotisation ()"}),e.jsx(xe,{type:"number",value:i.paymentAmount,onChange:j=>l(S=>({...S,paymentAmount:j.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Mode de paiement"}),e.jsxs(st,{value:i.paymentMethod,onChange:j=>l(S=>({...S,paymentMethod:j.target.value})),children:[e.jsx("option",{value:"CASH",children:"Espces"}),e.jsx("option",{value:"CHECK",children:"Chque"}),e.jsx("option",{value:"BANK_TRANSFER",children:"Virement"}),e.jsx("option",{value:"CARD",children:"Carte"}),e.jsx("option",{value:"PAYPAL",children:"PayPal"}),e.jsx("option",{value:"HELLOASSO",children:"HelloAsso"})]})]})]})]})})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Notes"})}),e.jsx(Be,{children:e.jsxs(te,{children:[e.jsx(ee,{children:"Notes administratives"}),e.jsx(Zt,{value:i.notes,onChange:j=>l(S=>({...S,notes:j.target.value})),placeholder:"Notes internes sur l'adhrent..."})]})})]})]})}),e.jsx(Vt,{children:e.jsxs(re,{spacing:3,children:[e.jsx(ne,{variant:"ghost",onClick:x,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:g,isLoading:u,loadingText:"Cration...",children:"Crer l'adhrent"})]})})]})]})}const VA="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),zg=t=>VA?`${VA}${t}`:t,Cj={PENDING:{label:"En attente",color:"yellow",icon:b1},ACTIVE:{label:"Actif",color:"green",icon:BM},EXPIRED:{label:"Expir",color:"red",icon:Ax},SUSPENDED:{label:"Suspendu",color:"orange",icon:Rl},CANCELLED:{label:"Annul",color:"gray",icon:Ax}},wj={MEMBER:{label:"Adhrent",color:"blue",permissions:["VIEW_PROFILE"]},DRIVER:{label:"Conducteur",color:"green",permissions:["VIEW_PROFILE","DRIVE_VEHICLES"]},MODERATOR:{label:"Modrateur",color:"purple",permissions:["VIEW_PROFILE","MODERATE_CONTENT"]},ADMIN:{label:"Administrateur",color:"red",permissions:["FULL_ACCESS"]}};function PJ({member:t,onEdit:n,onLinkAccess:r,onTerminate:i,onDeleteMember:l}){const u=Sr("white","gray.800"),d=Cj[t.membershipStatus]||Cj.PENDING,m=wj[t.role]||wj.MEMBER;return e.jsxs($e,{bg:u,borderWidth:1,borderColor:"gray.200",children:[e.jsx(Nt,{pb:2,children:e.jsxs(Qn,{justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsxs(re,{children:[e.jsxs(R,{fontWeight:"bold",fontSize:"md",children:[t.firstName," ",t.lastName]}),e.jsx(et,{colorScheme:d.color,size:"sm",children:d.label}),e.jsx(et,{colorScheme:m.color,variant:"outline",size:"sm",children:m.label})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:t.email}),t.matricule&&e.jsxs(re,{spacing:2,children:[e.jsxs(et,{colorScheme:"blue",variant:"subtle",children:[" ",t.matricule]}),t.loginEnabled?e.jsx(et,{colorScheme:"green",size:"sm",children:" Accs activ"}):e.jsx(et,{colorScheme:"gray",size:"sm",children:" Accs dsactiv"})]})]}),e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(em,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{children:[e.jsx(Cn,{icon:e.jsx(Ls,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(Cn,{icon:e.jsx(Ax,{}),onClick:()=>i(t),color:"red.500",children:"Terminer l'adhsion"}),e.jsx(Cn,{icon:e.jsx(Tu,{}),onClick:()=>r(t),children:"Associer  un accs existant"}),t.membershipStatus==="CANCELLED"&&e.jsx(Cn,{icon:e.jsx(gr,{}),onClick:()=>l(t),color:"red.600",children:"Effacer l'adhrent"})]})]})]})}),e.jsx(Be,{pt:0,children:e.jsxs(se,{align:"start",spacing:2,children:[t.phone&&e.jsxs(R,{fontSize:"sm",children:[" ",t.phone]}),t.lastLoginAt&&e.jsxs(R,{fontSize:"xs",color:"gray.500",children:["Dernire connexion: ",new Date(t.lastLoginAt).toLocaleDateString("fr-FR")]}),t.mustChangePassword&&e.jsx(et,{colorScheme:"orange",size:"sm",children:" Doit changer le mot de passe"})]})})]})}function RJ(){const[t,n]=y.useState([]),[r,i]=y.useState(!0),[l,u]=y.useState(""),[d,m]=y.useState("ALL"),[p,g]=y.useState("ALL"),[x,j]=y.useState(!1),[S,C]=y.useState(null),[_,A]=y.useState({}),{isOpen:T,onOpen:z,onClose:P}=Dt(),{isOpen:k,onOpen:I,onClose:N}=Dt(),{isOpen:F,onOpen:Y,onClose:q}=Dt(),{isOpen:ce,onOpen:de,onClose:le}=Dt(),ve=wn(),Pe=Sr("white","gray.800"),[me,G]=y.useState(null),[Z,H]=y.useState(null),[W,Se]=y.useState({reason:"",notes:"",pv:null,resignation:null}),{isOpen:B,onOpen:ie,onClose:pe}=Dt(),[$,V]=y.useState({username:"",email:""});y.useEffect(()=>{M()},[]);const M=async()=>{try{i(!0);const be=await bl.getAll();n(be.members||[]),Q(be.members||[])}catch(be){console.error("Erreur chargement membres:",be),ve({title:"Erreur",description:"Impossible de charger les membres",status:"error",duration:5e3})}finally{i(!1)}},Q=be=>{const Ze=be.length,Ot=be.filter(nt=>nt.loginEnabled).length,ae=be.filter(nt=>nt.membershipStatus==="ACTIVE").length,ge=be.filter(nt=>{if(!nt.lastLoginAt)return!1;const Pt=new Date(nt.lastLoginAt),kn=new Date;return kn.setMonth(kn.getMonth()-1),Pt>kn}).length;A({total:Ze,withLogin:Ot,active:ae,recentlyActive:ge})},Ee=t.filter(be=>{const Ze=be.firstName?.toLowerCase().includes(l.toLowerCase())||be.lastName?.toLowerCase().includes(l.toLowerCase())||be.email?.toLowerCase().includes(l.toLowerCase())||be.matricule?.toLowerCase().includes(l.toLowerCase()),Ot=d==="ALL"||be.membershipStatus===d,ae=p==="ALL"||be.role===p,ge=!x||be.loginEnabled;return Ze&&Ot&&ae&&ge}),Le=be=>{C(be),G({...be}),Y()},Ae=async()=>{try{if(!S)return;const be=["firstName","lastName","email","phone","address","city","postalCode","membershipType","membershipStatus","paymentAmount","paymentMethod","newsletter","notes"],Ze={};for(const nt of be)nt in me&&(Ze[nt]=me[nt]);const Ot=await fetch(zg(`/api/members/${S.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Ze)}),ae=await Ot.json().catch(()=>({}));if(!Ot.ok)throw new Error(ae?.error||"chec de la mise  jour");const ge=ae.member||ae;n(nt=>nt.map(Pt=>Pt.id===S.id?{...Pt,...ge}:Pt)),ve({title:"Membre mis  jour",status:"success"}),q()}catch(be){ve({title:"Erreur",description:be.message,status:"error"})}},it=be=>{H(be),Se({reason:"",notes:"",pv:null,resignation:null}),de()},ct=async()=>{try{if(!Z)return;if(!W.reason){ve({title:"Motif requis",status:"error"});return}if(W.reason==="EXCLUSION"&&!W.pv){ve({title:"PV obligatoire",status:"error"});return}if(W.reason==="DEMISSION"&&(!W.pv||!W.resignation)){ve({title:"PV et lettre obligatoires",status:"error"});return}const be=new FormData;be.append("reason",W.reason),W.notes&&be.append("notes",W.notes),W.pv&&be.append("pv",W.pv),W.resignation&&be.append("resignation",W.resignation);const Ze=await fetch(zg(`/api/members/${Z.id}/terminate`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:be}),Ot=await Ze.json().catch(()=>({}));if(!Ze.ok)throw new Error(Ot?.error||"chec de la rsiliation");ve({title:"Adhsion termine",status:"success"}),await M(),le()}catch(be){ve({title:"Erreur",description:be.message,status:"error"})}},Je=async be=>{try{if(be.membershipStatus!=="CANCELLED"){ve({title:"Rsiliez d'abord l'adhsion",status:"warning"});return}if(!window.confirm(`Effacer dfinitivement ${be.firstName} ${be.lastName} ?`))return;const Ze=await fetch(zg(`/api/members/${be.id}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ze.ok&&Ze.status!==204){const Ot=await Ze.json().catch(()=>({}));throw new Error(Ot?.error||"Suppression impossible")}ve({title:"Adhrent effac",status:"success"}),n(Ot=>Ot.filter(ae=>ae.id!==be.id))}catch(Ze){ve({title:"Erreur",description:Ze.message,status:"error"})}},zt=be=>{n(Ze=>[be,...Ze]),Q([be,...t]),P()},Ve=be=>{C(be),V({username:"",email:""}),ie()},$t=async()=>{try{if(!S)return;if(!$.username&&!$.email){ve({title:"Renseignez matricule ou email",status:"warning"});return}const be=await fetch(zg(`/api/members/${S.id}/link-access`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:$.username||void 0,email:$.email||void 0})}),Ze=await be.json().catch(()=>({}));if(!be.ok)throw new Error(Ze?.error||"chec de lassociation");ve({title:"Accs associ",status:"success"}),await M(),pe()}catch(be){ve({title:"Erreur",description:be.message,status:"error"})}};return r?e.jsx(zs,{maxW:"container.xl",py:8,children:e.jsxs(se,{spacing:8,children:[e.jsx(pn,{size:"xl",color:"blue.500"}),e.jsx(R,{children:"Chargement des membres..."})]})}):e.jsxs(zs,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsxs(Me,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(oo,{style:{marginRight:"12px"}}),"Gestion des Adhsions"]}),e.jsx(R,{color:"gray.600",children:"Crer et grer les adhrents (les identifiants sont grs sparment)"})]}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",size:"lg",onClick:z,children:"Nouvel adhrent"})]}),e.jsxs(pt,{columns:{base:2,md:4},spacing:4,children:[e.jsx($e,{bg:Pe,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Total membres"}),e.jsx(bt,{color:"blue.500",children:_.total})]})})}),e.jsx($e,{bg:Pe,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Avec accs MyRBE"}),e.jsx(bt,{color:"green.500",children:_.withLogin}),e.jsxs(so,{children:[_.total>0?Math.round(_.withLogin/_.total*100):0,"%"]})]})})}),e.jsx($e,{bg:Pe,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Adhsions actives"}),e.jsx(bt,{color:"purple.500",children:_.active})]})})}),e.jsx($e,{bg:Pe,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Connexions rcentes"}),e.jsx(bt,{color:"orange.500",children:_.recentlyActive}),e.jsx(so,{children:"30 derniers jours"})]})})})]}),e.jsx($e,{bg:Pe,children:e.jsx(Be,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(re,{w:"full",spacing:4,children:[e.jsxs(Lu,{flex:2,children:[e.jsx(Ou,{children:e.jsx(lv,{})}),e.jsx(xe,{placeholder:"Rechercher par nom, email ou matricule...",value:l,onChange:be=>u(be.target.value)})]}),e.jsxs(st,{value:d,onChange:be=>m(be.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(Cj).map(([be,Ze])=>e.jsx("option",{value:be,children:Ze.label},be))]}),e.jsxs(st,{value:p,onChange:be=>g(be.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),Object.entries(wj).map(([be,Ze])=>e.jsx("option",{value:be,children:Ze.label},be))]})]}),e.jsxs(re,{children:[e.jsx(ro,{isChecked:x,onChange:be=>j(be.target.checked),children:"Afficher seulement les membres avec accs MyRBE"}),e.jsx(ne,{leftIcon:e.jsx(ea,{}),size:"sm",onClick:M,children:"Actualiser"})]})]})})}),e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[Ee.length," membre(s) affich(s)"]}),e.jsx(pt,{columns:{base:1,md:2,lg:3},spacing:4,children:Ee.map(be=>e.jsx(PJ,{member:be,onEdit:Le,onLinkAccess:Ve,onTerminate:it,onDeleteMember:Je},be.id))}),Ee.length===0&&e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),"Aucun membre ne correspond aux critres de recherche"]})]}),e.jsx(kJ,{isOpen:T,onClose:P,onMemberCreated:zt}),e.jsxs(Et,{isOpen:B,onClose:pe,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Associer  un accs existant"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),'La cration daccs se fait dans "Gestion des accs". Ici, vous pouvez lier un accs existant (fusion).']}),e.jsxs(te,{children:[e.jsx(ee,{children:"Matricule (username)"}),e.jsx(xe,{value:$.username,onChange:be=>V(Ze=>({...Ze,username:be.target.value})),placeholder:"ex: jd2025"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Email"}),e.jsx(xe,{type:"email",value:$.email,onChange:be=>V(Ze=>({...Ze,email:be.target.value})),placeholder:"utilisateur@domaine.fr"})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Renseignez au moins lun des deux champs."})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:pe,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:$t,children:"Associer"})]})]})]}),e.jsxs(Et,{isOpen:F,onClose:q,size:"xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Modifier le membre"}),e.jsx(It,{}),e.jsx(At,{children:me&&e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Prnom"}),e.jsx(xe,{value:me.firstName||"",onChange:be=>G(Ze=>({...Ze,firstName:be.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:me.lastName||"",onChange:be=>G(Ze=>({...Ze,lastName:be.target.value}))})]})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Email"}),e.jsx(xe,{type:"email",value:me.email||"",onChange:be=>G(Ze=>({...Ze,email:be.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Tlphone"}),e.jsx(xe,{value:me.phone||"",onChange:be=>G(Ze=>({...Ze,phone:be.target.value}))})]})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Statut"}),e.jsxs(st,{value:me.membershipStatus||"ACTIVE",onChange:be=>G(Ze=>({...Ze,membershipStatus:be.target.value})),children:[e.jsx("option",{value:"PENDING",children:"En attente"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"EXPIRED",children:"Expir"}),e.jsx("option",{value:"SUSPENDED",children:"Suspendu"}),e.jsx("option",{value:"CANCELLED",children:"Annul"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type d'adhsion"}),e.jsxs(st,{value:me.membershipType||"STANDARD",onChange:be=>G(Ze=>({...Ze,membershipType:be.target.value})),children:[e.jsx("option",{value:"STANDARD",children:"Standard"}),e.jsx("option",{value:"FAMILY",children:"Famille"}),e.jsx("option",{value:"STUDENT",children:"tudiant"}),e.jsx("option",{value:"HONORARY",children:"Honneur"})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes"}),e.jsx(Zt,{value:me.notes||"",onChange:be=>G(Ze=>({...Ze,notes:be.target.value}))})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:q,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Ae,children:"Enregistrer"})]})]})]}),e.jsxs(Et,{isOpen:ce,onClose:le,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Terminer l'adhsion"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(sn,{status:"warning",children:[e.jsx(on,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Motif"}),e.jsxs(st,{value:W.reason,onChange:be=>Se(Ze=>({...Ze,reason:be.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Notes (optionnel)"}),e.jsx(Zt,{value:W.notes,onChange:be=>Se(Ze=>({...Ze,notes:be.target.value}))})]}),(W.reason==="EXCLUSION"||W.reason==="DEMISSION")&&e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Procs-verbal (PDF/Image)"}),e.jsx(xe,{type:"file",accept:"application/pdf,image/*",onChange:be=>Se(Ze=>({...Ze,pv:be.target.files?.[0]||null}))})]}),W.reason==="DEMISSION"&&e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(xe,{type:"file",accept:"application/pdf,image/*",onChange:be=>Se(Ze=>({...Ze,resignation:be.target.files?.[0]||null}))})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:le,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:ct,children:"Confirmer"})]})]})]})]})}function MJ({report:t,onUpdate:n,onComment:r,onStatusChange:i,onDelete:l}){const u=Sr("white","gray.800"),d={low:"green",medium:"yellow",high:"orange",critical:"red"},m={open:"blue",in_progress:"orange",resolved:"green",closed:"gray"},p=y.useMemo(()=>{switch(t.priority){case"low":return" Faible";case"medium":return" Moyen";case"high":return" lev";default:return" Critique"}},[t.priority]),g=y.useMemo(()=>{switch(t.status){case"open":return"Ouvert";case"in_progress":return"En cours";case"resolved":return"Rsolu";default:return"Ferm"}},[t.status]),x=t.createdAt?new Date(t.createdAt):null;return e.jsxs($e,{bg:u,borderLeftWidth:4,borderLeftColor:`${d[t.priority]||"gray"}.500`,children:[e.jsx(Nt,{pb:3,children:e.jsxs(Qn,{justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",spacing:2,children:[e.jsxs(re,{children:[e.jsx(et,{colorScheme:d[t.priority]||"gray",variant:"solid",size:"sm",children:p}),e.jsx(et,{colorScheme:m[t.status]||"gray",variant:"subtle",children:g})]}),e.jsx(Me,{size:"sm",children:t.title}),e.jsxs(R,{fontSize:"xs",color:"gray.500",children:["Cr par ",t.createdBy," ",x?`le ${x.toLocaleDateString("fr-FR")}`:""]})]}),e.jsxs(Na,{children:[e.jsx(Ia,{as:ut,icon:e.jsx(rh,{}),variant:"ghost",size:"sm"}),e.jsxs(Ba,{zIndex:10,position:"relative",children:[e.jsx(Cn,{icon:e.jsx(Wf,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(Cn,{icon:e.jsx(kK,{}),onClick:()=>r(t),children:"Commenter"}),t.status==="open"&&e.jsx(Cn,{icon:e.jsx(ea,{}),onClick:()=>i(t.id,"in_progress"),children:"Marquer en cours"}),(t.status==="open"||t.status==="in_progress")&&e.jsx(Cn,{icon:e.jsx(wx,{}),onClick:()=>i(t.id,"resolved"),children:"Marquer comme rsolu"}),t.status==="resolved"&&e.jsx(Cn,{icon:e.jsx(Mp,{}),onClick:()=>i(t.id,"closed"),children:"Fermer dfinitivement"}),t.status==="closed"&&e.jsx(Cn,{icon:e.jsx(ea,{}),onClick:()=>i(t.id,"open"),children:"Rouvrir"}),e.jsx(bx,{}),e.jsx(Cn,{icon:e.jsx(gr,{}),onClick:()=>l(t.id),color:"red.500",children:"Supprimer"})]})]})]})}),e.jsx(Be,{pt:0,children:e.jsxs(se,{align:"start",spacing:3,children:[e.jsx(R,{fontSize:"sm",children:t.description}),t.category&&e.jsx(Iu,{size:"sm",variant:"subtle",children:e.jsx(Bu,{children:t.category})}),t.assignedTo&&e.jsxs(re,{children:[e.jsx(YP,{size:"xs",name:t.assignedTo}),e.jsxs(R,{fontSize:"xs",children:["Assign  ",t.assignedTo]})]}),Array.isArray(t.comments)&&t.comments.length>0&&e.jsxs(se,{align:"start",spacing:2,w:"full",children:[e.jsx(zn,{}),e.jsx(re,{children:e.jsxs(R,{fontSize:"xs",fontWeight:"bold",children:[t.comments.length," commentaire(s)"]})}),e.jsxs(ue,{bg:"gray.50",p:2,borderRadius:"md",w:"full",children:[e.jsx(R,{fontSize:"xs",children:t.comments[t.comments.length-1].message}),e.jsxs(R,{fontSize:"xs",color:"gray.500",mt:1,children:["Par ",t.comments[t.comments.length-1].author," - ",new Date(t.comments[t.comments.length-1].createdAt).toLocaleDateString("fr-FR")]})]})]})]})})]})}function DJ(){const{user:t}=_s(),n=wn(),{isOpen:r,onOpen:i,onClose:l}=Dt(),{isOpen:u,onOpen:d,onClose:m}=Dt(),{isOpen:p,onOpen:g,onClose:x}=Dt(),[j,S]=y.useState(!0),[C,_]=y.useState([]),[A,T]=y.useState(null),[z,P]=y.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[k,I]=y.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[N,F]=y.useState({message:"",status:""}),[Y,q]=y.useState([]),ce=Sr("white","gray.800"),de=async()=>{try{const H="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),W=await fetch(`${H}/api/retro-reports`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!W.ok)throw new Error("load failed");const Se=await W.json();_(Se.reports||[])}catch(H){console.error("Erreur chargement rtroreports:",H)}};y.useEffect(()=>{(async()=>(S(!0),await de(),S(!1)))()},[]);const le=async()=>{if(!z.title||!z.description){n({title:"Erreur",description:"Veuillez remplir le titre et la description",status:"error",duration:3e3,isClosable:!0});return}try{const H="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),W=new FormData;W.append("title",z.title),W.append("description",z.description),W.append("category",z.category||""),W.append("priority",z.priority||"medium"),W.append("type",z.type||"bug"),Y&&Y.length>0&&Y.forEach(B=>W.append("screenshots",B,B.name));const Se=await fetch(`${H}/api/retro-reports`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:W});if(!Se.ok){const B=await Se.json().catch(()=>({error:"create failed"}));throw new Error(B.error||"create failed")}await de(),P({title:"",description:"",category:"",priority:"medium",type:"bug"}),q([]),l(),n({title:"Succs",description:"RtroReport cr avec succs",status:"success",duration:3e3,isClosable:!0})}catch(H){n({title:"Erreur",description:H.message||"Impossible de crer le RtroReport",status:"error",duration:3e3})}},ve=async()=>{if(!N.message){n({title:"Erreur",description:"Veuillez crire un commentaire",status:"error",duration:3e3,isClosable:!0});return}try{const H="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),W={message:N.message,author:t?.name||"Administrateur",status:N.status||void 0};let Se=await fetch(`${H}/api/retro-reports/${A.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(W)});if(!Se.ok&&(Se=await fetch(`${H}/api/retro-reports/${A.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({appendComment:{message:W.message,author:W.author},status:W.status})}),!Se.ok))throw new Error("Impossible de persister le commentaire");await de(),F({message:"",status:""}),m(),n({title:"Succs",description:"Commentaire ajout avec succs",status:"success",duration:3e3,isClosable:!0})}catch(H){console.error(H),n({title:"Erreur",description:"Impossible d'ajouter le commentaire",status:"error",duration:3e3})}},Pe=async(H,W)=>{try{const Se="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,"");let B=await fetch(`${Se}/api/retro-reports/${H}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:W})});if(!B.ok&&(B=await fetch(`${Se}/api/retro-reports/${H}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:W})}),!B.ok))throw new Error("status failed");await de(),n({title:"Statut mis  jour",description:`RtroReport marqu comme ${{open:"Ouvert",in_progress:"En cours",resolved:"Rsolu",closed:"Ferm"}[W]?.toLowerCase()||W}`,status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Impossible de changer le statut",status:"error",duration:3e3})}},me=async H=>{if(window.confirm("tes-vous sr de vouloir supprimer ce RtroReport ?"))try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),Se=localStorage.getItem("token");if(!Se){n({title:"Erreur",description:"Token non trouv",status:"error",duration:3e3});return}const B=`${W}/api/retro-reports/${H}`;console.log(" Suppression ticket:",B);const ie=await fetch(B,{method:"DELETE",headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"}});if(console.log("Delete response status:",ie.status),!ie.ok){const $=await ie.text();throw console.error("Delete error:",$),new Error(`HTTP ${ie.status}: ${$}`)}const pe=await ie.json();console.log("Delete result:",pe),await de(),n({title:"RtroReport supprim",description:"Le ticket a t supprim avec succs",status:"success",duration:3e3})}catch(W){console.error(" Erreur suppression:",W),n({title:"Erreur",description:`Suppression impossible: ${W.message}`,status:"error",duration:5e3})}},G=H=>{T(H),I({title:H.title,description:H.description,category:H.category||"",priority:H.priority||"medium",type:H.type||"bug"}),g()},Z=async()=>{if(!A?.id||!k.title||!k.description){n({title:"Erreur",description:"Titre et description requis",status:"error",duration:3e3,isClosable:!0});return}try{if(!(await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/api/retro-reports/${A.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:k.title,description:k.description,category:k.category||"",priority:k.priority||"medium",type:k.type||"bug"})})).ok)throw new Error("update failed");await de(),x(),n({title:"Succs",description:"RtroReport mis  jour",status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Mise  jour impossible",status:"error",duration:3e3})}};return j?e.jsx(zs,{maxW:"container.xl",py:8,children:e.jsxs(se,{spacing:8,children:[e.jsx(pn,{size:"xl",color:"green.500"}),e.jsx(R,{children:"Chargement du support"})]})}):e.jsxs(zs,{maxW:"container.xl",py:8,children:[e.jsxs(ue,{bgGradient:"linear(to-r, red.500, orange.500)",color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsx(Me,{size:"xl",mb:2,children:" Support du site"}),e.jsx(R,{opacity:.9,children:"Tickets: incidents, bugs et amliorations"})]}),e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(re,{justify:"space-between",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"md",children:"Systme de tickets"}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Signalez et suivez les incidents et demandes"})]}),e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"red",onClick:i,children:"Nouveau ticket"})]}),e.jsxs(pt,{columns:{base:1,md:4},spacing:4,children:[e.jsx($e,{bg:ce,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{fontSize:"xs",children:"Ouverts"}),e.jsx(bt,{color:"red.500",fontSize:"lg",children:C.filter(H=>H.status==="open").length})]})})}),e.jsx($e,{bg:ce,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{fontSize:"xs",children:"En cours"}),e.jsx(bt,{color:"orange.500",fontSize:"lg",children:C.filter(H=>H.status==="in_progress").length})]})})}),e.jsx($e,{bg:ce,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{fontSize:"xs",children:"Rsolus"}),e.jsx(bt,{color:"green.500",fontSize:"lg",children:C.filter(H=>H.status==="resolved").length})]})})}),e.jsx($e,{bg:ce,children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{fontSize:"xs",children:"Total"}),e.jsx(bt,{color:"blue.500",fontSize:"lg",children:C.length})]})})})]}),e.jsx(se,{spacing:4,align:"stretch",children:C.length===0?e.jsxs(sn,{status:"info",children:[e.jsx(on,{}),e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",children:"Aucun ticket"}),e.jsx(R,{fontSize:"xs",children:"Crez votre premier ticket."})]})]}):C.map(H=>e.jsx(MJ,{report:H,onUpdate:G,onComment:W=>{T(W),d()},onStatusChange:Pe,onDelete:me},H.id))})]}),e.jsxs(Et,{isOpen:r,onClose:l,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Nouveau ticket"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre"}),e.jsx(xe,{value:z.title,onChange:H=>P(W=>({...W,title:H.target.value})),placeholder:"Ex: Problme de connexion, Page lente..."})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:z.description,onChange:H=>P(W=>({...W,description:H.target.value})),rows:4,placeholder:"Dcrivez le problme..."})]}),e.jsxs(pt,{columns:2,spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Type"}),e.jsxs(st,{value:z.type,onChange:H=>P(W=>({...W,type:H.target.value})),children:[e.jsx("option",{value:"bug",children:" Bug"}),e.jsx("option",{value:"feature",children:" Amlioration"}),e.jsx("option",{value:"performance",children:" Performance"}),e.jsx("option",{value:"security",children:" Scurit"}),e.jsx("option",{value:"other",children:" Autre"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Priorit"}),e.jsxs(st,{value:z.priority,onChange:H=>P(W=>({...W,priority:H.target.value})),children:[e.jsx("option",{value:"low",children:" Faible"}),e.jsx("option",{value:"medium",children:" Moyen"}),e.jsx("option",{value:"high",children:" lev"}),e.jsx("option",{value:"critical",children:" Critique"})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Catgorie"}),e.jsx(xe,{value:z.category,onChange:H=>P(W=>({...W,category:H.target.value})),placeholder:"Ex: Technique, Interface, Base de donnes..."})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Captures dcran (optionnel)"}),e.jsx(xe,{type:"file",accept:"image/*",multiple:!0,onChange:H=>q(Array.from(H.target.files||[]))})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:l,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:le,leftIcon:e.jsx(Nn,{}),children:"Crer"})]})]})]}),e.jsxs(Et,{isOpen:u,onClose:m,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Ajouter un commentaire"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Commentaire"}),e.jsx(Zt,{value:N.message,onChange:H=>F(W=>({...W,message:H.target.value})),rows:3})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Changer le statut (optionnel)"}),e.jsxs(st,{value:N.status,onChange:H=>F(W=>({...W,status:H.target.value})),children:[e.jsx("option",{value:"",children:"Ne pas changer"}),e.jsx("option",{value:"open",children:"Ouvert"}),e.jsx("option",{value:"in_progress",children:"En cours"}),e.jsx("option",{value:"resolved",children:"Rsolu"}),e.jsx("option",{value:"closed",children:"Ferm"})]})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:m,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:ve,children:"Publier"})]})]})]}),e.jsxs(Et,{isOpen:p,onClose:x,children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Modifier le ticket"}),e.jsx(It,{}),e.jsx(At,{children:e.jsxs(se,{spacing:4,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre"}),e.jsx(xe,{value:k.title,onChange:H=>I(W=>({...W,title:H.target.value}))})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{rows:4,value:k.description,onChange:H=>I(W=>({...W,description:H.target.value}))})]}),e.jsxs(pt,{columns:2,spacing:4,w:"full",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Catgorie"}),e.jsx(xe,{value:k.category,onChange:H=>I(W=>({...W,category:H.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Priorit"}),e.jsxs(st,{value:k.priority,onChange:H=>I(W=>({...W,priority:H.target.value})),children:[e.jsx("option",{value:"low",children:"Faible"}),e.jsx("option",{value:"medium",children:"Moyen"}),e.jsx("option",{value:"high",children:"lev"}),e.jsx("option",{value:"critical",children:"Critique"})]})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type"}),e.jsxs(st,{value:k.type,onChange:H=>I(W=>({...W,type:H.target.value})),children:[e.jsx("option",{value:"bug",children:"Bug"}),e.jsx("option",{value:"feature",children:"Amlioration"}),e.jsx("option",{value:"performance",children:"Performance"}),e.jsx("option",{value:"security",children:"Scurit"}),e.jsx("option",{value:"other",children:"Autre"})]})]})]})}),e.jsxs(Vt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Z,children:"Enregistrer"})]})]})]})]})}function ab({p:t,onEdit:n,onDelete:r}){return e.jsxs($e,{overflow:"hidden",children:[e.jsx(Di,{src:t.image||"/assets/fallback/_MG_1006.jpg",alt:t.name,w:"100%",h:"160px",objectFit:"cover"}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:2,children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(ue,{children:[e.jsx(Me,{size:"sm",children:t.name}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:t.category})]}),e.jsx(Iu,{size:"sm",colorScheme:t.active?"green":"gray",children:e.jsx(Bu,{children:t.active?"Actif":"Masqu"})})]}),e.jsxs(re,{justify:"space-between",children:[e.jsxs(R,{fontWeight:"bold",children:[t.price.toFixed(2)," "]}),e.jsxs(re,{children:[e.jsx(ut,{"aria-label":"diter",size:"sm",icon:e.jsx(Ls,{}),onClick:()=>n(t)}),e.jsx(ut,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(gr,{}),onClick:()=>r(t)})]})]})]})})]})}function zJ(){const t=wn(),[n,r]=y.useState(["Textiles","Goodies","Affiches"]),[i,l]=y.useState([{id:"tee-classic",name:"T-shirt RtroBus Classique",price:20,category:"Textiles",image:"",active:!0},{id:"mug-logo",name:"Mug Logo RBE",price:12,category:"Goodies",image:"",active:!0},{id:"poster-920",name:"Affiche R312 n920",price:15,category:"Affiches",image:"",active:!1}]),[u,d]=y.useState([]),[m,p]=y.useState("Toutes"),[g,x]=y.useState(null),[j,S]=y.useState({id:"",name:"",price:0,category:"Textiles",image:"",active:!0,description:""}),C=Dt(),_=y.useMemo(()=>m==="Toutes"?i:i.filter($=>$.category===m),[i,m]),A=()=>S({id:"",name:"",price:0,category:n[0]||"Textiles",image:"",active:!0,description:""}),T=()=>{x(null),A(),C.onOpen()},z=$=>{x($),S({...$}),C.onOpen()},P=()=>{const $=(j.id||j.name||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-");if(!j.name||!$)return t({status:"warning",title:"Nom requis"});const V={...j,id:$};l(M=>g?M.map(Q=>Q.id===g.id?V:Q):[{...V},...M]),C.onClose(),t({status:"success",title:g?"Produit mis  jour":"Produit ajout"})},k=$=>{confirm(`Supprimer ${$.name} ?`)&&(l(V=>V.filter(M=>M.id!==$.id)),t({status:"info",title:"Produit supprim"}))},I=[{id:"hero-1",type:"banner",colSpan:12,data:{title:"Bienvenue sur RtroMerch",subtitle:"Slection spciale",image:"",ctaText:"Dcouvrir",ctaHref:"/retromerch"}},{id:"promo-1",type:"promo",colSpan:6,data:{label:"Promo",productId:"tee-classic",discount:20}},{id:"product-1",type:"product",colSpan:6,data:{productId:"mug-logo"}},{id:"grid-1",type:"grid",colSpan:12,data:{category:"Textiles",count:4}}],[N,F]=y.useState(()=>{try{const $=localStorage.getItem("retromerch_layout");return $?JSON.parse($):I}catch{return I}}),[Y,q]=y.useState(null),[ce,de]=y.useState(!0);y.useEffect(()=>{try{localStorage.setItem("retromerch_layout",JSON.stringify(N))}catch{}},[N]);const le=$=>`${$}-${Date.now().toString(36)}`,ve=$=>{const V={colSpan:12,data:{}},M={id:le($),type:$,...V};$==="banner"&&(M.data={title:"Titre",subtitle:"Sous-titre",image:"",ctaText:"Voir",ctaHref:"/retromerch"}),$==="promo"&&(M.data={label:"Promo",productId:i[0]?.id||"",discount:10}),$==="product"&&(M.data={productId:i[0]?.id||""}),$==="grid"&&(M.data={category:n[0]||"Textiles",count:4}),$==="text"&&(M.data={text:"Texte libre de prsentation"}),$==="spacer"&&(M.data={size:6}),F(Q=>[...Q,M]),q(M.id)},Pe=$=>F(V=>V.filter(M=>M.id!==$)),me=$=>{const V=N.find(Le=>Le.id===$);if(!V)return;const M={...V,id:le("copy")},Q=N.findIndex(Le=>Le.id===$),Ee=[...N];Ee.splice(Q+1,0,M),F(Ee),q(M.id)},G=($,V)=>F(M=>M.map(Q=>Q.id===$?{...Q,...V,data:{...Q.data,...V.data||{}}}:Q)),Z=($,V)=>{const M=N.findIndex(Le=>Le.id===$);if(M<0)return;const Q=[...N],Ee=V==="up"?M-1:M+1;Ee<0||Ee>=Q.length||([Q[M],Q[Ee]]=[Q[Ee],Q[M]],F(Q))},H=($,V)=>G($,{colSpan:V}),[W,Se]=y.useState(null),B=$=>V=>{Se($),V.dataTransfer.setData("text/plain",$)},ie=$=>{$.preventDefault()},pe=$=>V=>{V.preventDefault();const M=W||V.dataTransfer.getData("text/plain");if(!M||M===$)return;const Q=[...N],Ee=Q.findIndex(it=>it.id===M),Le=Q.findIndex(it=>it.id===$);if(Ee===-1||Le===-1)return;const[Ae]=Q.splice(Ee,1);Q.splice(Le,0,Ae),F(Q),Se(null)};return e.jsxs(ue,{p:6,maxW:"7xl",mx:"auto",children:[e.jsxs(se,{align:"stretch",spacing:6,children:[e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsxs(Me,{size:"lg",display:"flex",alignItems:"center",gap:2,children:[e.jsx(Ex,{})," Administration RtroMerch"]}),e.jsxs(re,{children:[e.jsx(ne,{leftIcon:e.jsx(Nn,{}),colorScheme:"blue",onClick:T,children:"Ajouter un produit"}),e.jsx(ne,{leftIcon:e.jsx(em,{}),variant:"outline",children:"Paramtres"})]})]}),e.jsxs(sa,{colorScheme:"red",variant:"enclosed",children:[e.jsxs(ia,{children:[e.jsxs(ln,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(Ex,{})," Catalogue"]}),e.jsxs(ln,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(MK,{})," Commandes"]}),e.jsx(ln,{children:"Catgories"}),e.jsx(ln,{children:"Mise en page"}),e.jsx(ln,{children:"Paramtres"})]}),e.jsxs(oa,{children:[e.jsx(cn,{px:0,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsx(Me,{size:"md",children:"Catalogue"}),e.jsxs(re,{children:[e.jsxs(st,{size:"sm",value:m,onChange:$=>p($.target.value),children:[e.jsx("option",{children:"Toutes"}),n.map($=>e.jsx("option",{children:$},$))]}),e.jsx(ne,{size:"sm",onClick:T,leftIcon:e.jsx(Nn,{}),children:"Nouveau"})]})]})}),e.jsx(Be,{children:_.length===0?e.jsx(xn,{py:10,children:e.jsx(R,{color:"gray.600",children:"Aucun produit pour linstant."})}):e.jsx(pt,{columns:{base:1,sm:2,md:3,xl:4},spacing:4,children:_.map($=>e.jsx(ab,{p:$,onEdit:z,onDelete:k},$.id))})})]})}),e.jsx(cn,{px:0,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Commandes"})}),e.jsx(Be,{children:u.length===0?e.jsx(xn,{py:10,children:e.jsx(R,{color:"gray.600",children:"Aucune commande pour le moment."})}):e.jsxs(br,{size:"sm",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"#"}),e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Client"}),e.jsx(Ie,{children:"Montant"}),e.jsx(Ie,{children:"Statut"})]})}),e.jsx(_r,{children:u.map($=>e.jsxs(Ft,{children:[e.jsx(Ne,{children:$.id}),e.jsx(Ne,{children:new Date($.createdAt).toLocaleString("fr-FR")}),e.jsx(Ne,{children:$.customerName}),e.jsxs(Ne,{children:[$.total.toFixed(2)," "]}),e.jsx(Ne,{children:$.status})]},$.id))})]})})]})}),e.jsx(cn,{px:0,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(re,{justify:"space-between",children:e.jsx(Me,{size:"md",children:"Catgories"})})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[n.map(($,V)=>e.jsxs(re,{justify:"space-between",borderWidth:"1px",p:3,borderRadius:"md",children:[e.jsx(R,{children:$}),e.jsxs(re,{children:[e.jsx(ut,{"aria-label":"Renommer",size:"sm",icon:e.jsx(Ls,{}),onClick:()=>{const M=prompt("Nouveau nom de catgorie",$);M&&(r(Q=>Q.map(Ee=>Ee===$?M:Ee)),l(Q=>Q.map(Ee=>Ee.category===$?{...Ee,category:M}:Ee)))}}),e.jsx(ut,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(gr,{}),onClick:()=>{confirm(`Supprimer la catgorie ${$} ?`)&&(r(M=>M.filter(Q=>Q!==$)),l(M=>M.map(Q=>Q.category===$?{...Q,category:"Autre"}:Q)))}})]})]},$)),e.jsxs(re,{children:[e.jsx(xe,{placeholder:"Nouvelle catgorie",size:"sm",id:"newCat"}),e.jsx(ne,{size:"sm",onClick:()=>{const $=document.getElementById("newCat"),V=($?.value||"").trim();if(V){if(n.includes(V))return t({status:"info",title:"Existe dj"});r(M=>[...M,V]),$.value=""}},children:"Ajouter"})]})]})})]})}),e.jsx(cn,{px:0,children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",align:"center",children:[e.jsx(Me,{size:"md",children:"Mise en page  diteur  puzzle "}),e.jsxs(re,{children:[e.jsxs(ne,{size:"sm",leftIcon:e.jsx(Rp,{}),onClick:()=>de($=>!$),children:[ce?"Masquer":"Afficher"," laperu"]}),e.jsx(ne,{size:"sm",variant:"outline",leftIcon:e.jsx(TA,{}),onClick:()=>{navigator.clipboard.writeText(JSON.stringify(N,null,2)),t({status:"success",title:"Layout copi"})},children:"Exporter JSON"})]})]}),e.jsxs(pt,{columns:{base:1,xl:3},spacing:4,children:[e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Palette"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:2,children:[e.jsx(ne,{onClick:()=>ve("banner"),children:"Bannire"}),e.jsx(ne,{onClick:()=>ve("promo"),children:"Produit en promo"}),e.jsx(ne,{onClick:()=>ve("product"),children:"Produit (slection)"}),e.jsx(ne,{onClick:()=>ve("grid"),children:"Grille par catgorie"}),e.jsx(ne,{onClick:()=>ve("text"),children:"Texte"}),e.jsx(ne,{onClick:()=>ve("spacer"),children:"Espace"})]})})]}),e.jsxs($e,{gridColumn:{base:"auto",xl:"span 2"},children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"diteur"})}),e.jsx(Be,{children:e.jsx(ue,{borderWidth:"1px",borderRadius:"md",p:3,children:e.jsx(ho,{templateColumns:"repeat(12, 1fr)",gap:3,gridAutoFlow:"row dense",children:N.map($=>e.jsxs(ue,{gridColumn:`span ${Math.min(12,Math.max(3,$.colSpan||12))}`,p:0,borderWidth:Y===$.id?"2px":"1px",borderColor:Y===$.id?"blue.400":"gray.200",borderRadius:"md",bg:Y===$.id?"blue.50":"white",draggable:!0,onDragStart:B($.id),onDragOver:ie,onDrop:pe($.id),onClick:()=>q($.id),children:[e.jsxs(re,{justify:"space-between",p:2,bg:"gray.50",borderBottomWidth:"1px",borderTopRadius:"md",children:[e.jsxs(re,{children:[e.jsx(Iu,{size:"sm",children:e.jsx(Bu,{children:$.type})}),e.jsx(st,{size:"xs",w:"auto",value:$.colSpan,onChange:V=>H($.id,parseInt(V.target.value)),children:[12,8,6,4,3].map(V=>e.jsxs("option",{value:V,children:[V,"/12"]},V))})]}),e.jsxs(re,{children:[e.jsx(ut,{"aria-label":"Monter",size:"xs",icon:e.jsx(y1,{}),onClick:V=>{V.stopPropagation(),Z($.id,"up")}}),e.jsx(ut,{"aria-label":"Descendre",size:"xs",icon:e.jsx(v1,{}),onClick:V=>{V.stopPropagation(),Z($.id,"down")}}),e.jsx(ut,{"aria-label":"Dupliquer",size:"xs",icon:e.jsx(TA,{}),onClick:V=>{V.stopPropagation(),me($.id)}}),e.jsx(ut,{"aria-label":"Supprimer",size:"xs",colorScheme:"red",icon:e.jsx(gr,{}),onClick:V=>{V.stopPropagation(),Pe($.id)}})]})]}),e.jsxs(ue,{p:3,children:[$.type==="banner"&&e.jsxs(se,{align:"stretch",spacing:2,children:[e.jsx(xe,{size:"sm",placeholder:"Titre",value:$.data.title||"",onChange:V=>G($.id,{data:{title:V.target.value}})}),e.jsx(xe,{size:"sm",placeholder:"Sous-titre",value:$.data.subtitle||"",onChange:V=>G($.id,{data:{subtitle:V.target.value}})}),e.jsx(xe,{size:"sm",placeholder:"Image URL",value:$.data.image||"",onChange:V=>G($.id,{data:{image:V.target.value}})}),e.jsxs(re,{children:[e.jsx(xe,{size:"sm",placeholder:"Texte du bouton",value:$.data.ctaText||"",onChange:V=>G($.id,{data:{ctaText:V.target.value}})}),e.jsx(xe,{size:"sm",placeholder:"Lien",value:$.data.ctaHref||"",onChange:V=>G($.id,{data:{ctaHref:V.target.value}})})]})]}),$.type==="promo"&&e.jsxs(pt,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Produit"}),e.jsx(st,{size:"sm",value:$.data.productId||"",onChange:V=>G($.id,{data:{productId:V.target.value}}),children:i.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Label"}),e.jsx(xe,{size:"sm",value:$.data.label||"",onChange:V=>G($.id,{data:{label:V.target.value}})})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Rduction (%)"}),e.jsx(Yn,{size:"sm",min:0,max:90,value:$.data.discount||0,onChange:(V,M)=>G($.id,{data:{discount:isNaN(M)?0:M}}),children:e.jsx(Xn,{})})]})]}),$.type==="product"&&e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Produit"}),e.jsx(st,{size:"sm",value:$.data.productId||"",onChange:V=>G($.id,{data:{productId:V.target.value}}),children:i.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))})]}),$.type==="grid"&&e.jsxs(pt,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Catgorie"}),e.jsx(st,{size:"sm",value:$.data.category||"",onChange:V=>G($.id,{data:{category:V.target.value}}),children:n.map(V=>e.jsx("option",{value:V,children:V},V))})]}),e.jsxs(te,{children:[e.jsx(ee,{fontSize:"xs",children:"Nombre"}),e.jsx(Yn,{size:"sm",min:1,max:12,value:$.data.count||4,onChange:(V,M)=>G($.id,{data:{count:isNaN(M)?4:M}}),children:e.jsx(Xn,{})})]})]}),$.type==="text"&&e.jsx(Zt,{size:"sm",rows:3,value:$.data.text||"",onChange:V=>G($.id,{data:{text:V.target.value}})}),$.type==="spacer"&&e.jsxs(re,{children:[e.jsx(R,{fontSize:"sm",color:"gray.600",children:"Espace (px)"}),e.jsx(Yn,{size:"sm",min:8,max:96,value:$.data.size||24,onChange:(V,M)=>G($.id,{data:{size:isNaN(M)?24:M}}),children:e.jsx(Xn,{})})]})]})]},$.id))})})})]})]}),ce&&e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"sm",children:"Aperu dynamique"})}),e.jsx(Be,{children:e.jsx(ue,{children:e.jsx(ho,{templateColumns:{base:"1fr",md:"repeat(12, 1fr)"},gap:4,gridAutoFlow:"row dense",children:N.map($=>e.jsxs(ue,{gridColumn:{base:"auto",md:`span ${Math.min(12,Math.max(3,$.colSpan||12))}`},children:[$.type==="banner"&&e.jsx(Qn,{bgImage:$.data.image||void 0,bgSize:"cover",bgPos:"center",borderRadius:"md",p:10,minH:"160px",align:"center",justify:"space-between",bg:$.data.image?void 0:"gray.100",children:e.jsxs(se,{align:"start",spacing:2,children:[e.jsx(Me,{size:"lg",children:$.data.title||"Titre"}),e.jsx(R,{color:"gray.700",children:$.data.subtitle||"Sous-titre"}),$.data.ctaText&&e.jsx(ne,{colorScheme:"blue",size:"sm",children:$.data.ctaText})]})}),$.type==="promo"&&(()=>{const V=i.find(M=>M.id===$.data.productId);return V?e.jsxs($e,{overflow:"hidden",borderColor:"red.200",borderWidth:"1px",children:[e.jsx(Di,{src:V.image||"/assets/fallback/_MG_1006.jpg",alt:V.name,h:"160px",w:"100%",objectFit:"cover"}),e.jsxs(Be,{children:[e.jsxs(re,{justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",spacing:1,children:[e.jsx(Me,{size:"sm",children:V.name}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:V.category})]}),e.jsx(Iu,{colorScheme:"red",children:e.jsxs(Bu,{children:[$.data.label||"Promo"," -",$.data.discount||0,"%"]})})]}),e.jsxs(re,{justify:"space-between",pt:2,children:[e.jsxs(R,{fontWeight:"bold",children:[(V.price*(1-($.data.discount||0)/100)).toFixed(2),"  ",e.jsxs(R,{as:"span",color:"gray.500",textDecor:"line-through",ml:2,children:[V.price.toFixed(2)," "]})]}),e.jsx(ne,{size:"sm",colorScheme:"blue",children:"Voir"})]})]})]}):e.jsx(ue,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),$.type==="product"&&(()=>{const V=i.find(M=>M.id===$.data.productId);return V?e.jsx(ab,{p:V,onEdit:()=>{},onDelete:()=>{}}):e.jsx(ue,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),$.type==="grid"&&(()=>{const V=i.filter(M=>M.active&&($.data.category?M.category===$.data.category:!0)).slice(0,$.data.count||4);return e.jsx(pt,{columns:{base:1,sm:2,md:2,lg:3,xl:4},spacing:4,children:V.map(M=>e.jsx(ab,{p:M,onEdit:()=>{},onDelete:()=>{}},M.id))})})(),$.type==="text"&&e.jsx(ue,{p:3,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:e.jsx(R,{children:$.data.text||""})}),$.type==="spacer"&&e.jsx(ue,{h:`${$.data.size||24}px`})]},$.id))})})})]})]})}),e.jsx(cn,{px:0,children:e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:"Paramtres"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:4,children:[e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{children:"Activer la boutique"}),e.jsx(jr,{defaultChecked:!0,isDisabled:!0})]}),e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{children:"Mode test (paiements simuls)"}),e.jsx(jr,{isDisabled:!0})]}),e.jsx(R,{color:"gray.600",children:"Connecteurs (HelloAsso/Stripe), TVA, frais de port, etc. seront configurables ici."})]})})]})})]})]})]}),C.isOpen&&e.jsx(ue,{position:"fixed",inset:0,bg:"blackAlpha.600",zIndex:1e3,onClick:C.onClose,children:e.jsx(ue,{as:"dialog",onClick:$=>$.stopPropagation(),style:{border:0},children:e.jsxs($e,{position:"fixed",top:"10%",left:"50%",transform:"translateX(-50%)",w:{base:"95%",md:"560px"},children:[e.jsx(Nt,{children:e.jsx(Me,{size:"md",children:g?"Modifier le produit":"Nouveau produit"})}),e.jsx(Be,{children:e.jsxs(se,{align:"stretch",spacing:3,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Nom"}),e.jsx(xe,{value:j.name,onChange:$=>S(V=>({...V,name:$.target.value}))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Identifiant (URL)"}),e.jsx(xe,{value:j.id,onChange:$=>S(V=>({...V,id:$.target.value})),placeholder:"auto depuis le nom"})]}),e.jsxs(pt,{columns:{base:1,md:2},spacing:3,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Prix ()"}),e.jsx(Yn,{min:0,value:j.price,onChange:($,V)=>S(M=>({...M,price:isNaN(V)?0:V})),children:e.jsx(Xn,{})})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Catgorie"}),e.jsx(st,{value:j.category,onChange:$=>S(V=>({...V,category:$.target.value})),children:n.map($=>e.jsx("option",{children:$},$))})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Image (URL)"}),e.jsx(xe,{value:j.image,onChange:$=>S(V=>({...V,image:$.target.value})),placeholder:"https://"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{value:j.description,onChange:$=>S(V=>({...V,description:$.target.value})),rows:3})]}),e.jsxs(re,{justify:"space-between",children:[e.jsx(R,{children:"Actif"}),e.jsx(jr,{isChecked:j.active,onChange:$=>S(V=>({...V,active:$.target.checked}))})]}),e.jsxs(re,{justify:"flex-end",pt:2,children:[e.jsx(ne,{variant:"ghost",onClick:C.onClose,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:P,children:g?"Enregistrer":"Crer"})]})]})})]})})})]})}const LJ=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173"),OJ=(LJ?"https://attractive-kindness-rbe-serveurs.up.railway.app":"").replace(/\/$/,"");function NJ(){try{const t=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("jwt");return t?{Authorization:`Bearer ${t}`}:{}}catch{return{}}}const fu=async(t,n={})=>{const r=`${OJ}${t.startsWith("/")?"":"/"}${t}`,i={Accept:"application/json",...NJ(),...n.headers||{}},l=p=>{const g=p.toLowerCase();for(const x of Object.keys(i))if(x.toLowerCase()===g)return!0;return!1};let u=n.body;(p=>p&&typeof p=="object"&&!(p instanceof FormData)&&!(p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(p instanceof URLSearchParams))(u)?(u=JSON.stringify(u),l("Content-Type")||(i["Content-Type"]="application/json")):typeof u=="string"&&(l("Content-Type")||(i["Content-Type"]="application/json"));const m=await fetch(r,{credentials:"include",headers:i,...n,...u!==void 0?{body:u}:{}});if(m.status===404)return{notFound:!0};if(m.status===204)return null;if(!m.ok){const p=await m.text().catch(()=>"");throw new Error(`HTTP ${m.status} ${m.statusText} - ${p}`)}return m.json()},A1=[{value:"tournee",label:"Tourne",color:"orange"},{value:"campagne",label:"Campagne",color:"purple"},{value:"maintenance",label:"Maintenance",color:"red"},{value:"evenement",label:"vnement",color:"green"},{value:"livraison",label:"Livraison",color:"cyan"},{value:"cotisation",label:"Cotisation",color:"yellow"}];function IJ({events:t,currentDate:n,onDateClick:r,onPrevMonth:i,onNextMonth:l}){const u=n.getFullYear(),d=n.getMonth(),m=new Date(u,d,1).getDay(),p=new Date(u,d+1,0).getDate(),g=new Date(u,d,0).getDate(),x=[];for(let C=m-1;C>=0;C--)x.push({day:g-C,isCurrentMonth:!1});for(let C=1;C<=p;C++)x.push({day:C,isCurrentMonth:!0});const j=42-x.length;for(let C=1;C<=j;C++)x.push({day:C,isCurrentMonth:!1});const S=C=>t.filter(_=>{const A=new Date(_.startDate);return A.getDate()===C&&A.getMonth()===d&&A.getFullYear()===u});return e.jsx($e,{mb:6,children:e.jsx(Be,{children:e.jsxs(se,{spacing:4,align:"stretch",children:[e.jsxs(Qn,{justify:"space-between",align:"center",children:[e.jsx(Me,{size:"md",children:n.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}),e.jsxs(re,{children:[e.jsx(ut,{icon:e.jsx(_X,{}),onClick:i,variant:"ghost","aria-label":"Mois prcdent"}),e.jsx(ut,{icon:e.jsx(EX,{}),onClick:l,variant:"ghost","aria-label":"Mois suivant"})]})]}),e.jsxs(ho,{templateColumns:"repeat(7, 1fr)",gap:2,children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(C=>e.jsx(ue,{textAlign:"center",fontWeight:"bold",fontSize:"sm",children:C},C)),x.map((C,_)=>{const A=C.isCurrentMonth?S(C.day):[];return e.jsxs(ue,{p:2,border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"100px",bg:C.isCurrentMonth?"white":"gray.50",cursor:C.isCurrentMonth?"pointer":"default",onClick:()=>C.isCurrentMonth&&r(C.day),_hover:C.isCurrentMonth?{bg:"blue.50"}:{},children:[e.jsx(R,{fontSize:"xs",fontWeight:"bold",mb:1,children:C.day}),e.jsx(se,{spacing:1,align:"stretch",children:A.map(T=>e.jsx(et,{fontSize:"2xs",colorScheme:_j(T.type),cursor:"pointer",title:T.title,noOfLines:1,children:T.title},T.id))})]},_)})]})]})})})}const _j=t=>A1.find(r=>r.value===t)?.color||"gray",UA=t=>A1.find(r=>r.value===t)?.label||t,lb=t=>t?new Date(t).toLocaleDateString("fr-FR"):"";function BJ(){const t=wn(),{isOpen:n,onOpen:r,onClose:i}=Dt(),{isOpen:l,onOpen:u,onClose:d}=Dt(),[m,p]=y.useState([]),[g,x]=y.useState(null),[j,S]=y.useState(new Date),[C,_]=y.useState([]),[A,T]=y.useState(!0),[z,P]=y.useState([]),[k,I]=y.useState(!0),[N,F]=y.useState({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""});y.useEffect(()=>{ce(),Y(),q()},[]);const Y=async()=>{try{T(!0);const W=await fu("/api/members");if(Array.isArray(W)){const Se=W.map(B=>({id:B.id,name:`${B.firstName} ${B.lastName}`,email:B.email,membershipStatus:B.membershipStatus}));_(Se)}else console.warn("Unexpected members response format:",W),_([])}catch(W){console.error("Erreur chargement membres:",W),_([]),t({title:"Attention",description:"Impossible de charger la liste des membres",status:"warning",duration:3})}finally{T(!1)}},q=async()=>{try{I(!0);const W=await fu("/api/vehicles");Array.isArray(W)?P(W):(console.warn("Unexpected vehicles response format:",W),P([]))}catch(W){console.error("Erreur chargement vhicules:",W),P([])}finally{I(!1)}},ce=async()=>{try{const W=await fu("/api/planning/events");Array.isArray(W)?p(W):W&&typeof W=="object"&&W.data&&Array.isArray(W.data)?p(W.data):(console.warn("Unexpected response format, using demo data:",W),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}]))}catch(W){console.error("Erreur chargement:",W),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}])}},de=W=>{const{name:Se,value:B}=W.target;F(ie=>({...ie,[Se]:B}))},le=W=>{F(Se=>({...Se,selectedMembers:W}))},ve=async()=>{if(!N.title||!N.startDate){t({title:"Erreur",description:"Veuillez remplir au minimum le titre et la date",status:"error",duration:3});return}try{const W={title:N.title,type:N.type,description:N.description,startDate:new Date(`${N.startDate}T${N.startTime||"08:00"}`).toISOString(),endDate:N.endDate?new Date(`${N.endDate}T${N.endTime||"17:00"}`).toISOString():null,startTime:N.startTime||"08:00",endTime:N.endTime||"17:00",location:N.location,vehicleId:N.vehicleId||null,driverId:N.driverId||null,selectedMembers:N.selectedMembers,externalEmails:N.externalEmails},Se=await fu("/api/planning/events",{method:"POST",body:JSON.stringify(W)});if(Se.success||Se.event)await ce(),t({title:"Succs",description:`vnement cr et ${Se.emailsSent?.members||0} invitation(s) envoye(s)`,status:"success",duration:3}),F({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""}),i();else throw new Error(Se.error||"Erreur inconnue")}catch(W){console.error("Erreur cration vnement:",W),t({title:"Erreur",description:W.message||"Impossible de crer l'vnement",status:"error",duration:3})}},Pe=W=>{x(W),u()},me=async W=>{try{const Se=await fu(`/api/planning/events/${W}`,{method:"DELETE"});if(Se.success)await ce(),t({title:"Succs",description:"vnement supprim",status:"success",duration:3}),d();else throw new Error(Se.error||"Erreur inconnue")}catch(Se){console.error("Erreur suppression:",Se),t({title:"Erreur",description:Se.message||"Impossible de supprimer l'vnement",status:"error",duration:3})}},G=()=>{S(W=>new Date(W.getFullYear(),W.getMonth()-1,1))},Z=()=>{S(W=>new Date(W.getFullYear(),W.getMonth()+1,1))},H=W=>{const Se=new Date(j.getFullYear(),j.getMonth(),W);F(B=>({...B,startDate:Se.toISOString().split("T")[0]})),r()};return e.jsx(wc,{children:e.jsxs(zs,{maxW:"container.xl",py:8,children:[e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(Qn,{justify:"space-between",align:"center",children:[e.jsx(Me,{as:"h1",size:"lg",children:" RtroPlanning"}),e.jsx(ne,{colorScheme:"blue",onClick:r,children:" Ajouter un vnement"})]}),e.jsx(IJ,{events:m,currentDate:j,onDateClick:H,onPrevMonth:G,onNextMonth:Z}),e.jsxs(ue,{children:[e.jsx(Me,{size:"md",mb:4,children:" vnements prvus"}),!Array.isArray(m)||m.length===0?e.jsx($e,{children:e.jsx(Be,{children:e.jsx(R,{textAlign:"center",color:"gray.500",children:"Aucun vnement prvu pour le moment"})})}):e.jsx(ho,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:m.map(W=>e.jsx($e,{cursor:"pointer",onClick:()=>Pe(W),_hover:{shadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",children:e.jsx(Be,{children:e.jsxs(se,{align:"start",spacing:3,children:[e.jsxs(re,{justify:"space-between",w:"full",children:[e.jsx(Me,{size:"sm",children:W.title}),e.jsx(et,{colorScheme:_j(W.type),children:UA(W.type)})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:W.description}),e.jsxs(re,{fontSize:"xs",color:"gray.500",spacing:4,children:[e.jsxs(R,{children:[" ",lb(W.startDate)]}),W.vehicleId&&e.jsxs(R,{children:[" ",W.vehicleId]})]})]})})},W.id))})]})]}),e.jsxs(Et,{isOpen:n,onClose:i,size:"xl",scrollBehavior:"inside",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:" Crer un nouvel vnement"}),e.jsx(It,{}),e.jsx(At,{pb:6,children:e.jsxs(se,{spacing:4,children:[e.jsxs(ue,{w:"full",children:[e.jsx(Me,{size:"sm",mb:3,children:" Dtails"}),e.jsxs(se,{spacing:3,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre"}),e.jsx(xe,{name:"title",value:N.title,onChange:de,placeholder:"Titre de l'vnement"})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Type"}),e.jsx(st,{name:"type",value:N.type,onChange:de,children:A1.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Description"}),e.jsx(Zt,{name:"description",value:N.description,onChange:de,placeholder:"Dtails de l'vnement",rows:3})]})]})]}),e.jsx(zn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(Me,{size:"sm",mb:3,children:" Date et Heure"}),e.jsxs(ho,{templateColumns:"repeat(2, 1fr)",gap:3,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Date dbut"}),e.jsx(xe,{type:"date",name:"startDate",value:N.startDate,onChange:de})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Heure dbut"}),e.jsx(xe,{type:"time",name:"startTime",value:N.startTime,onChange:de})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Date fin"}),e.jsx(xe,{type:"date",name:"endDate",value:N.endDate,onChange:de})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Heure fin"}),e.jsx(xe,{type:"time",name:"endTime",value:N.endTime,onChange:de})]})]})]}),e.jsx(zn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(Me,{size:"sm",mb:3,children:" Affectations"}),e.jsxs(se,{spacing:3,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Vhicule"}),k?e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Chargement des vhicules..."}):z.length===0?e.jsx(R,{fontSize:"sm",color:"red.500",children:"Aucun vhicule disponible"}):e.jsxs(st,{name:"vehicleId",value:N.vehicleId,onChange:de,children:[e.jsx("option",{value:"",children:"-- Slectionner un vhicule --"}),z.map(W=>e.jsxs("option",{value:W.id,children:[W.parc," - ",W.modele," (",W.marque,")"]},W.id))]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Chauffeur (Membre)"}),A?e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Chargement des chauffeurs..."}):C.length===0?e.jsx(R,{fontSize:"sm",color:"red.500",children:"Aucun membre disponible"}):e.jsxs(st,{name:"driverId",value:N.driverId,onChange:de,children:[e.jsx("option",{value:"",children:"-- Slectionner un chauffeur --"}),C.map(W=>e.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})]}),e.jsx(zn,{}),e.jsxs(ue,{w:"full",children:[e.jsx(Me,{size:"sm",mb:3,children:" Participants"}),e.jsxs(se,{spacing:3,align:"start",children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Membres de l'association"}),A?e.jsx(R,{fontSize:"sm",color:"gray.500",children:"Chargement des membres..."}):C.length===0?e.jsx(R,{fontSize:"sm",color:"orange.500",children:"Aucun membre disponible"}):e.jsx(qS,{value:N.selectedMembers,onChange:le,children:e.jsx(ki,{spacing:2,children:C.map(W=>e.jsxs(ro,{value:W.id,children:[W.name," (",W.email,")"]},W.id))})})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Invitations externes"}),e.jsx(Zt,{name:"externalEmails",value:N.externalEmails,onChange:de,placeholder:`Adresses emails spares par des virgules
exemple@mail.com, autre@mail.com`,rows:3}),e.jsx(R,{fontSize:"xs",color:"gray.500",mt:1,children:"Sparez les adresses par des virgules pour envoyer des invitations par email"})]})]})]}),e.jsx(zn,{}),e.jsxs(re,{justify:"flex-end",w:"full",pt:4,children:[e.jsx(ne,{variant:"ghost",onClick:i,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:ve,children:" Crer l'vnement"})]})]})})]})]}),e.jsxs(Et,{isOpen:l,onClose:d,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:g?.title}),e.jsx(It,{}),e.jsx(At,{pb:6,children:g&&e.jsxs(se,{spacing:4,align:"start",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:1,children:"Type:"}),e.jsx(et,{colorScheme:_j(g.type),children:UA(g.type)})]}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:1,children:"Description:"}),e.jsx(R,{children:g.description||"-"})]}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:1,children:"Date dbut:"}),e.jsx(R,{children:lb(g.startDate)})]}),g.endDate&&e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:1,children:"Date fin:"}),e.jsx(R,{children:lb(g.endDate)})]}),g.vehicleId&&e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:1,children:"Vhicule:"}),e.jsx(R,{children:g.vehicleId})]}),g.driverId&&e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",mb:1,children:"Chauffeur:"}),e.jsx(R,{children:g.driverId})]}),e.jsxs(re,{spacing:3,w:"full",pt:4,children:[e.jsx(ne,{colorScheme:"red",flex:1,onClick:()=>me(g.id),children:" Supprimer"}),e.jsx(ne,{variant:"ghost",flex:1,onClick:d,children:"Fermer"})]})]})})]})]})]})})}const $J="https://attractive-kindness-rbe-serveurs.up.railway.app";function FJ(){const{eventId:t,memberId:n}=Px(),r=Va(),i=wn(),l=Sr("white","gray.800"),[u,d]=y.useState(!0),[m,p]=y.useState(null),[g,x]=y.useState(null),[j,S]=y.useState(!1),[C,_]=y.useState(null);y.useEffect(()=>{A()},[t,n]);const A=async()=>{try{d(!0),p({id:t,title:"Tourne collecte fvrier",date:new Date(2025,1,15).toISOString(),description:"Tourne de collecte bi-mensuelle",type:"TOURNEE"}),x({id:n,prenom:"Jean",nom:"Dupont",email:"jean@retrobus.fr"})}catch(P){console.error("Fetch error:",P),_("Impossible de charger les informations")}finally{d(!1)}},T=async P=>{try{if(d(!0),!(await fetch(`${$J}/api/planning/attendance/${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmed:P})})).ok)throw new Error("Failed");S(!0),i({status:"success",title:P?"Prsence confirme !":"Absence enregistre",duration:3e3}),setTimeout(()=>r("/"),2e3)}catch(k){i({status:"error",title:"Erreur",description:k.message})}finally{d(!1)}};if(u)return e.jsx(xn,{p:6,children:e.jsx(pn,{size:"xl"})});if(C)return e.jsx(xn,{p:6,minH:"100vh",children:e.jsxs(sn,{status:"error",borderRadius:"lg",children:[e.jsx(on,{}),C]})});if(j)return e.jsx(xn,{p:6,minH:"100vh",children:e.jsx($e,{bg:l,maxW:"500px",w:"100%",children:e.jsxs(Be,{textAlign:"center",py:10,children:[e.jsxs(ue,{mb:4,children:[e.jsx(ue,{fontSize:"60px",mb:4,children:""}),e.jsx(Me,{size:"lg",mb:2,children:"Merci !"}),e.jsx(R,{color:"gray.600",children:"Votre rponse a t enregistre."})]}),e.jsx(ne,{mt:6,onClick:()=>r("/"),children:"Retourner  l'accueil"})]})})});const z=new Date(m.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(xn,{p:6,minH:"100vh",bg:"gray.50",children:e.jsxs($e,{bg:l,maxW:"600px",w:"100%",boxShadow:"xl",borderRadius:"xl",children:[e.jsx(Nt,{p:8,borderBottomWidth:"1px",children:e.jsxs(se,{spacing:4,align:"center",children:[e.jsx(ue,{fontSize:"48px",children:""}),e.jsx(Me,{size:"lg",textAlign:"center",children:"Confirmation de prsence"}),e.jsxs(R,{color:"gray.600",textAlign:"center",children:["Bonjour ",g?.prenom," ",g?.nom]})]})}),e.jsx(Be,{p:8,children:e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(ue,{bg:"blue.50",p:4,borderRadius:"lg",borderLeft:"4px",borderLeftColor:"blue.500",children:[e.jsxs(re,{spacing:3,mb:2,children:[e.jsx(ui,{size:20,color:"#3b82f6"}),e.jsx(Me,{size:"sm",children:m?.title})]}),e.jsx(R,{fontSize:"sm",color:"gray.600",mb:2,children:z}),m?.description&&e.jsx(R,{fontSize:"sm",children:m.description})]}),e.jsxs(se,{spacing:3,pt:4,children:[e.jsx(R,{fontWeight:"600",textAlign:"center",children:"Confirmer votre prsence ?"}),e.jsxs(re,{spacing:3,w:"100%",children:[e.jsx(ne,{leftIcon:e.jsx(wx,{}),colorScheme:"green",size:"lg",flex:"1",onClick:()=>T(!0),isLoading:u,children:" Je serai prsent"}),e.jsx(ne,{leftIcon:e.jsx(Mp,{}),colorScheme:"red",size:"lg",flex:"1",variant:"outline",onClick:()=>T(!1),isLoading:u,children:" Je ne pourrai pas"})]})]}),e.jsx(ue,{pt:4,borderTopWidth:"1px",children:e.jsxs(R,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["Votre email: ",g?.email]})})]})})]})})}const HA={confirmed:{label:"Confirmer ma prsence",color:"green",icon:""},declined:{label:"Refuser",color:"red",icon:""},proposed_reschedule:{label:"Proposer un report",color:"orange",icon:""}};function VJ(){const t=wn(),{isOpen:n,onOpen:r,onClose:i}=Dt(),[l,u]=y.useState([]),[d,m]=y.useState(!0),[p,g]=y.useState(null),[x,j]=y.useState("confirmed"),[S,C]=y.useState(""),[_,A]=y.useState(""),[T,z]=y.useState(!1);y.useEffect(()=>{P()},[]);const P=async()=>{try{m(!0);const F=await fu("/api/planning/my-invitations");Array.isArray(F)?u(F):u([])}catch(F){console.error("Erreur chargement invitations:",F),t({title:"Erreur",description:"Impossible de charger les invitations",status:"error",duration:3}),u([])}finally{m(!1)}},k=async()=>{if(p)try{z(!0);const F={participantId:p.participantId,status:x,rescheduleProposal:x==="proposed_reschedule"?S:null,rescheduleReason:x==="proposed_reschedule"?_:null},Y=await fu(`/api/planning/respond-invitation/${p.planningId}/${p.participantId}`,{method:"POST",body:JSON.stringify(F)});if(Y.success)t({title:"Succs",description:`Votre rponse a t enregistre: ${HA[x].label}`,status:"success",duration:3}),u(q=>q.map(ce=>ce.participantId===p.participantId?{...ce,status:x}:ce)),i();else throw new Error(Y.error||"Erreur lors de la soumission")}catch(F){console.error("Erreur rponse:",F),t({title:"Erreur",description:F.message||"Impossible de soumettre votre rponse",status:"error",duration:3})}finally{z(!1)}},I=F=>({pending:"yellow",confirmed:"green",declined:"red",proposed_reschedule:"orange"})[F]||"gray",N=F=>({pending:"En attente de rponse",confirmed:"Confirm",declined:"Refus",proposed_reschedule:"Report propos"})[F]||F;return e.jsx(wc,{children:e.jsxs(zs,{maxW:"container.lg",py:8,children:[e.jsxs(se,{spacing:6,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Me,{size:"lg",mb:2,children:" Mes Invitations"}),e.jsxs(R,{color:"gray.600",children:["Vous avez ",l.length," invitation",l.length!==1?"s":""]})]}),d?e.jsx(R,{children:"Chargement..."}):l.length===0?e.jsx($e,{children:e.jsx(Be,{children:e.jsx(R,{textAlign:"center",color:"gray.500",children:"Vous n'avez pas d'invitations en attente"})})}):e.jsx(se,{spacing:4,children:l.map(F=>e.jsx($e,{w:"full",children:e.jsx(Be,{children:e.jsxs(se,{align:"start",spacing:3,w:"full",children:[e.jsxs(Qn,{w:"full",justify:"space-between",align:"start",children:[e.jsxs(se,{align:"start",flex:1,spacing:2,children:[e.jsx(Me,{size:"md",children:F.eventTitle}),e.jsx(R,{fontSize:"sm",color:"gray.600",children:F.eventType?`Type: ${F.eventType}`:""}),e.jsxs(re,{spacing:4,fontSize:"sm",children:[e.jsxs(R,{children:[" ",new Date(F.eventDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),e.jsxs(R,{children:[" ",F.eventStartTime||"Heure non dfinie"]})]}),F.eventLocation&&e.jsxs(R,{fontSize:"sm",color:"gray.600",children:[" ",F.eventLocation]}),F.eventDescription&&e.jsx(R,{fontSize:"sm",color:"gray.600",noOfLines:2,children:F.eventDescription})]}),e.jsx(et,{colorScheme:I(F.status),ml:4,textTransform:"capitalize",children:N(F.status)})]}),F.status==="pending"&&e.jsxs(re,{spacing:2,pt:2,borderTop:"1px solid",borderColor:"gray.200",w:"full",children:[e.jsx(ne,{size:"sm",colorScheme:"green",onClick:()=>{g(F),j("confirmed"),r()},children:" Confirmer"}),e.jsx(ne,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{g(F),j("declined"),r()},children:" Refuser"}),e.jsx(ne,{size:"sm",colorScheme:"orange",variant:"outline",onClick:()=>{g(F),j("proposed_reschedule"),r()},children:" Reporter"})]}),F.status==="proposed_reschedule"&&F.rescheduleProposal&&e.jsxs(ue,{fontSize:"sm",p:2,bg:"orange.50",borderRadius:"md",w:"full",children:[e.jsxs(R,{fontWeight:"bold",color:"orange.700",children:["Report propos au: ",new Date(F.rescheduleProposal).toLocaleDateString("fr-FR")]}),F.rescheduleReason&&e.jsx(R,{color:"orange.700",children:F.rescheduleReason})]})]})})},F.participantId))})]}),e.jsxs(Et,{isOpen:n,onClose:i,size:"lg",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:p&&`Rpondre : ${p.eventTitle}`}),e.jsx(It,{}),e.jsx(At,{pb:6,children:e.jsxs(se,{spacing:4,children:[x==="proposed_reschedule"&&e.jsxs(e.Fragment,{children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Date propose"}),e.jsx(xe,{type:"date",value:S,onChange:F=>C(F.target.value)})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Raison du report"}),e.jsx(Zt,{value:_,onChange:F=>A(F.target.value),placeholder:"Expliquez pourquoi vous proposez ce report...",rows:4})]})]}),x==="declined"&&e.jsxs(te,{children:[e.jsx(ee,{children:"Motif du refus (optionnel)"}),e.jsx(Zt,{value:_,onChange:F=>A(F.target.value),placeholder:"Expliquez pourquoi vous refusez cette invitation...",rows:4})]}),e.jsxs(re,{w:"full",pt:4,children:[e.jsx(ne,{flex:1,colorScheme:x==="confirmed"?"green":x==="declined"?"red":"orange",isLoading:T,onClick:k,children:HA[x].label}),e.jsx(ne,{flex:1,variant:"outline",onClick:i,isDisabled:T,children:"Annuler"})]})]})})]})]})]})})}function UJ(){const t=wn(),{isOpen:n,onOpen:r,onClose:i}=Dt(),{isOpen:l,onOpen:u,onClose:d}=Dt(),[m,p]=y.useState([]),[g,x]=y.useState(!1),[j,S]=y.useState(null),[C,_]=y.useState({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),[A,T]=y.useState(null),z=y.useCallback(async()=>{try{x(!0);const q=await mt.get("/api/retro-requests");q.requests&&p(q.requests)}catch(q){console.error("Erreur chargement:",q),t({title:"Erreur",description:"Impossible de charger les demandes",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},[t]);y.useEffect(()=>{z()},[z]);const P=async q=>{if(q.preventDefault(),!C.title.trim()||!C.description.trim()){t({title:"Erreur",description:"Titre et description requis",status:"warning",duration:3e3,isClosable:!0});return}try{x(!0);let ce;if(A)ce=await mt.put(`/api/retro-requests/${A}`,C),p(m.map(de=>de.id===A?ce:de)),t({title:"Succs",description:"Demande mise  jour",status:"success",duration:3e3,isClosable:!0});else{ce=await mt.post("/api/retro-requests",C),p([ce,...m]);try{await mt.post(`/api/retro-requests/${ce.id}/send-emails`,{title:C.title,description:C.description,category:C.category,priority:C.priority})}catch(de){console.error("Erreur envoi emails:",de)}t({title:"Succs",description:"Demande cre et email envoy",status:"success",duration:3e3,isClosable:!0})}_({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),T(null),i()}catch(ce){t({title:"Erreur",description:ce.response?.data?.error||"Erreur lors de la soumission",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},k=()=>{T(null),_({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),r()},I=q=>{if(q.status!=="PENDING"){t({title:"Impossible",description:"Seules les demandes en attente peuvent tre modifies",status:"warning",duration:3e3,isClosable:!0});return}T(q.id),_({title:q.title,description:q.description,category:q.category,priority:q.priority}),r()},N=async q=>{if(window.confirm("tes-vous sr?"))try{await mt.delete(`/api/retro-requests/${q}`),p(m.filter(ce=>ce.id!==q)),t({title:"Succs",description:"Demande supprime",status:"success",duration:3e3,isClosable:!0})}catch(ce){t({title:"Erreur",description:ce.response?.data?.error||"Erreur suppression",status:"error",duration:5e3,isClosable:!0})}},F=q=>{S(q),u()},Y=q=>{const de={PENDING:{label:"En attente",colorScheme:"yellow"},UNDER_REVIEW:{label:"En examen",colorScheme:"blue"},QUOTED:{label:"Devis reu",colorScheme:"purple"},ACCEPTED:{label:"Accept",colorScheme:"green"},REFUSED:{label:"Refus",colorScheme:"red"},COMPLETED:{label:"Complt",colorScheme:"gray"}}[q]||{label:q,colorScheme:"gray"};return e.jsx(et,{colorScheme:de.colorScheme,children:de.label})};return e.jsxs(wc,{title:"RtroDemandes",subtitle:"Grez vos demandes et consultez vos devis",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"RtroDemandes",href:"/dashboard/retro-requests"}],children:[e.jsx(zs,{maxW:"7xl",py:8,children:e.jsx($e,{children:e.jsx(Nt,{children:e.jsxs(sa,{variant:"soft-rounded",colorScheme:"blue",defaultIndex:0,children:[e.jsxs(ia,{children:[e.jsx(ln,{children:"Crer une demande"}),e.jsxs(ln,{children:["Mes demandes (",m.length,")"]})]}),e.jsxs(oa,{children:[e.jsx(cn,{children:e.jsx(ue,{pt:4,children:e.jsxs(se,{spacing:4,align:"stretch",as:"form",onSubmit:P,children:[e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Titre de la demande"}),e.jsx(xe,{placeholder:"Ex: Rvision complte",value:C.title,onChange:q=>_({...C,title:q.target.value})})]}),e.jsxs(te,{isRequired:!0,children:[e.jsx(ee,{children:"Description dtaille"}),e.jsx(Zt,{placeholder:"Dcrivez votre demande en dtail...",value:C.description,onChange:q=>_({...C,description:q.target.value}),minH:"200px"})]}),e.jsxs(ho,{templateColumns:"1fr 1fr",gap:4,children:[e.jsxs(te,{children:[e.jsx(ee,{children:"Catgorie"}),e.jsxs(st,{value:C.category,onChange:q=>_({...C,category:q.target.value}),children:[e.jsx("option",{value:"GENERAL",children:"Gnral"}),e.jsx("option",{value:"REPAIR",children:"Rparation"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"SERVICE",children:"Service"}),e.jsx("option",{value:"CUSTOM",children:"Personnalis"})]})]}),e.jsxs(te,{children:[e.jsx(ee,{children:"Priorit"}),e.jsxs(st,{value:C.priority,onChange:q=>_({...C,priority:q.target.value}),children:[e.jsx("option",{value:"LOW",children:"Basse"}),e.jsx("option",{value:"NORMAL",children:"Normal"}),e.jsx("option",{value:"HIGH",children:"leve"}),e.jsx("option",{value:"URGENT",children:"Urgent"})]})]})]}),e.jsxs(re,{spacing:3,justify:"flex-end",children:[e.jsx(ne,{variant:"outline",onClick:()=>_({title:"",description:"",category:"GENERAL",priority:"NORMAL"}),children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",type:"submit",isLoading:g,children:"Crer"})]})]})})}),e.jsx(cn,{children:e.jsx(ue,{pt:4,children:g&&m.length===0?e.jsx(Qn,{justify:"center",py:10,children:e.jsx(pn,{})}):m.length===0?e.jsxs(ue,{textAlign:"center",py:10,color:"gray.500",children:[e.jsx(R,{mb:4,children:"Aucune demande pour le moment"}),e.jsx(ne,{colorScheme:"blue",size:"sm",onClick:k,children:"Crer une demande"})]}):e.jsxs(br,{size:"sm",variant:"striped",children:[e.jsx(Er,{children:e.jsxs(Ft,{children:[e.jsx(Ie,{children:"Titre"}),e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Date"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:m.map(q=>e.jsxs(Ft,{children:[e.jsx(Ne,{fontWeight:"medium",children:q.title}),e.jsx(Ne,{fontSize:"sm",children:q.category}),e.jsx(Ne,{children:Y(q.status)}),e.jsx(Ne,{fontSize:"sm",children:new Date(q.createdAt).toLocaleDateString()}),e.jsx(Ne,{children:e.jsxs(re,{spacing:2,children:[e.jsx(ut,{icon:e.jsx(Qp,{}),size:"sm",variant:"ghost",onClick:()=>F(q),title:"Voir dtails"}),q.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx(ut,{icon:e.jsx(Pp,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>I(q),title:"diter"}),e.jsx(ut,{icon:e.jsx(th,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>N(q.id),title:"Supprimer"})]})]})})]},q.id))})]})})})]})]})})})}),e.jsxs(Et,{isOpen:l,onClose:d,size:"2xl",children:[e.jsx(kt,{}),e.jsxs(Rt,{children:[e.jsx(Tt,{children:"Dtails de la demande"}),e.jsx(It,{}),e.jsx(At,{children:j&&e.jsxs(se,{spacing:4,align:"start",width:"100%",children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:"Titre:"}),e.jsx(R,{children:j.title})]}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",children:"Description:"}),e.jsx(R,{whiteSpace:"pre-wrap",children:j.description})]}),e.jsxs(re,{spacing:8,children:[e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",children:"Catgorie:"}),e.jsx(R,{children:j.category})]}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",children:"Priorit:"}),e.jsx(R,{children:j.priority})]}),e.jsxs(ue,{children:[e.jsx(R,{fontWeight:"bold",fontSize:"sm",children:"Statut:"}),Y(j.status)]})]})]})})]})]})]})}function HJ(){const t=wn(),[n,r]=y.useState([]),[i,l]=y.useState({PENDING:0,IN_PROGRESS:0,COMPLETED:0,CANCELLED:0}),[u,d]=y.useState(!1),[m,p]=y.useState(null),g=y.useCallback(async()=>{try{d(!0);const C=await mt.get("/api/president/retro-requests");C.requests&&(r(C.requests),C.statusCount&&l(C.statusCount))}catch(C){console.error("Erreur chargement:",C),t({title:"Erreur",description:"Impossible de charger les demandes",status:"error",duration:5e3,isClosable:!0})}finally{d(!1)}},[t]);y.useEffect(()=>{g();const C=setInterval(g,3e4);return()=>clearInterval(C)},[g]);const x=C=>({PENDING:"orange",IN_PROGRESS:"blue",COMPLETED:"green",CANCELLED:"red"})[C]||"gray",j=C=>({PENDING:"En attente",IN_PROGRESS:"En cours",COMPLETED:"Termin",CANCELLED:"Annul"})[C]||C,S=m?n.filter(C=>C.status===m):n;return e.jsx(wc,{children:e.jsx(zs,{maxW:"7xl",py:8,children:e.jsxs(se,{spacing:8,align:"stretch",children:[e.jsxs(ue,{children:[e.jsx(Me,{as:"h1",size:"xl",mb:2,children:" Rcapitulatif des Demandes"}),e.jsx(R,{color:"gray.600",children:"Suivi global de toutes les RtroDemandes de l'association"})]}),e.jsxs(ho,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,children:[e.jsx($e,{bg:"orange.50",border:"2px solid",borderColor:"orange.200",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"En attente"}),e.jsx(bt,{color:"orange.600",children:i.PENDING})]})})}),e.jsx($e,{bg:"blue.50",border:"2px solid",borderColor:"blue.200",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"En cours"}),e.jsx(bt,{color:"blue.600",children:i.IN_PROGRESS})]})})}),e.jsx($e,{bg:"green.50",border:"2px solid",borderColor:"green.200",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Termines"}),e.jsx(bt,{color:"green.600",children:i.COMPLETED})]})})}),e.jsx($e,{bg:"red.50",border:"2px solid",borderColor:"red.200",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Annules"}),e.jsx(bt,{color:"red.600",children:i.CANCELLED})]})})}),e.jsx($e,{bg:"gray.50",border:"2px solid",borderColor:"gray.200",children:e.jsx(Be,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:"Total"}),e.jsx(bt,{color:"gray.700",children:Object.values(i).reduce((C,_)=>C+_,0)})]})})})]}),e.jsxs(re,{spacing:2,flexWrap:"wrap",children:[e.jsx(R,{fontWeight:"bold",children:"Filtrer par statut:"}),e.jsxs(ne,{size:"sm",variant:m===null?"solid":"outline",onClick:()=>p(null),colorScheme:"gray",children:["Tous (",n.length,")"]}),e.jsx(ne,{size:"sm",variant:m==="PENDING"?"solid":"outline",onClick:()=>p("PENDING"),colorScheme:"orange",children:"En attente"}),e.jsx(ne,{size:"sm",variant:m==="IN_PROGRESS"?"solid":"outline",onClick:()=>p("IN_PROGRESS"),colorScheme:"blue",children:"En cours"}),e.jsx(ne,{size:"sm",variant:m==="COMPLETED"?"solid":"outline",onClick:()=>p("COMPLETED"),colorScheme:"green",children:"Termines"}),e.jsx(ne,{size:"sm",variant:m==="CANCELLED"?"solid":"outline",onClick:()=>p("CANCELLED"),colorScheme:"red",children:"Annules"})]}),e.jsxs($e,{children:[e.jsx(Nt,{children:e.jsxs(Qn,{justify:"space-between",align:"center",children:[e.jsxs(Me,{size:"md",children:["Demandes (",S.length,")"]}),e.jsx(ne,{size:"sm",leftIcon:e.jsx(wX,{}),colorScheme:"blue",children:"Exporter"})]})}),e.jsx(zn,{}),e.jsx(Be,{children:u?e.jsx(Qn,{justify:"center",align:"center",py:10,children:e.jsx(pn,{size:"lg"})}):S.length===0?e.jsx(R,{textAlign:"center",color:"gray.500",py:10,children:"Aucune demande  afficher"}):e.jsx(ue,{overflowX:"auto",children:e.jsxs(br,{size:"sm",variant:"striped",children:[e.jsx(Er,{children:e.jsxs(Ft,{bg:"gray.50",children:[e.jsx(Ie,{children:"ID"}),e.jsx(Ie,{children:"Auteur"}),e.jsx(Ie,{children:"Titre"}),e.jsx(Ie,{children:"Catgorie"}),e.jsx(Ie,{children:"Priorit"}),e.jsx(Ie,{children:"Statut"}),e.jsx(Ie,{children:"Cre le"}),e.jsx(Ie,{children:"Devis"}),e.jsx(Ie,{children:"Actions"})]})}),e.jsx(_r,{children:S.map(C=>e.jsxs(Ft,{_hover:{bg:"gray.50"},children:[e.jsxs(Ne,{fontSize:"xs",fontFamily:"mono",children:[C.id.slice(0,8),"..."]}),e.jsxs(Ne,{children:[e.jsx(R,{fontSize:"sm",children:C.userName||"N/A"}),e.jsx(R,{fontSize:"xs",color:"gray.500",children:C.userEmail||"N/A"})]}),e.jsx(Ne,{children:e.jsx(R,{fontWeight:"medium",noOfLines:2,children:C.title})}),e.jsx(Ne,{children:e.jsx(et,{fontSize:"xs",children:C.category||"N/A"})}),e.jsx(Ne,{children:e.jsx(et,{fontSize:"xs",colorScheme:C.priority==="HIGH"?"red":C.priority==="MEDIUM"?"yellow":"green",children:C.priority||"NORMAL"})}),e.jsx(Ne,{children:e.jsx(et,{colorScheme:x(C.status),children:j(C.status)})}),e.jsx(Ne,{fontSize:"xs",children:new Date(C.createdAt).toLocaleDateString("fr-FR")}),e.jsx(Ne,{children:C.quotes&&C.quotes.length>0?e.jsx(et,{colorScheme:"green",children:C.quotes.length}):e.jsx(R,{fontSize:"xs",color:"gray.500",children:"0"})}),e.jsx(Ne,{children:e.jsx(ne,{size:"xs",leftIcon:e.jsx(Qp,{}),variant:"ghost",children:"Voir"})})]},C.id))})]})})})]})]})})})}function WJ(){const{isAuthenticated:t}=_s(),n=ra();console.log(" Current route:",n.pathname);const r=t&&n.pathname!=="/login";return e.jsxs(e.Fragment,{children:[r&&e.jsx(aK,{}),e.jsxs(wL,{children:[e.jsx(Un,{path:"/login",element:e.jsx(bJ,{})}),e.jsx(Un,{path:"/dashboard/home",element:e.jsx(hl,{children:e.jsx(Yy,{})})}),e.jsx(Un,{path:"/dashboard/myrbe",element:e.jsx(hl,{children:e.jsx(oQ,{})})}),e.jsx(Un,{path:"/dashboard/myrbe/:parc",element:e.jsx(hl,{children:e.jsx(lQ,{})})}),e.jsx(Un,{path:"/dashboard/retro-requests",element:e.jsx(hl,{children:e.jsx(UJ,{})})}),e.jsx(Un,{path:"/dashboard/president/retro-requests",element:e.jsx(ss,{allowedRoles:["PRESIDENT","ADMIN"],children:e.jsx(HJ,{})})}),e.jsx(Un,{path:"/admin/finance",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(pQ,{})})}),e.jsx(Un,{path:"/dashboard/vehicules",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(ZK,{})})}),e.jsx(Un,{path:"/dashboard/vehicules/ajouter",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(IK,{children:e.jsx(tQ,{})})})}),e.jsx(Un,{path:"/dashboard/vehicules/:parc",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(iQ,{})})}),e.jsx(Un,{path:"/dashboard/evenements",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(mQ,{})})}),e.jsx(Un,{path:"/dashboard/events-management",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(WQ,{})})}),e.jsx(Un,{path:"/dashboard/events-creation",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(GQ,{})})}),e.jsx(Un,{path:"/dashboard/test-events",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(ZQ,{})})}),e.jsx(Un,{path:"/dashboard/site-management",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Xr.SITE_MANAGEMENT,children:e.jsx(uJ,{})})})}),e.jsx(Un,{path:"/dashboard/flash-management",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(pJ,{})})}),e.jsx(Un,{path:"/dashboard/retromerch",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(zJ,{})})}),e.jsx(Un,{path:"/dashboard/stock-management",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(fJ,{})})}),e.jsx(Un,{path:"/dashboard/members-management",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(RJ,{})})}),e.jsx(Un,{path:"/members",element:e.jsx(hl,{children:e.jsx(EJ,{})})}),e.jsx(Un,{path:"/adhesion",element:e.jsx(hl,{children:e.jsx(gJ,{})})}),e.jsx(Un,{path:"/dashboard/newsletter",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(jJ,{})})}),e.jsx(Un,{path:"/dashboard/newsletter-campaigns",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(SJ,{})})}),e.jsx(Un,{path:"/dashboard/retroplanning",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Xr.RETROPLANNING,children:e.jsx(BJ,{})})})}),e.jsx(Un,{path:"/planning/attendance/:eventId/:memberId",element:e.jsx(FJ,{})}),e.jsx(Un,{path:"/planning/my-invitations",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Xr.RETROPLANNING_RESPOND,children:e.jsx(VJ,{})})})}),e.jsx(Un,{path:"/dashboard/support",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(Ag,{resource:Xr.RETROSUPPORT,children:e.jsx(DJ,{})})})}),e.jsx(Un,{path:"/retromail",element:e.jsx(ss,{deniedRoles:["CLIENT","GUEST"],children:e.jsx(hQ,{})})}),e.jsx(Un,{path:"/mobile/v/:parc",element:e.jsx(hl,{children:e.jsx(QK,{})})}),e.jsx(Un,{path:"/",element:e.jsx(hl,{children:e.jsx(Yy,{})})}),e.jsx(Un,{path:"*",element:e.jsx(hl,{children:e.jsx(Yy,{})})})]})]})}zz.createRoot(document.getElementById("root")).render(e.jsx(fn.StrictMode,{children:e.jsx($U,{theme:vX,children:e.jsx(ZL,{children:e.jsx(TX,{children:e.jsx(WJ,{})})})})}));
