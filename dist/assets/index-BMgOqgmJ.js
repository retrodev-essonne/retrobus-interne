function hD(t,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O0={exports:{}},of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function fD(){if(oC)return of;oC=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:d,ref:l!==void 0?l:null,props:u}}return of.Fragment=n,of.jsx=r,of.jsxs=r,of}var lC;function pD(){return lC||(lC=1,O0.exports=fD()),O0.exports}var e=pD(),N0={exports:{}},ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function mD(){if(cC)return ln;cC=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=j&&B[j]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(B,ie,he){this.props=B,this.context=ie,this.refs=A,this.updater=he||_}T.prototype.isReactComponent={},T.prototype.setState=function(B,ie){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ie,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=T.prototype;function M(B,ie,he){this.props=B,this.context=ie,this.refs=A,this.updater=he||_}var k=M.prototype=new z;k.constructor=M,E(k,T.prototype),k.isPureReactComponent=!0;var O=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function G(B,ie,he,F,P,N){return he=N.ref,{$$typeof:t,type:B,key:ie,ref:he!==void 0?he:null,props:N}}function ee(B,ie){return G(B.type,ie,void 0,void 0,void 0,B.props)}function ue(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function fe(B){var ie={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return ie[he]})}var X=/\/+/g;function me(B,ie){return typeof B=="object"&&B!==null&&B.key!=null?fe(""+B.key):ie.toString(36)}function Ee(){}function pe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Ee,Ee):(B.status="pending",B.then(function(ie){B.status==="pending"&&(B.status="fulfilled",B.value=ie)},function(ie){B.status==="pending"&&(B.status="rejected",B.reason=ie)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function K(B,ie,he,F,P){var N=typeof B;(N==="undefined"||N==="boolean")&&(B=null);var re=!1;if(B===null)re=!0;else switch(N){case"bigint":case"string":case"number":re=!0;break;case"object":switch(B.$$typeof){case t:case n:re=!0;break;case x:return re=B._init,K(re(B._payload),ie,he,F,P)}}if(re)return P=P(B),re=F===""?"."+me(B,0):F,O(P)?(he="",re!=null&&(he=re.replace(X,"$&/")+"/"),K(P,ie,he,"",function(Pe){return Pe})):P!=null&&(ue(P)&&(P=ee(P,he+(P.key==null||B&&B.key===P.key?"":(""+P.key).replace(X,"$&/")+"/")+re)),ie.push(P)),1;re=0;var Le=F===""?".":F+":";if(O(B))for(var Oe=0;Oe<B.length;Oe++)F=B[Oe],N=Le+me(F,Oe),re+=K(F,ie,he,N,P);else if(Oe=S(B),typeof Oe=="function")for(B=Oe.call(B),Oe=0;!(F=B.next()).done;)F=F.value,N=Le+me(F,Oe++),re+=K(F,ie,he,N,P);else if(N==="object"){if(typeof B.then=="function")return K(pe(B),ie,he,F,P);throw ie=String(B),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return re}function Z(B,ie,he){if(B==null)return B;var F=[],P=0;return K(B,F,"","",function(N){return ie.call(he,N,P++)}),F}function W(B){if(B._status===-1){var ie=B._result;ie=ie(),ie.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=ie)}if(B._status===1)return B._result.default;throw B._result}var H=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Se(){}return ln.Children={map:Z,forEach:function(B,ie,he){Z(B,function(){ie.apply(this,arguments)},he)},count:function(B){var ie=0;return Z(B,function(){ie++}),ie},toArray:function(B){return Z(B,function(ie){return ie})||[]},only:function(B){if(!ue(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ln.Component=T,ln.Fragment=r,ln.Profiler=l,ln.PureComponent=M,ln.StrictMode=s,ln.Suspense=p,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ln.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},ln.cache=function(B){return function(){return B.apply(null,arguments)}},ln.cloneElement=function(B,ie,he){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var F=E({},B.props),P=B.key,N=void 0;if(ie!=null)for(re in ie.ref!==void 0&&(N=void 0),ie.key!==void 0&&(P=""+ie.key),ie)!$.call(ie,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&ie.ref===void 0||(F[re]=ie[re]);var re=arguments.length-2;if(re===1)F.children=he;else if(1<re){for(var Le=Array(re),Oe=0;Oe<re;Oe++)Le[Oe]=arguments[Oe+2];F.children=Le}return G(B.type,P,void 0,void 0,N,F)},ln.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},ln.createElement=function(B,ie,he){var F,P={},N=null;if(ie!=null)for(F in ie.key!==void 0&&(N=""+ie.key),ie)$.call(ie,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(P[F]=ie[F]);var re=arguments.length-2;if(re===1)P.children=he;else if(1<re){for(var Le=Array(re),Oe=0;Oe<re;Oe++)Le[Oe]=arguments[Oe+2];P.children=Le}if(B&&B.defaultProps)for(F in re=B.defaultProps,re)P[F]===void 0&&(P[F]=re[F]);return G(B,N,void 0,void 0,null,P)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(B){return{$$typeof:m,render:B}},ln.isValidElement=ue,ln.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:W}},ln.memo=function(B,ie){return{$$typeof:g,type:B,compare:ie===void 0?null:ie}},ln.startTransition=function(B){var ie=I.T,he={};I.T=he;try{var F=B(),P=I.S;P!==null&&P(he,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Se,H)}catch(N){H(N)}finally{I.T=ie}},ln.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ln.use=function(B){return I.H.use(B)},ln.useActionState=function(B,ie,he){return I.H.useActionState(B,ie,he)},ln.useCallback=function(B,ie){return I.H.useCallback(B,ie)},ln.useContext=function(B){return I.H.useContext(B)},ln.useDebugValue=function(){},ln.useDeferredValue=function(B,ie){return I.H.useDeferredValue(B,ie)},ln.useEffect=function(B,ie,he){var F=I.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(B,ie)},ln.useId=function(){return I.H.useId()},ln.useImperativeHandle=function(B,ie,he){return I.H.useImperativeHandle(B,ie,he)},ln.useInsertionEffect=function(B,ie){return I.H.useInsertionEffect(B,ie)},ln.useLayoutEffect=function(B,ie){return I.H.useLayoutEffect(B,ie)},ln.useMemo=function(B,ie){return I.H.useMemo(B,ie)},ln.useOptimistic=function(B,ie){return I.H.useOptimistic(B,ie)},ln.useReducer=function(B,ie,he){return I.H.useReducer(B,ie,he)},ln.useRef=function(B){return I.H.useRef(B)},ln.useState=function(B){return I.H.useState(B)},ln.useSyncExternalStore=function(B,ie,he){return I.H.useSyncExternalStore(B,ie,he)},ln.useTransition=function(){return I.H.useTransition()},ln.version="19.1.1",ln}var uC;function vj(){return uC||(uC=1,N0.exports=mD()),N0.exports}var b=vj();const cn=Sp(b),dC=hD({__proto__:null,default:cn},[b]);var I0={exports:{}},lf={},B0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function gD(){return hC||(hC=1,(function(t){function n(Z,W){var H=Z.length;Z.push(W);e:for(;0<H;){var Se=H-1>>>1,B=Z[Se];if(0<l(B,W))Z[Se]=W,Z[H]=B,H=Se;else break e}}function r(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var W=Z[0],H=Z.pop();if(H!==W){Z[0]=H;e:for(var Se=0,B=Z.length,ie=B>>>1;Se<ie;){var he=2*(Se+1)-1,F=Z[he],P=he+1,N=Z[P];if(0>l(F,H))P<B&&0>l(N,F)?(Z[Se]=N,Z[P]=H,Se=P):(Z[Se]=F,Z[he]=H,Se=he);else if(P<B&&0>l(N,H))Z[Se]=N,Z[P]=H,Se=P;else break e}}return W}function l(Z,W){var H=Z.sortIndex-W.sortIndex;return H!==0?H:Z.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,j=null,S=3,_=!1,E=!1,A=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(Z){for(var W=r(g);W!==null;){if(W.callback===null)s(g);else if(W.startTime<=Z)s(g),W.sortIndex=W.expirationTime,n(p,W);else break;W=r(g)}}function I(Z){if(A=!1,O(Z),!E)if(r(p)!==null)E=!0,$||($=!0,me());else{var W=r(g);W!==null&&K(I,W.startTime-Z)}}var $=!1,G=-1,ee=5,ue=-1;function fe(){return T?!0:!(t.unstable_now()-ue<ee)}function X(){if(T=!1,$){var Z=t.unstable_now();ue=Z;var W=!0;try{e:{E=!1,A&&(A=!1,M(G),G=-1),_=!0;var H=S;try{t:{for(O(Z),j=r(p);j!==null&&!(j.expirationTime>Z&&fe());){var Se=j.callback;if(typeof Se=="function"){j.callback=null,S=j.priorityLevel;var B=Se(j.expirationTime<=Z);if(Z=t.unstable_now(),typeof B=="function"){j.callback=B,O(Z),W=!0;break t}j===r(p)&&s(p),O(Z)}else s(p);j=r(p)}if(j!==null)W=!0;else{var ie=r(g);ie!==null&&K(I,ie.startTime-Z),W=!1}}break e}finally{j=null,S=H,_=!1}W=void 0}}finally{W?me():$=!1}}}var me;if(typeof k=="function")me=function(){k(X)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,pe=Ee.port2;Ee.port1.onmessage=X,me=function(){pe.postMessage(null)}}else me=function(){z(X,0)};function K(Z,W){G=z(function(){Z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var H=S;S=W;try{return Z()}finally{S=H}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Z,W){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var H=S;S=Z;try{return W()}finally{S=H}},t.unstable_scheduleCallback=function(Z,W,H){var Se=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Se+H:Se):H=Se,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,Z={id:x++,callback:W,priorityLevel:Z,startTime:H,expirationTime:B,sortIndex:-1},H>Se?(Z.sortIndex=H,n(g,Z),r(p)===null&&Z===r(g)&&(A?(M(G),G=-1):A=!0,K(I,H-Se))):(Z.sortIndex=B,n(p,Z),E||_||(E=!0,$||($=!0,me()))),Z},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(Z){var W=S;return function(){var H=S;S=W;try{return Z.apply(this,arguments)}finally{S=H}}}})($0)),$0}var fC;function xD(){return fC||(fC=1,B0.exports=gD()),B0.exports}var F0={exports:{}},Vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function vD(){if(pC)return Vi;pC=1;var t=vj();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:j==null?null:""+j,children:p,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vi.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(p,g,null,x)},Vi.flushSync=function(p){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=x,s.d.f()}},Vi.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Vi.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Vi.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,j=m(x,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:j,integrity:S,fetchPriority:_}):x==="script"&&s.d.X(p,{crossOrigin:j,integrity:S,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vi.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Vi.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,j=m(x,g.crossOrigin);s.d.L(p,x,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vi.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Vi.requestFormReset=function(p){s.d.r(p)},Vi.unstable_batchedUpdates=function(p,g){return p(g)},Vi.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},Vi.useFormStatus=function(){return d.H.useHostTransitionStatus()},Vi.version="19.1.1",Vi}var mC;function LA(){if(mC)return F0.exports;mC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),F0.exports=vD(),F0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function yD(){if(gC)return lf;gC=1;var t=xD(),n=vj(),r=LA();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function d(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function p(i){var a=i.alternate;if(!a){if(a=u(i),a===null)throw Error(s(188));return a!==i?null:i}for(var c=i,f=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return m(y),i;if(w===f)return m(y),a;w=w.sibling}throw Error(s(188))}if(c.return!==f.return)c=y,f=w;else{for(var V=!1,Y=y.child;Y;){if(Y===c){V=!0,c=y,f=w;break}if(Y===f){V=!0,f=y,c=w;break}Y=Y.sibling}if(!V){for(Y=w.child;Y;){if(Y===c){V=!0,c=w,f=y;break}if(Y===f){V=!0,f=w,c=y;break}Y=Y.sibling}if(!V)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ee?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case $:return"SuspenseList";case ue:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case k:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case O:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return a=i.displayName||null,a!==null?a:pe(i.type)||"Memo";case ee:a=i._payload,i=i._init;try{return pe(i(a))}catch{}}return null}var K=Array.isArray,Z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Se=[],B=-1;function ie(i){return{current:i}}function he(i){0>B||(i.current=Se[B],Se[B]=null,B--)}function F(i,a){B++,Se[B]=i.current,i.current=a}var P=ie(null),N=ie(null),re=ie(null),Le=ie(null);function Oe(i,a){switch(F(re,a),F(N,i),F(P,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?L_(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=L_(a),i=O_(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(P),F(P,i)}function Pe(){he(P),he(N),he(re)}function it(i){i.memoizedState!==null&&F(Le,i);var a=P.current,c=O_(a,i.type);a!==c&&(F(N,i),F(P,c))}function ot(i){N.current===i&&(he(P),he(N)),Le.current===i&&(he(Le),tf._currentValue=H)}var Qe=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,Bt=t.unstable_shouldYield,ye=t.unstable_requestPaint,Ze=t.unstable_now,Tt=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,Je=t.unstable_NormalPriority,bt=t.unstable_LowPriority,An=t.unstable_IdlePriority,nr=t.log,Fe=t.unstable_setDisableYieldValue,et=null,jt=null;function Ye(i){if(typeof nr=="function"&&Fe(i),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(et,i)}catch{}}var ft=Math.clz32?Math.clz32:xt,Tn=Math.log,qe=Math.LN2;function xt(i){return i>>>=0,i===0?32:31-(Tn(i)/qe|0)|0}var en=256,dn=4194304;function Zt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Rn(i,a,c){var f=i.pendingLanes;if(f===0)return 0;var y=0,w=i.suspendedLanes,V=i.pingedLanes;i=i.warmLanes;var Y=f&134217727;return Y!==0?(f=Y&~w,f!==0?y=Zt(f):(V&=Y,V!==0?y=Zt(V):c||(c=Y&~i,c!==0&&(y=Zt(c))))):(Y=f&~w,Y!==0?y=Zt(Y):V!==0?y=Zt(V):c||(c=f&~i,c!==0&&(y=Zt(c)))),y===0?0:a!==0&&a!==y&&(a&w)===0&&(w=y&-y,c=a&-a,w>=c||w===32&&(c&4194048)!==0)?a:y}function an(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Sr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var i=en;return en<<=1,(en&4194048)===0&&(en=256),i}function Vr(){var i=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),i}function kn(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function cr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kr(i,a,c,f,y,w){var V=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var Y=i.entanglements,de=i.expirationTimes,Te=i.hiddenUpdates;for(c=V&~c;0<c;){var Ue=31-ft(c),Ge=1<<Ue;Y[Ue]=0,de[Ue]=-1;var ke=Te[Ue];if(ke!==null)for(Te[Ue]=null,Ue=0;Ue<ke.length;Ue++){var Re=ke[Ue];Re!==null&&(Re.lane&=-536870913)}c&=~Ge}f!==0&&Ya(i,f,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(V&~a))}function Ya(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-ft(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|c&4194090}function Xa(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var f=31-ft(c),y=1<<f;y&a|i[f]&a&&(i[f]|=a),c&=~y}}function Ts(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ks(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ka(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:tC(i.type))}function ai(i,a){var c=W.p;try{return W.p=i,a()}finally{W.p=c}}var Ii=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Ii,Ur="__reactProps$"+Ii,Gi="__reactContainer$"+Ii,tt="__reactEvents$"+Ii,pt="__reactListeners$"+Ii,Cl="__reactHandles$"+Ii,Ca="__reactResources$"+Ii,ia="__reactMarker$"+Ii;function Qa(i){delete i[Dr],delete i[Ur],delete i[tt],delete i[pt],delete i[Cl]}function Bi(i){var a=i[Dr];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Gi]||c[Dr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=$_(i);i!==null;){if(c=i[Dr])return c;i=$_(i)}return a}i=c,c=i.parentNode}return null}function pi(i){if(i=i[Dr]||i[Gi]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ci(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function Zi(i){var a=i[Ca];return a||(a=i[Ca]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function wr(i){i[ia]=!0}var El=new Set,Ja={};function Ps(i,a){Ei(i,a),Ei(i+"Capture",a)}function Ei(i,a){for(Ja[i]=a,i=0;i<a.length;i++)El.add(a[i])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fs={},eo={};function Tl(i){return Qe.call(eo,i)?!0:Qe.call(fs,i)?!1:Al.test(i)?eo[i]=!0:(fs[i]=!0,!1)}function Ms(i,a,c){if(Tl(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function Ea(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function Ai(i,a,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+f)}}var Aa,sa;function Yi(i){if(Aa===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Aa=a&&a[1]||"",sa=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+i+sa}var Bo=!1;function Rs(i,a){if(!i||Bo)return"";Bo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Re){var ke=Re}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(Re){ke=Re}i.call(Ge.prototype)}}else{try{throw Error()}catch(Re){ke=Re}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Re){if(Re&&ke&&typeof Re.stack=="string")return[Re.stack,ke.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),V=w[0],Y=w[1];if(V&&Y){var de=V.split(`
`),Te=Y.split(`
`);for(y=f=0;f<de.length&&!de[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Te.length&&!Te[y].includes("DetermineComponentFrameRoot");)y++;if(f===de.length||y===Te.length)for(f=de.length-1,y=Te.length-1;1<=f&&0<=y&&de[f]!==Te[y];)y--;for(;1<=f&&0<=y;f--,y--)if(de[f]!==Te[y]){if(f!==1||y!==1)do if(f--,y--,0>y||de[f]!==Te[y]){var Ue=`
`+de[f].replace(" at new "," at ");return i.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",i.displayName)),Ue}while(1<=f&&0<=y);break}}}finally{Bo=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Yi(c):""}function gn(i){switch(i.tag){case 26:case 27:case 5:return Yi(i.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return Rs(i.type,!1);case 11:return Rs(i.type.render,!1);case 1:return Rs(i.type,!0);case 31:return Yi("Activity");default:return""}}function zt(i){try{var a="";do a+=gn(i),i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mi(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zs(i){var a=mi(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(V){f=""+V,w.call(this,V)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(V){f=""+V},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ds(i){i._valueTracker||(i._valueTracker=zs(i))}function Yt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return i&&(f=mi(i)?i.checked?"true":"false":i.value),i=f,i!==c?(a.setValue(i),!0):!1}function $n(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ps=/[\n"\\]/g;function rr(i){return i.replace(ps,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _r(i,a,c,f,y,w,V,Y){i.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.type=V:i.removeAttribute("type"),a!=null?V==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Qn(a)):i.value!==""+Qn(a)&&(i.value=""+Qn(a)):V!=="submit"&&V!=="reset"||i.removeAttribute("value"),a!=null?Ls(i,V,Qn(a)):c!=null?Ls(i,V,Qn(c)):f!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?i.name=""+Qn(Y):i.removeAttribute("name")}function Ta(i,a,c,f,y,w,V,Y){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;c=c!=null?""+Qn(c):"",a=a!=null?""+Qn(a):c,Y||a===i.value||(i.value=a),i.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=Y?i.checked:!!f,i.defaultChecked=!!f,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(i.name=V)}function Ls(i,a,c){a==="number"&&$n(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Qr(i,a,c,f){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Qn(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ir(i,a,c){if(a!=null&&(a=""+Qn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Qn(c):""}function Ti(i,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(s(92));if(K(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Qn(a),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f)}function gi(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(i,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,c):typeof c!="number"||c===0||ka.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Pa(i,a,c){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&c[y]!==f&&to(i,y,f)}else for(var w in a)a.hasOwnProperty(w)&&to(i,w,a[w])}function Os(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(i){return no.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ms=null;function gs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,ct=null;function xi(i){var a=pi(i);if(a&&(i=a.stateNode)){var c=i[Ur]||null;e:switch(i=a.stateNode,a.type){case"input":if(_r(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+rr(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==i&&f.form===i.form){var y=f[Ur]||null;if(!y)throw Error(s(90));_r(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===i.form&&Yt(f)}break e;case"textarea":ir(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Qr(i,!!c.multiple,a,!1)}}}var Ut=!1;function oi(i,a,c){if(Ut)return i(a,c);Ut=!0;try{var f=i(a);return f}finally{if(Ut=!1,($i!==null||ct!==null)&&(Mm(),$i&&(a=$i,i=ct,ct=$i=null,xi(a),i)))for(a=0;a<i.length;a++)xi(i[a])}}function xn(i,a){var c=i.stateNode;if(c===null)return null;var f=c[Ur]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(s(231,a,typeof c));return c}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xi=!1;if(Tr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Xi=!1}var ki=null,Qi=null,Is=null;function aa(){if(Is)return Is;var i,a=Qi,c=a.length,f,y="value"in ki?ki.value:ki.textContent,w=y.length;for(i=0;i<c&&a[i]===y[i];i++);var V=c-i;for(f=1;f<=V&&a[c-f]===y[w-f];f++);return Is=y.slice(i,1<f?1-f:void 0)}function fr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Pi(){return!0}function $o(){return!1}function se(i){function a(c,f,y,w,V){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=w,this.target=V,this.currentTarget=null;for(var Y in i)i.hasOwnProperty(Y)&&(c=i[Y],this[Y]=c?c(w):w[Y]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Pi:$o,this.isPropagationStopped=$o,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),a}var be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Me=se(be),ut=x({},be,{view:0,detail:0}),un=se(ut),wn,mt,on,rn=x({},ut,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==on&&(on&&i.type==="mousemove"?(wn=i.screenX-on.screenX,mt=i.screenY-on.screenY):mt=wn=0,on=i),wn)},movementY:function(i){return"movementY"in i?i.movementY:mt}}),Lr=se(rn),vr=x({},rn,{dataTransfer:0}),Ra=se(vr),za=x({},ut,{relatedTarget:0}),Da=se(za),Fo=x({},be,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=se(Fo),xh=x({},be,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ac=se(xh),U=x({},be,{data:0}),te=se(U),rt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Fn[i])?!!a[i]:!1}function Jr(){return hn}var xs=x({},ut,{key:function(i){if(i.key){var a=rt[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=fr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(i){return i.type==="keypress"?fr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vi=se(xs),Bs=x({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=se(Bs),Hr=x({},ut,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Tc=se(Hr),ro=x({},be,{propertyName:0,elapsedTime:0,pseudoElement:0}),vh=se(ro),Up=x({},rn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=se(Up),Nu=x({},be,{newState:0,oldState:0}),Vo=se(Nu),iv=[9,13,27,32],Uo=Tr&&"CompositionEvent"in window,yi=null;Tr&&"documentMode"in document&&(yi=document.documentMode);var Wp=Tr&&"TextEvent"in window&&!yi,yh=Tr&&(!Uo||yi&&8<yi&&11>=yi),qp=" ",Iu=!1;function Bu(i,a){switch(i){case"keyup":return iv.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kl=!1;function Zp(i,a){switch(i){case"compositionend":return Gp(a);case"keypress":return a.which!==32?null:(Iu=!0,qp);case"textInput":return i=a.data,i===qp&&Iu?null:i;default:return null}}function sv(i,a){if(kl)return i==="compositionend"||!Uo&&Bu(i,a)?(i=aa(),Is=Qi=ki=null,kl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yh&&a.locale!=="ko"?null:a.data;default:return null}}var $s={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ho(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!$s[i.type]:a==="textarea"}function Yp(i,a,c,f){$i?ct?ct.push(f):ct=[f]:$i=f,a=Nm(a,"onChange"),0<a.length&&(c=new Me("onChange","change",null,c,f),i.push({event:c,listeners:a}))}var Ji=null,kc=null;function Pl(i){P_(i,0)}function $u(i){var a=Ci(i);if(Yt(a))return i}function Ml(i,a){if(i==="change")return a}var bh=!1;if(Tr){var Rl;if(Tr){var jh="oninput"in document;if(!jh){var La=document.createElement("div");La.setAttribute("oninput","return;"),jh=typeof La.oninput=="function"}Rl=jh}else Rl=!1;bh=Rl&&(!document.documentMode||9<document.documentMode)}function Pc(){Ji&&(Ji.detachEvent("onpropertychange",Xp),kc=Ji=null)}function Xp(i){if(i.propertyName==="value"&&$u(kc)){var a=[];Yp(a,kc,i,gs(i)),oi(Pl,a)}}function Sh(i,a,c){i==="focusin"?(Pc(),Ji=a,kc=c,Ji.attachEvent("onpropertychange",Xp)):i==="focusout"&&Pc()}function av(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $u(kc)}function Oa(i,a){if(i==="click")return $u(a)}function ov(i,a){if(i==="input"||i==="change")return $u(a)}function zl(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var es=typeof Object.is=="function"?Object.is:zl;function ts(i,a){if(es(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Qe.call(a,y)||!es(i[y],a[y]))return!1}return!0}function Mc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wh(i,a){var c=Mc(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=a&&f>=a)return{node:c,offset:a-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Mc(c)}}function Fu(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Fu(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Rc(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=$n(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=$n(i.document)}return a}function zc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Vu=Tr&&"documentMode"in document&&11>=document.documentMode,Fs=null,Dl=null,Wo=null,Uu=!1;function Kp(i,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Uu||Fs==null||Fs!==$n(f)||(f=Fs,"selectionStart"in f&&zc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wo&&ts(Wo,f)||(Wo=f,f=Nm(Dl,"onSelect"),0<f.length&&(a=new Me("onSelect","select",null,a,c),i.push({event:a,listeners:f}),a.target=Fs)))}function oa(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Ll={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Hu={},Qp={};Tr&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function io(i){if(Hu[i])return Hu[i];if(!Ll[i])return i;var a=Ll[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in Qp)return Hu[i]=a[c];return i}var Jp=io("animationend"),Vs=io("animationiteration"),Dc=io("animationstart"),lv=io("transitionrun"),Wu=io("transitionstart"),cv=io("transitioncancel"),_h=io("transitionend"),em=new Map,qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qo.push("scrollEnd");function Us(i,a){em.set(i,a),Ps(a,[i])}var Go=new WeakMap;function ns(i,a){if(typeof i=="object"&&i!==null){var c=Go.get(i);return c!==void 0?c:(a={value:i,source:a,stack:zt(a)},Go.set(i,a),a)}return{value:i,source:a,stack:zt(a)}}var rs=[],Ol=0,Hs=0;function Lc(){for(var i=Ol,a=Hs=Ol=0;a<i;){var c=rs[a];rs[a++]=null;var f=rs[a];rs[a++]=null;var y=rs[a];rs[a++]=null;var w=rs[a];if(rs[a++]=null,f!==null&&y!==null){var V=f.pending;V===null?y.next=y:(y.next=V.next,V.next=y),f.pending=y}w!==0&&Nc(c,y,w)}}function Oc(i,a,c,f){rs[Ol++]=i,rs[Ol++]=a,rs[Ol++]=c,rs[Ol++]=f,Hs|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Zo(i,a,c,f){return Oc(i,a,c,f),so(i)}function Nl(i,a){return Oc(i,null,null,a),so(i)}function Nc(i,a,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var y=!1,w=i.return;w!==null;)w.childLanes|=c,f=w.alternate,f!==null&&(f.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&a!==null&&(y=31-ft(c),i=w.hiddenUpdates,f=i[y],f===null?i[y]=[a]:f.push(a),a.lane=c|536870912),w):null}function so(i){if(50<Gh)throw Gh=0,a0=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Yo={};function tm(i,a,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(i,a,c,f){return new tm(i,a,c,f)}function qu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function la(i,a){var c=i.alternate;return c===null?(c=is(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Ch(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ic(i,a,c,f,y,w){var V=0;if(f=i,typeof i=="function")qu(i)&&(V=1);else if(typeof i=="string")V=Jz(i,c,P.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ue:return i=is(31,c,a,y),i.elementType=ue,i.lanes=w,i;case E:return ao(c.children,y,w,a);case A:V=8,y|=24;break;case T:return i=is(12,c,a,y|2),i.elementType=T,i.lanes=w,i;case I:return i=is(13,c,a,y),i.elementType=I,i.lanes=w,i;case $:return i=is(19,c,a,y),i.elementType=$,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:case k:V=10;break e;case M:V=9;break e;case O:V=11;break e;case G:V=14;break e;case ee:V=16,f=null;break e}V=29,c=Error(s(130,i===null?"null":typeof i,"")),f=null}return a=is(V,c,a,y),a.elementType=i,a.type=f,a.lanes=w,a}function ao(i,a,c,f){return i=is(7,i,f,a),i.lanes=c,i}function Eh(i,a,c){return i=is(6,i,null,a),i.lanes=c,i}function Gu(i,a,c){return a=is(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Xo=[],Il=0,o=null,h=0,v=[],C=0,R=null,q=1,ce="";function Ce(i,a){Xo[Il++]=h,Xo[Il++]=o,o=i,h=a}function ze(i,a,c){v[C++]=q,v[C++]=ce,v[C++]=R,R=i;var f=q;i=ce;var y=32-ft(f)-1;f&=~(1<<y),c+=1;var w=32-ft(a)+y;if(30<w){var V=y-y%5;w=(f&(1<<V)-1).toString(32),f>>=V,y-=V,q=1<<32-ft(a)+y|c<<y|f,ce=w+i}else q=1<<w|c<<y|f,ce=i}function Xe(i){i.return!==null&&(Ce(i,1),ze(i,1,0))}function dt(i){for(;i===o;)o=Xo[--Il],Xo[Il]=null,h=Xo[--Il],Xo[Il]=null;for(;i===R;)R=v[--C],v[C]=null,ce=v[--C],v[C]=null,q=v[--C],v[C]=null}var gt=null,_t=null,Kt=!1,pr=null,kr=!1,bi=Error(s(519));function vs(i){var a=Error(s(418,""));throw $l(ns(a,i)),bi}function nm(i){var a=i.stateNode,c=i.type,f=i.memoizedProps;switch(a[Dr]=i,a[Ur]=f,c){case"dialog":Cn("cancel",a),Cn("close",a);break;case"iframe":case"object":case"embed":Cn("load",a);break;case"video":case"audio":for(c=0;c<Yh.length;c++)Cn(Yh[c],a);break;case"source":Cn("error",a);break;case"img":case"image":case"link":Cn("error",a),Cn("load",a);break;case"details":Cn("toggle",a);break;case"input":Cn("invalid",a),Ta(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ds(a);break;case"select":Cn("invalid",a);break;case"textarea":Cn("invalid",a),Ti(a,f.value,f.defaultValue,f.children),Ds(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||D_(a.textContent,c)?(f.popover!=null&&(Cn("beforetoggle",a),Cn("toggle",a)),f.onScroll!=null&&Cn("scroll",a),f.onScrollEnd!=null&&Cn("scrollend",a),f.onClick!=null&&(a.onclick=Im),a=!0):a=!1,a||vs(i)}function rm(i){for(gt=i.return;gt;)switch(gt.tag){case 5:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:gt=gt.return}}function Bc(i){if(i!==gt)return!1;if(!Kt)return rm(i),Kt=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||S0(i.type,i.memoizedProps)),c=!c),c&&_t&&vs(i),rm(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(a===0){_t=$a(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;i=i.nextSibling}_t=null}}else a===27?(a=_t,tc(i.type)?(i=E0,E0=null,_t=i):_t=a):_t=gt?$a(i.stateNode.nextSibling):null;return!0}function Bl(){_t=gt=null,Kt=!1}function im(){var i=pr;return i!==null&&(js===null?js=i:js.push.apply(js,i),pr=null),i}function $l(i){pr===null?pr=[i]:pr.push(i)}var Cr=ie(null),ca=null,Na=null;function oo(i,a,c){F(Cr,a._currentValue),a._currentValue=c}function Ia(i){i._currentValue=Cr.current,he(Cr)}function $c(i,a,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===c)break;i=i.return}}function Zu(i,a,c,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var V=y.child;w=w.firstContext;e:for(;w!==null;){var Y=w;w=y;for(var de=0;de<a.length;de++)if(Y.context===a[de]){w.lanes|=c,Y=w.alternate,Y!==null&&(Y.lanes|=c),$c(w.return,c,i),f||(V=null);break e}w=Y.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(s(341));V.lanes|=c,w=V.alternate,w!==null&&(w.lanes|=c),$c(V,c,i),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===i){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function Fc(i,a,c,f){i=null;for(var y=a,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(s(387));if(V=V.memoizedProps,V!==null){var Y=y.type;es(y.pendingProps.value,V.value)||(i!==null?i.push(Y):i=[Y])}}else if(y===Le.current){if(V=y.alternate,V===null)throw Error(s(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(tf):i=[tf])}y=y.return}i!==null&&Zu(a,i,c,f),a.flags|=262144}function sm(i){for(i=i.firstContext;i!==null;){if(!es(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vc(i){ca=i,Na=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fi(i){return b1(ca,i)}function am(i,a){return ca===null&&Vc(i),b1(i,a)}function b1(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Na===null){if(i===null)throw Error(s(308));Na=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Na=Na.next=a;return c}var QR=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},JR=t.unstable_scheduleCallback,ez=t.unstable_NormalPriority,li={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uv(){return{controller:new QR,data:new Map,refCount:0}}function Ah(i){i.refCount--,i.refCount===0&&JR(ez,function(){i.controller.abort()})}var Th=null,dv=0,Yu=0,Xu=null;function tz(i,a){if(Th===null){var c=Th=[];dv=0,Yu=f0(),Xu={status:"pending",value:void 0,then:function(f){c.push(f)}}}return dv++,a.then(j1,j1),a}function j1(){if(--dv===0&&Th!==null){Xu!==null&&(Xu.status="fulfilled");var i=Th;Th=null,Yu=0,Xu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function nz(i,a){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var S1=Z.S;Z.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&tz(i,a),S1!==null&&S1(i,a)};var Uc=ie(null);function hv(){var i=Uc.current;return i!==null?i:mr.pooledCache}function om(i,a){a===null?F(Uc,Uc.current):F(Uc,a.pool)}function w1(){var i=hv();return i===null?null:{parent:li._currentValue,pool:i}}var kh=Error(s(460)),_1=Error(s(474)),lm=Error(s(542)),fv={then:function(){}};function C1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cm(){}function E1(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(cm,cm),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,T1(i),i;default:if(typeof a.status=="string")a.then(cm,cm);else{if(i=mr,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,T1(i),i}throw Ph=a,kh}}var Ph=null;function A1(){if(Ph===null)throw Error(s(459));var i=Ph;return Ph=null,i}function T1(i){if(i===kh||i===lm)throw Error(s(483))}var Fl=!1;function pv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ul(i,a,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Jn&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=so(i),Nc(i,null,c),a}return Oc(i,f,a,c),so(i)}function Mh(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,c|=f,a.lanes=c,Xa(i,c)}}function gv(i,a){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var V={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?y=w=V:w=w.next=V,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var xv=!1;function Rh(){if(xv){var i=Xu;if(i!==null)throw i}}function zh(i,a,c,f){xv=!1;var y=i.updateQueue;Fl=!1;var w=y.firstBaseUpdate,V=y.lastBaseUpdate,Y=y.shared.pending;if(Y!==null){y.shared.pending=null;var de=Y,Te=de.next;de.next=null,V===null?w=Te:V.next=Te,V=de;var Ue=i.alternate;Ue!==null&&(Ue=Ue.updateQueue,Y=Ue.lastBaseUpdate,Y!==V&&(Y===null?Ue.firstBaseUpdate=Te:Y.next=Te,Ue.lastBaseUpdate=de))}if(w!==null){var Ge=y.baseState;V=0,Ue=Te=de=null,Y=w;do{var ke=Y.lane&-536870913,Re=ke!==Y.lane;if(Re?(zn&ke)===ke:(f&ke)===ke){ke!==0&&ke===Yu&&(xv=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Xt=i,Ht=Y;ke=a;var or=c;switch(Ht.tag){case 1:if(Xt=Ht.payload,typeof Xt=="function"){Ge=Xt.call(or,Ge,ke);break e}Ge=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=Ht.payload,ke=typeof Xt=="function"?Xt.call(or,Ge,ke):Xt,ke==null)break e;Ge=x({},Ge,ke);break e;case 2:Fl=!0}}ke=Y.callback,ke!==null&&(i.flags|=64,Re&&(i.flags|=8192),Re=y.callbacks,Re===null?y.callbacks=[ke]:Re.push(ke))}else Re={lane:ke,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ue===null?(Te=Ue=Re,de=Ge):Ue=Ue.next=Re,V|=ke;if(Y=Y.next,Y===null){if(Y=y.shared.pending,Y===null)break;Re=Y,Y=Re.next,Re.next=null,y.lastBaseUpdate=Re,y.shared.pending=null}}while(!0);Ue===null&&(de=Ge),y.baseState=de,y.firstBaseUpdate=Te,y.lastBaseUpdate=Ue,w===null&&(y.shared.lanes=0),Kl|=V,i.lanes=V,i.memoizedState=Ge}}function k1(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function P1(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)k1(c[i],a)}var Ku=ie(null),um=ie(0);function M1(i,a){i=rl,F(um,i),F(Ku,a),rl=i|a.baseLanes}function vv(){F(um,rl),F(Ku,Ku.current)}function yv(){rl=um.current,he(Ku),he(um)}var Hl=0,fn=null,sr=null,ei=null,dm=!1,Qu=!1,Hc=!1,hm=0,Dh=0,Ju=null,rz=0;function Wr(){throw Error(s(321))}function bv(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!es(i[c],a[c]))return!1;return!0}function jv(i,a,c,f,y,w){return Hl=w,fn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=i===null||i.memoizedState===null?pw:mw,Hc=!1,w=c(f,y),Hc=!1,Qu&&(w=z1(a,c,f,y)),R1(i),w}function R1(i){Z.H=vm;var a=sr!==null&&sr.next!==null;if(Hl=0,ei=sr=fn=null,dm=!1,Dh=0,Ju=null,a)throw Error(s(300));i===null||ji||(i=i.dependencies,i!==null&&sm(i)&&(ji=!0))}function z1(i,a,c,f){fn=i;var y=0;do{if(Qu&&(Ju=null),Dh=0,Qu=!1,25<=y)throw Error(s(301));if(y+=1,ei=sr=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Z.H=uz,w=a(c,f)}while(Qu);return w}function iz(){var i=Z.H,a=i.useState()[0];return a=typeof a.then=="function"?Lh(a):a,i=i.useState()[0],(sr!==null?sr.memoizedState:null)!==i&&(fn.flags|=1024),a}function Sv(){var i=hm!==0;return hm=0,i}function wv(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function _v(i){if(dm){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}dm=!1}Hl=0,ei=sr=fn=null,Qu=!1,Dh=hm=0,Ju=null}function ys(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?fn.memoizedState=ei=i:ei=ei.next=i,ei}function ti(){if(sr===null){var i=fn.alternate;i=i!==null?i.memoizedState:null}else i=sr.next;var a=ei===null?fn.memoizedState:ei.next;if(a!==null)ei=a,sr=i;else{if(i===null)throw fn.alternate===null?Error(s(467)):Error(s(310));sr=i,i={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},ei===null?fn.memoizedState=ei=i:ei=ei.next=i}return ei}function Cv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lh(i){var a=Dh;return Dh+=1,Ju===null&&(Ju=[]),i=E1(Ju,i,a),a=fn,(ei===null?a.memoizedState:ei.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?pw:mw),i}function fm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Lh(i);if(i.$$typeof===k)return Fi(i)}throw Error(s(438,String(i)))}function Ev(i){var a=null,c=fn.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=fn.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Cv(),fn.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),f=0;f<i;f++)c[f]=fe;return a.index++,c}function Ko(i,a){return typeof a=="function"?a(i):a}function pm(i){var a=ti();return Av(a,sr,i)}function Av(i,a,c){var f=i.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var y=i.baseQueue,w=f.pending;if(w!==null){if(y!==null){var V=y.next;y.next=w.next,w.next=V}a.baseQueue=y=w,f.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{a=y.next;var Y=V=null,de=null,Te=a,Ue=!1;do{var Ge=Te.lane&-536870913;if(Ge!==Te.lane?(zn&Ge)===Ge:(Hl&Ge)===Ge){var ke=Te.revertLane;if(ke===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Ge===Yu&&(Ue=!0);else if((Hl&ke)===ke){Te=Te.next,ke===Yu&&(Ue=!0);continue}else Ge={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},de===null?(Y=de=Ge,V=w):de=de.next=Ge,fn.lanes|=ke,Kl|=ke;Ge=Te.action,Hc&&c(w,Ge),w=Te.hasEagerState?Te.eagerState:c(w,Ge)}else ke={lane:Ge,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},de===null?(Y=de=ke,V=w):de=de.next=ke,fn.lanes|=Ge,Kl|=Ge;Te=Te.next}while(Te!==null&&Te!==a);if(de===null?V=w:de.next=Y,!es(w,i.memoizedState)&&(ji=!0,Ue&&(c=Xu,c!==null)))throw c;i.memoizedState=w,i.baseState=V,i.baseQueue=de,f.lastRenderedState=w}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Tv(i){var a=ti(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var f=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var V=y=y.next;do w=i(w,V.action),V=V.next;while(V!==y);es(w,a.memoizedState)||(ji=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,f]}function D1(i,a,c){var f=fn,y=ti(),w=Kt;if(w){if(c===void 0)throw Error(s(407));c=c()}else c=a();var V=!es((sr||y).memoizedState,c);V&&(y.memoizedState=c,ji=!0),y=y.queue;var Y=N1.bind(null,f,y,i);if(Oh(2048,8,Y,[i]),y.getSnapshot!==a||V||ei!==null&&ei.memoizedState.tag&1){if(f.flags|=2048,ed(9,mm(),O1.bind(null,f,y,c,a),null),mr===null)throw Error(s(349));w||(Hl&124)!==0||L1(f,a,c)}return c}function L1(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=fn.updateQueue,a===null?(a=Cv(),fn.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function O1(i,a,c,f){a.value=c,a.getSnapshot=f,I1(a)&&B1(i)}function N1(i,a,c){return c(function(){I1(a)&&B1(i)})}function I1(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!es(i,c)}catch{return!0}}function B1(i){var a=Nl(i,2);a!==null&&Ys(a,i,2)}function kv(i){var a=ys();if(typeof i=="function"){var c=i;if(i=c(),Hc){Ye(!0);try{c()}finally{Ye(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:i},a}function $1(i,a,c,f){return i.baseState=c,Av(i,sr,typeof f=="function"?f:Ko)}function sz(i,a,c,f,y){if(xm(i))throw Error(s(485));if(i=a.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){w.listeners.push(V)}};Z.T!==null?c(!0):w.isTransition=!1,f(w),c=a.pending,c===null?(w.next=a.pending=w,F1(a,w)):(w.next=c.next,a.pending=c.next=w)}}function F1(i,a){var c=a.action,f=a.payload,y=i.state;if(a.isTransition){var w=Z.T,V={};Z.T=V;try{var Y=c(y,f),de=Z.S;de!==null&&de(V,Y),V1(i,a,Y)}catch(Te){Pv(i,a,Te)}finally{Z.T=w}}else try{w=c(y,f),V1(i,a,w)}catch(Te){Pv(i,a,Te)}}function V1(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){U1(i,a,f)},function(f){return Pv(i,a,f)}):U1(i,a,c)}function U1(i,a,c){a.status="fulfilled",a.value=c,H1(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,F1(i,c)))}function Pv(i,a,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,H1(a),a=a.next;while(a!==f)}i.action=null}function H1(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function W1(i,a){return a}function q1(i,a){if(Kt){var c=mr.formState;if(c!==null){e:{var f=fn;if(Kt){if(_t){t:{for(var y=_t,w=kr;y.nodeType!==8;){if(!w){y=null;break t}if(y=$a(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){_t=$a(y.nextSibling),f=y.data==="F!";break e}}vs(f)}f=!1}f&&(a=c[0])}}return c=ys(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W1,lastRenderedState:a},c.queue=f,c=dw.bind(null,fn,f),f.dispatch=c,f=kv(!1),w=Lv.bind(null,fn,!1,f.queue),f=ys(),y={state:a,dispatch:null,action:i,pending:null},f.queue=y,c=sz.bind(null,fn,y,w,c),y.dispatch=c,f.memoizedState=i,[a,c,!1]}function G1(i){var a=ti();return Z1(a,sr,i)}function Z1(i,a,c){if(a=Av(i,a,W1)[0],i=pm(Ko)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Lh(a)}catch(V){throw V===kh?lm:V}else f=a;a=ti();var y=a.queue,w=y.dispatch;return c!==a.memoizedState&&(fn.flags|=2048,ed(9,mm(),az.bind(null,y,c),null)),[f,w,i]}function az(i,a){i.action=a}function Y1(i){var a=ti(),c=sr;if(c!==null)return Z1(a,c,i);ti(),a=a.memoizedState,c=ti();var f=c.queue.dispatch;return c.memoizedState=i,[a,f,!1]}function ed(i,a,c,f){return i={tag:i,create:c,deps:f,inst:a,next:null},a=fn.updateQueue,a===null&&(a=Cv(),fn.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,a.lastEffect=i),i}function mm(){return{destroy:void 0,resource:void 0}}function X1(){return ti().memoizedState}function gm(i,a,c,f){var y=ys();f=f===void 0?null:f,fn.flags|=i,y.memoizedState=ed(1|a,mm(),c,f)}function Oh(i,a,c,f){var y=ti();f=f===void 0?null:f;var w=y.memoizedState.inst;sr!==null&&f!==null&&bv(f,sr.memoizedState.deps)?y.memoizedState=ed(a,w,c,f):(fn.flags|=i,y.memoizedState=ed(1|a,w,c,f))}function K1(i,a){gm(8390656,8,i,a)}function Q1(i,a){Oh(2048,8,i,a)}function J1(i,a){return Oh(4,2,i,a)}function ew(i,a){return Oh(4,4,i,a)}function tw(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function nw(i,a,c){c=c!=null?c.concat([i]):null,Oh(4,4,tw.bind(null,a,i),c)}function Mv(){}function rw(i,a){var c=ti();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&bv(a,f[1])?f[0]:(c.memoizedState=[i,a],i)}function iw(i,a){var c=ti();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&bv(a,f[1]))return f[0];if(f=i(),Hc){Ye(!0);try{i()}finally{Ye(!1)}}return c.memoizedState=[f,a],f}function Rv(i,a,c){return c===void 0||(Hl&1073741824)!==0?i.memoizedState=a:(i.memoizedState=c,i=o_(),fn.lanes|=i,Kl|=i,c)}function sw(i,a,c,f){return es(c,a)?c:Ku.current!==null?(i=Rv(i,c,f),es(i,a)||(ji=!0),i):(Hl&42)===0?(ji=!0,i.memoizedState=c):(i=o_(),fn.lanes|=i,Kl|=i,a)}function aw(i,a,c,f,y){var w=W.p;W.p=w!==0&&8>w?w:8;var V=Z.T,Y={};Z.T=Y,Lv(i,!1,a,c);try{var de=y(),Te=Z.S;if(Te!==null&&Te(Y,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ue=nz(de,f);Nh(i,a,Ue,Zs(i))}else Nh(i,a,f,Zs(i))}catch(Ge){Nh(i,a,{then:function(){},status:"rejected",reason:Ge},Zs())}finally{W.p=w,Z.T=V}}function oz(){}function zv(i,a,c,f){if(i.tag!==5)throw Error(s(476));var y=ow(i).queue;aw(i,y,a,H,c===null?oz:function(){return lw(i),c(f)})}function ow(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:H},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function lw(i){var a=ow(i).next.queue;Nh(i,a,{},Zs())}function Dv(){return Fi(tf)}function cw(){return ti().memoizedState}function uw(){return ti().memoizedState}function lz(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=Zs();i=Vl(c);var f=Ul(a,i,c);f!==null&&(Ys(f,a,c),Mh(f,a,c)),a={cache:uv()},i.payload=a;return}a=a.return}}function cz(i,a,c){var f=Zs();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},xm(i)?hw(a,c):(c=Zo(i,a,c,f),c!==null&&(Ys(c,i,f),fw(c,a,f)))}function dw(i,a,c){var f=Zs();Nh(i,a,c,f)}function Nh(i,a,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(xm(i))hw(a,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var V=a.lastRenderedState,Y=w(V,c);if(y.hasEagerState=!0,y.eagerState=Y,es(Y,V))return Oc(i,a,y,0),mr===null&&Lc(),!1}catch{}finally{}if(c=Zo(i,a,y,f),c!==null)return Ys(c,i,f),fw(c,a,f),!0}return!1}function Lv(i,a,c,f){if(f={lane:2,revertLane:f0(),action:f,hasEagerState:!1,eagerState:null,next:null},xm(i)){if(a)throw Error(s(479))}else a=Zo(i,c,f,2),a!==null&&Ys(a,i,2)}function xm(i){var a=i.alternate;return i===fn||a!==null&&a===fn}function hw(i,a){Qu=dm=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function fw(i,a,c){if((c&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,c|=f,a.lanes=c,Xa(i,c)}}var vm={readContext:Fi,use:fm,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useLayoutEffect:Wr,useInsertionEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useSyncExternalStore:Wr,useId:Wr,useHostTransitionStatus:Wr,useFormState:Wr,useActionState:Wr,useOptimistic:Wr,useMemoCache:Wr,useCacheRefresh:Wr},pw={readContext:Fi,use:fm,useCallback:function(i,a){return ys().memoizedState=[i,a===void 0?null:a],i},useContext:Fi,useEffect:K1,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,gm(4194308,4,tw.bind(null,a,i),c)},useLayoutEffect:function(i,a){return gm(4194308,4,i,a)},useInsertionEffect:function(i,a){gm(4,2,i,a)},useMemo:function(i,a){var c=ys();a=a===void 0?null:a;var f=i();if(Hc){Ye(!0);try{i()}finally{Ye(!1)}}return c.memoizedState=[f,a],f},useReducer:function(i,a,c){var f=ys();if(c!==void 0){var y=c(a);if(Hc){Ye(!0);try{c(a)}finally{Ye(!1)}}}else y=a;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=cz.bind(null,fn,i),[f.memoizedState,i]},useRef:function(i){var a=ys();return i={current:i},a.memoizedState=i},useState:function(i){i=kv(i);var a=i.queue,c=dw.bind(null,fn,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:Mv,useDeferredValue:function(i,a){var c=ys();return Rv(c,i,a)},useTransition:function(){var i=kv(!1);return i=aw.bind(null,fn,i.queue,!0,!1),ys().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var f=fn,y=ys();if(Kt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=a(),mr===null)throw Error(s(349));(zn&124)!==0||L1(f,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,K1(N1.bind(null,f,w,i),[i]),f.flags|=2048,ed(9,mm(),O1.bind(null,f,w,c,a),null),c},useId:function(){var i=ys(),a=mr.identifierPrefix;if(Kt){var c=ce,f=q;c=(f&~(1<<32-ft(f)-1)).toString(32)+c,a=""+a+"R"+c,c=hm++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=rz++,a=""+a+"r"+c.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Dv,useFormState:q1,useActionState:q1,useOptimistic:function(i){var a=ys();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Lv.bind(null,fn,!0,c),c.dispatch=a,[i,a]},useMemoCache:Ev,useCacheRefresh:function(){return ys().memoizedState=lz.bind(null,fn)}},mw={readContext:Fi,use:fm,useCallback:rw,useContext:Fi,useEffect:Q1,useImperativeHandle:nw,useInsertionEffect:J1,useLayoutEffect:ew,useMemo:iw,useReducer:pm,useRef:X1,useState:function(){return pm(Ko)},useDebugValue:Mv,useDeferredValue:function(i,a){var c=ti();return sw(c,sr.memoizedState,i,a)},useTransition:function(){var i=pm(Ko)[0],a=ti().memoizedState;return[typeof i=="boolean"?i:Lh(i),a]},useSyncExternalStore:D1,useId:cw,useHostTransitionStatus:Dv,useFormState:G1,useActionState:G1,useOptimistic:function(i,a){var c=ti();return $1(c,sr,i,a)},useMemoCache:Ev,useCacheRefresh:uw},uz={readContext:Fi,use:fm,useCallback:rw,useContext:Fi,useEffect:Q1,useImperativeHandle:nw,useInsertionEffect:J1,useLayoutEffect:ew,useMemo:iw,useReducer:Tv,useRef:X1,useState:function(){return Tv(Ko)},useDebugValue:Mv,useDeferredValue:function(i,a){var c=ti();return sr===null?Rv(c,i,a):sw(c,sr.memoizedState,i,a)},useTransition:function(){var i=Tv(Ko)[0],a=ti().memoizedState;return[typeof i=="boolean"?i:Lh(i),a]},useSyncExternalStore:D1,useId:cw,useHostTransitionStatus:Dv,useFormState:Y1,useActionState:Y1,useOptimistic:function(i,a){var c=ti();return sr!==null?$1(c,sr,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Ev,useCacheRefresh:uw},td=null,Ih=0;function ym(i){var a=Ih;return Ih+=1,td===null&&(td=[]),E1(td,i,a)}function Bh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function bm(i,a){throw a.$$typeof===j?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function gw(i){var a=i._init;return a(i._payload)}function xw(i){function a(_e,ve){if(i){var Ae=_e.deletions;Ae===null?(_e.deletions=[ve],_e.flags|=16):Ae.push(ve)}}function c(_e,ve){if(!i)return null;for(;ve!==null;)a(_e,ve),ve=ve.sibling;return null}function f(_e){for(var ve=new Map;_e!==null;)_e.key!==null?ve.set(_e.key,_e):ve.set(_e.index,_e),_e=_e.sibling;return ve}function y(_e,ve){return _e=la(_e,ve),_e.index=0,_e.sibling=null,_e}function w(_e,ve,Ae){return _e.index=Ae,i?(Ae=_e.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(_e.flags|=67108866,ve):Ae):(_e.flags|=67108866,ve)):(_e.flags|=1048576,ve)}function V(_e){return i&&_e.alternate===null&&(_e.flags|=67108866),_e}function Y(_e,ve,Ae,We){return ve===null||ve.tag!==6?(ve=Eh(Ae,_e.mode,We),ve.return=_e,ve):(ve=y(ve,Ae),ve.return=_e,ve)}function de(_e,ve,Ae,We){var vt=Ae.type;return vt===E?Ue(_e,ve,Ae.props.children,We,Ae.key):ve!==null&&(ve.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===ee&&gw(vt)===ve.type)?(ve=y(ve,Ae.props),Bh(ve,Ae),ve.return=_e,ve):(ve=Ic(Ae.type,Ae.key,Ae.props,null,_e.mode,We),Bh(ve,Ae),ve.return=_e,ve)}function Te(_e,ve,Ae,We){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=Gu(Ae,_e.mode,We),ve.return=_e,ve):(ve=y(ve,Ae.children||[]),ve.return=_e,ve)}function Ue(_e,ve,Ae,We,vt){return ve===null||ve.tag!==7?(ve=ao(Ae,_e.mode,We,vt),ve.return=_e,ve):(ve=y(ve,Ae),ve.return=_e,ve)}function Ge(_e,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Eh(""+ve,_e.mode,Ae),ve.return=_e,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return Ae=Ic(ve.type,ve.key,ve.props,null,_e.mode,Ae),Bh(Ae,ve),Ae.return=_e,Ae;case _:return ve=Gu(ve,_e.mode,Ae),ve.return=_e,ve;case ee:var We=ve._init;return ve=We(ve._payload),Ge(_e,ve,Ae)}if(K(ve)||me(ve))return ve=ao(ve,_e.mode,Ae,null),ve.return=_e,ve;if(typeof ve.then=="function")return Ge(_e,ym(ve),Ae);if(ve.$$typeof===k)return Ge(_e,am(_e,ve),Ae);bm(_e,ve)}return null}function ke(_e,ve,Ae,We){var vt=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return vt!==null?null:Y(_e,ve,""+Ae,We);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case S:return Ae.key===vt?de(_e,ve,Ae,We):null;case _:return Ae.key===vt?Te(_e,ve,Ae,We):null;case ee:return vt=Ae._init,Ae=vt(Ae._payload),ke(_e,ve,Ae,We)}if(K(Ae)||me(Ae))return vt!==null?null:Ue(_e,ve,Ae,We,null);if(typeof Ae.then=="function")return ke(_e,ve,ym(Ae),We);if(Ae.$$typeof===k)return ke(_e,ve,am(_e,Ae),We);bm(_e,Ae)}return null}function Re(_e,ve,Ae,We,vt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return _e=_e.get(Ae)||null,Y(ve,_e,""+We,vt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case S:return _e=_e.get(We.key===null?Ae:We.key)||null,de(ve,_e,We,vt);case _:return _e=_e.get(We.key===null?Ae:We.key)||null,Te(ve,_e,We,vt);case ee:var vn=We._init;return We=vn(We._payload),Re(_e,ve,Ae,We,vt)}if(K(We)||me(We))return _e=_e.get(Ae)||null,Ue(ve,_e,We,vt,null);if(typeof We.then=="function")return Re(_e,ve,Ae,ym(We),vt);if(We.$$typeof===k)return Re(_e,ve,Ae,am(ve,We),vt);bm(ve,We)}return null}function Xt(_e,ve,Ae,We){for(var vt=null,vn=null,Lt=ve,Wt=ve=0,wi=null;Lt!==null&&Wt<Ae.length;Wt++){Lt.index>Wt?(wi=Lt,Lt=null):wi=Lt.sibling;var In=ke(_e,Lt,Ae[Wt],We);if(In===null){Lt===null&&(Lt=wi);break}i&&Lt&&In.alternate===null&&a(_e,Lt),ve=w(In,ve,Wt),vn===null?vt=In:vn.sibling=In,vn=In,Lt=wi}if(Wt===Ae.length)return c(_e,Lt),Kt&&Ce(_e,Wt),vt;if(Lt===null){for(;Wt<Ae.length;Wt++)Lt=Ge(_e,Ae[Wt],We),Lt!==null&&(ve=w(Lt,ve,Wt),vn===null?vt=Lt:vn.sibling=Lt,vn=Lt);return Kt&&Ce(_e,Wt),vt}for(Lt=f(Lt);Wt<Ae.length;Wt++)wi=Re(Lt,_e,Wt,Ae[Wt],We),wi!==null&&(i&&wi.alternate!==null&&Lt.delete(wi.key===null?Wt:wi.key),ve=w(wi,ve,Wt),vn===null?vt=wi:vn.sibling=wi,vn=wi);return i&&Lt.forEach(function(ac){return a(_e,ac)}),Kt&&Ce(_e,Wt),vt}function Ht(_e,ve,Ae,We){if(Ae==null)throw Error(s(151));for(var vt=null,vn=null,Lt=ve,Wt=ve=0,wi=null,In=Ae.next();Lt!==null&&!In.done;Wt++,In=Ae.next()){Lt.index>Wt?(wi=Lt,Lt=null):wi=Lt.sibling;var ac=ke(_e,Lt,In.value,We);if(ac===null){Lt===null&&(Lt=wi);break}i&&Lt&&ac.alternate===null&&a(_e,Lt),ve=w(ac,ve,Wt),vn===null?vt=ac:vn.sibling=ac,vn=ac,Lt=wi}if(In.done)return c(_e,Lt),Kt&&Ce(_e,Wt),vt;if(Lt===null){for(;!In.done;Wt++,In=Ae.next())In=Ge(_e,In.value,We),In!==null&&(ve=w(In,ve,Wt),vn===null?vt=In:vn.sibling=In,vn=In);return Kt&&Ce(_e,Wt),vt}for(Lt=f(Lt);!In.done;Wt++,In=Ae.next())In=Re(Lt,_e,Wt,In.value,We),In!==null&&(i&&In.alternate!==null&&Lt.delete(In.key===null?Wt:In.key),ve=w(In,ve,Wt),vn===null?vt=In:vn.sibling=In,vn=In);return i&&Lt.forEach(function(dD){return a(_e,dD)}),Kt&&Ce(_e,Wt),vt}function or(_e,ve,Ae,We){if(typeof Ae=="object"&&Ae!==null&&Ae.type===E&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case S:e:{for(var vt=Ae.key;ve!==null;){if(ve.key===vt){if(vt=Ae.type,vt===E){if(ve.tag===7){c(_e,ve.sibling),We=y(ve,Ae.props.children),We.return=_e,_e=We;break e}}else if(ve.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===ee&&gw(vt)===ve.type){c(_e,ve.sibling),We=y(ve,Ae.props),Bh(We,Ae),We.return=_e,_e=We;break e}c(_e,ve);break}else a(_e,ve);ve=ve.sibling}Ae.type===E?(We=ao(Ae.props.children,_e.mode,We,Ae.key),We.return=_e,_e=We):(We=Ic(Ae.type,Ae.key,Ae.props,null,_e.mode,We),Bh(We,Ae),We.return=_e,_e=We)}return V(_e);case _:e:{for(vt=Ae.key;ve!==null;){if(ve.key===vt)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){c(_e,ve.sibling),We=y(ve,Ae.children||[]),We.return=_e,_e=We;break e}else{c(_e,ve);break}else a(_e,ve);ve=ve.sibling}We=Gu(Ae,_e.mode,We),We.return=_e,_e=We}return V(_e);case ee:return vt=Ae._init,Ae=vt(Ae._payload),or(_e,ve,Ae,We)}if(K(Ae))return Xt(_e,ve,Ae,We);if(me(Ae)){if(vt=me(Ae),typeof vt!="function")throw Error(s(150));return Ae=vt.call(Ae),Ht(_e,ve,Ae,We)}if(typeof Ae.then=="function")return or(_e,ve,ym(Ae),We);if(Ae.$$typeof===k)return or(_e,ve,am(_e,Ae),We);bm(_e,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ve!==null&&ve.tag===6?(c(_e,ve.sibling),We=y(ve,Ae),We.return=_e,_e=We):(c(_e,ve),We=Eh(Ae,_e.mode,We),We.return=_e,_e=We),V(_e)):c(_e,ve)}return function(_e,ve,Ae,We){try{Ih=0;var vt=or(_e,ve,Ae,We);return td=null,vt}catch(Lt){if(Lt===kh||Lt===lm)throw Lt;var vn=is(29,Lt,null,_e.mode);return vn.lanes=We,vn.return=_e,vn}finally{}}}var nd=xw(!0),vw=xw(!1),ua=ie(null),lo=null;function Wl(i){var a=i.alternate;F(ci,ci.current&1),F(ua,i),lo===null&&(a===null||Ku.current!==null||a.memoizedState!==null)&&(lo=i)}function yw(i){if(i.tag===22){if(F(ci,ci.current),F(ua,i),lo===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(lo=i)}}else ql()}function ql(){F(ci,ci.current),F(ua,ua.current)}function Qo(i){he(ua),lo===i&&(lo=null),he(ci)}var ci=ie(0);function jm(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||C0(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ov(i,a,c,f){a=i.memoizedState,c=c(f,a),c=c==null?a:x({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Nv={enqueueSetState:function(i,a,c){i=i._reactInternals;var f=Zs(),y=Vl(f);y.payload=a,c!=null&&(y.callback=c),a=Ul(i,y,f),a!==null&&(Ys(a,i,f),Mh(a,i,f))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var f=Zs(),y=Vl(f);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Ul(i,y,f),a!==null&&(Ys(a,i,f),Mh(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Zs(),f=Vl(c);f.tag=2,a!=null&&(f.callback=a),a=Ul(i,f,c),a!==null&&(Ys(a,i,c),Mh(a,i,c))}};function bw(i,a,c,f,y,w,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,w,V):a.prototype&&a.prototype.isPureReactComponent?!ts(c,f)||!ts(y,w):!0}function jw(i,a,c,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==i&&Nv.enqueueReplaceState(a,a.state,null)}function Wc(i,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(i=i.defaultProps){c===a&&(c=x({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var Sm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Sw(i){Sm(i)}function ww(i){console.error(i)}function _w(i){Sm(i)}function wm(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Cw(i,a,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Iv(i,a,c){return c=Vl(c),c.tag=3,c.payload={element:null},c.callback=function(){wm(i,a)},c}function Ew(i){return i=Vl(i),i.tag=3,i}function Aw(i,a,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var w=f.value;i.payload=function(){return y(w)},i.callback=function(){Cw(a,c,f)}}var V=c.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(i.callback=function(){Cw(a,c,f),typeof y!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var Y=f.stack;this.componentDidCatch(f.value,{componentStack:Y!==null?Y:""})})}function dz(i,a,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&Fc(a,c,y,!0),c=ua.current,c!==null){switch(c.tag){case 13:return lo===null?l0():c.alternate===null&&Or===0&&(Or=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===fv?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),u0(i,f,y)),!1;case 22:return c.flags|=65536,f===fv?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),u0(i,f,y)),!1}throw Error(s(435,c.tag))}return u0(i,f,y),l0(),!1}if(Kt)return a=ua.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==bi&&(i=Error(s(422),{cause:f}),$l(ns(i,c)))):(f!==bi&&(a=Error(s(423),{cause:f}),$l(ns(a,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=ns(f,c),y=Iv(i.stateNode,f,y),gv(i,y),Or!==4&&(Or=2)),!1;var w=Error(s(520),{cause:f});if(w=ns(w,c),qh===null?qh=[w]:qh.push(w),Or!==4&&(Or=2),a===null)return!0;f=ns(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=Iv(c.stateNode,f,i),gv(c,i),!1;case 1:if(a=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ql===null||!Ql.has(w))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Ew(y),Aw(y,i,c,f),gv(c,y),!1}c=c.return}while(c!==null);return!1}var Tw=Error(s(461)),ji=!1;function Mi(i,a,c,f){a.child=i===null?vw(a,null,c,f):nd(a,i.child,c,f)}function kw(i,a,c,f,y){c=c.render;var w=a.ref;if("ref"in f){var V={};for(var Y in f)Y!=="ref"&&(V[Y]=f[Y])}else V=f;return Vc(a),f=jv(i,a,c,V,w,y),Y=Sv(),i!==null&&!ji?(wv(i,a,y),Jo(i,a,y)):(Kt&&Y&&Xe(a),a.flags|=1,Mi(i,a,f,y),a.child)}function Pw(i,a,c,f,y){if(i===null){var w=c.type;return typeof w=="function"&&!qu(w)&&w.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=w,Mw(i,a,w,f,y)):(i=Ic(c.type,null,f,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!qv(i,y)){var V=w.memoizedProps;if(c=c.compare,c=c!==null?c:ts,c(V,f)&&i.ref===a.ref)return Jo(i,a,y)}return a.flags|=1,i=la(w,f),i.ref=a.ref,i.return=a,a.child=i}function Mw(i,a,c,f,y){if(i!==null){var w=i.memoizedProps;if(ts(w,f)&&i.ref===a.ref)if(ji=!1,a.pendingProps=f=w,qv(i,y))(i.flags&131072)!==0&&(ji=!0);else return a.lanes=i.lanes,Jo(i,a,y)}return Bv(i,a,c,f,y)}function Rw(i,a,c){var f=a.pendingProps,y=f.children,w=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=w!==null?w.baseLanes|c:c,i!==null){for(y=a.child=i.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;a.childLanes=w&~f}else a.childLanes=0,a.child=null;return zw(i,a,f,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&om(a,w!==null?w.cachePool:null),w!==null?M1(a,w):vv(),yw(a);else return a.lanes=a.childLanes=536870912,zw(i,a,w!==null?w.baseLanes|c:c,c)}else w!==null?(om(a,w.cachePool),M1(a,w),ql(),a.memoizedState=null):(i!==null&&om(a,null),vv(),ql());return Mi(i,a,y,c),a.child}function zw(i,a,c,f){var y=hv();return y=y===null?null:{parent:li._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},i!==null&&om(a,null),vv(),yw(a),i!==null&&Fc(i,a,f,!0),null}function _m(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function Bv(i,a,c,f,y){return Vc(a),c=jv(i,a,c,f,void 0,y),f=Sv(),i!==null&&!ji?(wv(i,a,y),Jo(i,a,y)):(Kt&&f&&Xe(a),a.flags|=1,Mi(i,a,c,y),a.child)}function Dw(i,a,c,f,y,w){return Vc(a),a.updateQueue=null,c=z1(a,f,c,y),R1(i),f=Sv(),i!==null&&!ji?(wv(i,a,w),Jo(i,a,w)):(Kt&&f&&Xe(a),a.flags|=1,Mi(i,a,c,w),a.child)}function Lw(i,a,c,f,y){if(Vc(a),a.stateNode===null){var w=Yo,V=c.contextType;typeof V=="object"&&V!==null&&(w=Fi(V)),w=new c(f,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Nv,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=f,w.state=a.memoizedState,w.refs={},pv(a),V=c.contextType,w.context=typeof V=="object"&&V!==null?Fi(V):Yo,w.state=a.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(Ov(a,c,V,f),w.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(V=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),V!==w.state&&Nv.enqueueReplaceState(w,w.state,null),zh(a,f,w,y),Rh(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){w=a.stateNode;var Y=a.memoizedProps,de=Wc(c,Y);w.props=de;var Te=w.context,Ue=c.contextType;V=Yo,typeof Ue=="object"&&Ue!==null&&(V=Fi(Ue));var Ge=c.getDerivedStateFromProps;Ue=typeof Ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",Y=a.pendingProps!==Y,Ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(Y||Te!==V)&&jw(a,w,f,V),Fl=!1;var ke=a.memoizedState;w.state=ke,zh(a,f,w,y),Rh(),Te=a.memoizedState,Y||ke!==Te||Fl?(typeof Ge=="function"&&(Ov(a,c,Ge,f),Te=a.memoizedState),(de=Fl||bw(a,c,de,f,ke,Te,V))?(Ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Te),w.props=f,w.state=Te,w.context=V,f=de):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{w=a.stateNode,mv(i,a),V=a.memoizedProps,Ue=Wc(c,V),w.props=Ue,Ge=a.pendingProps,ke=w.context,Te=c.contextType,de=Yo,typeof Te=="object"&&Te!==null&&(de=Fi(Te)),Y=c.getDerivedStateFromProps,(Te=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V!==Ge||ke!==de)&&jw(a,w,f,de),Fl=!1,ke=a.memoizedState,w.state=ke,zh(a,f,w,y),Rh();var Re=a.memoizedState;V!==Ge||ke!==Re||Fl||i!==null&&i.dependencies!==null&&sm(i.dependencies)?(typeof Y=="function"&&(Ov(a,c,Y,f),Re=a.memoizedState),(Ue=Fl||bw(a,c,Ue,f,ke,Re,de)||i!==null&&i.dependencies!==null&&sm(i.dependencies))?(Te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,Re,de),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,Re,de)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||V===i.memoizedProps&&ke===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ke===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),w.props=f,w.state=Re,w.context=de,f=Ue):(typeof w.componentDidUpdate!="function"||V===i.memoizedProps&&ke===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ke===i.memoizedState||(a.flags|=1024),f=!1)}return w=f,_m(i,a),f=(a.flags&128)!==0,w||f?(w=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&f?(a.child=nd(a,i.child,null,y),a.child=nd(a,null,c,y)):Mi(i,a,c,y),a.memoizedState=w.state,i=a.child):i=Jo(i,a,y),i}function Ow(i,a,c,f){return Bl(),a.flags|=256,Mi(i,a,c,f),a.child}var $v={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fv(i){return{baseLanes:i,cachePool:w1()}}function Vv(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=da),i}function Nw(i,a,c){var f=a.pendingProps,y=!1,w=(a.flags&128)!==0,V;if((V=w)||(V=i!==null&&i.memoizedState===null?!1:(ci.current&2)!==0),V&&(y=!0,a.flags&=-129),V=(a.flags&32)!==0,a.flags&=-33,i===null){if(Kt){if(y?Wl(a):ql(),Kt){var Y=_t,de;if(de=Y){e:{for(de=Y,Y=kr;de.nodeType!==8;){if(!Y){Y=null;break e}if(de=$a(de.nextSibling),de===null){Y=null;break e}}Y=de}Y!==null?(a.memoizedState={dehydrated:Y,treeContext:R!==null?{id:q,overflow:ce}:null,retryLane:536870912,hydrationErrors:null},de=is(18,null,null,0),de.stateNode=Y,de.return=a,a.child=de,gt=a,_t=null,de=!0):de=!1}de||vs(a)}if(Y=a.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return C0(Y)?a.lanes=32:a.lanes=536870912,null;Qo(a)}return Y=f.children,f=f.fallback,y?(ql(),y=a.mode,Y=Cm({mode:"hidden",children:Y},y),f=ao(f,y,c,null),Y.return=a,f.return=a,Y.sibling=f,a.child=Y,y=a.child,y.memoizedState=Fv(c),y.childLanes=Vv(i,V,c),a.memoizedState=$v,f):(Wl(a),Uv(a,Y))}if(de=i.memoizedState,de!==null&&(Y=de.dehydrated,Y!==null)){if(w)a.flags&256?(Wl(a),a.flags&=-257,a=Hv(i,a,c)):a.memoizedState!==null?(ql(),a.child=i.child,a.flags|=128,a=null):(ql(),y=f.fallback,Y=a.mode,f=Cm({mode:"visible",children:f.children},Y),y=ao(y,Y,c,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,nd(a,i.child,null,c),f=a.child,f.memoizedState=Fv(c),f.childLanes=Vv(i,V,c),a.memoizedState=$v,a=y);else if(Wl(a),C0(Y)){if(V=Y.nextSibling&&Y.nextSibling.dataset,V)var Te=V.dgst;V=Te,f=Error(s(419)),f.stack="",f.digest=V,$l({value:f,source:null,stack:null}),a=Hv(i,a,c)}else if(ji||Fc(i,a,c,!1),V=(c&i.childLanes)!==0,ji||V){if(V=mr,V!==null&&(f=c&-c,f=(f&42)!==0?1:Ts(f),f=(f&(V.suspendedLanes|c))!==0?0:f,f!==0&&f!==de.retryLane))throw de.retryLane=f,Nl(i,f),Ys(V,i,f),Tw;Y.data==="$?"||l0(),a=Hv(i,a,c)}else Y.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=de.treeContext,_t=$a(Y.nextSibling),gt=a,Kt=!0,pr=null,kr=!1,i!==null&&(v[C++]=q,v[C++]=ce,v[C++]=R,q=i.id,ce=i.overflow,R=a),a=Uv(a,f.children),a.flags|=4096);return a}return y?(ql(),y=f.fallback,Y=a.mode,de=i.child,Te=de.sibling,f=la(de,{mode:"hidden",children:f.children}),f.subtreeFlags=de.subtreeFlags&65011712,Te!==null?y=la(Te,y):(y=ao(y,Y,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,Y=i.child.memoizedState,Y===null?Y=Fv(c):(de=Y.cachePool,de!==null?(Te=li._currentValue,de=de.parent!==Te?{parent:Te,pool:Te}:de):de=w1(),Y={baseLanes:Y.baseLanes|c,cachePool:de}),y.memoizedState=Y,y.childLanes=Vv(i,V,c),a.memoizedState=$v,f):(Wl(a),c=i.child,i=c.sibling,c=la(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,i!==null&&(V=a.deletions,V===null?(a.deletions=[i],a.flags|=16):V.push(i)),a.child=c,a.memoizedState=null,c)}function Uv(i,a){return a=Cm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Cm(i,a){return i=is(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Hv(i,a,c){return nd(a,i.child,null,c),i=Uv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Iw(i,a,c){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),$c(i.return,a,c)}function Wv(i,a,c,f,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=y)}function Bw(i,a,c){var f=a.pendingProps,y=f.revealOrder,w=f.tail;if(Mi(i,a,f.children,c),f=ci.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Iw(i,c,a);else if(i.tag===19)Iw(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(F(ci,f),y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&jm(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Wv(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&jm(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Wv(a,!0,c,null,w);break;case"together":Wv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Jo(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Kl|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Fc(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,c=la(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=la(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function qv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&sm(i)))}function hz(i,a,c){switch(a.tag){case 3:Oe(a,a.stateNode.containerInfo),oo(a,li,i.memoizedState.cache),Bl();break;case 27:case 5:it(a);break;case 4:Oe(a,a.stateNode.containerInfo);break;case 10:oo(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Wl(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Nw(i,a,c):(Wl(a),i=Jo(i,a,c),i!==null?i.sibling:null);Wl(a);break;case 19:var y=(i.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(Fc(i,a,c,!1),f=(c&a.childLanes)!==0),y){if(f)return Bw(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),F(ci,ci.current),f)break;return null;case 22:case 23:return a.lanes=0,Rw(i,a,c);case 24:oo(a,li,i.memoizedState.cache)}return Jo(i,a,c)}function $w(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)ji=!0;else{if(!qv(i,c)&&(a.flags&128)===0)return ji=!1,hz(i,a,c);ji=(i.flags&131072)!==0}else ji=!1,Kt&&(a.flags&1048576)!==0&&ze(a,h,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")qu(f)?(i=Wc(f,i),a.tag=1,a=Lw(null,a,f,i,c)):(a.tag=0,a=Bv(null,a,f,i,c));else{if(f!=null){if(y=f.$$typeof,y===O){a.tag=11,a=kw(null,a,f,i,c);break e}else if(y===G){a.tag=14,a=Pw(null,a,f,i,c);break e}}throw a=pe(f)||f,Error(s(306,a,""))}}return a;case 0:return Bv(i,a,a.type,a.pendingProps,c);case 1:return f=a.type,y=Wc(f,a.pendingProps),Lw(i,a,f,y,c);case 3:e:{if(Oe(a,a.stateNode.containerInfo),i===null)throw Error(s(387));f=a.pendingProps;var w=a.memoizedState;y=w.element,mv(i,a),zh(a,f,null,c);var V=a.memoizedState;if(f=V.cache,oo(a,li,f),f!==w.cache&&Zu(a,[li],c,!0),Rh(),f=V.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:V.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=Ow(i,a,f,c);break e}else if(f!==y){y=ns(Error(s(424)),a),$l(y),a=Ow(i,a,f,c);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_t=$a(i.firstChild),gt=a,Kt=!0,pr=null,kr=!0,c=vw(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Bl(),f===y){a=Jo(i,a,c);break e}Mi(i,a,f,c)}a=a.child}return a;case 26:return _m(i,a),i===null?(c=H_(a.type,null,a.pendingProps,null))?a.memoizedState=c:Kt||(c=a.type,i=a.pendingProps,f=Bm(re.current).createElement(c),f[Dr]=a,f[Ur]=i,zi(f,c,i),wr(f),a.stateNode=f):a.memoizedState=H_(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return it(a),i===null&&Kt&&(f=a.stateNode=F_(a.type,a.pendingProps,re.current),gt=a,kr=!0,y=_t,tc(a.type)?(E0=y,_t=$a(f.firstChild)):_t=y),Mi(i,a,a.pendingProps.children,c),_m(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Kt&&((y=f=_t)&&(f=$z(f,a.type,a.pendingProps,kr),f!==null?(a.stateNode=f,gt=a,_t=$a(f.firstChild),kr=!1,y=!0):y=!1),y||vs(a)),it(a),y=a.type,w=a.pendingProps,V=i!==null?i.memoizedProps:null,f=w.children,S0(y,w)?f=null:V!==null&&S0(y,V)&&(a.flags|=32),a.memoizedState!==null&&(y=jv(i,a,iz,null,null,c),tf._currentValue=y),_m(i,a),Mi(i,a,f,c),a.child;case 6:return i===null&&Kt&&((i=c=_t)&&(c=Fz(c,a.pendingProps,kr),c!==null?(a.stateNode=c,gt=a,_t=null,i=!0):i=!1),i||vs(a)),null;case 13:return Nw(i,a,c);case 4:return Oe(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=nd(a,null,f,c):Mi(i,a,f,c),a.child;case 11:return kw(i,a,a.type,a.pendingProps,c);case 7:return Mi(i,a,a.pendingProps,c),a.child;case 8:return Mi(i,a,a.pendingProps.children,c),a.child;case 12:return Mi(i,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,oo(a,a.type,f.value),Mi(i,a,f.children,c),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,Vc(a),y=Fi(y),f=f(y),a.flags|=1,Mi(i,a,f,c),a.child;case 14:return Pw(i,a,a.type,a.pendingProps,c);case 15:return Mw(i,a,a.type,a.pendingProps,c);case 19:return Bw(i,a,c);case 31:return f=a.pendingProps,c=a.mode,f={mode:f.mode,children:f.children},i===null?(c=Cm(f,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=la(i.child,f),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return Rw(i,a,c);case 24:return Vc(a),f=Fi(li),i===null?(y=hv(),y===null&&(y=mr,w=uv(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=c),y=w),a.memoizedState={parent:f,cache:y},pv(a),oo(a,li,y)):((i.lanes&c)!==0&&(mv(i,a),zh(a,null,null,c),Rh()),y=i.memoizedState,w=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),oo(a,li,f)):(f=w.cache,oo(a,li,f),f!==y.cache&&Zu(a,[li],c,!0))),Mi(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function el(i){i.flags|=4}function Fw(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Y_(a)){if(a=ua.current,a!==null&&((zn&4194048)===zn?lo!==null:(zn&62914560)!==zn&&(zn&536870912)===0||a!==lo))throw Ph=fv,_1;i.flags|=8192}}function Em(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Vr():536870912,i.lanes|=a,ad|=a)}function $h(i,a){if(!Kt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Pr(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=c,a}function fz(i,a,c){var f=a.pendingProps;switch(dt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(a),null;case 1:return Pr(a),null;case 3:return c=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ia(li),Pe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Bc(a)?el(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,im())),Pr(a),null;case 26:return c=a.memoizedState,i===null?(el(a),c!==null?(Pr(a),Fw(a,c)):(Pr(a),a.flags&=-16777217)):c?c!==i.memoizedState?(el(a),Pr(a),Fw(a,c)):(Pr(a),a.flags&=-16777217):(i.memoizedProps!==f&&el(a),Pr(a),a.flags&=-16777217),null;case 27:ot(a),c=re.current;var y=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&el(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return Pr(a),null}i=P.current,Bc(a)?nm(a):(i=F_(y,f,c),a.stateNode=i,el(a))}return Pr(a),null;case 5:if(ot(a),c=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&el(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return Pr(a),null}if(i=P.current,Bc(a))nm(a);else{switch(y=Bm(re.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}i[Dr]=a,i[Ur]=f;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=i;e:switch(zi(i,c,f),c){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&el(a)}}return Pr(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&el(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(s(166));if(i=re.current,Bc(a)){if(i=a.stateNode,c=a.memoizedProps,f=null,y=gt,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[Dr]=a,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||D_(i.nodeValue,c)),i||vs(a)}else i=Bm(i).createTextNode(f),i[Dr]=a,a.stateNode=i}return Pr(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Bc(a),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Dr]=a}else Bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pr(a),y=!1}else y=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Qo(a),a):(Qo(a),null)}if(Qo(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=f!==null,i=i!==null&&i.memoizedState!==null,c){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==y&&(f.flags|=2048)}return c!==i&&c&&(a.child.flags|=8192),Em(a,a.updateQueue),Pr(a),null;case 4:return Pe(),i===null&&x0(a.stateNode.containerInfo),Pr(a),null;case 10:return Ia(a.type),Pr(a),null;case 19:if(he(ci),y=a.memoizedState,y===null)return Pr(a),null;if(f=(a.flags&128)!==0,w=y.rendering,w===null)if(f)$h(y,!1);else{if(Or!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=jm(i),w!==null){for(a.flags|=128,$h(y,!1),i=w.updateQueue,a.updateQueue=i,Em(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)Ch(c,i),c=c.sibling;return F(ci,ci.current&1|2),a.child}i=i.sibling}y.tail!==null&&Ze()>km&&(a.flags|=128,f=!0,$h(y,!1),a.lanes=4194304)}else{if(!f)if(i=jm(w),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,Em(a,i),$h(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Kt)return Pr(a),null}else 2*Ze()-y.renderingStartTime>km&&c!==536870912&&(a.flags|=128,f=!0,$h(y,!1),a.lanes=4194304);y.isBackwards?(w.sibling=a.child,a.child=w):(i=y.last,i!==null?i.sibling=w:a.child=w,y.last=w)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Ze(),a.sibling=null,i=ci.current,F(ci,f?i&1|2:i&1),a):(Pr(a),null);case 22:case 23:return Qo(a),yv(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Pr(a),a.subtreeFlags&6&&(a.flags|=8192)):Pr(a),c=a.updateQueue,c!==null&&Em(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),i!==null&&he(Uc),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ia(li),Pr(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function pz(i,a){switch(dt(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ia(li),Pe(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ot(a),null;case 13:if(Qo(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Bl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return he(ci),null;case 4:return Pe(),null;case 10:return Ia(a.type),null;case 22:case 23:return Qo(a),yv(),i!==null&&he(Uc),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ia(li),null;case 25:return null;default:return null}}function Vw(i,a){switch(dt(a),a.tag){case 3:Ia(li),Pe();break;case 26:case 27:case 5:ot(a);break;case 4:Pe();break;case 13:Qo(a);break;case 19:he(ci);break;case 10:Ia(a.type);break;case 22:case 23:Qo(a),yv(),i!==null&&he(Uc);break;case 24:Ia(li)}}function Fh(i,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&i)===i){f=void 0;var w=c.create,V=c.inst;f=w(),V.destroy=f}c=c.next}while(c!==y)}}catch(Y){ur(a,a.return,Y)}}function Gl(i,a,c){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var w=y.next;f=w;do{if((f.tag&i)===i){var V=f.inst,Y=V.destroy;if(Y!==void 0){V.destroy=void 0,y=a;var de=c,Te=Y;try{Te()}catch(Ue){ur(y,de,Ue)}}}f=f.next}while(f!==w)}}catch(Ue){ur(a,a.return,Ue)}}function Uw(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{P1(a,c)}catch(f){ur(i,i.return,f)}}}function Hw(i,a,c){c.props=Wc(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){ur(i,a,f)}}function Vh(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(y){ur(i,a,y)}}function co(i,a){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){ur(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ur(i,a,y)}else c.current=null}function Ww(i){var a=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){ur(i,i.return,y)}}function Gv(i,a,c){try{var f=i.stateNode;Lz(f,i.type,c,a),f[Ur]=a}catch(y){ur(i,i.return,y)}}function qw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&tc(i.type)||i.tag===4}function Zv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&tc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yv(i,a,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Im));else if(f!==4&&(f===27&&tc(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(Yv(i,a,c),i=i.sibling;i!==null;)Yv(i,a,c),i=i.sibling}function Am(i,a,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(f!==4&&(f===27&&tc(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Am(i,a,c),i=i.sibling;i!==null;)Am(i,a,c),i=i.sibling}function Gw(i){var a=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);zi(a,f,c),a[Dr]=i,a[Ur]=c}catch(w){ur(i,i.return,w)}}var tl=!1,qr=!1,Xv=!1,Zw=typeof WeakSet=="function"?WeakSet:Set,Si=null;function mz(i,a){if(i=i.containerInfo,b0=Wm,i=Rc(i),zc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var V=0,Y=-1,de=-1,Te=0,Ue=0,Ge=i,ke=null;t:for(;;){for(var Re;Ge!==c||y!==0&&Ge.nodeType!==3||(Y=V+y),Ge!==w||f!==0&&Ge.nodeType!==3||(de=V+f),Ge.nodeType===3&&(V+=Ge.nodeValue.length),(Re=Ge.firstChild)!==null;)ke=Ge,Ge=Re;for(;;){if(Ge===i)break t;if(ke===c&&++Te===y&&(Y=V),ke===w&&++Ue===f&&(de=V),(Re=Ge.nextSibling)!==null)break;Ge=ke,ke=Ge.parentNode}Ge=Re}c=Y===-1||de===-1?null:{start:Y,end:de}}else c=null}c=c||{start:0,end:0}}else c=null;for(j0={focusedElem:i,selectionRange:c},Wm=!1,Si=a;Si!==null;)if(a=Si,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Si=i;else for(;Si!==null;){switch(a=Si,w=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=a,y=w.memoizedProps,w=w.memoizedState,f=c.stateNode;try{var Xt=Wc(c.type,y,c.elementType===c.type);i=f.getSnapshotBeforeUpdate(Xt,w),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ht){ur(c,c.return,Ht)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)_0(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":_0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,Si=i;break}Si=a.return}}function Yw(i,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Zl(i,c),f&4&&Fh(5,c);break;case 1:if(Zl(i,c),f&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(V){ur(c,c.return,V)}else{var y=Wc(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(V){ur(c,c.return,V)}}f&64&&Uw(c),f&512&&Vh(c,c.return);break;case 3:if(Zl(i,c),f&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{P1(i,a)}catch(V){ur(c,c.return,V)}}break;case 27:a===null&&f&4&&Gw(c);case 26:case 5:Zl(i,c),a===null&&f&4&&Ww(c),f&512&&Vh(c,c.return);break;case 12:Zl(i,c);break;case 13:Zl(i,c),f&4&&Qw(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=_z.bind(null,c),Vz(i,c))));break;case 22:if(f=c.memoizedState!==null||tl,!f){a=a!==null&&a.memoizedState!==null||qr,y=tl;var w=qr;tl=f,(qr=a)&&!w?Yl(i,c,(c.subtreeFlags&8772)!==0):Zl(i,c),tl=y,qr=w}break;case 30:break;default:Zl(i,c)}}function Xw(i){var a=i.alternate;a!==null&&(i.alternate=null,Xw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Qa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Er=null,bs=!1;function nl(i,a,c){for(c=c.child;c!==null;)Kw(i,a,c),c=c.sibling}function Kw(i,a,c){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(et,c)}catch{}switch(c.tag){case 26:qr||co(c,a),nl(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qr||co(c,a);var f=Er,y=bs;tc(c.type)&&(Er=c.stateNode,bs=!1),nl(i,a,c),Kh(c.stateNode),Er=f,bs=y;break;case 5:qr||co(c,a);case 6:if(f=Er,y=bs,Er=null,nl(i,a,c),Er=f,bs=y,Er!==null)if(bs)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(c.stateNode)}catch(w){ur(c,a,w)}else try{Er.removeChild(c.stateNode)}catch(w){ur(c,a,w)}break;case 18:Er!==null&&(bs?(i=Er,B_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),af(i)):B_(Er,c.stateNode));break;case 4:f=Er,y=bs,Er=c.stateNode.containerInfo,bs=!0,nl(i,a,c),Er=f,bs=y;break;case 0:case 11:case 14:case 15:qr||Gl(2,c,a),qr||Gl(4,c,a),nl(i,a,c);break;case 1:qr||(co(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Hw(c,a,f)),nl(i,a,c);break;case 21:nl(i,a,c);break;case 22:qr=(f=qr)||c.memoizedState!==null,nl(i,a,c),qr=f;break;default:nl(i,a,c)}}function Qw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{af(i)}catch(c){ur(a,a.return,c)}}function gz(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Zw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Zw),a;default:throw Error(s(435,i.tag))}}function Kv(i,a){var c=gz(i);a.forEach(function(f){var y=Cz.bind(null,i,f);c.has(f)||(c.add(f),f.then(y,y))})}function Ws(i,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],w=i,V=a,Y=V;e:for(;Y!==null;){switch(Y.tag){case 27:if(tc(Y.type)){Er=Y.stateNode,bs=!1;break e}break;case 5:Er=Y.stateNode,bs=!1;break e;case 3:case 4:Er=Y.stateNode.containerInfo,bs=!0;break e}Y=Y.return}if(Er===null)throw Error(s(160));Kw(w,V,y),Er=null,bs=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Jw(a,i),a=a.sibling}var Ba=null;function Jw(i,a){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ws(a,i),qs(i),f&4&&(Gl(3,i,i.return),Fh(3,i),Gl(5,i,i.return));break;case 1:Ws(a,i),qs(i),f&512&&(qr||c===null||co(c,c.return)),f&64&&tl&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Ba;if(Ws(a,i),qs(i),f&512&&(qr||c===null||co(c,c.return)),f&4){var w=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":w=y.getElementsByTagName("title")[0],(!w||w[ia]||w[Dr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(f),y.head.insertBefore(w,y.querySelector("head > title"))),zi(w,f,c),w[Dr]=i,wr(w),f=w;break e;case"link":var V=G_("link","href",y).get(f+(c.href||""));if(V){for(var Y=0;Y<V.length;Y++)if(w=V[Y],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){V.splice(Y,1);break t}}w=y.createElement(f),zi(w,f,c),y.head.appendChild(w);break;case"meta":if(V=G_("meta","content",y).get(f+(c.content||""))){for(Y=0;Y<V.length;Y++)if(w=V[Y],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){V.splice(Y,1);break t}}w=y.createElement(f),zi(w,f,c),y.head.appendChild(w);break;default:throw Error(s(468,f))}w[Dr]=i,wr(w),f=w}i.stateNode=f}else Z_(y,i.type,i.stateNode);else i.stateNode=q_(y,f,i.memoizedProps);else w!==f?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,f===null?Z_(y,i.type,i.stateNode):q_(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Gv(i,i.memoizedProps,c.memoizedProps)}break;case 27:Ws(a,i),qs(i),f&512&&(qr||c===null||co(c,c.return)),c!==null&&f&4&&Gv(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Ws(a,i),qs(i),f&512&&(qr||c===null||co(c,c.return)),i.flags&32){y=i.stateNode;try{gi(y,"")}catch(Re){ur(i,i.return,Re)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,Gv(i,y,c!==null?c.memoizedProps:y)),f&1024&&(Xv=!0);break;case 6:if(Ws(a,i),qs(i),f&4){if(i.stateNode===null)throw Error(s(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(Re){ur(i,i.return,Re)}}break;case 3:if(Vm=null,y=Ba,Ba=$m(a.containerInfo),Ws(a,i),Ba=y,qs(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{af(a.containerInfo)}catch(Re){ur(i,i.return,Re)}Xv&&(Xv=!1,e_(i));break;case 4:f=Ba,Ba=$m(i.stateNode.containerInfo),Ws(a,i),qs(i),Ba=f;break;case 12:Ws(a,i),qs(i);break;case 13:Ws(a,i),qs(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(r0=Ze()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Kv(i,f)));break;case 22:y=i.memoizedState!==null;var de=c!==null&&c.memoizedState!==null,Te=tl,Ue=qr;if(tl=Te||y,qr=Ue||de,Ws(a,i),qr=Ue,tl=Te,qs(i),f&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||de||tl||qr||qc(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){de=c=a;try{if(w=de.stateNode,y)V=w.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Y=de.stateNode;var Ge=de.memoizedProps.style,ke=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;Y.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Re){ur(de,de.return,Re)}}}else if(a.tag===6){if(c===null){de=a;try{de.stateNode.nodeValue=y?"":de.memoizedProps}catch(Re){ur(de,de.return,Re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Kv(i,c))));break;case 19:Ws(a,i),qs(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Kv(i,f)));break;case 30:break;case 21:break;default:Ws(a,i),qs(i)}}function qs(i){var a=i.flags;if(a&2){try{for(var c,f=i.return;f!==null;){if(qw(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var y=c.stateNode,w=Zv(i);Am(i,w,y);break;case 5:var V=c.stateNode;c.flags&32&&(gi(V,""),c.flags&=-33);var Y=Zv(i);Am(i,Y,V);break;case 3:case 4:var de=c.stateNode.containerInfo,Te=Zv(i);Yv(i,Te,de);break;default:throw Error(s(161))}}catch(Ue){ur(i,i.return,Ue)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function e_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;e_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Zl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Yw(i,a.alternate,a),a=a.sibling}function qc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Gl(4,a,a.return),qc(a);break;case 1:co(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Hw(a,a.return,c),qc(a);break;case 27:Kh(a.stateNode);case 26:case 5:co(a,a.return),qc(a);break;case 22:a.memoizedState===null&&qc(a);break;case 30:qc(a);break;default:qc(a)}i=i.sibling}}function Yl(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=i,w=a,V=w.flags;switch(w.tag){case 0:case 11:case 15:Yl(y,w,c),Fh(4,w);break;case 1:if(Yl(y,w,c),f=w,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Te){ur(f,f.return,Te)}if(f=w,y=f.updateQueue,y!==null){var Y=f.stateNode;try{var de=y.shared.hiddenCallbacks;if(de!==null)for(y.shared.hiddenCallbacks=null,y=0;y<de.length;y++)k1(de[y],Y)}catch(Te){ur(f,f.return,Te)}}c&&V&64&&Uw(w),Vh(w,w.return);break;case 27:Gw(w);case 26:case 5:Yl(y,w,c),c&&f===null&&V&4&&Ww(w),Vh(w,w.return);break;case 12:Yl(y,w,c);break;case 13:Yl(y,w,c),c&&V&4&&Qw(y,w);break;case 22:w.memoizedState===null&&Yl(y,w,c),Vh(w,w.return);break;case 30:break;default:Yl(y,w,c)}a=a.sibling}}function Qv(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ah(c))}function Jv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ah(i))}function uo(i,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)t_(i,a,c,f),a=a.sibling}function t_(i,a,c,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:uo(i,a,c,f),y&2048&&Fh(9,a);break;case 1:uo(i,a,c,f);break;case 3:uo(i,a,c,f),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ah(i)));break;case 12:if(y&2048){uo(i,a,c,f),i=a.stateNode;try{var w=a.memoizedProps,V=w.id,Y=w.onPostCommit;typeof Y=="function"&&Y(V,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){ur(a,a.return,de)}}else uo(i,a,c,f);break;case 13:uo(i,a,c,f);break;case 23:break;case 22:w=a.stateNode,V=a.alternate,a.memoizedState!==null?w._visibility&2?uo(i,a,c,f):Uh(i,a):w._visibility&2?uo(i,a,c,f):(w._visibility|=2,rd(i,a,c,f,(a.subtreeFlags&10256)!==0)),y&2048&&Qv(V,a);break;case 24:uo(i,a,c,f),y&2048&&Jv(a.alternate,a);break;default:uo(i,a,c,f)}}function rd(i,a,c,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=i,V=a,Y=c,de=f,Te=V.flags;switch(V.tag){case 0:case 11:case 15:rd(w,V,Y,de,y),Fh(8,V);break;case 23:break;case 22:var Ue=V.stateNode;V.memoizedState!==null?Ue._visibility&2?rd(w,V,Y,de,y):Uh(w,V):(Ue._visibility|=2,rd(w,V,Y,de,y)),y&&Te&2048&&Qv(V.alternate,V);break;case 24:rd(w,V,Y,de,y),y&&Te&2048&&Jv(V.alternate,V);break;default:rd(w,V,Y,de,y)}a=a.sibling}}function Uh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,f=a,y=f.flags;switch(f.tag){case 22:Uh(c,f),y&2048&&Qv(f.alternate,f);break;case 24:Uh(c,f),y&2048&&Jv(f.alternate,f);break;default:Uh(c,f)}a=a.sibling}}var Hh=8192;function id(i){if(i.subtreeFlags&Hh)for(i=i.child;i!==null;)n_(i),i=i.sibling}function n_(i){switch(i.tag){case 26:id(i),i.flags&Hh&&i.memoizedState!==null&&tD(Ba,i.memoizedState,i.memoizedProps);break;case 5:id(i);break;case 3:case 4:var a=Ba;Ba=$m(i.stateNode.containerInfo),id(i),Ba=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Hh,Hh=16777216,id(i),Hh=a):id(i));break;default:id(i)}}function r_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Wh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Si=f,s_(f,i)}r_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(i),i=i.sibling}function i_(i){switch(i.tag){case 0:case 11:case 15:Wh(i),i.flags&2048&&Gl(9,i,i.return);break;case 3:Wh(i);break;case 12:Wh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Tm(i)):Wh(i);break;default:Wh(i)}}function Tm(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];Si=f,s_(f,i)}r_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Gl(8,a,a.return),Tm(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Tm(a));break;default:Tm(a)}i=i.sibling}}function s_(i,a){for(;Si!==null;){var c=Si;switch(c.tag){case 0:case 11:case 15:Gl(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ah(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Si=f;else e:for(c=i;Si!==null;){f=Si;var y=f.sibling,w=f.return;if(Xw(f),f===c){Si=null;break e}if(y!==null){y.return=w,Si=y;break e}Si=w}}}var xz={getCacheForType:function(i){var a=Fi(li),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c}},vz=typeof WeakMap=="function"?WeakMap:Map,Jn=0,mr=null,_n=null,zn=0,er=0,Gs=null,Xl=!1,sd=!1,e0=!1,rl=0,Or=0,Kl=0,Gc=0,t0=0,da=0,ad=0,qh=null,js=null,n0=!1,r0=0,km=1/0,Pm=null,Ql=null,Ri=0,Jl=null,od=null,ld=0,i0=0,s0=null,a_=null,Gh=0,a0=null;function Zs(){if((Jn&2)!==0&&zn!==0)return zn&-zn;if(Z.T!==null){var i=Yu;return i!==0?i:f0()}return Ka()}function o_(){da===0&&(da=(zn&536870912)===0||Kt?hr():536870912);var i=ua.current;return i!==null&&(i.flags|=32),da}function Ys(i,a,c){(i===mr&&(er===2||er===9)||i.cancelPendingCommit!==null)&&(cd(i,0),ec(i,zn,da,!1)),cr(i,c),((Jn&2)===0||i!==mr)&&(i===mr&&((Jn&2)===0&&(Gc|=c),Or===4&&ec(i,zn,da,!1)),ho(i))}function l_(i,a,c){if((Jn&6)!==0)throw Error(s(327));var f=!c&&(a&124)===0&&(a&i.expiredLanes)===0||an(i,a),y=f?jz(i,a):c0(i,a,!0),w=f;do{if(y===0){sd&&!f&&ec(i,a,0,!1);break}else{if(c=i.current.alternate,w&&!yz(c)){y=c0(i,a,!1),w=!1;continue}if(y===2){if(w=a,i.errorRecoveryDisabledLanes&w)var V=0;else V=i.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){a=V;e:{var Y=i;y=qh;var de=Y.current.memoizedState.isDehydrated;if(de&&(cd(Y,V).flags|=256),V=c0(Y,V,!1),V!==2){if(e0&&!de){Y.errorRecoveryDisabledLanes|=w,Gc|=w,y=4;break e}w=js,js=y,w!==null&&(js===null?js=w:js.push.apply(js,w))}y=V}if(w=!1,y!==2)continue}}if(y===1){cd(i,0),ec(i,a,0,!0);break}e:{switch(f=i,w=y,w){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ec(f,a,da,!Xl);break e;case 2:js=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(y=r0+300-Ze(),10<y)){if(ec(f,a,da,!Xl),Rn(f,0,!0)!==0)break e;f.timeoutHandle=N_(c_.bind(null,f,c,js,Pm,n0,a,da,Gc,ad,Xl,w,2,-0,0),y);break e}c_(f,c,js,Pm,n0,a,da,Gc,ad,Xl,w,0,-0,0)}}break}while(!0);ho(i)}function c_(i,a,c,f,y,w,V,Y,de,Te,Ue,Ge,ke,Re){if(i.timeoutHandle=-1,Ge=a.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(ef={stylesheets:null,count:0,unsuspend:eD},n_(a),Ge=nD(),Ge!==null)){i.cancelPendingCommit=Ge(g_.bind(null,i,a,w,c,f,y,V,Y,de,Ue,1,ke,Re)),ec(i,w,V,!Te);return}g_(i,a,w,c,f,y,V,Y,de)}function yz(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],w=y.getSnapshot;y=y.value;try{if(!es(w(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ec(i,a,c,f){a&=~t0,a&=~Gc,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var y=a;0<y;){var w=31-ft(y),V=1<<w;f[w]=-1,y&=~V}c!==0&&Ya(i,c,a)}function Mm(){return(Jn&6)===0?(Zh(0),!1):!0}function o0(){if(_n!==null){if(er===0)var i=_n.return;else i=_n,Na=ca=null,_v(i),td=null,Ih=0,i=_n;for(;i!==null;)Vw(i.alternate,i),i=i.return;_n=null}}function cd(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,Nz(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),o0(),mr=i,_n=c=la(i.current,null),zn=a,er=0,Gs=null,Xl=!1,sd=an(i,a),e0=!1,ad=da=t0=Gc=Kl=Or=0,js=qh=null,n0=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var y=31-ft(f),w=1<<y;a|=i[y],f&=~w}return rl=a,Lc(),c}function u_(i,a){fn=null,Z.H=vm,a===kh||a===lm?(a=A1(),er=3):a===_1?(a=A1(),er=4):er=a===Tw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Gs=a,_n===null&&(Or=1,wm(i,ns(a,i.current)))}function d_(){var i=Z.H;return Z.H=vm,i===null?vm:i}function h_(){var i=Z.A;return Z.A=xz,i}function l0(){Or=4,Xl||(zn&4194048)!==zn&&ua.current!==null||(sd=!0),(Kl&134217727)===0&&(Gc&134217727)===0||mr===null||ec(mr,zn,da,!1)}function c0(i,a,c){var f=Jn;Jn|=2;var y=d_(),w=h_();(mr!==i||zn!==a)&&(Pm=null,cd(i,a)),a=!1;var V=Or;e:do try{if(er!==0&&_n!==null){var Y=_n,de=Gs;switch(er){case 8:o0(),V=6;break e;case 3:case 2:case 9:case 6:ua.current===null&&(a=!0);var Te=er;if(er=0,Gs=null,ud(i,Y,de,Te),c&&sd){V=0;break e}break;default:Te=er,er=0,Gs=null,ud(i,Y,de,Te)}}bz(),V=Or;break}catch(Ue){u_(i,Ue)}while(!0);return a&&i.shellSuspendCounter++,Na=ca=null,Jn=f,Z.H=y,Z.A=w,_n===null&&(mr=null,zn=0,Lc()),V}function bz(){for(;_n!==null;)f_(_n)}function jz(i,a){var c=Jn;Jn|=2;var f=d_(),y=h_();mr!==i||zn!==a?(Pm=null,km=Ze()+500,cd(i,a)):sd=an(i,a);e:do try{if(er!==0&&_n!==null){a=_n;var w=Gs;t:switch(er){case 1:er=0,Gs=null,ud(i,a,w,1);break;case 2:case 9:if(C1(w)){er=0,Gs=null,p_(a);break}a=function(){er!==2&&er!==9||mr!==i||(er=7),ho(i)},w.then(a,a);break e;case 3:er=7;break e;case 4:er=5;break e;case 7:C1(w)?(er=0,Gs=null,p_(a)):(er=0,Gs=null,ud(i,a,w,7));break;case 5:var V=null;switch(_n.tag){case 26:V=_n.memoizedState;case 5:case 27:var Y=_n;if(!V||Y_(V)){er=0,Gs=null;var de=Y.sibling;if(de!==null)_n=de;else{var Te=Y.return;Te!==null?(_n=Te,Rm(Te)):_n=null}break t}}er=0,Gs=null,ud(i,a,w,5);break;case 6:er=0,Gs=null,ud(i,a,w,6);break;case 8:o0(),Or=6;break e;default:throw Error(s(462))}}Sz();break}catch(Ue){u_(i,Ue)}while(!0);return Na=ca=null,Z.H=f,Z.A=y,Jn=c,_n!==null?0:(mr=null,zn=0,Lc(),Or)}function Sz(){for(;_n!==null&&!Bt();)f_(_n)}function f_(i){var a=$w(i.alternate,i,rl);i.memoizedProps=i.pendingProps,a===null?Rm(i):_n=a}function p_(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=Dw(c,a,a.pendingProps,a.type,void 0,zn);break;case 11:a=Dw(c,a,a.pendingProps,a.type.render,a.ref,zn);break;case 5:_v(a);default:Vw(c,a),a=_n=Ch(a,rl),a=$w(c,a,rl)}i.memoizedProps=i.pendingProps,a===null?Rm(i):_n=a}function ud(i,a,c,f){Na=ca=null,_v(a),td=null,Ih=0;var y=a.return;try{if(dz(i,y,a,c,zn)){Or=1,wm(i,ns(c,i.current)),_n=null;return}}catch(w){if(y!==null)throw _n=y,w;Or=1,wm(i,ns(c,i.current)),_n=null;return}a.flags&32768?(Kt||f===1?i=!0:sd||(zn&536870912)!==0?i=!1:(Xl=i=!0,(f===2||f===9||f===3||f===6)&&(f=ua.current,f!==null&&f.tag===13&&(f.flags|=16384))),m_(a,i)):Rm(a)}function Rm(i){var a=i;do{if((a.flags&32768)!==0){m_(a,Xl);return}i=a.return;var c=fz(a.alternate,a,rl);if(c!==null){_n=c;return}if(a=a.sibling,a!==null){_n=a;return}_n=a=i}while(a!==null);Or===0&&(Or=5)}function m_(i,a){do{var c=pz(i.alternate,i);if(c!==null){c.flags&=32767,_n=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){_n=i;return}_n=i=c}while(i!==null);Or=6,_n=null}function g_(i,a,c,f,y,w,V,Y,de){i.cancelPendingCommit=null;do zm();while(Ri!==0);if((Jn&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(w=a.lanes|a.childLanes,w|=Hs,Kr(i,c,w,V,Y,de),i===mr&&(_n=mr=null,zn=0),od=a,Jl=i,ld=c,i0=w,s0=y,a_=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Ez(Je,function(){return j_(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,y=W.p,W.p=2,V=Jn,Jn|=4;try{mz(i,a,c)}finally{Jn=V,W.p=y,Z.T=f}}Ri=1,x_(),v_(),y_()}}function x_(){if(Ri===1){Ri=0;var i=Jl,a=od,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var f=W.p;W.p=2;var y=Jn;Jn|=4;try{Jw(a,i);var w=j0,V=Rc(i.containerInfo),Y=w.focusedElem,de=w.selectionRange;if(V!==Y&&Y&&Y.ownerDocument&&Fu(Y.ownerDocument.documentElement,Y)){if(de!==null&&zc(Y)){var Te=de.start,Ue=de.end;if(Ue===void 0&&(Ue=Te),"selectionStart"in Y)Y.selectionStart=Te,Y.selectionEnd=Math.min(Ue,Y.value.length);else{var Ge=Y.ownerDocument||document,ke=Ge&&Ge.defaultView||window;if(ke.getSelection){var Re=ke.getSelection(),Xt=Y.textContent.length,Ht=Math.min(de.start,Xt),or=de.end===void 0?Ht:Math.min(de.end,Xt);!Re.extend&&Ht>or&&(V=or,or=Ht,Ht=V);var _e=wh(Y,Ht),ve=wh(Y,or);if(_e&&ve&&(Re.rangeCount!==1||Re.anchorNode!==_e.node||Re.anchorOffset!==_e.offset||Re.focusNode!==ve.node||Re.focusOffset!==ve.offset)){var Ae=Ge.createRange();Ae.setStart(_e.node,_e.offset),Re.removeAllRanges(),Ht>or?(Re.addRange(Ae),Re.extend(ve.node,ve.offset)):(Ae.setEnd(ve.node,ve.offset),Re.addRange(Ae))}}}}for(Ge=[],Re=Y;Re=Re.parentNode;)Re.nodeType===1&&Ge.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ge.length;Y++){var We=Ge[Y];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}Wm=!!b0,j0=b0=null}finally{Jn=y,W.p=f,Z.T=c}}i.current=a,Ri=2}}function v_(){if(Ri===2){Ri=0;var i=Jl,a=od,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var f=W.p;W.p=2;var y=Jn;Jn|=4;try{Yw(i,a.alternate,a)}finally{Jn=y,W.p=f,Z.T=c}}Ri=3}}function y_(){if(Ri===4||Ri===3){Ri=0,ye();var i=Jl,a=od,c=ld,f=a_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ri=5:(Ri=0,od=Jl=null,b_(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Ql=null),ks(c),a=a.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(et,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=Z.T,y=W.p,W.p=2,Z.T=null;try{for(var w=i.onRecoverableError,V=0;V<f.length;V++){var Y=f[V];w(Y.value,{componentStack:Y.stack})}}finally{Z.T=a,W.p=y}}(ld&3)!==0&&zm(),ho(i),y=i.pendingLanes,(c&4194090)!==0&&(y&42)!==0?i===a0?Gh++:(Gh=0,a0=i):Gh=0,Zh(0)}}function b_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ah(a)))}function zm(i){return x_(),v_(),y_(),j_()}function j_(){if(Ri!==5)return!1;var i=Jl,a=i0;i0=0;var c=ks(ld),f=Z.T,y=W.p;try{W.p=32>c?32:c,Z.T=null,c=s0,s0=null;var w=Jl,V=ld;if(Ri=0,od=Jl=null,ld=0,(Jn&6)!==0)throw Error(s(331));var Y=Jn;if(Jn|=4,i_(w.current),t_(w,w.current,V,c),Jn=Y,Zh(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(et,w)}catch{}return!0}finally{W.p=y,Z.T=f,b_(i,a)}}function S_(i,a,c){a=ns(c,a),a=Iv(i.stateNode,a,2),i=Ul(i,a,2),i!==null&&(cr(i,2),ho(i))}function ur(i,a,c){if(i.tag===3)S_(i,i,c);else for(;a!==null;){if(a.tag===3){S_(a,i,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ql===null||!Ql.has(f))){i=ns(c,i),c=Ew(2),f=Ul(a,c,2),f!==null&&(Aw(c,f,a,i),cr(f,2),ho(f));break}}a=a.return}}function u0(i,a,c){var f=i.pingCache;if(f===null){f=i.pingCache=new vz;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(e0=!0,y.add(c),i=wz.bind(null,i,a,c),a.then(i,i))}function wz(i,a,c){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,mr===i&&(zn&c)===c&&(Or===4||Or===3&&(zn&62914560)===zn&&300>Ze()-r0?(Jn&2)===0&&cd(i,0):t0|=c,ad===zn&&(ad=0)),ho(i)}function w_(i,a){a===0&&(a=Vr()),i=Nl(i,a),i!==null&&(cr(i,a),ho(i))}function _z(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),w_(i,c)}function Cz(i,a){var c=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(a),w_(i,c)}function Ez(i,a){return wt(i,a)}var Dm=null,dd=null,d0=!1,Lm=!1,h0=!1,Zc=0;function ho(i){i!==dd&&i.next===null&&(dd===null?Dm=dd=i:dd=dd.next=i),Lm=!0,d0||(d0=!0,Tz())}function Zh(i,a){if(!h0&&Lm){h0=!0;do for(var c=!1,f=Dm;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var w=0;else{var V=f.suspendedLanes,Y=f.pingedLanes;w=(1<<31-ft(42|i)+1)-1,w&=y&~(V&~Y),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,A_(f,w))}else w=zn,w=Rn(f,f===mr?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||an(f,w)||(c=!0,A_(f,w));f=f.next}while(c);h0=!1}}function Az(){__()}function __(){Lm=d0=!1;var i=0;Zc!==0&&(Oz()&&(i=Zc),Zc=0);for(var a=Ze(),c=null,f=Dm;f!==null;){var y=f.next,w=C_(f,a);w===0?(f.next=null,c===null?Dm=y:c.next=y,y===null&&(dd=c)):(c=f,(i!==0||(w&3)!==0)&&(Lm=!0)),f=y}Zh(i)}function C_(i,a){for(var c=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var V=31-ft(w),Y=1<<V,de=y[V];de===-1?((Y&c)===0||(Y&f)!==0)&&(y[V]=Sr(Y,a)):de<=a&&(i.expiredLanes|=Y),w&=~Y}if(a=mr,c=zn,c=Rn(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===a&&(er===2||er===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&$e(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||an(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(f!==null&&$e(f),ks(c)){case 2:case 8:c=ge;break;case 32:c=Je;break;case 268435456:c=An;break;default:c=Je}return f=E_.bind(null,i),c=wt(c,f),i.callbackPriority=a,i.callbackNode=c,a}return f!==null&&f!==null&&$e(f),i.callbackPriority=2,i.callbackNode=null,2}function E_(i,a){if(Ri!==0&&Ri!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(zm()&&i.callbackNode!==c)return null;var f=zn;return f=Rn(i,i===mr?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(l_(i,f,a),C_(i,Ze()),i.callbackNode!=null&&i.callbackNode===c?E_.bind(null,i):null)}function A_(i,a){if(zm())return null;l_(i,a,!0)}function Tz(){Iz(function(){(Jn&6)!==0?wt(ae,Az):__()})}function f0(){return Zc===0&&(Zc=hr()),Zc}function T_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ns(""+i)}function k_(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function kz(i,a,c,f,y){if(a==="submit"&&c&&c.stateNode===y){var w=T_((y[Ur]||null).action),V=f.submitter;V&&(a=(a=V[Ur]||null)?T_(a.formAction):V.getAttribute("formAction"),a!==null&&(w=a,V=null));var Y=new Me("action","action",null,f,y);i.push({event:Y,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Zc!==0){var de=V?k_(y,V):new FormData(y);zv(c,{pending:!0,data:de,method:y.method,action:w},null,de)}}else typeof w=="function"&&(Y.preventDefault(),de=V?k_(y,V):new FormData(y),zv(c,{pending:!0,data:de,method:y.method,action:w},w,de))},currentTarget:y}]})}}for(var p0=0;p0<qo.length;p0++){var m0=qo[p0],Pz=m0.toLowerCase(),Mz=m0[0].toUpperCase()+m0.slice(1);Us(Pz,"on"+Mz)}Us(Jp,"onAnimationEnd"),Us(Vs,"onAnimationIteration"),Us(Dc,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(lv,"onTransitionRun"),Us(Wu,"onTransitionStart"),Us(cv,"onTransitionCancel"),Us(_h,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yh));function P_(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],y=f.event;f=f.listeners;e:{var w=void 0;if(a)for(var V=f.length-1;0<=V;V--){var Y=f[V],de=Y.instance,Te=Y.currentTarget;if(Y=Y.listener,de!==w&&y.isPropagationStopped())break e;w=Y,y.currentTarget=Te;try{w(y)}catch(Ue){Sm(Ue)}y.currentTarget=null,w=de}else for(V=0;V<f.length;V++){if(Y=f[V],de=Y.instance,Te=Y.currentTarget,Y=Y.listener,de!==w&&y.isPropagationStopped())break e;w=Y,y.currentTarget=Te;try{w(y)}catch(Ue){Sm(Ue)}y.currentTarget=null,w=de}}}}function Cn(i,a){var c=a[tt];c===void 0&&(c=a[tt]=new Set);var f=i+"__bubble";c.has(f)||(M_(a,i,2,!1),c.add(f))}function g0(i,a,c){var f=0;a&&(f|=4),M_(c,i,f,a)}var Om="_reactListening"+Math.random().toString(36).slice(2);function x0(i){if(!i[Om]){i[Om]=!0,El.forEach(function(c){c!=="selectionchange"&&(Rz.has(c)||g0(c,!1,i),g0(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Om]||(a[Om]=!0,g0("selectionchange",!1,a))}}function M_(i,a,c,f){switch(tC(a)){case 2:var y=sD;break;case 8:y=aD;break;default:y=M0}c=y.bind(null,a,c,i),y=void 0,!Xi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function v0(i,a,c,f,y){var w=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var V=f.tag;if(V===3||V===4){var Y=f.stateNode.containerInfo;if(Y===y)break;if(V===4)for(V=f.return;V!==null;){var de=V.tag;if((de===3||de===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;Y!==null;){if(V=Bi(Y),V===null)return;if(de=V.tag,de===5||de===6||de===26||de===27){f=w=V;continue e}Y=Y.parentNode}}f=f.return}oi(function(){var Te=w,Ue=gs(c),Ge=[];e:{var ke=em.get(i);if(ke!==void 0){var Re=Me,Xt=i;switch(i){case"keypress":if(fr(c)===0)break e;case"keydown":case"keyup":Re=vi;break;case"focusin":Xt="focus",Re=Da;break;case"focusout":Xt="blur",Re=Da;break;case"beforeblur":case"afterblur":Re=Da;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Tc;break;case Jp:case Vs:case Dc:Re=Ec;break;case _h:Re=vh;break;case"scroll":case"scrollend":Re=un;break;case"wheel":Re=Hp;break;case"copy":case"cut":case"paste":Re=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Nn;break;case"toggle":case"beforetoggle":Re=Vo}var Ht=(a&4)!==0,or=!Ht&&(i==="scroll"||i==="scrollend"),_e=Ht?ke!==null?ke+"Capture":null:ke;Ht=[];for(var ve=Te,Ae;ve!==null;){var We=ve;if(Ae=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Ae===null||_e===null||(We=xn(ve,_e),We!=null&&Ht.push(Xh(ve,We,Ae))),or)break;ve=ve.return}0<Ht.length&&(ke=new Re(ke,Xt,null,c,Ue),Ge.push({event:ke,listeners:Ht}))}}if((a&7)===0){e:{if(ke=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",ke&&c!==ms&&(Xt=c.relatedTarget||c.fromElement)&&(Bi(Xt)||Xt[Gi]))break e;if((Re||ke)&&(ke=Ue.window===Ue?Ue:(ke=Ue.ownerDocument)?ke.defaultView||ke.parentWindow:window,Re?(Xt=c.relatedTarget||c.toElement,Re=Te,Xt=Xt?Bi(Xt):null,Xt!==null&&(or=u(Xt),Ht=Xt.tag,Xt!==or||Ht!==5&&Ht!==27&&Ht!==6)&&(Xt=null)):(Re=null,Xt=Te),Re!==Xt)){if(Ht=Lr,We="onMouseLeave",_e="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Ht=Nn,We="onPointerLeave",_e="onPointerEnter",ve="pointer"),or=Re==null?ke:Ci(Re),Ae=Xt==null?ke:Ci(Xt),ke=new Ht(We,ve+"leave",Re,c,Ue),ke.target=or,ke.relatedTarget=Ae,We=null,Bi(Ue)===Te&&(Ht=new Ht(_e,ve+"enter",Xt,c,Ue),Ht.target=Ae,Ht.relatedTarget=or,We=Ht),or=We,Re&&Xt)t:{for(Ht=Re,_e=Xt,ve=0,Ae=Ht;Ae;Ae=hd(Ae))ve++;for(Ae=0,We=_e;We;We=hd(We))Ae++;for(;0<ve-Ae;)Ht=hd(Ht),ve--;for(;0<Ae-ve;)_e=hd(_e),Ae--;for(;ve--;){if(Ht===_e||_e!==null&&Ht===_e.alternate)break t;Ht=hd(Ht),_e=hd(_e)}Ht=null}else Ht=null;Re!==null&&R_(Ge,ke,Re,Ht,!1),Xt!==null&&or!==null&&R_(Ge,or,Xt,Ht,!0)}}e:{if(ke=Te?Ci(Te):window,Re=ke.nodeName&&ke.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ke.type==="file")var vt=Ml;else if(Ho(ke))if(bh)vt=ov;else{vt=av;var vn=Sh}else Re=ke.nodeName,!Re||Re.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Te&&Os(Te.elementType)&&(vt=Ml):vt=Oa;if(vt&&(vt=vt(i,Te))){Yp(Ge,vt,c,Ue);break e}vn&&vn(i,ke,Te),i==="focusout"&&Te&&ke.type==="number"&&Te.memoizedProps.value!=null&&Ls(ke,"number",ke.value)}switch(vn=Te?Ci(Te):window,i){case"focusin":(Ho(vn)||vn.contentEditable==="true")&&(Fs=vn,Dl=Te,Wo=null);break;case"focusout":Wo=Dl=Fs=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Kp(Ge,c,Ue);break;case"selectionchange":if(Vu)break;case"keydown":case"keyup":Kp(Ge,c,Ue)}var Lt;if(Uo)e:{switch(i){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else kl?Bu(i,c)&&(Wt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Wt="onCompositionStart");Wt&&(yh&&c.locale!=="ko"&&(kl||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&kl&&(Lt=aa()):(ki=Ue,Qi="value"in ki?ki.value:ki.textContent,kl=!0)),vn=Nm(Te,Wt),0<vn.length&&(Wt=new te(Wt,i,null,c,Ue),Ge.push({event:Wt,listeners:vn}),Lt?Wt.data=Lt:(Lt=Gp(c),Lt!==null&&(Wt.data=Lt)))),(Lt=Wp?Zp(i,c):sv(i,c))&&(Wt=Nm(Te,"onBeforeInput"),0<Wt.length&&(vn=new te("onBeforeInput","beforeinput",null,c,Ue),Ge.push({event:vn,listeners:Wt}),vn.data=Lt)),kz(Ge,i,Te,c,Ue)}P_(Ge,a)})}function Xh(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Nm(i,a){for(var c=a+"Capture",f=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=xn(i,c),y!=null&&f.unshift(Xh(i,y,w)),y=xn(i,a),y!=null&&f.push(Xh(i,y,w))),i.tag===3)return f;i=i.return}return[]}function hd(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function R_(i,a,c,f,y){for(var w=a._reactName,V=[];c!==null&&c!==f;){var Y=c,de=Y.alternate,Te=Y.stateNode;if(Y=Y.tag,de!==null&&de===f)break;Y!==5&&Y!==26&&Y!==27||Te===null||(de=Te,y?(Te=xn(c,w),Te!=null&&V.unshift(Xh(c,Te,de))):y||(Te=xn(c,w),Te!=null&&V.push(Xh(c,Te,de)))),c=c.return}V.length!==0&&i.push({event:a,listeners:V})}var zz=/\r\n?/g,Dz=/\u0000|\uFFFD/g;function z_(i){return(typeof i=="string"?i:""+i).replace(zz,`
`).replace(Dz,"")}function D_(i,a){return a=z_(a),z_(i)===a}function Im(){}function ar(i,a,c,f,y,w){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||gi(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&gi(i,""+f);break;case"className":Ea(i,"class",f);break;case"tabIndex":Ea(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ea(i,c,f);break;case"style":Pa(i,f,w);break;case"data":if(a!=="object"){Ea(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Ns(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(a!=="input"&&ar(i,a,"name",y.name,y,null),ar(i,a,"formEncType",y.formEncType,y,null),ar(i,a,"formMethod",y.formMethod,y,null),ar(i,a,"formTarget",y.formTarget,y,null)):(ar(i,a,"encType",y.encType,y,null),ar(i,a,"method",y.method,y,null),ar(i,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Ns(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=Im);break;case"onScroll":f!=null&&Cn("scroll",i);break;case"onScrollEnd":f!=null&&Cn("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Ns(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":Cn("beforetoggle",i),Cn("toggle",i),Ms(i,"popover",f);break;case"xlinkActuate":Ai(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ai(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ai(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ai(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ai(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ai(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ai(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ms(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ma.get(c)||c,Ms(i,c,f))}}function y0(i,a,c,f,y,w){switch(c){case"style":Pa(i,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"children":typeof f=="string"?gi(i,f):(typeof f=="number"||typeof f=="bigint")&&gi(i,""+f);break;case"onScroll":f!=null&&Cn("scroll",i);break;case"onScrollEnd":f!=null&&Cn("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ja.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),w=i[Ur]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(a,w,y),typeof f=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,f,y);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):Ms(i,c,f)}}}function zi(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cn("error",i),Cn("load",i);var f=!1,y=!1,w;for(w in c)if(c.hasOwnProperty(w)){var V=c[w];if(V!=null)switch(w){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ar(i,a,w,V,c,null)}}y&&ar(i,a,"srcSet",c.srcSet,c,null),f&&ar(i,a,"src",c.src,c,null);return;case"input":Cn("invalid",i);var Y=w=V=y=null,de=null,Te=null;for(f in c)if(c.hasOwnProperty(f)){var Ue=c[f];if(Ue!=null)switch(f){case"name":y=Ue;break;case"type":V=Ue;break;case"checked":de=Ue;break;case"defaultChecked":Te=Ue;break;case"value":w=Ue;break;case"defaultValue":Y=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(s(137,a));break;default:ar(i,a,f,Ue,c,null)}}Ta(i,w,Y,de,Te,V,y,!1),Ds(i);return;case"select":Cn("invalid",i),f=V=w=null;for(y in c)if(c.hasOwnProperty(y)&&(Y=c[y],Y!=null))switch(y){case"value":w=Y;break;case"defaultValue":V=Y;break;case"multiple":f=Y;default:ar(i,a,y,Y,c,null)}a=w,c=V,i.multiple=!!f,a!=null?Qr(i,!!f,a,!1):c!=null&&Qr(i,!!f,c,!0);return;case"textarea":Cn("invalid",i),w=y=f=null;for(V in c)if(c.hasOwnProperty(V)&&(Y=c[V],Y!=null))switch(V){case"value":f=Y;break;case"defaultValue":y=Y;break;case"children":w=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(91));break;default:ar(i,a,V,Y,c,null)}Ti(i,f,y,w),Ds(i);return;case"option":for(de in c)if(c.hasOwnProperty(de)&&(f=c[de],f!=null))switch(de){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ar(i,a,de,f,c,null)}return;case"dialog":Cn("beforetoggle",i),Cn("toggle",i),Cn("cancel",i),Cn("close",i);break;case"iframe":case"object":Cn("load",i);break;case"video":case"audio":for(f=0;f<Yh.length;f++)Cn(Yh[f],i);break;case"image":Cn("error",i),Cn("load",i);break;case"details":Cn("toggle",i);break;case"embed":case"source":case"link":Cn("error",i),Cn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in c)if(c.hasOwnProperty(Te)&&(f=c[Te],f!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ar(i,a,Te,f,c,null)}return;default:if(Os(a)){for(Ue in c)c.hasOwnProperty(Ue)&&(f=c[Ue],f!==void 0&&y0(i,a,Ue,f,c,void 0));return}}for(Y in c)c.hasOwnProperty(Y)&&(f=c[Y],f!=null&&ar(i,a,Y,f,c,null))}function Lz(i,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,V=null,Y=null,de=null,Te=null,Ue=null;for(Re in c){var Ge=c[Re];if(c.hasOwnProperty(Re)&&Ge!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":de=Ge;default:f.hasOwnProperty(Re)||ar(i,a,Re,null,f,Ge)}}for(var ke in f){var Re=f[ke];if(Ge=c[ke],f.hasOwnProperty(ke)&&(Re!=null||Ge!=null))switch(ke){case"type":w=Re;break;case"name":y=Re;break;case"checked":Te=Re;break;case"defaultChecked":Ue=Re;break;case"value":V=Re;break;case"defaultValue":Y=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(s(137,a));break;default:Re!==Ge&&ar(i,a,ke,Re,f,Ge)}}_r(i,V,Y,de,Te,Ue,w,y);return;case"select":Re=V=Y=ke=null;for(w in c)if(de=c[w],c.hasOwnProperty(w)&&de!=null)switch(w){case"value":break;case"multiple":Re=de;default:f.hasOwnProperty(w)||ar(i,a,w,null,f,de)}for(y in f)if(w=f[y],de=c[y],f.hasOwnProperty(y)&&(w!=null||de!=null))switch(y){case"value":ke=w;break;case"defaultValue":Y=w;break;case"multiple":V=w;default:w!==de&&ar(i,a,y,w,f,de)}a=Y,c=V,f=Re,ke!=null?Qr(i,!!c,ke,!1):!!f!=!!c&&(a!=null?Qr(i,!!c,a,!0):Qr(i,!!c,c?[]:"",!1));return;case"textarea":Re=ke=null;for(Y in c)if(y=c[Y],c.hasOwnProperty(Y)&&y!=null&&!f.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:ar(i,a,Y,null,f,y)}for(V in f)if(y=f[V],w=c[V],f.hasOwnProperty(V)&&(y!=null||w!=null))switch(V){case"value":ke=y;break;case"defaultValue":Re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==w&&ar(i,a,V,y,f,w)}ir(i,ke,Re);return;case"option":for(var Xt in c)if(ke=c[Xt],c.hasOwnProperty(Xt)&&ke!=null&&!f.hasOwnProperty(Xt))switch(Xt){case"selected":i.selected=!1;break;default:ar(i,a,Xt,null,f,ke)}for(de in f)if(ke=f[de],Re=c[de],f.hasOwnProperty(de)&&ke!==Re&&(ke!=null||Re!=null))switch(de){case"selected":i.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:ar(i,a,de,ke,f,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in c)ke=c[Ht],c.hasOwnProperty(Ht)&&ke!=null&&!f.hasOwnProperty(Ht)&&ar(i,a,Ht,null,f,ke);for(Te in f)if(ke=f[Te],Re=c[Te],f.hasOwnProperty(Te)&&ke!==Re&&(ke!=null||Re!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(s(137,a));break;default:ar(i,a,Te,ke,f,Re)}return;default:if(Os(a)){for(var or in c)ke=c[or],c.hasOwnProperty(or)&&ke!==void 0&&!f.hasOwnProperty(or)&&y0(i,a,or,void 0,f,ke);for(Ue in f)ke=f[Ue],Re=c[Ue],!f.hasOwnProperty(Ue)||ke===Re||ke===void 0&&Re===void 0||y0(i,a,Ue,ke,f,Re);return}}for(var _e in c)ke=c[_e],c.hasOwnProperty(_e)&&ke!=null&&!f.hasOwnProperty(_e)&&ar(i,a,_e,null,f,ke);for(Ge in f)ke=f[Ge],Re=c[Ge],!f.hasOwnProperty(Ge)||ke===Re||ke==null&&Re==null||ar(i,a,Ge,ke,f,Re)}var b0=null,j0=null;function Bm(i){return i.nodeType===9?i:i.ownerDocument}function L_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function S0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var w0=null;function Oz(){var i=window.event;return i&&i.type==="popstate"?i===w0?!1:(w0=i,!0):(w0=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,Nz=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,Iz=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(i){return I_.resolve(null).then(i).catch(Bz)}:N_;function Bz(i){setTimeout(function(){throw i})}function tc(i){return i==="head"}function B_(i,a){var c=a,f=0,y=0;do{var w=c.nextSibling;if(i.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<f&&8>f){c=f;var V=i.ownerDocument;if(c&1&&Kh(V.documentElement),c&2&&Kh(V.body),c&4)for(c=V.head,Kh(c),V=c.firstChild;V;){var Y=V.nextSibling,de=V.nodeName;V[ia]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&V.rel.toLowerCase()==="stylesheet"||c.removeChild(V),V=Y}}if(y===0){i.removeChild(w),af(a);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=w}while(c);af(a)}function _0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_0(c),Qa(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function $z(i,a,c,f){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ia])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=$a(i.nextSibling),i===null)break}return null}function Fz(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=$a(i.nextSibling),i===null))return null;return i}function C0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Vz(i,a){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function $a(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var E0=null;function $_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}function F_(i,a,c){switch(a=Bm(c),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Kh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Qa(i)}var ha=new Map,V_=new Set;function $m(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var il=W.d;W.d={f:Uz,r:Hz,D:Wz,C:qz,L:Gz,m:Zz,X:Xz,S:Yz,M:Kz};function Uz(){var i=il.f(),a=Mm();return i||a}function Hz(i){var a=pi(i);a!==null&&a.tag===5&&a.type==="form"?lw(a):il.r(i)}var fd=typeof document>"u"?null:document;function U_(i,a,c){var f=fd;if(f&&typeof a=="string"&&a){var y=rr(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),V_.has(y)||(V_.add(y),i={rel:i,crossOrigin:c,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),zi(a,"link",i),wr(a),f.head.appendChild(a)))}}function Wz(i){il.D(i),U_("dns-prefetch",i,null)}function qz(i,a){il.C(i,a),U_("preconnect",i,a)}function Gz(i,a,c){il.L(i,a,c);var f=fd;if(f&&i&&a){var y='link[rel="preload"][as="'+rr(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+rr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+rr(c.imageSizes)+'"]')):y+='[href="'+rr(i)+'"]';var w=y;switch(a){case"style":w=pd(i);break;case"script":w=md(i)}ha.has(w)||(i=x({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),ha.set(w,i),f.querySelector(y)!==null||a==="style"&&f.querySelector(Qh(w))||a==="script"&&f.querySelector(Jh(w))||(a=f.createElement("link"),zi(a,"link",i),wr(a),f.head.appendChild(a)))}}function Zz(i,a){il.m(i,a);var c=fd;if(c&&i){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+rr(f)+'"][href="'+rr(i)+'"]',w=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=md(i)}if(!ha.has(w)&&(i=x({rel:"modulepreload",href:i},a),ha.set(w,i),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Jh(w)))return}f=c.createElement("link"),zi(f,"link",i),wr(f),c.head.appendChild(f)}}}function Yz(i,a,c){il.S(i,a,c);var f=fd;if(f&&i){var y=Zi(f).hoistableStyles,w=pd(i);a=a||"default";var V=y.get(w);if(!V){var Y={loading:0,preload:null};if(V=f.querySelector(Qh(w)))Y.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":a},c),(c=ha.get(w))&&A0(i,c);var de=V=f.createElement("link");wr(de),zi(de,"link",i),de._p=new Promise(function(Te,Ue){de.onload=Te,de.onerror=Ue}),de.addEventListener("load",function(){Y.loading|=1}),de.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Fm(V,a,f)}V={type:"stylesheet",instance:V,count:1,state:Y},y.set(w,V)}}}function Xz(i,a){il.X(i,a);var c=fd;if(c&&i){var f=Zi(c).hoistableScripts,y=md(i),w=f.get(y);w||(w=c.querySelector(Jh(y)),w||(i=x({src:i,async:!0},a),(a=ha.get(y))&&T0(i,a),w=c.createElement("script"),wr(w),zi(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function Kz(i,a){il.M(i,a);var c=fd;if(c&&i){var f=Zi(c).hoistableScripts,y=md(i),w=f.get(y);w||(w=c.querySelector(Jh(y)),w||(i=x({src:i,async:!0,type:"module"},a),(a=ha.get(y))&&T0(i,a),w=c.createElement("script"),wr(w),zi(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function H_(i,a,c,f){var y=(y=re.current)?$m(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=pd(c.href),c=Zi(y).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=pd(c.href);var w=Zi(y).hoistableStyles,V=w.get(i);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,V),(w=y.querySelector(Qh(i)))&&!w._p&&(V.instance=w,V.state.loading=5),ha.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ha.set(i,c),w||Qz(y,i,c,V.state))),a&&f===null)throw Error(s(528,""));return V}if(a&&f!==null)throw Error(s(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=md(c),c=Zi(y).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function pd(i){return'href="'+rr(i)+'"'}function Qh(i){return'link[rel="stylesheet"]['+i+"]"}function W_(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function Qz(i,a,c,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),zi(a,"link",c),wr(a),i.head.appendChild(a))}function md(i){return'[src="'+rr(i)+'"]'}function Jh(i){return"script[async]"+i}function q_(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+rr(c.href)+'"]');if(f)return a.instance=f,wr(f),f;var y=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),wr(f),zi(f,"style",y),Fm(f,c.precedence,i),a.instance=f;case"stylesheet":y=pd(c.href);var w=i.querySelector(Qh(y));if(w)return a.state.loading|=4,a.instance=w,wr(w),w;f=W_(c),(y=ha.get(y))&&A0(f,y),w=(i.ownerDocument||i).createElement("link"),wr(w);var V=w;return V._p=new Promise(function(Y,de){V.onload=Y,V.onerror=de}),zi(w,"link",f),a.state.loading|=4,Fm(w,c.precedence,i),a.instance=w;case"script":return w=md(c.src),(y=i.querySelector(Jh(w)))?(a.instance=y,wr(y),y):(f=c,(y=ha.get(w))&&(f=x({},c),T0(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),wr(y),zi(y,"link",f),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Fm(f,c.precedence,i));return a.instance}function Fm(i,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,w=y,V=0;V<f.length;V++){var Y=f[V];if(Y.dataset.precedence===a)w=Y;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function A0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function T0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Vm=null;function G_(i,a,c){if(Vm===null){var f=new Map,y=Vm=new Map;y.set(c,f)}else y=Vm,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var w=c[y];if(!(w[ia]||w[Dr]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var V=w.getAttribute(a)||"";V=i+V;var Y=f.get(V);Y?Y.push(w):f.set(V,[w])}}return f}function Z_(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function Jz(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Y_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ef=null;function eD(){}function tD(i,a,c){if(ef===null)throw Error(s(475));var f=ef;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=pd(c.href),w=i.querySelector(Qh(y));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Um.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=w,wr(w);return}w=i.ownerDocument||i,c=W_(c),(y=ha.get(y))&&A0(c,y),w=w.createElement("link"),wr(w);var V=w;V._p=new Promise(function(Y,de){V.onload=Y,V.onerror=de}),zi(w,"link",c),a.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Um.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function nD(){if(ef===null)throw Error(s(475));var i=ef;return i.stylesheets&&i.count===0&&k0(i,i.stylesheets),0<i.count?function(a){var c=setTimeout(function(){if(i.stylesheets&&k0(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Um(){if(this.count--,this.count===0){if(this.stylesheets)k0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Hm=null;function k0(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Hm=new Map,a.forEach(rD,i),Hm=null,Um.call(i))}function rD(i,a){if(!(a.state.loading&4)){var c=Hm.get(i);if(c)var f=c.get(null);else{c=new Map,Hm.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var V=y[w];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(c.set(V.dataset.precedence,V),f=V)}f&&c.set(null,f)}y=a.instance,V=y.getAttribute("data-precedence"),w=c.get(V)||f,w===f&&c.set(null,y),c.set(V,y),this.count++,f=Um.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var tf={$$typeof:k,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function iD(i,a,c,f,y,w,V,Y){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function X_(i,a,c,f,y,w,V,Y,de,Te,Ue,Ge){return i=new iD(i,a,c,V,Y,de,Te,Ge),a=1,w===!0&&(a|=24),w=is(3,null,null,a),i.current=w,w.stateNode=i,a=uv(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:f,isDehydrated:c,cache:a},pv(w),i}function K_(i){return i?(i=Yo,i):Yo}function Q_(i,a,c,f,y,w){y=K_(y),f.context===null?f.context=y:f.pendingContext=y,f=Vl(a),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),c=Ul(i,f,a),c!==null&&(Ys(c,i,a),Mh(c,i,a))}function J_(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function P0(i,a){J_(i,a),(i=i.alternate)&&J_(i,a)}function eC(i){if(i.tag===13){var a=Nl(i,67108864);a!==null&&Ys(a,i,67108864),P0(i,67108864)}}var Wm=!0;function sD(i,a,c,f){var y=Z.T;Z.T=null;var w=W.p;try{W.p=2,M0(i,a,c,f)}finally{W.p=w,Z.T=y}}function aD(i,a,c,f){var y=Z.T;Z.T=null;var w=W.p;try{W.p=8,M0(i,a,c,f)}finally{W.p=w,Z.T=y}}function M0(i,a,c,f){if(Wm){var y=R0(f);if(y===null)v0(i,a,f,qm,c),nC(i,f);else if(lD(y,i,a,c,f))f.stopPropagation();else if(nC(i,f),a&4&&-1<oD.indexOf(i)){for(;y!==null;){var w=pi(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var V=Zt(w.pendingLanes);if(V!==0){var Y=w;for(Y.pendingLanes|=2,Y.entangledLanes|=2;V;){var de=1<<31-ft(V);Y.entanglements[1]|=de,V&=~de}ho(w),(Jn&6)===0&&(km=Ze()+500,Zh(0))}}break;case 13:Y=Nl(w,2),Y!==null&&Ys(Y,w,2),Mm(),P0(w,2)}if(w=R0(f),w===null&&v0(i,a,f,qm,c),w===y)break;y=w}y!==null&&f.stopPropagation()}else v0(i,a,f,null,c)}}function R0(i){return i=gs(i),z0(i)}var qm=null;function z0(i){if(qm=null,i=Bi(i),i!==null){var a=u(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=d(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return qm=i,null}function tC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case ae:return 2;case ge:return 8;case Je:case bt:return 32;case An:return 268435456;default:return 32}default:return 32}}var D0=!1,nc=null,rc=null,ic=null,nf=new Map,rf=new Map,sc=[],oD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nC(i,a){switch(i){case"focusin":case"focusout":nc=null;break;case"dragenter":case"dragleave":rc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":nf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(a.pointerId)}}function sf(i,a,c,f,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[y]},a!==null&&(a=pi(a),a!==null&&eC(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function lD(i,a,c,f,y){switch(a){case"focusin":return nc=sf(nc,i,a,c,f,y),!0;case"dragenter":return rc=sf(rc,i,a,c,f,y),!0;case"mouseover":return ic=sf(ic,i,a,c,f,y),!0;case"pointerover":var w=y.pointerId;return nf.set(w,sf(nf.get(w)||null,i,a,c,f,y)),!0;case"gotpointercapture":return w=y.pointerId,rf.set(w,sf(rf.get(w)||null,i,a,c,f,y)),!0}return!1}function rC(i){var a=Bi(i.target);if(a!==null){var c=u(a);if(c!==null){if(a=c.tag,a===13){if(a=d(c),a!==null){i.blockedOn=a,ai(i.priority,function(){if(c.tag===13){var f=Zs();f=Ts(f);var y=Nl(c,f);y!==null&&Ys(y,c,f),P0(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=R0(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);ms=f,c.target.dispatchEvent(f),ms=null}else return a=pi(c),a!==null&&eC(a),i.blockedOn=c,!1;a.shift()}return!0}function iC(i,a,c){Gm(i)&&c.delete(a)}function cD(){D0=!1,nc!==null&&Gm(nc)&&(nc=null),rc!==null&&Gm(rc)&&(rc=null),ic!==null&&Gm(ic)&&(ic=null),nf.forEach(iC),rf.forEach(iC)}function Zm(i,a){i.blockedOn===a&&(i.blockedOn=null,D0||(D0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cD)))}var Ym=null;function sC(i){Ym!==i&&(Ym=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ym===i&&(Ym=null);for(var a=0;a<i.length;a+=3){var c=i[a],f=i[a+1],y=i[a+2];if(typeof f!="function"){if(z0(f||c)===null)continue;break}var w=pi(c);w!==null&&(i.splice(a,3),a-=3,zv(w,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function af(i){function a(de){return Zm(de,i)}nc!==null&&Zm(nc,i),rc!==null&&Zm(rc,i),ic!==null&&Zm(ic,i),nf.forEach(a),rf.forEach(a);for(var c=0;c<sc.length;c++){var f=sc[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<sc.length&&(c=sc[0],c.blockedOn===null);)rC(c),c.blockedOn===null&&sc.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],w=c[f+1],V=y[Ur]||null;if(typeof w=="function")V||sC(c);else if(V){var Y=null;if(w&&w.hasAttribute("formAction")){if(y=w,V=w[Ur]||null)Y=V.formAction;else if(z0(y)!==null)continue}else Y=V.action;typeof Y=="function"?c[f+1]=Y:(c.splice(f,3),f-=3),sC(c)}}}function L0(i){this._internalRoot=i}Xm.prototype.render=L0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var c=a.current,f=Zs();Q_(c,f,i,a,null,null)},Xm.prototype.unmount=L0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Q_(i.current,2,null,i,null,null),Mm(),a[Gi]=null}};function Xm(i){this._internalRoot=i}Xm.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ka();i={blockedOn:null,target:i,priority:a};for(var c=0;c<sc.length&&a!==0&&a<sc[c].priority;c++);sc.splice(c,0,i),c===0&&rC(i)}};var aC=n.version;if(aC!=="19.1.1")throw Error(s(527,aC,"19.1.1"));W.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var uD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{et=Km.inject(uD),jt=Km}catch{}}return lf.createRoot=function(i,a){if(!l(i))throw Error(s(299));var c=!1,f="",y=Sw,w=ww,V=_w,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(V=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Y=a.unstable_transitionCallbacks)),a=X_(i,1,!1,null,null,c,f,y,w,V,Y,null),i[Gi]=a.current,x0(i),new L0(a)},lf.hydrateRoot=function(i,a,c){if(!l(i))throw Error(s(299));var f=!1,y="",w=Sw,V=ww,Y=_w,de=null,Te=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(V=c.onCaughtError),c.onRecoverableError!==void 0&&(Y=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(de=c.unstable_transitionCallbacks),c.formState!==void 0&&(Te=c.formState)),a=X_(i,1,!0,a,c??null,f,y,w,V,Y,de,Te),a.context=K_(null),c=a.current,f=Zs(),f=Ts(f),y=Vl(f),y.callback=null,Ul(c,y,f),c=f,a.current.lanes=c,cr(a,c),ho(a),i[Gi]=a.current,x0(i),new Xm(a)},lf.version="19.1.1",lf}var xC;function bD(){if(xC)return I0.exports;xC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),I0.exports=yD(),I0.exports}var jD=bD();const SD=Sp(jD);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vC="popstate";function wD(t={}){function n(s,l){let{pathname:u,search:d,hash:m}=s.location;return tb("",{pathname:u,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:tp(l)}return CD(n,r,null,t)}function Ar(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function ja(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function _D(){return Math.random().toString(36).substring(2,10)}function yC(t,n){return{usr:t.state,key:t.key,idx:n}}function tb(t,n,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?ah(n):n,state:r,key:n&&n.key||s||_D()}}function tp({pathname:t="/",search:n="",hash:r=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ah(t){let n={};if(t){let r=t.indexOf("#");r>=0&&(n.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(n.search=t.substring(s),t=t.substring(0,s)),t&&(n.pathname=t)}return n}function CD(t,n,r,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,d=l.history,m="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function j(){m="POP";let T=x(),z=T==null?null:T-g;g=T,p&&p({action:m,location:A.location,delta:z})}function S(T,z){m="PUSH";let M=tb(A.location,T,z);g=x()+1;let k=yC(M,g),O=A.createHref(M);try{d.pushState(k,"",O)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;l.location.assign(O)}u&&p&&p({action:m,location:A.location,delta:1})}function _(T,z){m="REPLACE";let M=tb(A.location,T,z);g=x();let k=yC(M,g),O=A.createHref(M);d.replaceState(k,"",O),u&&p&&p({action:m,location:A.location,delta:0})}function E(T){return ED(T)}let A={get action(){return m},get location(){return t(l,d)},listen(T){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(vC,j),p=T,()=>{l.removeEventListener(vC,j),p=null}},createHref(T){return n(l,T)},createURL:E,encodeLocation(T){let z=E(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:_,go(T){return d.go(T)}};return A}function ED(t,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:tp(t);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function OA(t,n,r="/"){return AD(t,n,r,!1)}function AD(t,n,r,s){let l=typeof n=="string"?ah(n):n,u=bl(l.pathname||"/",r);if(u==null)return null;let d=NA(t);TD(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=BD(u);m=ND(d[p],g,s)}return m}function NA(t,n=[],r=[],s="",l=!1){let u=(d,m,p=l,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;Ar(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let j=ml([s,x.relativePath]),S=r.concat(x);d.children&&d.children.length>0&&(Ar(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),NA(d.children,n,S,j,p)),!(d.path==null&&!d.index)&&n.push({path:j,score:LD(j,d.index),routesMeta:S})};return t.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let p of IA(d.path))u(d,m,!0,p)}),n}function IA(t){let n=t.split("/");if(n.length===0)return[];let[r,...s]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let d=IA(s.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...d),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function TD(t){t.sort((n,r)=>n.score!==r.score?r.score-n.score:OD(n.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var kD=/^:[\w-]+$/,PD=3,MD=2,RD=1,zD=10,DD=-2,bC=t=>t==="*";function LD(t,n){let r=t.split("/"),s=r.length;return r.some(bC)&&(s+=DD),n&&(s+=MD),r.filter(l=>!bC(l)).reduce((l,u)=>l+(kD.test(u)?PD:u===""?RD:zD),s)}function OD(t,n){return t.length===n.length&&t.slice(0,-1).every((s,l)=>s===n[l])?t[t.length-1]-n[n.length-1]:0}function ND(t,n,r=!1){let{routesMeta:s}=t,l={},u="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,x=u==="/"?n:n.slice(u.length)||"/",j=Xg({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),S=p.route;if(!j&&g&&r&&!s[s.length-1].route.index&&(j=Xg({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!j)return null;Object.assign(l,j.params),d.push({params:l,pathname:ml([u,j.pathname]),pathnameBase:UD(ml([u,j.pathnameBase])),route:S}),j.pathnameBase!=="/"&&(u=ml([u,j.pathnameBase]))}return d}function Xg(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=ID(t.path,t.caseSensitive,t.end),l=n.match(r);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:j},S)=>{if(x==="*"){let E=m[S]||"";d=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const _=m[S];return j&&!_?g[x]=void 0:g[x]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:t}}function ID(t,n=!1,r=!0){ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),s]}function BD(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ja(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function bl(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function $D(t,n="/"){let{pathname:r,search:s="",hash:l=""}=typeof t=="string"?ah(t):t;return{pathname:r?r.startsWith("/")?r:FD(r,n):n,search:HD(s),hash:WD(l)}}function FD(t,n){let r=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function V0(t,n,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VD(t){return t.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function yj(t){let n=VD(t);return n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase)}function bj(t,n,r,s=!1){let l;typeof t=="string"?l=ah(t):(l={...t},Ar(!l.pathname||!l.pathname.includes("?"),V0("?","pathname","search",l)),Ar(!l.pathname||!l.pathname.includes("#"),V0("#","pathname","hash",l)),Ar(!l.search||!l.search.includes("#"),V0("#","search","hash",l)));let u=t===""||l.pathname==="",d=u?"/":l.pathname,m;if(d==null)m=r;else{let j=n.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),j-=1;l.pathname=S.join("/")}m=j>=0?n[j]:"/"}let p=$D(l,m),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var ml=t=>t.join("/").replace(/\/\/+/g,"/"),UD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BA=["POST","PUT","PATCH","DELETE"];new Set(BA);var GD=["GET",...BA];new Set(GD);var oh=b.createContext(null);oh.displayName="DataRouter";var bx=b.createContext(null);bx.displayName="DataRouterState";b.createContext(!1);var $A=b.createContext({isTransitioning:!1});$A.displayName="ViewTransition";var ZD=b.createContext(new Map);ZD.displayName="Fetchers";var YD=b.createContext(null);YD.displayName="Await";var qa=b.createContext(null);qa.displayName="Navigation";var wp=b.createContext(null);wp.displayName="Location";var Ga=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var jj=b.createContext(null);jj.displayName="RouteError";function XD(t,{relative:n}={}){Ar(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=b.useContext(qa),{hash:l,pathname:u,search:d}=_p(t,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:ml([r,u])),s.createHref({pathname:m,search:d,hash:l})}function lh(){return b.useContext(wp)!=null}function Za(){return Ar(lh(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(wp).location}var FA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VA(t){b.useContext(qa).static||b.useLayoutEffect(t)}function Ro(){let{isDataRoute:t}=b.useContext(Ga);return t?cL():KD()}function KD(){Ar(lh(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(oh),{basename:n,navigator:r}=b.useContext(qa),{matches:s}=b.useContext(Ga),{pathname:l}=Za(),u=JSON.stringify(yj(s)),d=b.useRef(!1);return VA(()=>{d.current=!0}),b.useCallback((p,g={})=>{if(ja(d.current,FA),!d.current)return;if(typeof p=="number"){r.go(p);return}let x=bj(p,JSON.parse(u),l,g.relative==="path");t==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:ml([n,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[n,r,u,l,t])}b.createContext(null);function jx(){let{matches:t}=b.useContext(Ga),n=t[t.length-1];return n?n.params:{}}function _p(t,{relative:n}={}){let{matches:r}=b.useContext(Ga),{pathname:s}=Za(),l=JSON.stringify(yj(r));return b.useMemo(()=>bj(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function QD(t,n){return UA(t,n)}function UA(t,n,r,s,l){Ar(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(qa),{matches:d}=b.useContext(Ga),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",j=m&&m.route;{let M=j&&j.path||"";HA(g,!j||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=Za(),_;if(n){let M=typeof n=="string"?ah(n):n;Ar(x==="/"||M.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=S;let E=_.pathname||"/",A=E;if(x!=="/"){let M=x.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=OA(t,{pathname:A});ja(j||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ja(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=rL(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:ml([x,u.encodeLocation?u.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?x:ml([x,u.encodeLocation?u.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),d,r,s,l);return n&&z?b.createElement(wp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},z):z}function JD(){let t=lL(),n=qD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},n),r?b.createElement("pre",{style:l},r):null,d)}var eL=b.createElement(JD,null),tL=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.unstable_onError?this.props.unstable_onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Ga.Provider,{value:this.props.routeContext},b.createElement(jj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nL({routeContext:t,match:n,children:r}){let s=b.useContext(oh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ga.Provider,{value:t},r)}function rL(t,n=[],r=null,s=null,l=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=r?.errors;if(d!=null){let g=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Ar(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(r)for(let g=0;g<u.length;g++){let x=u[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:j,errors:S}=r,_=x.route.loader&&!j.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||_){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,x,j)=>{let S,_=!1,E=null,A=null;r&&(S=d&&x.route.id?d[x.route.id]:void 0,E=x.route.errorElement||eL,m&&(p<0&&j===0?(HA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):p===j&&(_=!0,A=x.route.hydrateFallbackElement||null)));let T=n.concat(u.slice(0,j+1)),z=()=>{let M;return S?M=E:_?M=A:x.route.Component?M=b.createElement(x.route.Component,null):x.route.element?M=x.route.element:M=g,b.createElement(nL,{match:x,routeContext:{outlet:g,matches:T,isDataRoute:r!=null},children:M})};return r&&(x.route.ErrorBoundary||x.route.errorElement||j===0)?b.createElement(tL,{location:r.location,revalidation:r.revalidation,component:E,error:S,children:z(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:s}):z()},null)}function Sj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iL(t){let n=b.useContext(oh);return Ar(n,Sj(t)),n}function sL(t){let n=b.useContext(bx);return Ar(n,Sj(t)),n}function aL(t){let n=b.useContext(Ga);return Ar(n,Sj(t)),n}function wj(t){let n=aL(t),r=n.matches[n.matches.length-1];return Ar(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function oL(){return wj("useRouteId")}function lL(){let t=b.useContext(jj),n=sL("useRouteError"),r=wj("useRouteError");return t!==void 0?t:n.errors?.[r]}function cL(){let{router:t}=iL("useNavigate"),n=wj("useNavigate"),r=b.useRef(!1);return VA(()=>{r.current=!0}),b.useCallback(async(l,u={})=>{ja(r.current,FA),r.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var jC={};function HA(t,n,r){!n&&!jC[t]&&(jC[t]=!0,ja(!1,r))}b.memo(uL);function uL({routes:t,future:n,state:r,unstable_onError:s}){return UA(t,void 0,r,s,n)}function Ag({to:t,replace:n,state:r,relative:s}){Ar(lh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=b.useContext(qa);ja(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=b.useContext(Ga),{pathname:d}=Za(),m=Ro(),p=bj(t,yj(u),d,s==="path"),g=JSON.stringify(p);return b.useEffect(()=>{m(JSON.parse(g),{replace:n,state:r,relative:s})},[m,g,s,n,r]),null}function Zn(t){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dL({basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:l,static:u=!1}){Ar(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof r=="string"&&(r=ah(r));let{pathname:p="/",search:g="",hash:x="",state:j=null,key:S="default"}=r,_=b.useMemo(()=>{let E=bl(p,d);return E==null?null:{location:{pathname:E,search:g,hash:x,state:j,key:S},navigationType:s}},[d,p,g,x,j,S,s]);return ja(_!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:b.createElement(qa.Provider,{value:m},b.createElement(wp.Provider,{children:n,value:_}))}function hL({children:t,location:n}){return QD(nb(t),n)}function nb(t,n=[]){let r=[];return b.Children.forEach(t,(s,l)=>{if(!b.isValidElement(s))return;let u=[...n,l];if(s.type===b.Fragment){r.push.apply(r,nb(s.props.children,u));return}Ar(s.type===Zn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=nb(s.props.children,u)),r.push(d)}),r}var Tg="get",kg="application/x-www-form-urlencoded";function Sx(t){return t!=null&&typeof t.tagName=="string"}function fL(t){return Sx(t)&&t.tagName.toLowerCase()==="button"}function pL(t){return Sx(t)&&t.tagName.toLowerCase()==="form"}function mL(t){return Sx(t)&&t.tagName.toLowerCase()==="input"}function gL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xL(t,n){return t.button===0&&(!n||n==="_self")&&!gL(t)}function rb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,r)=>{let s=t[r];return n.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function vL(t,n){let r=rb(t);return n&&n.forEach((s,l)=>{r.has(l)||n.getAll(l).forEach(u=>{r.append(l,u)})}),r}var Jm=null;function yL(){if(Jm===null)try{new FormData(document.createElement("form"),0),Jm=!1}catch{Jm=!0}return Jm}var bL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U0(t){return t!=null&&!bL.has(t)?(ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kg}"`),null):t}function jL(t,n){let r,s,l,u,d;if(pL(t)){let m=t.getAttribute("action");s=m?bl(m,n):null,r=t.getAttribute("method")||Tg,l=U0(t.getAttribute("enctype"))||kg,u=new FormData(t)}else if(fL(t)||mL(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(s=p?bl(p,n):null,r=t.getAttribute("formmethod")||m.getAttribute("method")||Tg,l=U0(t.getAttribute("formenctype"))||U0(m.getAttribute("enctype"))||kg,u=new FormData(m,t),!yL()){let{name:g,type:x,value:j}=t;if(x==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,j)}}else{if(Sx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Tg,s=null,l=kg,d=t}return u&&l==="text/plain"&&(d=u,u=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _j(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function SL(t,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:n&&bl(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function wL(t,n){if(t.id in n)return n[t.id];try{let r=await import(t.module);return n[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _L(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CL(t,n,r){let s=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let d=await wL(u,r);return d.links?d.links():[]}return[]}));return kL(s.flat(1).filter(_L).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function SC(t,n,r,s,l,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,m=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return u==="assets"?n.filter((p,g)=>d(p,g)||m(p,g)):u==="data"?n.filter((p,g)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let j=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function EL(t,n,{includeHydrateFallback:r}={}){return AL(t.map(s=>{let l=n.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function AL(t){return[...new Set(t)]}function TL(t){let n={},r=Object.keys(t).sort();for(let s of r)n[s]=t[s];return n}function kL(t,n){let r=new Set;return new Set(n),t.reduce((s,l)=>{let u=JSON.stringify(TL(l));return r.has(u)||(r.add(u),s.push({key:u,link:l})),s},[])}function WA(){let t=b.useContext(oh);return _j(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PL(){let t=b.useContext(bx);return _j(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cj=b.createContext(void 0);Cj.displayName="FrameworkContext";function qA(){let t=b.useContext(Cj);return _j(t,"You must render this element inside a <HydratedRouter> element"),t}function ML(t,n){let r=b.useContext(Cj),[s,l]=b.useState(!1),[u,d]=b.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:j}=n,S=b.useRef(null);b.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let A=z=>{z.forEach(M=>{d(M.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return S.current&&T.observe(S.current),()=>{T.disconnect()}}},[t]),b.useEffect(()=>{if(s){let A=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(A)}}},[s]);let _=()=>{l(!0)},E=()=>{l(!1),d(!1)};return r?t!=="intent"?[u,S,{}]:[u,S,{onFocus:cf(m,_),onBlur:cf(p,E),onMouseEnter:cf(g,_),onMouseLeave:cf(x,E),onTouchStart:cf(j,_)}]:[!1,S,{}]}function cf(t,n){return r=>{t&&t(r),r.defaultPrevented||n(r)}}function RL({page:t,...n}){let{router:r}=WA(),s=b.useMemo(()=>OA(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?b.createElement(DL,{page:t,matches:s,...n}):null}function zL(t){let{manifest:n,routeModules:r}=qA(),[s,l]=b.useState([]);return b.useEffect(()=>{let u=!1;return CL(t,n,r).then(d=>{u||l(d)}),()=>{u=!0}},[t,n,r]),s}function DL({page:t,matches:n,...r}){let s=Za(),{manifest:l,routeModules:u}=qA(),{basename:d}=WA(),{loaderData:m,matches:p}=PL(),g=b.useMemo(()=>SC(t,n,p,l,s,"data"),[t,n,p,l,s]),x=b.useMemo(()=>SC(t,n,p,l,s,"assets"),[t,n,p,l,s]),j=b.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let E=new Set,A=!1;if(n.forEach(z=>{let M=l.routes[z.route.id];!M||!M.hasLoader||(!g.some(k=>k.route.id===z.route.id)&&z.route.id in m&&u[z.route.id]?.shouldRevalidate||M.hasClientLoader?A=!0:E.add(z.route.id))}),E.size===0)return[];let T=SL(t,d,"data");return A&&E.size>0&&T.searchParams.set("_routes",n.filter(z=>E.has(z.route.id)).map(z=>z.route.id).join(",")),[T.pathname+T.search]},[d,m,s,l,g,n,t,u]),S=b.useMemo(()=>EL(x,l),[x,l]),_=zL(x);return b.createElement(b.Fragment,null,j.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),S.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),_.map(({key:E,link:A})=>b.createElement("link",{key:E,nonce:r.nonce,...A})))}function LL(...t){return n=>{t.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var GA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GA&&(window.__reactRouterVersion="7.8.2")}catch{}function OL({basename:t,children:n,window:r}){let s=b.useRef();s.current==null&&(s.current=wD({window:r,v5Compat:!0}));let l=s.current,[u,d]=b.useState({action:l.action,location:l.location}),m=b.useCallback(p=>{b.startTransition(()=>d(p))},[d]);return b.useLayoutEffect(()=>l.listen(m),[l,m]),b.createElement(dL,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var ZA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tr=b.forwardRef(function({onClick:n,discover:r="render",prefetch:s="none",relative:l,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:x,viewTransition:j,...S},_){let{basename:E}=b.useContext(qa),A=typeof g=="string"&&ZA.test(g),T,z=!1;if(typeof g=="string"&&A&&(T=g,GA))try{let ue=new URL(window.location.href),fe=g.startsWith("//")?new URL(ue.protocol+g):new URL(g),X=bl(fe.pathname,E);fe.origin===ue.origin&&X!=null?g=X+fe.search+fe.hash:z=!0}catch{ja(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=XD(g,{relative:l}),[k,O,I]=ML(s,S),$=$L(g,{replace:d,state:m,target:p,preventScrollReset:x,relative:l,viewTransition:j});function G(ue){n&&n(ue),ue.defaultPrevented||$(ue)}let ee=b.createElement("a",{...S,...I,href:T||M,onClick:z||u?n:G,ref:LL(_,O),target:p,"data-discover":!A&&r==="render"?"true":void 0});return k&&!A?b.createElement(b.Fragment,null,ee,b.createElement(RL,{page:M})):ee});tr.displayName="Link";var NL=b.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:m,children:p,...g},x){let j=_p(d,{relative:g.relative}),S=Za(),_=b.useContext(bx),{navigator:E,basename:A}=b.useContext(qa),T=_!=null&&qL(j)&&m===!0,z=E.encodeLocation?E.encodeLocation(j).pathname:j.pathname,M=S.pathname,k=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(M=M.toLowerCase(),k=k?k.toLowerCase():null,z=z.toLowerCase()),k&&A&&(k=bl(k,A)||k);const O=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let I=M===z||!l&&M.startsWith(z)&&M.charAt(O)==="/",$=k!=null&&(k===z||!l&&k.startsWith(z)&&k.charAt(z.length)==="/"),G={isActive:I,isPending:$,isTransitioning:T},ee=I?n:void 0,ue;typeof s=="function"?ue=s(G):ue=[s,I?"active":null,$?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let fe=typeof u=="function"?u(G):u;return b.createElement(tr,{...g,"aria-current":ee,className:ue,ref:x,style:fe,to:d,viewTransition:m},typeof p=="function"?p(G):p)});NL.displayName="NavLink";var IL=b.forwardRef(({discover:t="render",fetcherKey:n,navigate:r,reloadDocument:s,replace:l,state:u,method:d=Tg,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:j,...S},_)=>{let E=HL(),A=WL(m,{relative:g}),T=d.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&ZA.test(m),M=k=>{if(p&&p(k),k.defaultPrevented)return;k.preventDefault();let O=k.nativeEvent.submitter,I=O?.getAttribute("formmethod")||d;E(O||k.currentTarget,{fetcherKey:n,method:I,navigate:r,replace:l,state:u,relative:g,preventScrollReset:x,viewTransition:j})};return b.createElement("form",{ref:_,method:T,action:A,onSubmit:s?p:M,...S,"data-discover":!z&&t==="render"?"true":void 0})});IL.displayName="Form";function BL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YA(t){let n=b.useContext(oh);return Ar(n,BL(t)),n}function $L(t,{target:n,replace:r,state:s,preventScrollReset:l,relative:u,viewTransition:d}={}){let m=Ro(),p=Za(),g=_p(t,{relative:u});return b.useCallback(x=>{if(xL(x,n)){x.preventDefault();let j=r!==void 0?r:tp(p)===tp(g);m(t,{replace:j,state:s,preventScrollReset:l,relative:u,viewTransition:d})}},[p,m,g,r,s,n,t,l,u,d])}function FL(t){ja(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=b.useRef(rb(t)),r=b.useRef(!1),s=Za(),l=b.useMemo(()=>vL(s.search,r.current?null:n.current),[s.search]),u=Ro(),d=b.useCallback((m,p)=>{const g=rb(typeof m=="function"?m(new URLSearchParams(l)):m);r.current=!0,u("?"+g,p)},[u,l]);return[l,d]}var VL=0,UL=()=>`__${String(++VL)}__`;function HL(){let{router:t}=YA("useSubmit"),{basename:n}=b.useContext(qa),r=oL();return b.useCallback(async(s,l={})=>{let{action:u,method:d,encType:m,formData:p,body:g}=jL(s,n);if(l.navigate===!1){let x=l.fetcherKey||UL();await t.fetch(x,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||m,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,r])}function WL(t,{relative:n}={}){let{basename:r}=b.useContext(qa),s=b.useContext(Ga);Ar(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={..._p(t||".",{relative:n})},d=Za();if(t==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(j=>j).forEach(j=>m.append("index",j));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ml([r,u.pathname])),tp(u)}function qL(t,{relative:n}={}){let r=b.useContext($A);Ar(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YA("useViewTransitionState"),l=_p(t,{relative:n});if(!r.isTransitioning)return!1;let u=bl(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=bl(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Xg(l.pathname,d)!=null||Xg(l.pathname,u)!=null}var Ej=LA();function wx(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function GL(){return!!globalThis?.document}function XA(t){return t.parentElement&&XA(t.parentElement)?!0:t.hidden}function ZL(t){const n=t.getAttribute("contenteditable");return n!=="false"&&n!=null}function YL(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function XL(t){return KA(t)?.defaultView??window}function KA(t){return wx(t)?t.ownerDocument:document}function KL(t){return KA(t).activeElement}function QL(t,...n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const s of n)if(s!=null)for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(l in r&&delete r[l],r[l]=s[l]);return r}const yn=t=>t?"":void 0,cu=t=>t?!0:void 0;function ib(t){return Array.isArray(t)}function hi(t){const n=typeof t;return t!=null&&(n==="object"||n==="function")&&!ib(t)}function JL(t){const n=t==null?0:t.length;return n?t[n-1]:void 0}function e4(t){const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}}function sb(t){if(t==null)return t;const{unitless:n}=e4(t);return n||typeof t=="number"?`${t}px`:t}const QA=(t,n)=>parseInt(t[1],10)>parseInt(n[1],10)?1:-1,Aj=t=>Object.fromEntries(Object.entries(t).sort(QA));function wC(t){const n=Aj(t);return Object.assign(Object.values(n),n)}function t4(t){const n=Object.keys(Aj(t));return new Set(n)}function _C(t){if(!t)return t;t=sb(t)??t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function wf(t,n){const r=["@media screen"];return t&&r.push("and",`(min-width: ${sb(t)})`),n&&r.push("and",`(max-width: ${sb(n)})`),r.join(" ")}function n4(t){if(!t)return null;t.base=t.base??"0px";const n=wC(t),r=Object.entries(t).sort(QA).map(([u,d],m,p)=>{let[,g]=p[m+1]??[];return g=parseFloat(g)>0?_C(g):void 0,{_minW:_C(d),breakpoint:u,minW:d,maxW:g,maxWQuery:wf(null,g),minWQuery:wf(d),minMaxQuery:wf(d,g)}}),s=t4(t),l=Array.from(s.values());return{keys:s,normalized:n,isResponsive(u){const d=Object.keys(u);return d.length>0&&d.every(m=>s.has(m))},asObject:Aj(t),asArray:wC(t),details:r,get(u){return r.find(d=>d.breakpoint===u)},media:[null,...n.map(u=>wf(u)).slice(1)],toArrayValue(u){if(!hi(u))throw new Error("toArrayValue: value must be an object");const d=l.map(m=>u[m]??null);for(;JL(d)===null;)d.pop();return d},toObjectValue(u){if(!Array.isArray(u))throw new Error("toObjectValue: value must be an array");return u.reduce((d,m,p)=>{const g=l[p];return g!=null&&m!=null&&(d[g]=m),d},{})}}}function JA(...t){return function(...r){t.forEach(s=>s?.(...r))}}function Jt(...t){return function(r){t.some(s=>(s?.(r),r?.defaultPrevented))}}function Ru(t){return b.Children.toArray(t).filter(n=>b.isValidElement(n))}function Cp(t){const n=Object.assign({},t);for(let r in n)n[r]===void 0&&delete n[r];return n}function r4(t,n){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function Dn(t={}){const{name:n,strict:r=!0,hookName:s="useContext",providerName:l="Provider",errorMessage:u,defaultValue:d}=t,m=b.createContext(d);m.displayName=n;function p(){const g=b.useContext(m);if(!g&&r){const x=new Error(u??r4(s,l));throw x.name="ContextError",Error.captureStackTrace?.(x,p),x}return g}return[m.Provider,p,m]}const lt=(...t)=>t.filter(Boolean).join(" "),eT=t=>t.hasAttribute("tabindex"),i4=t=>eT(t)&&t.tabIndex===-1;function tT(t){if(!wx(t)||XA(t)||YL(t))return!1;const{localName:n}=t;if(["input","select","textarea","button"].indexOf(n)>=0)return!0;const s={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return n in s?s[n]():ZL(t)?!0:eT(t)}function s4(t){return t?wx(t)&&tT(t)&&!i4(t):!1}const a4=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],o4=a4.join(),l4=t=>t.offsetWidth>0&&t.offsetHeight>0;function c4(t){const n=Array.from(t.querySelectorAll(o4));return n.unshift(t),n.filter(r=>tT(r)&&l4(r))}function u4(t,n,r,s){const l=typeof n=="string"?n.split("."):[n];for(s=0;s<l.length&&t;s+=1)t=t[l[s]];return t===void 0?r:t}const d4=t=>{const n=new WeakMap;return(s,l,u,d)=>{if(typeof s>"u")return t(s,l,u);n.has(s)||n.set(s,new Map);const m=n.get(s);if(m.has(l))return m.get(l);const p=t(s,l,u,d);return m.set(l,p),p}},nT=d4(u4),h4=t=>t.default||t;function rT(t){const{wasSelected:n,enabled:r,isSelected:s,mode:l="unmount"}=t;return!!(!r||s||l==="keepMounted"&&n)}function f4(t){const n=parseFloat(t);return typeof n!="number"||Number.isNaN(n)?0:n}function iT(t,n){let r=f4(t);const s=10**(n??10);return r=Math.round(r*s)/s,n?r.toFixed(n):r.toString()}function CC(t){if(!Number.isFinite(t))return 0;let n=1,r=0;for(;Math.round(t*n)/n!==t;)n*=10,r+=1;return r}function p4(t,n,r){return t==null?t:(r<n&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,n),r))}function Ep(t,n=[]){const r=Object.assign({},t);for(const s of n)s in r&&delete r[s];return r}function sT(t,n){const r={};for(const s of n)s in t&&(r[s]=t[s]);return r}const aT=Object.freeze(["base","sm","md","lg","xl","2xl"]);function _x(t,n){return Array.isArray(t)?t.map(r=>r===null?null:n(r)):hi(t)?Object.keys(t).reduce((r,s)=>(r[s]=n(t[s]),r),{}):t!=null?n(t):null}function m4(t,n=aT){const r={};return t.forEach((s,l)=>{const u=n[l];s!=null&&(r[u]=s)}),r}const g4=t=>typeof t=="function";function Ks(t,...n){return g4(t)?t(...n):t}function x4(t){const n=t.ownerDocument.defaultView||window,{overflow:r,overflowX:s,overflowY:l}=n.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+l+s)}function v4(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function oT(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:wx(t)&&x4(t)?t:oT(v4(t))}function y4(t,n){const r={},s={};for(const[l,u]of Object.entries(t))n.includes(l)?r[l]=u:s[l]=u;return[r,s]}function b4(t,...n){const r=Object.getOwnPropertyDescriptors(t),s=Object.keys(r),l=d=>{const m={};for(let p=0;p<d.length;p++){const g=d[p];r[g]&&(Object.defineProperty(m,g,r[g]),delete r[g])}return m},u=d=>l(Array.isArray(d)?d:s.filter(d));return n.map(u).concat(l(s))}function EC(t,n,r={}){const{stop:s,getKey:l}=r;function u(d,m=[]){if(hi(d)||Array.isArray(d)){const p={};for(const[g,x]of Object.entries(d)){const j=l?.(g)??g,S=[...m,j];if(s?.(d,S))return n(d,m);p[j]=u(x,S)}return p}return n(d,m)}return u(t)}const Ap=t=>{const{condition:n,message:r}=t};var _f={exports:{}};_f.exports;var AC;function j4(){return AC||(AC=1,(function(t,n){var r=200,s="__lodash_hash_undefined__",l=800,u=16,d=9007199254740991,m="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",x="[object Boolean]",j="[object Date]",S="[object Error]",_="[object Function]",E="[object GeneratorFunction]",A="[object Map]",T="[object Number]",z="[object Null]",M="[object Object]",k="[object Proxy]",O="[object RegExp]",I="[object Set]",$="[object String]",G="[object Undefined]",ee="[object WeakMap]",ue="[object ArrayBuffer]",fe="[object DataView]",X="[object Float32Array]",me="[object Float64Array]",Ee="[object Int8Array]",pe="[object Int16Array]",K="[object Int32Array]",Z="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",Se="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,F={};F[X]=F[me]=F[Ee]=F[pe]=F[K]=F[Z]=F[W]=F[H]=F[Se]=!0,F[m]=F[p]=F[ue]=F[x]=F[fe]=F[j]=F[S]=F[_]=F[A]=F[T]=F[M]=F[O]=F[I]=F[$]=F[ee]=!1;var P=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,N=typeof self=="object"&&self&&self.Object===Object&&self,re=P||N||Function("return this")(),Le=n&&!n.nodeType&&n,Oe=Le&&!0&&t&&!t.nodeType&&t,Pe=Oe&&Oe.exports===Le,it=Pe&&P.process,ot=(function(){try{var se=Oe&&Oe.require&&Oe.require("util").types;return se||it&&it.binding&&it.binding("util")}catch{}})(),Qe=ot&&ot.isTypedArray;function wt(se,be,Me){switch(Me.length){case 0:return se.call(be);case 1:return se.call(be,Me[0]);case 2:return se.call(be,Me[0],Me[1]);case 3:return se.call(be,Me[0],Me[1],Me[2])}return se.apply(be,Me)}function $e(se,be){for(var Me=-1,ut=Array(se);++Me<se;)ut[Me]=be(Me);return ut}function Bt(se){return function(be){return se(be)}}function ye(se,be){return se?.[be]}function Ze(se,be){return function(Me){return se(be(Me))}}var Tt=Array.prototype,ae=Function.prototype,ge=Object.prototype,Je=re["__core-js_shared__"],bt=ae.toString,An=ge.hasOwnProperty,nr=(function(){var se=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return se?"Symbol(src)_1."+se:""})(),Fe=ge.toString,et=bt.call(Object),jt=RegExp("^"+bt.call(An).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Pe?re.Buffer:void 0,ft=re.Symbol,Tn=re.Uint8Array;Ye&&Ye.allocUnsafe;var qe=Ze(Object.getPrototypeOf,Object),xt=Object.create,en=ge.propertyIsEnumerable,dn=Tt.splice,Zt=ft?ft.toStringTag:void 0,Rn=(function(){try{var se=rr(Object,"defineProperty");return se({},"",{}),se}catch{}})(),an=Ye?Ye.isBuffer:void 0,Sr=Math.max,hr=Date.now,Vr=rr(re,"Map"),kn=rr(Object,"create"),cr=(function(){function se(){}return function(be){if(!Tr(be))return{};if(xt)return xt(be);se.prototype=be;var Me=new se;return se.prototype=void 0,Me}})();function Kr(se){var be=-1,Me=se==null?0:se.length;for(this.clear();++be<Me;){var ut=se[be];this.set(ut[0],ut[1])}}function Ya(){this.__data__=kn?kn(null):{},this.size=0}function Xa(se){var be=this.has(se)&&delete this.__data__[se];return this.size-=be?1:0,be}function Ts(se){var be=this.__data__;if(kn){var Me=be[se];return Me===s?void 0:Me}return An.call(be,se)?be[se]:void 0}function ks(se){var be=this.__data__;return kn?be[se]!==void 0:An.call(be,se)}function Ka(se,be){var Me=this.__data__;return this.size+=this.has(se)?0:1,Me[se]=kn&&be===void 0?s:be,this}Kr.prototype.clear=Ya,Kr.prototype.delete=Xa,Kr.prototype.get=Ts,Kr.prototype.has=ks,Kr.prototype.set=Ka;function ai(se){var be=-1,Me=se==null?0:se.length;for(this.clear();++be<Me;){var ut=se[be];this.set(ut[0],ut[1])}}function Ii(){this.__data__=[],this.size=0}function Dr(se){var be=this.__data__,Me=fs(be,se);if(Me<0)return!1;var ut=be.length-1;return Me==ut?be.pop():dn.call(be,Me,1),--this.size,!0}function Ur(se){var be=this.__data__,Me=fs(be,se);return Me<0?void 0:be[Me][1]}function Gi(se){return fs(this.__data__,se)>-1}function tt(se,be){var Me=this.__data__,ut=fs(Me,se);return ut<0?(++this.size,Me.push([se,be])):Me[ut][1]=be,this}ai.prototype.clear=Ii,ai.prototype.delete=Dr,ai.prototype.get=Ur,ai.prototype.has=Gi,ai.prototype.set=tt;function pt(se){var be=-1,Me=se==null?0:se.length;for(this.clear();++be<Me;){var ut=se[be];this.set(ut[0],ut[1])}}function Cl(){this.size=0,this.__data__={hash:new Kr,map:new(Vr||ai),string:new Kr}}function Ca(se){var be=ps(this,se).delete(se);return this.size-=be?1:0,be}function ia(se){return ps(this,se).get(se)}function Qa(se){return ps(this,se).has(se)}function Bi(se,be){var Me=ps(this,se),ut=Me.size;return Me.set(se,be),this.size+=Me.size==ut?0:1,this}pt.prototype.clear=Cl,pt.prototype.delete=Ca,pt.prototype.get=ia,pt.prototype.has=Qa,pt.prototype.set=Bi;function pi(se){var be=this.__data__=new ai(se);this.size=be.size}function Ci(){this.__data__=new ai,this.size=0}function Zi(se){var be=this.__data__,Me=be.delete(se);return this.size=be.size,Me}function wr(se){return this.__data__.get(se)}function El(se){return this.__data__.has(se)}function Ja(se,be){var Me=this.__data__;if(Me instanceof ai){var ut=Me.__data__;if(!Vr||ut.length<r-1)return ut.push([se,be]),this.size=++Me.size,this;Me=this.__data__=new pt(ut)}return Me.set(se,be),this.size=Me.size,this}pi.prototype.clear=Ci,pi.prototype.delete=Zi,pi.prototype.get=wr,pi.prototype.has=El,pi.prototype.set=Ja;function Ps(se,be){var Me=$i(se),ut=!Me&&gs(se),un=!Me&&!ut&&Ut(se),wn=!Me&&!ut&&!un&&ki(se),mt=Me||ut||un||wn,on=mt?$e(se.length,String):[],rn=on.length;for(var Lr in se)mt&&(Lr=="length"||un&&(Lr=="offset"||Lr=="parent")||wn&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||Ls(Lr,rn))||on.push(Lr);return on}function Ei(se,be,Me){(Me!==void 0&&!ms(se[be],Me)||Me===void 0&&!(be in se))&&eo(se,be,Me)}function Al(se,be,Me){var ut=se[be];(!(An.call(se,be)&&ms(ut,Me))||Me===void 0&&!(be in se))&&eo(se,be,Me)}function fs(se,be){for(var Me=se.length;Me--;)if(ms(se[Me][0],be))return Me;return-1}function eo(se,be,Me){be=="__proto__"&&Rn?Rn(se,be,{configurable:!0,enumerable:!0,value:Me,writable:!0}):se[be]=Me}var Tl=$n();function Ms(se){return se==null?se===void 0?G:z:Zt&&Zt in Object(se)?_r(se):to(se)}function Ea(se){return Xi(se)&&Ms(se)==m}function Ai(se){if(!Tr(se)||Ti(se))return!1;var be=oi(se)?jt:ie;return be.test(Ns(se))}function Aa(se){return Xi(se)&&xn(se.length)&&!!F[Ms(se)]}function sa(se){if(!Tr(se))return ka(se);var be=gi(se),Me=[];for(var ut in se)ut=="constructor"&&(be||!An.call(se,ut))||Me.push(ut);return Me}function Yi(se,be,Me,ut,un){se!==be&&Tl(be,function(wn,mt){if(un||(un=new pi),Tr(wn))Bo(se,be,mt,Me,Yi,ut,un);else{var on=ut?ut(Os(se,mt),wn,mt+"",se,be,un):void 0;on===void 0&&(on=wn),Ei(se,mt,on)}},Is)}function Bo(se,be,Me,ut,un,wn,mt){var on=Os(se,Me),rn=Os(be,Me),Lr=mt.get(rn);if(Lr){Ei(se,Me,Lr);return}var vr=wn?wn(on,rn,Me+"",se,be,mt):void 0,Ra=vr===void 0;if(Ra){var za=$i(rn),Da=!za&&Ut(rn),Fo=!za&&!Da&&ki(rn);vr=rn,za||Da||Fo?$i(on)?vr=on:xi(on)?vr=zs(on):Da?(Ra=!1,vr=zt(rn)):Fo?(Ra=!1,vr=mi(rn)):vr=[]:Ki(rn)||gs(rn)?(vr=on,gs(on)?vr=Qi(on):(!Tr(on)||oi(on))&&(vr=Ta(rn))):Ra=!1}Ra&&(mt.set(rn,vr),un(vr,rn,ut,wn,mt),mt.delete(rn)),Ei(se,Me,vr)}function Rs(se,be){return Ma(Pa(se,be,Pi),se+"")}var gn=Rn?function(se,be){return Rn(se,"toString",{configurable:!0,enumerable:!1,value:fr(be),writable:!0})}:Pi;function zt(se,be){return se.slice()}function Qn(se){var be=new se.constructor(se.byteLength);return new Tn(be).set(new Tn(se)),be}function mi(se,be){var Me=Qn(se.buffer);return new se.constructor(Me,se.byteOffset,se.length)}function zs(se,be){var Me=-1,ut=se.length;for(be||(be=Array(ut));++Me<ut;)be[Me]=se[Me];return be}function Ds(se,be,Me,ut){var un=!Me;Me||(Me={});for(var wn=-1,mt=be.length;++wn<mt;){var on=be[wn],rn=void 0;rn===void 0&&(rn=se[on]),un?eo(Me,on,rn):Al(Me,on,rn)}return Me}function Yt(se){return Rs(function(be,Me){var ut=-1,un=Me.length,wn=un>1?Me[un-1]:void 0,mt=un>2?Me[2]:void 0;for(wn=se.length>3&&typeof wn=="function"?(un--,wn):void 0,mt&&Qr(Me[0],Me[1],mt)&&(wn=un<3?void 0:wn,un=1),be=Object(be);++ut<un;){var on=Me[ut];on&&se(be,on,ut,wn)}return be})}function $n(se){return function(be,Me,ut){for(var un=-1,wn=Object(be),mt=ut(be),on=mt.length;on--;){var rn=mt[++un];if(Me(wn[rn],rn,wn)===!1)break}return be}}function ps(se,be){var Me=se.__data__;return ir(be)?Me[typeof be=="string"?"string":"hash"]:Me.map}function rr(se,be){var Me=ye(se,be);return Ai(Me)?Me:void 0}function _r(se){var be=An.call(se,Zt),Me=se[Zt];try{se[Zt]=void 0;var ut=!0}catch{}var un=Fe.call(se);return ut&&(be?se[Zt]=Me:delete se[Zt]),un}function Ta(se){return typeof se.constructor=="function"&&!gi(se)?cr(qe(se)):{}}function Ls(se,be){var Me=typeof se;return be=be??d,!!be&&(Me=="number"||Me!="symbol"&&he.test(se))&&se>-1&&se%1==0&&se<be}function Qr(se,be,Me){if(!Tr(Me))return!1;var ut=typeof be;return(ut=="number"?ct(Me)&&Ls(be,Me.length):ut=="string"&&be in Me)?ms(Me[be],se):!1}function ir(se){var be=typeof se;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?se!=="__proto__":se===null}function Ti(se){return!!nr&&nr in se}function gi(se){var be=se&&se.constructor,Me=typeof be=="function"&&be.prototype||ge;return se===Me}function ka(se){var be=[];if(se!=null)for(var Me in Object(se))be.push(Me);return be}function to(se){return Fe.call(se)}function Pa(se,be,Me){return be=Sr(be===void 0?se.length-1:be,0),function(){for(var ut=arguments,un=-1,wn=Sr(ut.length-be,0),mt=Array(wn);++un<wn;)mt[un]=ut[be+un];un=-1;for(var on=Array(be+1);++un<be;)on[un]=ut[un];return on[be]=Me(mt),wt(se,this,on)}}function Os(se,be){if(!(be==="constructor"&&typeof se[be]=="function")&&be!="__proto__")return se[be]}var Ma=no(gn);function no(se){var be=0,Me=0;return function(){var ut=hr(),un=u-(ut-Me);if(Me=ut,un>0){if(++be>=l)return arguments[0]}else be=0;return se.apply(void 0,arguments)}}function Ns(se){if(se!=null){try{return bt.call(se)}catch{}try{return se+""}catch{}}return""}function ms(se,be){return se===be||se!==se&&be!==be}var gs=Ea((function(){return arguments})())?Ea:function(se){return Xi(se)&&An.call(se,"callee")&&!en.call(se,"callee")},$i=Array.isArray;function ct(se){return se!=null&&xn(se.length)&&!oi(se)}function xi(se){return Xi(se)&&ct(se)}var Ut=an||$o;function oi(se){if(!Tr(se))return!1;var be=Ms(se);return be==_||be==E||be==g||be==k}function xn(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=d}function Tr(se){var be=typeof se;return se!=null&&(be=="object"||be=="function")}function Xi(se){return se!=null&&typeof se=="object"}function Ki(se){if(!Xi(se)||Ms(se)!=M)return!1;var be=qe(se);if(be===null)return!0;var Me=An.call(be,"constructor")&&be.constructor;return typeof Me=="function"&&Me instanceof Me&&bt.call(Me)==et}var ki=Qe?Bt(Qe):Aa;function Qi(se){return Ds(se,Is(se))}function Is(se){return ct(se)?Ps(se):sa(se)}var aa=Yt(function(se,be,Me,ut){Yi(se,be,Me,ut)});function fr(se){return function(){return se}}function Pi(se){return se}function $o(){return!1}t.exports=aa})(_f,_f.exports)),_f.exports}var S4=j4();const ya=Sp(S4);function di(t,n=[]){const r=b.useRef(t);return b.useEffect(()=>{r.current=t}),b.useCallback((...s)=>r.current?.(...s),n)}function $f(t,n,r,s){const l=di(r);return b.useEffect(()=>{const u=typeof t=="function"?t():t??document;if(!(!r||!u))return u.addEventListener(n,l,s),()=>{u.removeEventListener(n,l,s)}},[n,t,s,l,r]),()=>{(typeof t=="function"?t():t??document)?.removeEventListener(n,l,s)}}function w4(t){const{isOpen:n,ref:r}=t,[s,l]=b.useState(n),[u,d]=b.useState(!1);return b.useEffect(()=>{u||(l(n),d(!0))},[n,u,s]),$f(()=>r.current,"animationend",()=>{l(n)}),{present:!(n?!1:!s),onComplete(){const p=XL(r.current),g=new p.CustomEvent("animationend",{bubbles:!0});r.current?.dispatchEvent(g)}}}function Cx(t){const{value:n,defaultValue:r,onChange:s,shouldUpdate:l=(S,_)=>S!==_}=t,u=di(s),d=di(l),[m,p]=b.useState(r),g=n!==void 0,x=g?n:m,j=di(S=>{const E=typeof S=="function"?S(x):S;d(x,E)&&(g||p(E),u(E))},[g,u,x,d]);return[x,j]}function _4(t={}){const{onChange:n,precision:r,defaultValue:s,value:l,step:u=1,min:d=Number.MIN_SAFE_INTEGER,max:m=Number.MAX_SAFE_INTEGER,keepWithinRange:p=!0}=t,g=di(n),[x,j]=b.useState(()=>s==null?"":H0(s,u,r)??""),S=typeof l<"u",_=S?l:x,E=lT(dc(_),u),A=r??E,T=b.useCallback(fe=>{fe!==_&&(S||j(fe.toString()),g?.(fe.toString(),dc(fe)))},[g,S,_]),z=b.useCallback(fe=>{let X=fe;return p&&(X=p4(X,d,m)),iT(X,A)},[A,p,m,d]),M=b.useCallback((fe=u)=>{let X;_===""?X=dc(fe):X=dc(_)+fe,X=z(X),T(X)},[z,u,T,_]),k=b.useCallback((fe=u)=>{let X;_===""?X=dc(-fe):X=dc(_)-fe,X=z(X),T(X)},[z,u,T,_]),O=b.useCallback(()=>{let fe;s==null?fe="":fe=H0(s,u,r)??d,T(fe)},[s,r,u,T,d]),I=b.useCallback(fe=>{const X=H0(fe,u,A)??d;T(X)},[A,u,T,d]),$=dc(_);return{isOutOfRange:$>m||$<d,isAtMax:$===m,isAtMin:$===d,precision:A,value:_,valueAsNumber:$,update:T,reset:O,increment:M,decrement:k,clamp:z,cast:I,setValue:j}}function dc(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function lT(t,n){return Math.max(CC(n),CC(t))}function H0(t,n,r){const s=dc(t);if(Number.isNaN(s))return;const l=lT(s,n);return iT(s,r??l)}function It(t={}){const{onClose:n,onOpen:r,isOpen:s,id:l}=t,u=di(r),d=di(n),[m,p]=b.useState(t.defaultIsOpen||!1),g=s!==void 0?s:m,x=s!==void 0,j=b.useId(),S=l??`disclosure-${j}`,_=b.useCallback(()=>{x||p(!1),d?.()},[x,d]),E=b.useCallback(()=>{x||p(!0),u?.()},[x,u]),A=b.useCallback(()=>{g?_():E()},[g,E,_]);function T(M={}){return{...M,"aria-expanded":g,"aria-controls":S,onClick(k){M.onClick?.(k),A()}}}function z(M={}){return{...M,hidden:!g,id:S}}return{isOpen:g,onOpen:E,onClose:_,onToggle:A,isControlled:x,getButtonProps:T,getDisclosureProps:z}}const gl=globalThis?.document?b.useLayoutEffect:b.useEffect,yu=(t,n)=>{const r=b.useRef(!1),s=b.useRef(!1);b.useEffect(()=>{if(r.current&&s.current)return t();s.current=!0},n),b.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function C4(t){const n=t.current;if(!n)return!1;const r=KL(n);return!r||n.contains(r)?!1:!!s4(r)}function E4(t,n){const{visible:r,focusRef:s}=n,l=!r;yu(()=>{if(!l||C4(t))return;const u=s?.current||t.current;let d;if(u)return d=requestAnimationFrame(()=>{u.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(d)}},[l,t,s])}function A4(t,n){const r=b.useId();return b.useMemo(()=>t||[n,r].filter(Boolean).join("-"),[t,n,r])}function T4(t,...n){const r=A4(t);return b.useMemo(()=>n.map(s=>`${s}-${r}`),[r,n])}function k4(t,n){const r=di(t);b.useEffect(()=>{let s=null;const l=()=>r();return n!==null&&(s=window.setInterval(l,n)),()=>{s&&window.clearInterval(s)}},[n,r])}function P4(t,n){if(t!=null){if(typeof t=="function"){t(n);return}try{t.current=n}catch{throw new Error(`Cannot assign value '${n}' to ref '${t}'`)}}}function Xr(...t){return n=>{t.forEach(r=>{P4(r,n)})}}function M4(...t){return b.useMemo(()=>Xr(...t),t)}function R4(t){const{ref:n,handler:r,enabled:s=!0}=t,l=di(r),d=b.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;b.useEffect(()=>{if(!s)return;const m=j=>{W0(j,n)&&(d.isPointerDown=!0)},p=j=>{if(d.ignoreEmulatedMouseEvents){d.ignoreEmulatedMouseEvents=!1;return}d.isPointerDown&&r&&W0(j,n)&&(d.isPointerDown=!1,l(j))},g=j=>{d.ignoreEmulatedMouseEvents=!0,r&&d.isPointerDown&&W0(j,n)&&(d.isPointerDown=!1,l(j))},x=cT(n.current);return x.addEventListener("mousedown",m,!0),x.addEventListener("mouseup",p,!0),x.addEventListener("touchstart",m,!0),x.addEventListener("touchend",g,!0),()=>{x.removeEventListener("mousedown",m,!0),x.removeEventListener("mouseup",p,!0),x.removeEventListener("touchstart",m,!0),x.removeEventListener("touchend",g,!0)}},[r,n,l,d,s])}function W0(t,n){const r=t.composedPath?.()[0]??t.target;return r&&!cT(r).contains(r)?!1:!n.current?.contains(r)}function cT(t){return t?.ownerDocument??document}function z4(t,n){const r=di(t);b.useEffect(()=>{if(n==null)return;let s=null;return s=window.setTimeout(()=>{r()},n),()=>{s&&window.clearTimeout(s)}},[n,r])}const ui={open:(t,n)=>`${t}[data-open], ${t}[open], ${t}[data-state=open] ${n}`,closed:(t,n)=>`${t}[data-closed], ${t}[data-state=closed] ${n}`,hover:(t,n)=>`${t}:hover ${n}, ${t}[data-hover] ${n}`,focus:(t,n)=>`${t}:focus ${n}, ${t}[data-focus] ${n}`,focusVisible:(t,n)=>`${t}:focus-visible ${n}`,focusWithin:(t,n)=>`${t}:focus-within ${n}`,active:(t,n)=>`${t}:active ${n}, ${t}[data-active] ${n}`,disabled:(t,n)=>`${t}:disabled ${n}, ${t}[data-disabled] ${n}`,invalid:(t,n)=>`${t}:invalid ${n}, ${t}[data-invalid] ${n}`,checked:(t,n)=>`${t}:checked ${n}, ${t}[data-checked] ${n}`,placeholderShown:(t,n)=>`${t}:placeholder-shown ${n}`},fo=t=>uT(n=>t(n,"&"),"[role=group]","[data-group]",".group"),sl=t=>uT(n=>t(n,"~ &"),"[data-peer]",".peer"),uT=(t,...n)=>n.map(t).join(", "),Ex={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:fo(ui.open),_groupClosed:fo(ui.closed),_groupHover:fo(ui.hover),_peerHover:sl(ui.hover),_groupFocus:fo(ui.focus),_peerFocus:sl(ui.focus),_groupFocusVisible:fo(ui.focusVisible),_peerFocusVisible:sl(ui.focusVisible),_groupActive:fo(ui.active),_peerActive:sl(ui.active),_groupDisabled:fo(ui.disabled),_peerDisabled:sl(ui.disabled),_groupInvalid:fo(ui.invalid),_peerInvalid:sl(ui.invalid),_groupChecked:fo(ui.checked),_peerChecked:sl(ui.checked),_groupFocusWithin:fo(ui.focusWithin),_peerFocusWithin:sl(ui.focusWithin),_peerPlaceholderShown:sl(ui.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},dT=Object.keys(Ex),D4=t=>/!(important)?$/.test(t),TC=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,L4=(t,n)=>r=>{const s=String(n),l=D4(s),u=TC(s),d=t?`${t}.${u}`:u;let m=hi(r.__cssMap)&&d in r.__cssMap?r.__cssMap[d].varRef:n;return m=TC(m),l?`${m} !important`:m};function Tj(t){const{scale:n,transform:r,compose:s}=t;return(u,d)=>{const m=L4(n,u)(d);let p=r?.(m,d)??m;return s&&(p=s(p,d)),p}}const eg=(...t)=>n=>t.reduce((r,s)=>s(r),n);function fa(t,n){return r=>{const s={property:r,scale:t};return s.transform=Tj({scale:t,transform:n}),s}}const O4=({rtl:t,ltr:n})=>r=>r.direction==="rtl"?t:n;function N4(t){const{property:n,scale:r,transform:s}=t;return{scale:r,property:O4(n),transform:r?Tj({scale:r,compose:s}):s}}const hT=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function I4(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...hT].join(" ")}function B4(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...hT].join(" ")}const $4={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},F4={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function V4(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const U4={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},ab={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},H4=new Set(Object.values(ab)),ob=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),W4=t=>t.trim();function q4(t,n){if(t==null||ob.has(t))return t;if(!(lb(t)||ob.has(t)))return`url('${t}')`;const l=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),u=l?.[1],d=l?.[2];if(!u||!d)return t;const m=u.includes("-gradient")?u:`${u}-gradient`,[p,...g]=d.split(",").map(W4).filter(Boolean);if(g?.length===0)return t;const x=p in ab?ab[p]:p;g.unshift(x);const j=g.map(S=>{if(H4.has(S))return S;const _=S.indexOf(" "),[E,A]=_!==-1?[S.substr(0,_),S.substr(_+1)]:[S],T=lb(A)?A:A&&A.split(" "),z=`colors.${E}`,M=z in n.__cssMap?n.__cssMap[z].varRef:E;return T?[M,...Array.isArray(T)?T:[T]].join(" "):M});return`${m}(${j.join(", ")})`}const lb=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),G4=(t,n)=>q4(t,n??{});function Z4(t){return/^var\(--.+\)$/.test(t)}const Y4=t=>{const n=parseFloat(t.toString()),r=t.toString().replace(String(n),"");return{unitless:!r,value:n,unit:r}},po=t=>n=>`${t}(${n})`,Pn={filter(t){return t!=="auto"?t:$4},backdropFilter(t){return t!=="auto"?t:F4},ring(t){return V4(Pn.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?I4():t==="auto-gpu"?B4():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:n}=Y4(t);return n||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,n){const r={left:"right",right:"left"};return n.direction==="rtl"?r[t]:t},degree(t){if(Z4(t)||t==null)return t;const n=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||n?`${t}deg`:t},gradient:G4,blur:po("blur"),opacity:po("opacity"),brightness:po("brightness"),contrast:po("contrast"),dropShadow:po("drop-shadow"),grayscale:po("grayscale"),hueRotate:t=>po("hue-rotate")(Pn.degree(t)),invert:po("invert"),saturate:po("saturate"),sepia:po("sepia"),bgImage(t){return t==null||lb(t)||ob.has(t)?t:`url(${t})`},outline(t){const n=String(t)==="0"||String(t)==="none";return t!==null&&n?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){const{space:n,divide:r}=U4[t]??{},s={flexDirection:t};return n&&(s[n]=1),r&&(s[r]=1),s}},we={borderWidths:fa("borderWidths"),borderStyles:fa("borderStyles"),colors:fa("colors"),borders:fa("borders"),gradients:fa("gradients",Pn.gradient),radii:fa("radii",Pn.px),space:fa("space",eg(Pn.vh,Pn.px)),spaceT:fa("space",eg(Pn.vh,Pn.px)),degreeT(t){return{property:t,transform:Pn.degree}},prop(t,n,r){return{property:t,scale:n,...n&&{transform:Tj({scale:n,transform:r})}}},propT(t,n){return{property:t,transform:n}},sizes:fa("sizes",eg(Pn.vh,Pn.px)),sizesT:fa("sizes",eg(Pn.vh,Pn.fraction)),shadows:fa("shadows"),logical:N4,blur:fa("blur",Pn.blur)},Pg={background:we.colors("background"),backgroundColor:we.colors("backgroundColor"),backgroundImage:we.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Pn.bgClip},bgSize:we.prop("backgroundSize"),bgPosition:we.prop("backgroundPosition"),bg:we.colors("background"),bgColor:we.colors("backgroundColor"),bgPos:we.prop("backgroundPosition"),bgRepeat:we.prop("backgroundRepeat"),bgAttachment:we.prop("backgroundAttachment"),bgGradient:we.gradients("backgroundImage"),bgClip:{transform:Pn.bgClip}};Object.assign(Pg,{bgImage:Pg.backgroundImage,bgImg:Pg.backgroundImage});const Vn={border:we.borders("border"),borderWidth:we.borderWidths("borderWidth"),borderStyle:we.borderStyles("borderStyle"),borderColor:we.colors("borderColor"),borderRadius:we.radii("borderRadius"),borderTop:we.borders("borderTop"),borderBlockStart:we.borders("borderBlockStart"),borderTopLeftRadius:we.radii("borderTopLeftRadius"),borderStartStartRadius:we.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:we.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:we.radii("borderTopRightRadius"),borderStartEndRadius:we.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:we.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:we.borders("borderRight"),borderInlineEnd:we.borders("borderInlineEnd"),borderBottom:we.borders("borderBottom"),borderBlockEnd:we.borders("borderBlockEnd"),borderBottomLeftRadius:we.radii("borderBottomLeftRadius"),borderBottomRightRadius:we.radii("borderBottomRightRadius"),borderLeft:we.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:we.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:we.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:we.borders(["borderLeft","borderRight"]),borderInline:we.borders("borderInline"),borderY:we.borders(["borderTop","borderBottom"]),borderBlock:we.borders("borderBlock"),borderTopWidth:we.borderWidths("borderTopWidth"),borderBlockStartWidth:we.borderWidths("borderBlockStartWidth"),borderTopColor:we.colors("borderTopColor"),borderBlockStartColor:we.colors("borderBlockStartColor"),borderTopStyle:we.borderStyles("borderTopStyle"),borderBlockStartStyle:we.borderStyles("borderBlockStartStyle"),borderBottomWidth:we.borderWidths("borderBottomWidth"),borderBlockEndWidth:we.borderWidths("borderBlockEndWidth"),borderBottomColor:we.colors("borderBottomColor"),borderBlockEndColor:we.colors("borderBlockEndColor"),borderBottomStyle:we.borderStyles("borderBottomStyle"),borderBlockEndStyle:we.borderStyles("borderBlockEndStyle"),borderLeftWidth:we.borderWidths("borderLeftWidth"),borderInlineStartWidth:we.borderWidths("borderInlineStartWidth"),borderLeftColor:we.colors("borderLeftColor"),borderInlineStartColor:we.colors("borderInlineStartColor"),borderLeftStyle:we.borderStyles("borderLeftStyle"),borderInlineStartStyle:we.borderStyles("borderInlineStartStyle"),borderRightWidth:we.borderWidths("borderRightWidth"),borderInlineEndWidth:we.borderWidths("borderInlineEndWidth"),borderRightColor:we.colors("borderRightColor"),borderInlineEndColor:we.colors("borderInlineEndColor"),borderRightStyle:we.borderStyles("borderRightStyle"),borderInlineEndStyle:we.borderStyles("borderInlineEndStyle"),borderTopRadius:we.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:we.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:we.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:we.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Vn,{rounded:Vn.borderRadius,roundedTop:Vn.borderTopRadius,roundedTopLeft:Vn.borderTopLeftRadius,roundedTopRight:Vn.borderTopRightRadius,roundedTopStart:Vn.borderStartStartRadius,roundedTopEnd:Vn.borderStartEndRadius,roundedBottom:Vn.borderBottomRadius,roundedBottomLeft:Vn.borderBottomLeftRadius,roundedBottomRight:Vn.borderBottomRightRadius,roundedBottomStart:Vn.borderEndStartRadius,roundedBottomEnd:Vn.borderEndEndRadius,roundedLeft:Vn.borderLeftRadius,roundedRight:Vn.borderRightRadius,roundedStart:Vn.borderInlineStartRadius,roundedEnd:Vn.borderInlineEndRadius,borderStart:Vn.borderInlineStart,borderEnd:Vn.borderInlineEnd,borderTopStartRadius:Vn.borderStartStartRadius,borderTopEndRadius:Vn.borderStartEndRadius,borderBottomStartRadius:Vn.borderEndStartRadius,borderBottomEndRadius:Vn.borderEndEndRadius,borderStartRadius:Vn.borderInlineStartRadius,borderEndRadius:Vn.borderInlineEndRadius,borderStartWidth:Vn.borderInlineStartWidth,borderEndWidth:Vn.borderInlineEndWidth,borderStartColor:Vn.borderInlineStartColor,borderEndColor:Vn.borderInlineEndColor,borderStartStyle:Vn.borderInlineStartStyle,borderEndStyle:Vn.borderInlineEndStyle});const X4={color:we.colors("color"),textColor:we.colors("color"),fill:we.colors("fill"),stroke:we.colors("stroke"),accentColor:we.colors("accentColor"),textFillColor:we.colors("textFillColor")},Kg={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Pn.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:we.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:we.space("gap"),rowGap:we.space("rowGap"),columnGap:we.space("columnGap")};Object.assign(Kg,{flexDir:Kg.flexDirection});const ga={width:we.sizesT("width"),inlineSize:we.sizesT("inlineSize"),height:we.sizes("height"),blockSize:we.sizes("blockSize"),boxSize:we.sizes(["width","height"]),minWidth:we.sizes("minWidth"),minInlineSize:we.sizes("minInlineSize"),minHeight:we.sizes("minHeight"),minBlockSize:we.sizes("minBlockSize"),maxWidth:we.sizes("maxWidth"),maxInlineSize:we.sizes("maxInlineSize"),maxHeight:we.sizes("maxHeight"),maxBlockSize:we.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (min-width: ${n.__breakpoints?.get(t)?.minW??t})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(t,n)=>({[`@media screen and (max-width: ${n.__breakpoints?.get(t)?._minW??t})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:we.propT("float",Pn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ga,{w:ga.width,h:ga.height,minW:ga.minWidth,maxW:ga.maxWidth,minH:ga.minHeight,maxH:ga.maxHeight,overscroll:ga.overscrollBehavior,overscrollX:ga.overscrollBehaviorX,overscrollY:ga.overscrollBehaviorY});const K4={filter:{transform:Pn.filter},blur:we.blur("--chakra-blur"),brightness:we.propT("--chakra-brightness",Pn.brightness),contrast:we.propT("--chakra-contrast",Pn.contrast),hueRotate:we.propT("--chakra-hue-rotate",Pn.hueRotate),invert:we.propT("--chakra-invert",Pn.invert),saturate:we.propT("--chakra-saturate",Pn.saturate),dropShadow:we.propT("--chakra-drop-shadow",Pn.dropShadow),backdropFilter:{transform:Pn.backdropFilter},backdropBlur:we.blur("--chakra-backdrop-blur"),backdropBrightness:we.propT("--chakra-backdrop-brightness",Pn.brightness),backdropContrast:we.propT("--chakra-backdrop-contrast",Pn.contrast),backdropHueRotate:we.propT("--chakra-backdrop-hue-rotate",Pn.hueRotate),backdropInvert:we.propT("--chakra-backdrop-invert",Pn.invert),backdropSaturate:we.propT("--chakra-backdrop-saturate",Pn.saturate)},Q4={ring:{transform:Pn.ring},ringColor:we.colors("--chakra-ring-color"),ringOffset:we.prop("--chakra-ring-offset-width"),ringOffsetColor:we.colors("--chakra-ring-offset-color"),ringInset:we.prop("--chakra-ring-inset")},J4={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Pn.outline},outlineOffset:!0,outlineColor:we.colors("outlineColor")},fT={gridGap:we.space("gridGap"),gridColumnGap:we.space("gridColumnGap"),gridRowGap:we.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function eO(t,n,r,s){const l=typeof n=="string"?n.split("."):[n];for(s=0;s<l.length&&t;s+=1)t=t[l[s]];return t===void 0?r:t}const tO=t=>{const n=new WeakMap;return(s,l,u,d)=>{if(typeof s>"u")return t(s,l,u);n.has(s)||n.set(s,new Map);const m=n.get(s);if(m.has(l))return m.get(l);const p=t(s,l,u,d);return m.set(l,p),p}},nO=tO(eO),rO={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},iO={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},q0=(t,n,r)=>{const s={},l=nO(t,n,{});for(const u in l)u in r&&r[u]!=null||(s[u]=l[u]);return s},sO={srOnly:{transform(t){return t===!0?rO:t==="focusable"?iO:{}}},layerStyle:{processResult:!0,transform:(t,n,r)=>q0(n,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,n,r)=>q0(n,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,n,r)=>q0(n,t,r)}},Ff={position:!0,pos:we.prop("position"),zIndex:we.prop("zIndex","zIndices"),inset:we.spaceT("inset"),insetX:we.spaceT(["left","right"]),insetInline:we.spaceT("insetInline"),insetY:we.spaceT(["top","bottom"]),insetBlock:we.spaceT("insetBlock"),top:we.spaceT("top"),insetBlockStart:we.spaceT("insetBlockStart"),bottom:we.spaceT("bottom"),insetBlockEnd:we.spaceT("insetBlockEnd"),left:we.spaceT("left"),insetInlineStart:we.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:we.spaceT("right"),insetInlineEnd:we.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Ff,{insetStart:Ff.insetInlineStart,insetEnd:Ff.insetInlineEnd});const cb={boxShadow:we.shadows("boxShadow"),mixBlendMode:!0,blendMode:we.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:we.prop("backgroundBlendMode"),opacity:!0};Object.assign(cb,{shadow:cb.boxShadow});const yr={margin:we.spaceT("margin"),marginTop:we.spaceT("marginTop"),marginBlockStart:we.spaceT("marginBlockStart"),marginRight:we.spaceT("marginRight"),marginInlineEnd:we.spaceT("marginInlineEnd"),marginBottom:we.spaceT("marginBottom"),marginBlockEnd:we.spaceT("marginBlockEnd"),marginLeft:we.spaceT("marginLeft"),marginInlineStart:we.spaceT("marginInlineStart"),marginX:we.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:we.spaceT("marginInline"),marginY:we.spaceT(["marginTop","marginBottom"]),marginBlock:we.spaceT("marginBlock"),padding:we.space("padding"),paddingTop:we.space("paddingTop"),paddingBlockStart:we.space("paddingBlockStart"),paddingRight:we.space("paddingRight"),paddingBottom:we.space("paddingBottom"),paddingBlockEnd:we.space("paddingBlockEnd"),paddingLeft:we.space("paddingLeft"),paddingInlineStart:we.space("paddingInlineStart"),paddingInlineEnd:we.space("paddingInlineEnd"),paddingX:we.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:we.space("paddingInline"),paddingY:we.space(["paddingTop","paddingBottom"]),paddingBlock:we.space("paddingBlock")};Object.assign(yr,{m:yr.margin,mt:yr.marginTop,mr:yr.marginRight,me:yr.marginInlineEnd,marginEnd:yr.marginInlineEnd,mb:yr.marginBottom,ml:yr.marginLeft,ms:yr.marginInlineStart,marginStart:yr.marginInlineStart,mx:yr.marginX,my:yr.marginY,p:yr.padding,pt:yr.paddingTop,py:yr.paddingY,px:yr.paddingX,pb:yr.paddingBottom,pl:yr.paddingLeft,ps:yr.paddingInlineStart,paddingStart:yr.paddingInlineStart,pr:yr.paddingRight,pe:yr.paddingInlineEnd,paddingEnd:yr.paddingInlineEnd});const aO={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:we.spaceT("scrollMargin"),scrollMarginTop:we.spaceT("scrollMarginTop"),scrollMarginBottom:we.spaceT("scrollMarginBottom"),scrollMarginLeft:we.spaceT("scrollMarginLeft"),scrollMarginRight:we.spaceT("scrollMarginRight"),scrollMarginX:we.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:we.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:we.spaceT("scrollPadding"),scrollPaddingTop:we.spaceT("scrollPaddingTop"),scrollPaddingBottom:we.spaceT("scrollPaddingBottom"),scrollPaddingLeft:we.spaceT("scrollPaddingLeft"),scrollPaddingRight:we.spaceT("scrollPaddingRight"),scrollPaddingX:we.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:we.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},oO={fontFamily:we.prop("fontFamily","fonts"),fontSize:we.prop("fontSize","fontSizes",Pn.px),fontWeight:we.prop("fontWeight","fontWeights"),lineHeight:we.prop("lineHeight","lineHeights"),letterSpacing:we.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},lO={textDecorationColor:we.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:we.shadows("textShadow")},cO={clipPath:!0,transform:we.propT("transform",Pn.transform),transformOrigin:!0,translateX:we.spaceT("--chakra-translate-x"),translateY:we.spaceT("--chakra-translate-y"),skewX:we.degreeT("--chakra-skew-x"),skewY:we.degreeT("--chakra-skew-y"),scaleX:we.prop("--chakra-scale-x"),scaleY:we.prop("--chakra-scale-y"),scale:we.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:we.degreeT("--chakra-rotate")},uO={listStyleType:!0,listStylePosition:!0,listStylePos:we.prop("listStylePosition"),listStyleImage:!0,listStyleImg:we.prop("listStyleImage")},dO={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:we.prop("transitionDuration","transition.duration"),transitionProperty:we.prop("transitionProperty","transition.property"),transitionTimingFunction:we.prop("transitionTimingFunction","transition.easing")},kj=ya({},Pg,Vn,X4,Kg,ga,K4,Q4,J4,fT,sO,Ff,cb,yr,aO,oO,lO,cO,uO,dO),hO=Object.assign({},yr,ga,Kg,fT,Ff),fO=Object.keys(hO),pO=[...Object.keys(kj),...dT],mO={...kj,...Ex},gO=t=>t in mO,xO=t=>n=>{if(!n.__breakpoints)return t;const{isResponsive:r,toArrayValue:s,media:l}=n.__breakpoints,u={};for(const d in t){let m=Ks(t[d],n);if(m==null)continue;if(m=hi(m)&&r(m)?s(m):m,!Array.isArray(m)){u[d]=m;continue}const p=m.slice(0,l.length).length;for(let g=0;g<p;g+=1){const x=l?.[g];if(!x){u[d]=m[g];continue}u[x]=u[x]||{},m[g]!=null&&(u[x][d]=m[g])}}return u};function vO(t){const n=[];let r="",s=!1;for(let l=0;l<t.length;l++){const u=t[l];u==="("?(s=!0,r+=u):u===")"?(s=!1,r+=u):u===","&&!s?(n.push(r),r=""):r+=u}return r=r.trim(),r&&n.push(r),n}function yO(t){return/^var\(--.+\)$/.test(t)}const bO=(t,n)=>t.startsWith("--")&&typeof n=="string"&&!yO(n),jO=(t,n)=>{if(n==null)return n;const r=d=>t.__cssMap?.[d]?.varRef,s=d=>r(d)??d,[l,u]=vO(n);return n=r(l)??s(u)??s(n),n};function SO(t){const{configs:n={},pseudos:r={},theme:s}=t,l=(u,d=!1)=>{const m=Ks(u,s),p=xO(m)(s);let g={};for(let x in p){const j=p[x];let S=Ks(j,s);x in r&&(x=r[x]),bO(x,S)&&(S=jO(s,S));let _=n[x];if(_===!0&&(_={property:x}),hi(S)){g[x]=g[x]??{},g[x]=ya({},g[x],l(S,!0));continue}let E=_?.transform?.(S,s,m)??S;E=_?.processResult?l(E,!0):E;const A=Ks(_?.property,s);if(!d&&_?.static){const T=Ks(_.static,s);g=ya({},g,T)}if(A&&Array.isArray(A)){for(const T of A)g[T]=E;continue}if(A){A==="&"&&hi(E)?g=ya({},g,E):g[A]=E;continue}if(hi(E)){g=ya({},g,E);continue}g[x]=E}return g};return l}const pT=t=>n=>SO({theme:n,pseudos:Ex,configs:kj})(t);function xr(t){return{definePartsStyle(n){return n},defineMultiStyleConfig(n){return{parts:t,...n}}}}function wO(t,n,r){return t.__cssMap?.[`${n}.${r}`]?.varRef??r}function _O(t,n){if(Array.isArray(t))return t;if(hi(t))return n(t);if(t!=null)return[t]}function CO(t,n){for(let r=n+1;r<t.length;r++)if(t[r]!=null)return r;return-1}function EO(t){const n=t.__breakpoints;return function(s,l,u,d){if(!n)return;const m={},p=_O(u,n.toArrayValue);if(!p)return m;const g=p.length,x=g===1,j=!!s.parts;for(let S=0;S<g;S++){const _=n.details[S],E=n.details[CO(p,S)],A=wf(_.minW,E?._minW),T=Ks(s[l]?.[p[S]],d);if(T){if(j){s.parts?.forEach(z=>{ya(m,{[z]:x?T[z]:{[A]:T[z]}})});continue}if(!j){x?ya(m,T):m[A]=T;continue}m[A]=T}}return m}}function AO(t){return n=>{const{variant:r,size:s,theme:l}=n,u=EO(l);return ya({},Ks(t.baseStyle??{},n),u(t,"sizes",s,n),u(t,"variants",r,n))}}function On(t){return Ep(t,["styleConfig","size","variant","colorScheme"])}function mT(t){return hi(t)&&t.reference?t.reference:String(t)}const Ax=(t,...n)=>n.map(mT).join(` ${t} `).replace(/calc/g,""),kC=(...t)=>`calc(${Ax("+",...t)})`,PC=(...t)=>`calc(${Ax("-",...t)})`,ub=(...t)=>`calc(${Ax("*",...t)})`,MC=(...t)=>`calc(${Ax("/",...t)})`,RC=t=>{const n=mT(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:ub(n,-1)},ll=Object.assign(t=>({add:(...n)=>ll(kC(t,...n)),subtract:(...n)=>ll(PC(t,...n)),multiply:(...n)=>ll(ub(t,...n)),divide:(...n)=>ll(MC(t,...n)),negate:()=>ll(RC(t)),toString:()=>t.toString()}),{add:kC,subtract:PC,multiply:ub,divide:MC,negate:RC});function TO(t,n="-"){return t.replace(/\s+/g,n)}function kO(t){const n=TO(t.toString());return MO(PO(n))}function PO(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function MO(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function RO(t,n=""){return[n,t].filter(Boolean).join("-")}function zO(t,n){return`var(${t}${n?`, ${n}`:""})`}function DO(t,n=""){return kO(`--${RO(t,n)}`)}function Vt(t,n,r){const s=DO(t,r);return{variable:s,reference:zO(s,n)}}function LO(t,n){const r={};for(const s of n){if(Array.isArray(s)){const[l,u]=s;r[l]=Vt(`${t}-${l}`,u);continue}r[s]=Vt(`${t}-${s}`)}return r}const OO=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function NO(t){return sT(t,OO)}function IO(t){return t.semanticTokens}function BO(t){const{__cssMap:n,__cssVars:r,__breakpoints:s,...l}=t;return l}function $O(t){const n=NO(t),r=IO(t),s=u=>dT.includes(u)||u==="default",l={};return EC(n,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!1,value:u})}),EC(r,(u,d)=>{u!=null&&(l[d.join(".")]={isSemantic:!0,value:u})},{stop:u=>Object.keys(u).every(s)}),l}function zC(t,n){return Vt(String(t).replace(/\./g,"-"),void 0,n)}function FO(t){const n=$O(t),r=t.config?.cssVarPrefix;let s={};const l={};function u(d,m){const g=[String(d).split(".")[0],m].join(".");if(!n[g])return m;const{reference:j}=zC(g,r);return j}for(const[d,m]of Object.entries(n)){const{isSemantic:p,value:g}=m,{variable:x,reference:j}=zC(d,r);if(!p){if(d.startsWith("space")){const _=d.split("."),[E,...A]=_,T=`${E}.-${A.join(".")}`,z=ll.negate(g),M=ll.negate(j);l[T]={value:z,var:x,varRef:M}}s[x]=g,l[d]={value:g,var:x,varRef:j};continue}const S=hi(g)?g:{default:g};s=ya(s,Object.entries(S).reduce((_,[E,A])=>{if(!A)return _;const T=u(d,`${A}`);if(E==="default")return _[x]=T,_;const z=Ex?.[E]??E;return _[z]={[x]:T},_},{})),l[d]={value:j,var:x,varRef:j}}return{cssVars:s,cssMap:l}}function VO(t){const n=BO(t),{cssMap:r,cssVars:s}=FO(n);return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...s},__cssMap:r,__breakpoints:n4(n.breakpoints)}),n}function qn(t,n={}){let r=!1;function s(){if(!r){r=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function l(...x){s();for(const j of x)n[j]=p(j);return qn(t,n)}function u(...x){for(const j of x)j in n||(n[j]=p(j));return qn(t,n)}function d(){return Object.fromEntries(Object.entries(n).map(([j,S])=>[j,S.selector]))}function m(){return Object.fromEntries(Object.entries(n).map(([j,S])=>[j,S.className]))}function p(x){const _=`chakra-${(["container","root"].includes(x??"")?[t]:[t,x]).filter(Boolean).join("__")}`;return{className:_,selector:`.${_}`,toString:()=>x}}return{parts:l,toPart:p,extend:u,selectors:d,classnames:m,get keys(){return Object.keys(n)},__type:{}}}const UO=qn("accordion").parts("root","container","button","panel","icon"),HO=qn("alert").parts("title","description","container","icon","spinner"),WO=qn("avatar").parts("label","badge","container","excessLabel","group"),qO=qn("breadcrumb").parts("link","item","container","separator");qn("button").parts();const GO=qn("checkbox").parts("control","icon","container","label");qn("progress").parts("track","filledTrack","label");const ZO=qn("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),YO=qn("editable").parts("preview","input","textarea"),XO=qn("form").parts("container","requiredIndicator","helperText"),KO=qn("formError").parts("text","icon"),QO=qn("input").parts("addon","field","element","group"),JO=qn("list").parts("container","item","icon"),e3=qn("menu").parts("button","list","item","groupTitle","icon","command","divider"),t3=qn("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),n3=qn("numberinput").parts("root","field","stepperGroup","stepper");qn("pininput").parts("field");const r3=qn("popover").parts("content","header","body","footer","popper","arrow","closeButton"),i3=qn("progress").parts("label","filledTrack","track"),s3=qn("radio").parts("container","control","label"),a3=qn("select").parts("field","icon"),o3=qn("slider").parts("container","track","thumb","filledTrack","mark"),l3=qn("stat").parts("container","label","helpText","number","icon"),c3=qn("switch").parts("container","track","thumb","label"),u3=qn("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),d3=qn("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),h3=qn("tag").parts("container","label","closeButton"),f3=qn("card").parts("container","header","body","footer");qn("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:p3,defineMultiStyleConfig:m3}=xr(UO.keys),g3={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},x3={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},v3={pt:"2",px:"4",pb:"5"},y3={fontSize:"1.25em"},b3=p3({container:g3,button:x3,panel:v3,icon:y3}),j3=m3({baseStyle:b3});function iu(t,n,r){return Math.min(Math.max(t,r),n)}class S3 extends Error{constructor(n){super(`Failed to parse color: "${n}"`)}}var Cf=S3;function Pj(t){if(typeof t!="string")throw new Cf(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let n=t.trim();n=P3.test(t)?C3(t):t;const r=E3.exec(n);if(r){const d=Array.from(r).slice(1);return[...d.slice(0,3).map(m=>parseInt(np(m,2),16)),parseInt(np(d[3]||"f",2),16)/255]}const s=A3.exec(n);if(s){const d=Array.from(s).slice(1);return[...d.slice(0,3).map(m=>parseInt(m,16)),parseInt(d[3]||"ff",16)/255]}const l=T3.exec(n);if(l){const d=Array.from(l).slice(1);return[...d.slice(0,3).map(m=>parseInt(m,10)),parseFloat(d[3]||"1")]}const u=k3.exec(n);if(u){const[d,m,p,g]=Array.from(u).slice(1).map(parseFloat);if(iu(0,100,m)!==m)throw new Cf(t);if(iu(0,100,p)!==p)throw new Cf(t);return[...M3(d,m,p),Number.isNaN(g)?1:g]}throw new Cf(t)}function w3(t){let n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return(n>>>0)%2341}const DC=t=>parseInt(t.replace(/_/g,""),36),_3="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,n)=>{const r=DC(n.substring(0,3)),s=DC(n.substring(3)).toString(16);let l="";for(let u=0;u<6-s.length;u++)l+="0";return t[r]=`${l}${s}`,t},{});function C3(t){const n=t.toLowerCase().trim(),r=_3[w3(n)];if(!r)throw new Cf(t);return`#${r}`}const np=(t,n)=>Array.from(Array(n)).map(()=>t).join(""),E3=new RegExp(`^#${np("([a-f0-9])",3)}([a-f0-9])?$`,"i"),A3=new RegExp(`^#${np("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),T3=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${np(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),k3=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,P3=/^[a-z]+$/i,LC=t=>Math.round(t*255),M3=(t,n,r)=>{let s=r/100;if(n===0)return[s,s,s].map(LC);const l=(t%360+360)%360/60,u=(1-Math.abs(2*s-1))*(n/100),d=u*(1-Math.abs(l%2-1));let m=0,p=0,g=0;l>=0&&l<1?(m=u,p=d):l>=1&&l<2?(m=d,p=u):l>=2&&l<3?(p=u,g=d):l>=3&&l<4?(p=d,g=u):l>=4&&l<5?(m=d,g=u):l>=5&&l<6&&(m=u,g=d);const x=s-u/2,j=m+x,S=p+x,_=g+x;return[j,S,_].map(LC)};function R3(t,n,r,s){return`rgba(${iu(0,255,t).toFixed()}, ${iu(0,255,n).toFixed()}, ${iu(0,255,r).toFixed()}, ${parseFloat(iu(0,1,s).toFixed(3))})`}function z3(t,n){const[r,s,l,u]=Pj(t);return R3(r,s,l,u-n)}function D3(t){const[n,r,s,l]=Pj(t);let u=d=>{const m=iu(0,255,d).toString(16);return m.length===1?`0${m}`:m};return`#${u(n)}${u(r)}${u(s)}${l<1?u(Math.round(l*255)):""}`}const L3=t=>Object.keys(t).length===0;function O3(t,n,r,s,l){for(n=n.split?n.split("."):n,s=0;s<n.length;s++)t=t?t[n[s]]:l;return t===l?r:t}const cs=(t,n,r)=>{const s=O3(t,`colors.${n}`,n);try{return D3(s),s}catch{return r??"#000000"}},N3=t=>{const[n,r,s]=Pj(t);return(n*299+r*587+s*114)/1e3},I3=t=>n=>{const r=cs(n,t);return N3(r)<128?"dark":"light"},B3=t=>n=>I3(t)(n)==="dark",Gd=(t,n)=>r=>{const s=cs(r,t);return z3(s,1-n)};function OC(t="1rem",n="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${n} 25%,
    transparent 25%,
    transparent 50%,
    ${n} 50%,
    ${n} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}const $3=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function F3(t){const n=$3();return!t||L3(t)?n:t.string&&t.colors?U3(t.string,t.colors):t.string&&!t.colors?V3(t.string):t.colors&&!t.string?H3(t.colors):n}function V3(t){let n=0;if(t.length===0)return n.toString();for(let s=0;s<t.length;s+=1)n=t.charCodeAt(s)+((n<<5)-n),n=n&n;let r="#";for(let s=0;s<3;s+=1){const l=n>>s*8&255;r+=`00${l.toString(16)}`.substr(-2)}return r}function U3(t,n){let r=0;if(t.length===0)return n[0];for(let s=0;s<t.length;s+=1)r=t.charCodeAt(s)+((r<<5)-r),r=r&r;return r=(r%n.length+n.length)%n.length,n[r]}function H3(t){return t[Math.floor(Math.random()*t.length)]}function Ft(t,n){return r=>r.colorMode==="dark"?n:t}function Mj(t){const{orientation:n,vertical:r,horizontal:s}=t;return n?n==="vertical"?r:s:{}}function gT(t){return hi(t)&&t.reference?t.reference:String(t)}const Tx=(t,...n)=>n.map(gT).join(` ${t} `).replace(/calc/g,""),NC=(...t)=>`calc(${Tx("+",...t)})`,IC=(...t)=>`calc(${Tx("-",...t)})`,db=(...t)=>`calc(${Tx("*",...t)})`,BC=(...t)=>`calc(${Tx("/",...t)})`,$C=t=>{const n=gT(t);return n!=null&&!Number.isNaN(parseFloat(n))?String(n).startsWith("-")?String(n).slice(1):`-${n}`:db(n,-1)},cl=Object.assign(t=>({add:(...n)=>cl(NC(t,...n)),subtract:(...n)=>cl(IC(t,...n)),multiply:(...n)=>cl(db(t,...n)),divide:(...n)=>cl(BC(t,...n)),negate:()=>cl($C(t)),toString:()=>t.toString()}),{add:NC,subtract:IC,multiply:db,divide:BC,negate:$C});function W3(t){return!Number.isInteger(parseFloat(t.toString()))}function q3(t,n="-"){return t.replace(/\s+/g,n)}function xT(t){const n=q3(t.toString());return n.includes("\\.")?t:W3(t)?n.replace(".","\\."):t}function G3(t,n=""){return[n,xT(t)].filter(Boolean).join("-")}function Z3(t,n){return`var(${xT(t)}${n?`, ${n}`:""})`}function Y3(t,n=""){return`--${G3(t,n)}`}function fi(t,n){const r=Y3(t,n?.prefix);return{variable:r,reference:Z3(r,X3(n?.fallback))}}function X3(t){return t?.reference}const{definePartsStyle:Tp,defineMultiStyleConfig:K3}=xr(HO.keys),Js=Vt("alert-fg"),jl=Vt("alert-bg"),Q3=Tp({container:{bg:jl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Js.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Js.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Rj(t){const{theme:n,colorScheme:r}=t,s=Gd(`${r}.200`,.16)(n);return{light:`colors.${r}.100`,dark:s}}const J3=Tp(t=>{const{colorScheme:n}=t,r=Rj(t);return{container:{[Js.variable]:`colors.${n}.600`,[jl.variable]:r.light,_dark:{[Js.variable]:`colors.${n}.200`,[jl.variable]:r.dark}}}}),eN=Tp(t=>{const{colorScheme:n}=t,r=Rj(t);return{container:{[Js.variable]:`colors.${n}.600`,[jl.variable]:r.light,_dark:{[Js.variable]:`colors.${n}.200`,[jl.variable]:r.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Js.reference}}}),tN=Tp(t=>{const{colorScheme:n}=t,r=Rj(t);return{container:{[Js.variable]:`colors.${n}.600`,[jl.variable]:r.light,_dark:{[Js.variable]:`colors.${n}.200`,[jl.variable]:r.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Js.reference}}}),nN=Tp(t=>{const{colorScheme:n}=t;return{container:{[Js.variable]:"colors.white",[jl.variable]:`colors.${n}.600`,_dark:{[Js.variable]:"colors.gray.900",[jl.variable]:`colors.${n}.200`},color:Js.reference}}}),rN={subtle:J3,"left-accent":eN,"top-accent":tN,solid:nN},iN=K3({baseStyle:Q3,variants:rN,defaultProps:{variant:"subtle",colorScheme:"blue"}}),vT={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},sN={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},aN={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},yT={...vT,...sN,container:aN},oN=t=>typeof t=="function";function us(t,...n){return oN(t)?t(...n):t}const{definePartsStyle:bT,defineMultiStyleConfig:lN}=xr(WO.keys),Nd=Vt("avatar-border-color"),Vf=Vt("avatar-bg"),rp=Vt("avatar-font-size"),Zd=Vt("avatar-size"),cN={borderRadius:"full",border:"0.2em solid",borderColor:Nd.reference,[Nd.variable]:"white",_dark:{[Nd.variable]:"colors.gray.800"}},uN={bg:Vf.reference,fontSize:rp.reference,width:Zd.reference,height:Zd.reference,lineHeight:"1",[Vf.variable]:"colors.gray.200",_dark:{[Vf.variable]:"colors.whiteAlpha.400"}},dN=t=>{const{name:n,theme:r}=t,s=n?F3({string:n}):"colors.gray.400",l=B3(s)(r);let u="white";return l||(u="gray.800"),{bg:Vf.reference,fontSize:rp.reference,color:u,borderColor:Nd.reference,verticalAlign:"top",width:Zd.reference,height:Zd.reference,"&:not([data-loaded])":{[Vf.variable]:s},[Nd.variable]:"colors.white",_dark:{[Nd.variable]:"colors.gray.800"}}},hN={fontSize:rp.reference,lineHeight:"1"},fN=bT(t=>({badge:us(cN,t),excessLabel:us(uN,t),container:us(dN,t),label:hN}));function oc(t){const n=t!=="100%"?yT[t]:void 0;return bT({container:{[Zd.variable]:n??t,[rp.variable]:`calc(${n??t} / 2.5)`},excessLabel:{[Zd.variable]:n??t,[rp.variable]:`calc(${n??t} / 2.5)`}})}const pN={"2xs":oc(4),xs:oc(6),sm:oc(8),md:oc(12),lg:oc(16),xl:oc(24),"2xl":oc(32),full:oc("100%")},mN=lN({baseStyle:fN,sizes:pN,defaultProps:{size:"md"}}),Yr=LO("badge",["bg","color","shadow"]),gN={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Yr.bg.reference,color:Yr.color.reference,boxShadow:Yr.shadow.reference},xN=t=>{const{colorScheme:n,theme:r}=t,s=Gd(`${n}.500`,.6)(r);return{[Yr.bg.variable]:`colors.${n}.500`,[Yr.color.variable]:"colors.white",_dark:{[Yr.bg.variable]:s,[Yr.color.variable]:"colors.whiteAlpha.800"}}},vN=t=>{const{colorScheme:n,theme:r}=t,s=Gd(`${n}.200`,.16)(r);return{[Yr.bg.variable]:`colors.${n}.100`,[Yr.color.variable]:`colors.${n}.800`,_dark:{[Yr.bg.variable]:s,[Yr.color.variable]:`colors.${n}.200`}}},yN=t=>{const{colorScheme:n,theme:r}=t,s=Gd(`${n}.200`,.8)(r);return{[Yr.color.variable]:`colors.${n}.500`,_dark:{[Yr.color.variable]:s},[Yr.shadow.variable]:`inset 0 0 0px 1px ${Yr.color.reference}`}},bN={solid:xN,subtle:vN,outline:yN},Uf={baseStyle:gN,variants:bN,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:jN,definePartsStyle:SN}=xr(qO.keys),G0=Vt("breadcrumb-link-decor"),wN={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:G0.reference,[G0.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[G0.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},_N=SN({link:wN}),CN=jN({baseStyle:_N}),EN={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},jT=t=>{const{colorScheme:n,theme:r}=t;if(n==="gray")return{color:Ft("gray.800","whiteAlpha.900")(t),_hover:{bg:Ft("gray.100","whiteAlpha.200")(t)},_active:{bg:Ft("gray.200","whiteAlpha.300")(t)}};const s=Gd(`${n}.200`,.12)(r),l=Gd(`${n}.200`,.24)(r);return{color:Ft(`${n}.600`,`${n}.200`)(t),bg:"transparent",_hover:{bg:Ft(`${n}.50`,s)(t)},_active:{bg:Ft(`${n}.100`,l)(t)}}},AN=t=>{const{colorScheme:n}=t,r=Ft("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:n==="gray"?r:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...us(jT,t)}},TN={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},kN=t=>{const{colorScheme:n}=t;if(n==="gray"){const m=Ft("gray.100","whiteAlpha.200")(t);return{bg:m,color:Ft("gray.800","whiteAlpha.900")(t),_hover:{bg:Ft("gray.200","whiteAlpha.300")(t),_disabled:{bg:m}},_active:{bg:Ft("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:s="white",hoverBg:l=`${n}.600`,activeBg:u=`${n}.700`}=TN[n]??{},d=Ft(r,`${n}.200`)(t);return{bg:d,color:Ft(s,"gray.800")(t),_hover:{bg:Ft(l,`${n}.300`)(t),_disabled:{bg:d}},_active:{bg:Ft(u,`${n}.400`)(t)}}},PN=t=>{const{colorScheme:n}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ft(`${n}.500`,`${n}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ft(`${n}.700`,`${n}.500`)(t)}}},MN={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},RN={ghost:jT,outline:AN,solid:kN,link:PN,unstyled:MN},zN={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},DN={baseStyle:EN,variants:RN,sizes:zN,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:uu,defineMultiStyleConfig:LN}=xr(f3.keys),Qg=Vt("card-bg"),xl=Vt("card-padding"),ST=Vt("card-shadow"),Mg=Vt("card-radius"),wT=Vt("card-border-width","0"),_T=Vt("card-border-color"),ON=uu({container:{[Qg.variable]:"colors.chakra-body-bg",backgroundColor:Qg.reference,boxShadow:ST.reference,borderRadius:Mg.reference,color:"chakra-body-text",borderWidth:wT.reference,borderColor:_T.reference},body:{padding:xl.reference,flex:"1 1 0%"},header:{padding:xl.reference},footer:{padding:xl.reference}}),NN={sm:uu({container:{[Mg.variable]:"radii.base",[xl.variable]:"space.3"}}),md:uu({container:{[Mg.variable]:"radii.md",[xl.variable]:"space.5"}}),lg:uu({container:{[Mg.variable]:"radii.xl",[xl.variable]:"space.7"}})},IN={elevated:uu({container:{[ST.variable]:"shadows.base",_dark:{[Qg.variable]:"colors.gray.700"}}}),outline:uu({container:{[wT.variable]:"1px",[_T.variable]:"colors.chakra-border-color"}}),filled:uu({container:{[Qg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[xl.variable]:0},header:{[xl.variable]:0},footer:{[xl.variable]:0}}},BN=LN({baseStyle:ON,variants:IN,sizes:NN,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:Rg,defineMultiStyleConfig:$N}=xr(GO.keys),Hf=Vt("checkbox-size"),FN=t=>{const{colorScheme:n}=t;return{w:Hf.reference,h:Hf.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ft(`${n}.500`,`${n}.200`)(t),borderColor:Ft(`${n}.500`,`${n}.200`)(t),color:Ft("white","gray.900")(t),_hover:{bg:Ft(`${n}.600`,`${n}.300`)(t),borderColor:Ft(`${n}.600`,`${n}.300`)(t)},_disabled:{borderColor:Ft("gray.200","transparent")(t),bg:Ft("gray.200","whiteAlpha.300")(t),color:Ft("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ft(`${n}.500`,`${n}.200`)(t),borderColor:Ft(`${n}.500`,`${n}.200`)(t),color:Ft("white","gray.900")(t)},_disabled:{bg:Ft("gray.100","whiteAlpha.100")(t),borderColor:Ft("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ft("red.500","red.300")(t)}}},VN={_disabled:{cursor:"not-allowed"}},UN={userSelect:"none",_disabled:{opacity:.4}},HN={transitionProperty:"transform",transitionDuration:"normal"},WN=Rg(t=>({icon:HN,container:VN,control:us(FN,t),label:UN})),qN={sm:Rg({control:{[Hf.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Rg({control:{[Hf.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Rg({control:{[Hf.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Jg=$N({baseStyle:WN,sizes:qN,defaultProps:{size:"md",colorScheme:"blue"}}),Wf=fi("close-button-size"),uf=fi("close-button-bg"),GN={w:[Wf.reference],h:[Wf.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[uf.variable]:"colors.blackAlpha.100",_dark:{[uf.variable]:"colors.whiteAlpha.100"}},_active:{[uf.variable]:"colors.blackAlpha.200",_dark:{[uf.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:uf.reference},ZN={lg:{[Wf.variable]:"sizes.10",fontSize:"md"},md:{[Wf.variable]:"sizes.8",fontSize:"xs"},sm:{[Wf.variable]:"sizes.6",fontSize:"2xs"}},YN={baseStyle:GN,sizes:ZN,defaultProps:{size:"md"}},{variants:XN,defaultProps:KN}=Uf,QN={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Yr.bg.reference,color:Yr.color.reference,boxShadow:Yr.shadow.reference},JN={baseStyle:QN,variants:XN,defaultProps:KN},e5={w:"100%",mx:"auto",maxW:"prose",px:"4"},t5={baseStyle:e5},n5={opacity:.6,borderColor:"inherit"},r5={borderStyle:"solid"},i5={borderStyle:"dashed"},s5={solid:r5,dashed:i5},a5={baseStyle:n5,variants:s5,defaultProps:{variant:"solid"}},{definePartsStyle:hb,defineMultiStyleConfig:o5}=xr(ZO.keys),Z0=Vt("drawer-bg"),Y0=Vt("drawer-box-shadow");function gd(t){return hb(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}const l5={bg:"blackAlpha.600",zIndex:"modal"},c5={display:"flex",zIndex:"modal",justifyContent:"center"},u5=t=>{const{isFullHeight:n}=t;return{...n&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Z0.variable]:"colors.white",[Y0.variable]:"shadows.lg",_dark:{[Z0.variable]:"colors.gray.700",[Y0.variable]:"shadows.dark-lg"},bg:Z0.reference,boxShadow:Y0.reference}},d5={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},h5={position:"absolute",top:"2",insetEnd:"3"},f5={px:"6",py:"2",flex:"1",overflow:"auto"},p5={px:"6",py:"4"},m5=hb(t=>({overlay:l5,dialogContainer:c5,dialog:us(u5,t),header:d5,closeButton:h5,body:f5,footer:p5})),g5={xs:gd("xs"),sm:gd("md"),md:gd("lg"),lg:gd("2xl"),xl:gd("4xl"),full:gd("full")},x5=o5({baseStyle:m5,sizes:g5,defaultProps:{size:"xs"}}),{definePartsStyle:v5,defineMultiStyleConfig:y5}=xr(YO.keys),b5={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},j5={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},S5={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},w5=v5({preview:b5,input:j5,textarea:S5}),_5=y5({baseStyle:w5}),{definePartsStyle:C5,defineMultiStyleConfig:E5}=xr(XO.keys),Id=Vt("form-control-color"),A5={marginStart:"1",[Id.variable]:"colors.red.500",_dark:{[Id.variable]:"colors.red.300"},color:Id.reference},T5={mt:"2",[Id.variable]:"colors.gray.600",_dark:{[Id.variable]:"colors.whiteAlpha.600"},color:Id.reference,lineHeight:"normal",fontSize:"sm"},k5=C5({container:{width:"100%",position:"relative"},requiredIndicator:A5,helperText:T5}),P5=E5({baseStyle:k5}),{definePartsStyle:M5,defineMultiStyleConfig:R5}=xr(KO.keys),Bd=Vt("form-error-color"),z5={[Bd.variable]:"colors.red.500",_dark:{[Bd.variable]:"colors.red.300"},color:Bd.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},D5={marginEnd:"0.5em",[Bd.variable]:"colors.red.500",_dark:{[Bd.variable]:"colors.red.300"},color:Bd.reference},L5=M5({text:z5,icon:D5}),O5=R5({baseStyle:L5}),N5={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},I5={baseStyle:N5},B5={fontFamily:"heading",fontWeight:"bold"},$5={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},F5={baseStyle:B5,sizes:$5,defaultProps:{size:"xl"}},{definePartsStyle:hl,defineMultiStyleConfig:V5}=xr(QO.keys),_d=Vt("input-height"),Cd=Vt("input-font-size"),Ed=Vt("input-padding"),Ad=Vt("input-border-radius"),U5=hl({addon:{height:_d.reference,fontSize:Cd.reference,px:Ed.reference,borderRadius:Ad.reference},field:{width:"100%",height:_d.reference,fontSize:Cd.reference,px:Ed.reference,borderRadius:Ad.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),lc={lg:{[Cd.variable]:"fontSizes.lg",[Ed.variable]:"space.4",[Ad.variable]:"radii.md",[_d.variable]:"sizes.12"},md:{[Cd.variable]:"fontSizes.md",[Ed.variable]:"space.4",[Ad.variable]:"radii.md",[_d.variable]:"sizes.10"},sm:{[Cd.variable]:"fontSizes.sm",[Ed.variable]:"space.3",[Ad.variable]:"radii.sm",[_d.variable]:"sizes.8"},xs:{[Cd.variable]:"fontSizes.xs",[Ed.variable]:"space.2",[Ad.variable]:"radii.sm",[_d.variable]:"sizes.6"}},H5={lg:hl({field:lc.lg,group:lc.lg}),md:hl({field:lc.md,group:lc.md}),sm:hl({field:lc.sm,group:lc.sm}),xs:hl({field:lc.xs,group:lc.xs})};function zj(t){const{focusBorderColor:n,errorBorderColor:r}=t;return{focusBorderColor:n||Ft("blue.500","blue.300")(t),errorBorderColor:r||Ft("red.500","red.300")(t)}}const W5=hl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:s}=zj(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ft("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cs(n,s),boxShadow:`0 0 0 1px ${cs(n,s)}`},_focusVisible:{zIndex:1,borderColor:cs(n,r),boxShadow:`0 0 0 1px ${cs(n,r)}`}},addon:{border:"1px solid",borderColor:Ft("inherit","whiteAlpha.50")(t),bg:Ft("gray.100","whiteAlpha.300")(t)}}}),q5=hl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:s}=zj(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ft("gray.100","whiteAlpha.50")(t),_hover:{bg:Ft("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cs(n,s)},_focusVisible:{bg:"transparent",borderColor:cs(n,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ft("gray.100","whiteAlpha.50")(t)}}}),G5=hl(t=>{const{theme:n}=t,{focusBorderColor:r,errorBorderColor:s}=zj(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:cs(n,s),boxShadow:`0px 1px 0px 0px ${cs(n,s)}`},_focusVisible:{borderColor:cs(n,r),boxShadow:`0px 1px 0px 0px ${cs(n,r)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Z5=hl({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Y5={outline:W5,filled:q5,flushed:G5,unstyled:Z5},Wn=V5({baseStyle:U5,sizes:H5,variants:Y5,defaultProps:{size:"md",variant:"outline"}}),X0=Vt("kbd-bg"),X5={[X0.variable]:"colors.gray.100",_dark:{[X0.variable]:"colors.whiteAlpha.100"},bg:X0.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},K5={baseStyle:X5},Q5={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},J5={baseStyle:Q5},{defineMultiStyleConfig:eI,definePartsStyle:tI}=xr(JO.keys),nI={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},rI=tI({icon:nI}),iI=eI({baseStyle:rI}),{defineMultiStyleConfig:sI,definePartsStyle:aI}=xr(e3.keys),xo=Vt("menu-bg"),K0=Vt("menu-shadow"),oI={[xo.variable]:"#fff",[K0.variable]:"shadows.sm",_dark:{[xo.variable]:"colors.gray.700",[K0.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:xo.reference,boxShadow:K0.reference},lI={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[xo.variable]:"colors.gray.100",_dark:{[xo.variable]:"colors.whiteAlpha.100"}},_active:{[xo.variable]:"colors.gray.200",_dark:{[xo.variable]:"colors.whiteAlpha.200"}},_expanded:{[xo.variable]:"colors.gray.100",_dark:{[xo.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:xo.reference},cI={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},uI={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},dI={opacity:.6},hI={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},fI={transitionProperty:"common",transitionDuration:"normal"},pI=aI({button:fI,list:oI,item:lI,groupTitle:cI,icon:uI,command:dI,divider:hI}),mI=sI({baseStyle:pI}),{defineMultiStyleConfig:gI,definePartsStyle:fb}=xr(t3.keys),Q0=Vt("modal-bg"),J0=Vt("modal-shadow"),xI={bg:"blackAlpha.600",zIndex:"modal"},vI=t=>{const{isCentered:n,scrollBehavior:r}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:n?"center":"flex-start",overflow:r==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},yI=t=>{const{isCentered:n,scrollBehavior:r}=t;return{borderRadius:"md",color:"inherit",my:n?"auto":"16",mx:n?"auto":void 0,zIndex:"modal",maxH:r==="inside"?"calc(100% - 7.5rem)":void 0,[Q0.variable]:"colors.white",[J0.variable]:"shadows.lg",_dark:{[Q0.variable]:"colors.gray.700",[J0.variable]:"shadows.dark-lg"},bg:Q0.reference,boxShadow:J0.reference}},bI={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},jI={position:"absolute",top:"2",insetEnd:"3"},SI=t=>{const{scrollBehavior:n}=t;return{px:"6",py:"2",flex:"1",overflow:n==="inside"?"auto":void 0}},wI={px:"6",py:"4"},_I=fb(t=>({overlay:xI,dialogContainer:us(vI,t),dialog:us(yI,t),header:bI,closeButton:jI,body:us(SI,t),footer:wI}));function Fa(t){return fb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}const CI={xs:Fa("xs"),sm:Fa("sm"),md:Fa("md"),lg:Fa("lg"),xl:Fa("xl"),"2xl":Fa("2xl"),"3xl":Fa("3xl"),"4xl":Fa("4xl"),"5xl":Fa("5xl"),"6xl":Fa("6xl"),full:Fa("full")},EI=gI({baseStyle:_I,sizes:CI,defaultProps:{size:"md"}}),CT={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:AI,definePartsStyle:ET}=xr(n3.keys),Dj=fi("number-input-stepper-width"),AT=fi("number-input-input-padding"),TI=cl(Dj).add("0.5rem").toString(),ey=fi("number-input-bg"),ty=fi("number-input-color"),ny=fi("number-input-border-color"),kI={[Dj.variable]:"sizes.6",[AT.variable]:TI},PI=t=>us(Wn.baseStyle,t)?.field??{},MI={width:Dj.reference},RI={borderStart:"1px solid",borderStartColor:ny.reference,color:ty.reference,bg:ey.reference,[ty.variable]:"colors.chakra-body-text",[ny.variable]:"colors.chakra-border-color",_dark:{[ty.variable]:"colors.whiteAlpha.800",[ny.variable]:"colors.whiteAlpha.300"},_active:{[ey.variable]:"colors.gray.200",_dark:{[ey.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},zI=ET(t=>({root:kI,field:us(PI,t)??{},stepperGroup:MI,stepper:RI}));function tg(t){const n=Wn.sizes?.[t],r={lg:"md",md:"md",sm:"sm",xs:"sm"},s=n.field?.fontSize??"md",l=CT.fontSizes[s];return ET({field:{...n.field,paddingInlineEnd:AT.reference,verticalAlign:"top"},stepper:{fontSize:cl(l).multiply(.75).toString(),_first:{borderTopEndRadius:r[t]},_last:{borderBottomEndRadius:r[t],mt:"-1px",borderTopWidth:1}}})}const DI={xs:tg("xs"),sm:tg("sm"),md:tg("md"),lg:tg("lg")},LI=AI({baseStyle:zI,sizes:DI,variants:Wn.variants,defaultProps:Wn.defaultProps}),OI={...Wn.baseStyle?.field,textAlign:"center"},NI={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},II={outline:t=>us(Wn.variants?.outline,t)?.field??{},flushed:t=>us(Wn.variants?.flushed,t)?.field??{},filled:t=>us(Wn.variants?.filled,t)?.field??{},unstyled:Wn.variants?.unstyled.field??{}},BI={baseStyle:OI,sizes:NI,variants:II,defaultProps:Wn.defaultProps},{defineMultiStyleConfig:$I,definePartsStyle:FI}=xr(r3.keys),ng=fi("popper-bg"),VI=fi("popper-arrow-bg"),FC=fi("popper-arrow-shadow-color"),UI={zIndex:"popover"},HI={[ng.variable]:"colors.white",bg:ng.reference,[VI.variable]:ng.reference,[FC.variable]:"colors.gray.200",_dark:{[ng.variable]:"colors.gray.700",[FC.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},WI={px:3,py:2,borderBottomWidth:"1px"},qI={px:3,py:2},GI={px:3,py:2,borderTopWidth:"1px"},ZI={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},YI=FI({popper:UI,content:HI,header:WI,body:qI,footer:GI,closeButton:ZI}),XI=$I({baseStyle:YI}),{defineMultiStyleConfig:KI,definePartsStyle:Ef}=xr(i3.keys),QI=t=>{const{colorScheme:n,theme:r,isIndeterminate:s,hasStripe:l}=t,u=Ft(OC(),OC("1rem","rgba(0,0,0,0.1)"))(t),d=Ft(`${n}.500`,`${n}.200`)(t),m=`linear-gradient(
    to right,
    transparent 0%,
    ${cs(r,d)} 50%,
    transparent 100%
  )`;return{...!s&&l&&u,...s?{bgImage:m}:{bgColor:d}}},JI={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},e6=t=>({bg:Ft("gray.100","whiteAlpha.300")(t)}),t6=t=>({transitionProperty:"common",transitionDuration:"slow",...QI(t)}),n6=Ef(t=>({label:JI,filledTrack:t6(t),track:e6(t)})),r6={xs:Ef({track:{h:"1"}}),sm:Ef({track:{h:"2"}}),md:Ef({track:{h:"3"}}),lg:Ef({track:{h:"4"}})},i6=KI({sizes:r6,baseStyle:n6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:s6,definePartsStyle:zg}=xr(s3.keys),a6=t=>{const n=us(Jg.baseStyle,t)?.control;return{...n,borderRadius:"full",_checked:{...n?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},o6=zg(t=>({label:Jg.baseStyle?.(t).label,container:Jg.baseStyle?.(t).container,control:a6(t)})),l6={md:zg({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:zg({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:zg({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},c6=s6({baseStyle:o6,sizes:l6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:u6,definePartsStyle:d6}=xr(a3.keys),rg=Vt("select-bg"),h6={...Wn.baseStyle?.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:rg.reference,[rg.variable]:"colors.white",_dark:{[rg.variable]:"colors.gray.700"},"> option, > optgroup":{bg:rg.reference}},f6={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},p6=d6({field:h6,icon:f6}),ig={paddingInlineEnd:"8"},m6={lg:{...Wn.sizes?.lg,field:{...Wn.sizes?.lg.field,...ig}},md:{...Wn.sizes?.md,field:{...Wn.sizes?.md.field,...ig}},sm:{...Wn.sizes?.sm,field:{...Wn.sizes?.sm.field,...ig}},xs:{...Wn.sizes?.xs,field:{...Wn.sizes?.xs.field,...ig},icon:{insetEnd:"1"}}},g6=u6({baseStyle:p6,sizes:m6,variants:Wn.variants,defaultProps:Wn.defaultProps}),ry=Vt("skeleton-start-color"),iy=Vt("skeleton-end-color"),x6={[ry.variable]:"colors.gray.100",[iy.variable]:"colors.gray.400",_dark:{[ry.variable]:"colors.gray.800",[iy.variable]:"colors.gray.600"},background:ry.reference,borderColor:iy.reference,opacity:.7,borderRadius:"sm"},v6={baseStyle:x6},sy=Vt("skip-link-bg"),y6={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[sy.variable]:"colors.white",_dark:{[sy.variable]:"colors.gray.700"},bg:sy.reference}},b6={baseStyle:y6},{defineMultiStyleConfig:j6,definePartsStyle:kx}=xr(o3.keys),bu=Vt("slider-thumb-size"),ip=Vt("slider-track-size"),fc=Vt("slider-bg"),S6=t=>{const{orientation:n}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Mj({orientation:n,vertical:{h:"100%",px:ll(bu.reference).divide(2).toString()},horizontal:{w:"100%",py:ll(bu.reference).divide(2).toString()}})}},w6=t=>({...Mj({orientation:t.orientation,horizontal:{h:ip.reference},vertical:{w:ip.reference}}),overflow:"hidden",borderRadius:"sm",[fc.variable]:"colors.gray.200",_dark:{[fc.variable]:"colors.whiteAlpha.200"},_disabled:{[fc.variable]:"colors.gray.300",_dark:{[fc.variable]:"colors.whiteAlpha.300"}},bg:fc.reference}),_6=t=>{const{orientation:n}=t;return{...Mj({orientation:n,vertical:{left:"50%"},horizontal:{top:"50%"}}),w:bu.reference,h:bu.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_active:{"--slider-thumb-scale":"1.15"},_disabled:{bg:"gray.300"}}},C6=t=>{const{colorScheme:n}=t;return{width:"inherit",height:"inherit",[fc.variable]:`colors.${n}.500`,_dark:{[fc.variable]:`colors.${n}.200`},bg:fc.reference}},E6=kx(t=>({container:S6(t),track:w6(t),thumb:_6(t),filledTrack:C6(t)})),A6=kx({container:{[bu.variable]:"sizes.4",[ip.variable]:"sizes.1"}}),T6=kx({container:{[bu.variable]:"sizes.3.5",[ip.variable]:"sizes.1"}}),k6=kx({container:{[bu.variable]:"sizes.2.5",[ip.variable]:"sizes.0.5"}}),P6={lg:A6,md:T6,sm:k6},M6=j6({baseStyle:E6,sizes:P6,defaultProps:{size:"md",colorScheme:"blue"}}),tu=fi("spinner-size"),R6={width:[tu.reference],height:[tu.reference]},z6={xs:{[tu.variable]:"sizes.3"},sm:{[tu.variable]:"sizes.4"},md:{[tu.variable]:"sizes.6"},lg:{[tu.variable]:"sizes.8"},xl:{[tu.variable]:"sizes.12"}},D6={baseStyle:R6,sizes:z6,defaultProps:{size:"md"}},{defineMultiStyleConfig:L6,definePartsStyle:TT}=xr(l3.keys),O6={fontWeight:"medium"},N6={opacity:.8,marginBottom:"2"},I6={verticalAlign:"baseline",fontWeight:"semibold"},B6={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},$6=TT({container:{},label:O6,helpText:N6,number:I6,icon:B6}),F6={md:TT({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},V6=L6({baseStyle:$6,sizes:F6,defaultProps:{size:"md"}}),{defineMultiStyleConfig:U6,definePartsStyle:Af}=xr(["stepper","step","title","description","indicator","separator","icon","number"]),ul=Vt("stepper-indicator-size"),Td=Vt("stepper-icon-size"),kd=Vt("stepper-title-font-size"),Tf=Vt("stepper-description-font-size"),df=Vt("stepper-accent-color"),H6=Af(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[df.variable]:`colors.${t}.500`,_dark:{[df.variable]:`colors.${t}.200`}},title:{fontSize:kd.reference,fontWeight:"medium"},description:{fontSize:Tf.reference,color:"chakra-subtle-text"},number:{fontSize:kd.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Td.reference,height:Td.reference},indicator:{flexShrink:0,borderRadius:"full",width:ul.reference,height:ul.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:df.reference},"&[data-status=complete]":{bg:df.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:df.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${ul.reference} - 8px)`,top:`calc(${ul.reference} + 4px)`,insetStart:`calc(${ul.reference} / 2 - 1px)`}}})),W6=U6({baseStyle:H6,sizes:{xs:Af({stepper:{[ul.variable]:"sizes.4",[Td.variable]:"sizes.3",[kd.variable]:"fontSizes.xs",[Tf.variable]:"fontSizes.xs"}}),sm:Af({stepper:{[ul.variable]:"sizes.6",[Td.variable]:"sizes.4",[kd.variable]:"fontSizes.sm",[Tf.variable]:"fontSizes.xs"}}),md:Af({stepper:{[ul.variable]:"sizes.8",[Td.variable]:"sizes.5",[kd.variable]:"fontSizes.md",[Tf.variable]:"fontSizes.sm"}}),lg:Af({stepper:{[ul.variable]:"sizes.10",[Td.variable]:"sizes.6",[kd.variable]:"fontSizes.lg",[Tf.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:q6,definePartsStyle:Dg}=xr(c3.keys),qf=fi("switch-track-width"),du=fi("switch-track-height"),ay=fi("switch-track-diff"),G6=cl.subtract(qf,du),pb=fi("switch-thumb-x"),hf=fi("switch-bg"),Z6=t=>{const{colorScheme:n}=t;return{borderRadius:"full",p:"0.5",width:[qf.reference],height:[du.reference],transitionProperty:"common",transitionDuration:"fast",[hf.variable]:"colors.gray.300",_dark:{[hf.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[hf.variable]:`colors.${n}.500`,_dark:{[hf.variable]:`colors.${n}.200`}},bg:hf.reference}},Y6={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[du.reference],height:[du.reference],_checked:{transform:`translateX(${pb.reference})`}},X6=Dg(t=>({container:{[ay.variable]:G6,[pb.variable]:ay.reference,_rtl:{[pb.variable]:cl(ay).negate().toString()}},track:Z6(t),thumb:Y6})),K6={sm:Dg({container:{[qf.variable]:"1.375rem",[du.variable]:"sizes.3"}}),md:Dg({container:{[qf.variable]:"1.875rem",[du.variable]:"sizes.4"}}),lg:Dg({container:{[qf.variable]:"2.875rem",[du.variable]:"sizes.6"}})},Q6=q6({baseStyle:X6,sizes:K6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:J6,definePartsStyle:$d}=xr(u3.keys),eB=$d({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),ex={"&[data-is-numeric=true]":{textAlign:"end"}},tB=$d(t=>{const{colorScheme:n}=t;return{th:{color:Ft("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ft(`${n}.100`,`${n}.700`)(t),...ex},td:{borderBottom:"1px",borderColor:Ft(`${n}.100`,`${n}.700`)(t),...ex},caption:{color:Ft("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),nB=$d(t=>{const{colorScheme:n}=t;return{th:{color:Ft("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ft(`${n}.100`,`${n}.700`)(t),...ex},td:{borderBottom:"1px",borderColor:Ft(`${n}.100`,`${n}.700`)(t),...ex},caption:{color:Ft("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ft(`${n}.100`,`${n}.700`)(t)},td:{background:Ft(`${n}.100`,`${n}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),rB={simple:tB,striped:nB,unstyled:{}},iB={sm:$d({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:$d({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:$d({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},sB=J6({baseStyle:eB,variants:rB,sizes:iB,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),ws=Vt("tabs-color"),Ua=Vt("tabs-bg"),sg=Vt("tabs-border-color"),{defineMultiStyleConfig:aB,definePartsStyle:wo}=xr(d3.keys),oB=t=>{const{orientation:n}=t;return{display:n==="vertical"?"flex":"block"}},lB=t=>{const{isFitted:n}=t;return{flex:n?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},cB=t=>{const{align:n="start",orientation:r}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:r==="vertical"?"column":"row"}},uB={p:4},dB=wo(t=>({root:oB(t),tab:lB(t),tablist:cB(t),tabpanel:uB})),hB={sm:wo({tab:{py:1,px:4,fontSize:"sm"}}),md:wo({tab:{fontSize:"md",py:2,px:4}}),lg:wo({tab:{fontSize:"lg",py:3,px:4}})},fB=wo(t=>{const{colorScheme:n,orientation:r}=t,s=r==="vertical",l=s?"borderStart":"borderBottom",u=s?"marginStart":"marginBottom";return{tablist:{[l]:"2px solid",borderColor:"inherit"},tab:{[l]:"2px solid",borderColor:"transparent",[u]:"-2px",_selected:{[ws.variable]:`colors.${n}.600`,_dark:{[ws.variable]:`colors.${n}.300`},borderColor:"currentColor"},_active:{[Ua.variable]:"colors.gray.200",_dark:{[Ua.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:ws.reference,bg:Ua.reference}}}),pB=wo(t=>{const{colorScheme:n}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[sg.variable]:"transparent",_selected:{[ws.variable]:`colors.${n}.600`,[sg.variable]:"colors.white",_dark:{[ws.variable]:`colors.${n}.300`,[sg.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:sg.reference},color:ws.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),mB=wo(t=>{const{colorScheme:n}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Ua.variable]:"colors.gray.50",_dark:{[Ua.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Ua.variable]:"colors.white",[ws.variable]:`colors.${n}.600`,_dark:{[Ua.variable]:"colors.gray.800",[ws.variable]:`colors.${n}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:ws.reference,bg:Ua.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),gB=wo(t=>{const{colorScheme:n,theme:r}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:cs(r,`${n}.700`),bg:cs(r,`${n}.100`)}}}}),xB=wo(t=>{const{colorScheme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[ws.variable]:"colors.gray.600",_dark:{[ws.variable]:"inherit"},_selected:{[ws.variable]:"colors.white",[Ua.variable]:`colors.${n}.600`,_dark:{[ws.variable]:"colors.gray.800",[Ua.variable]:`colors.${n}.300`}},color:ws.reference,bg:Ua.reference}}}),vB=wo({}),yB={line:fB,enclosed:pB,"enclosed-colored":mB,"soft-rounded":gB,"solid-rounded":xB,unstyled:vB},bB=aB({baseStyle:dB,sizes:hB,variants:yB,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:jB,definePartsStyle:hu}=xr(h3.keys),VC=Vt("tag-bg"),UC=Vt("tag-color"),oy=Vt("tag-shadow"),Lg=Vt("tag-min-height"),Og=Vt("tag-min-width"),Ng=Vt("tag-font-size"),Ig=Vt("tag-padding-inline"),SB={fontWeight:"medium",lineHeight:1.2,outline:0,[UC.variable]:Yr.color.reference,[VC.variable]:Yr.bg.reference,[oy.variable]:Yr.shadow.reference,color:UC.reference,bg:VC.reference,boxShadow:oy.reference,borderRadius:"md",minH:Lg.reference,minW:Og.reference,fontSize:Ng.reference,px:Ig.reference,_focusVisible:{[oy.variable]:"shadows.outline"}},wB={lineHeight:1.2,overflow:"visible"},_B={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},CB=hu({container:SB,label:wB,closeButton:_B}),EB={sm:hu({container:{[Lg.variable]:"sizes.5",[Og.variable]:"sizes.5",[Ng.variable]:"fontSizes.xs",[Ig.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:hu({container:{[Lg.variable]:"sizes.6",[Og.variable]:"sizes.6",[Ng.variable]:"fontSizes.sm",[Ig.variable]:"space.2"}}),lg:hu({container:{[Lg.variable]:"sizes.8",[Og.variable]:"sizes.8",[Ng.variable]:"fontSizes.md",[Ig.variable]:"space.3"}})},AB={subtle:hu(t=>({container:Uf.variants?.subtle(t)})),solid:hu(t=>({container:Uf.variants?.solid(t)})),outline:hu(t=>({container:Uf.variants?.outline(t)}))},TB=jB({variants:AB,baseStyle:CB,sizes:EB,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),kB={...Wn.baseStyle?.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},PB={outline:t=>Wn.variants?.outline(t).field??{},flushed:t=>Wn.variants?.flushed(t).field??{},filled:t=>Wn.variants?.filled(t).field??{},unstyled:Wn.variants?.unstyled.field??{}},MB={xs:Wn.sizes?.xs.field??{},sm:Wn.sizes?.sm.field??{},md:Wn.sizes?.md.field??{},lg:Wn.sizes?.lg.field??{}},RB={baseStyle:kB,sizes:MB,variants:PB,defaultProps:{size:"md",variant:"outline"}},ag=fi("tooltip-bg"),ly=fi("tooltip-fg"),zB=fi("popper-arrow-bg"),DB={bg:ag.reference,color:ly.reference,[ag.variable]:"colors.gray.700",[ly.variable]:"colors.whiteAlpha.900",_dark:{[ag.variable]:"colors.gray.300",[ly.variable]:"colors.gray.900"},[zB.variable]:ag.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},LB={baseStyle:DB},OB={Accordion:j3,Alert:iN,Avatar:mN,Badge:Uf,Breadcrumb:CN,Button:DN,Checkbox:Jg,CloseButton:YN,Code:JN,Container:t5,Divider:a5,Drawer:x5,Editable:_5,Form:P5,FormError:O5,FormLabel:I5,Heading:F5,Input:Wn,Kbd:K5,Link:J5,List:iI,Menu:mI,Modal:EI,NumberInput:LI,PinInput:BI,Popover:XI,Progress:i6,Radio:c6,Select:g6,Skeleton:v6,SkipLink:b6,Slider:M6,Spinner:D6,Stat:V6,Switch:Q6,Table:sB,Tabs:bB,Tag:TB,Textarea:RB,Tooltip:LB,Card:BN,Stepper:W6},NB={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},IB={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},BB={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},$B={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},FB={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},VB={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},UB={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},HB={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},WB={property:VB,easing:UB,duration:HB},qB={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},GB={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},ZB={breakpoints:IB,zIndices:qB,radii:$B,blur:GB,colors:BB,...CT,sizes:yT,shadows:FB,space:vT,borders:NB,transition:WB},YB={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},XB={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},KB=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function QB(t){return hi(t)?KB.every(n=>Object.prototype.hasOwnProperty.call(t,n)):!1}const JB="ltr",e$={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},kT={semanticTokens:YB,direction:JB,...ZB,components:OB,styles:XB,config:e$};function t$(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function n$(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var r$=(function(){function t(r){var s=this;this._insertTag=function(l){var u;s.tags.length===0?s.insertionPoint?u=s.insertionPoint.nextSibling:s.prepend?u=s.container.firstChild:u=s.before:u=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(l,u),s.tags.push(l)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(s){s.forEach(this._insertTag)},n.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(n$(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=t$(l);try{u.insertRule(s,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(s));this.ctr++},n.flush=function(){this.tags.forEach(function(s){var l;return(l=s.parentNode)==null?void 0:l.removeChild(s)}),this.tags=[],this.ctr=0},t})(),Ui="-ms-",tx="-moz-",Un="-webkit-",PT="comm",Lj="rule",Oj="decl",i$="@import",MT="@keyframes",s$="@layer",a$=Math.abs,Px=String.fromCharCode,o$=Object.assign;function l$(t,n){return Li(t,0)^45?(((n<<2^Li(t,0))<<2^Li(t,1))<<2^Li(t,2))<<2^Li(t,3):0}function RT(t){return t.trim()}function c$(t,n){return(t=n.exec(t))?t[0]:t}function Hn(t,n,r){return t.replace(n,r)}function mb(t,n){return t.indexOf(n)}function Li(t,n){return t.charCodeAt(n)|0}function sp(t,n,r){return t.slice(n,r)}function vo(t){return t.length}function Nj(t){return t.length}function og(t,n){return n.push(t),t}function u$(t,n){return t.map(n).join("")}var Mx=1,Yd=1,zT=0,Es=0,ii=0,ch="";function Rx(t,n,r,s,l,u,d){return{value:t,root:n,parent:r,type:s,props:l,children:u,line:Mx,column:Yd,length:d,return:""}}function ff(t,n){return o$(Rx("",null,null,"",null,null,0),t,{length:-t.length},n)}function d$(){return ii}function h$(){return ii=Es>0?Li(ch,--Es):0,Yd--,ii===10&&(Yd=1,Mx--),ii}function ea(){return ii=Es<zT?Li(ch,Es++):0,Yd++,ii===10&&(Yd=1,Mx++),ii}function _o(){return Li(ch,Es)}function Bg(){return Es}function kp(t,n){return sp(ch,t,n)}function ap(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DT(t){return Mx=Yd=1,zT=vo(ch=t),Es=0,[]}function LT(t){return ch="",t}function $g(t){return RT(kp(Es-1,gb(t===91?t+2:t===40?t+1:t)))}function f$(t){for(;(ii=_o())&&ii<33;)ea();return ap(t)>2||ap(ii)>3?"":" "}function p$(t,n){for(;--n&&ea()&&!(ii<48||ii>102||ii>57&&ii<65||ii>70&&ii<97););return kp(t,Bg()+(n<6&&_o()==32&&ea()==32))}function gb(t){for(;ea();)switch(ii){case t:return Es;case 34:case 39:t!==34&&t!==39&&gb(ii);break;case 40:t===41&&gb(t);break;case 92:ea();break}return Es}function m$(t,n){for(;ea()&&t+ii!==57;)if(t+ii===84&&_o()===47)break;return"/*"+kp(n,Es-1)+"*"+Px(t===47?t:ea())}function g$(t){for(;!ap(_o());)ea();return kp(t,Es)}function x$(t){return LT(Fg("",null,null,null,[""],t=DT(t),0,[0],t))}function Fg(t,n,r,s,l,u,d,m,p){for(var g=0,x=0,j=d,S=0,_=0,E=0,A=1,T=1,z=1,M=0,k="",O=l,I=u,$=s,G=k;T;)switch(E=M,M=ea()){case 40:if(E!=108&&Li(G,j-1)==58){mb(G+=Hn($g(M),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:G+=$g(M);break;case 9:case 10:case 13:case 32:G+=f$(E);break;case 92:G+=p$(Bg()-1,7);continue;case 47:switch(_o()){case 42:case 47:og(v$(m$(ea(),Bg()),n,r),p);break;default:G+="/"}break;case 123*A:m[g++]=vo(G)*z;case 125*A:case 59:case 0:switch(M){case 0:case 125:T=0;case 59+x:z==-1&&(G=Hn(G,/\f/g,"")),_>0&&vo(G)-j&&og(_>32?WC(G+";",s,r,j-1):WC(Hn(G," ","")+";",s,r,j-2),p);break;case 59:G+=";";default:if(og($=HC(G,n,r,g,x,l,m,k,O=[],I=[],j),u),M===123)if(x===0)Fg(G,n,$,$,O,u,j,m,I);else switch(S===99&&Li(G,3)===110?100:S){case 100:case 108:case 109:case 115:Fg(t,$,$,s&&og(HC(t,$,$,0,0,l,m,k,l,O=[],j),I),l,I,j,m,s?O:I);break;default:Fg(G,$,$,$,[""],I,0,m,I)}}g=x=_=0,A=z=1,k=G="",j=d;break;case 58:j=1+vo(G),_=E;default:if(A<1){if(M==123)--A;else if(M==125&&A++==0&&h$()==125)continue}switch(G+=Px(M),M*A){case 38:z=x>0?1:(G+="\f",-1);break;case 44:m[g++]=(vo(G)-1)*z,z=1;break;case 64:_o()===45&&(G+=$g(ea())),S=_o(),x=j=vo(k=G+=g$(Bg())),M++;break;case 45:E===45&&vo(G)==2&&(A=0)}}return u}function HC(t,n,r,s,l,u,d,m,p,g,x){for(var j=l-1,S=l===0?u:[""],_=Nj(S),E=0,A=0,T=0;E<s;++E)for(var z=0,M=sp(t,j+1,j=a$(A=d[E])),k=t;z<_;++z)(k=RT(A>0?S[z]+" "+M:Hn(M,/&\f/g,S[z])))&&(p[T++]=k);return Rx(t,n,r,l===0?Lj:m,p,g,x)}function v$(t,n,r){return Rx(t,n,r,PT,Px(d$()),sp(t,2,-2),0)}function WC(t,n,r,s){return Rx(t,n,r,Oj,sp(t,0,s),sp(t,s+1,-1),s)}function Fd(t,n){for(var r="",s=Nj(t),l=0;l<s;l++)r+=n(t[l],l,t,n)||"";return r}function y$(t,n,r,s){switch(t.type){case s$:if(t.children.length)break;case i$:case Oj:return t.return=t.return||t.value;case PT:return"";case MT:return t.return=t.value+"{"+Fd(t.children,s)+"}";case Lj:t.value=t.props.join(",")}return vo(r=Fd(t.children,s))?t.return=t.value+"{"+r+"}":""}function b$(t){var n=Nj(t);return function(r,s,l,u){for(var d="",m=0;m<n;m++)d+=t[m](r,s,l,u)||"";return d}}function j$(t){return function(n){n.root||(n=n.return)&&t(n)}}var qC=function(n){var r=new WeakMap;return function(s){if(r.has(s))return r.get(s);var l=n(s);return r.set(s,l),l}};function OT(t){var n=Object.create(null);return function(r){return n[r]===void 0&&(n[r]=t(r)),n[r]}}var S$=function(n,r,s){for(var l=0,u=0;l=u,u=_o(),l===38&&u===12&&(r[s]=1),!ap(u);)ea();return kp(n,Es)},w$=function(n,r){var s=-1,l=44;do switch(ap(l)){case 0:l===38&&_o()===12&&(r[s]=1),n[s]+=S$(Es-1,r,s);break;case 2:n[s]+=$g(l);break;case 4:if(l===44){n[++s]=_o()===58?"&\f":"",r[s]=n[s].length;break}default:n[s]+=Px(l)}while(l=ea());return n},_$=function(n,r){return LT(w$(DT(n),r))},GC=new WeakMap,C$=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var r=n.value,s=n.parent,l=n.column===s.column&&n.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(n.props.length===1&&r.charCodeAt(0)!==58&&!GC.get(s))&&!l){GC.set(n,!0);for(var u=[],d=_$(r,u),m=s.props,p=0,g=0;p<d.length;p++)for(var x=0;x<m.length;x++,g++)n.props[g]=u[p]?d[p].replace(/&\f/g,m[x]):m[x]+" "+d[p]}}},E$=function(n){if(n.type==="decl"){var r=n.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(n.return="",n.value="")}};function NT(t,n){switch(l$(t,n)){case 5103:return Un+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Un+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Un+t+tx+t+Ui+t+t;case 6828:case 4268:return Un+t+Ui+t+t;case 6165:return Un+t+Ui+"flex-"+t+t;case 5187:return Un+t+Hn(t,/(\w+).+(:[^]+)/,Un+"box-$1$2"+Ui+"flex-$1$2")+t;case 5443:return Un+t+Ui+"flex-item-"+Hn(t,/flex-|-self/,"")+t;case 4675:return Un+t+Ui+"flex-line-pack"+Hn(t,/align-content|flex-|-self/,"")+t;case 5548:return Un+t+Ui+Hn(t,"shrink","negative")+t;case 5292:return Un+t+Ui+Hn(t,"basis","preferred-size")+t;case 6060:return Un+"box-"+Hn(t,"-grow","")+Un+t+Ui+Hn(t,"grow","positive")+t;case 4554:return Un+Hn(t,/([^-])(transform)/g,"$1"+Un+"$2")+t;case 6187:return Hn(Hn(Hn(t,/(zoom-|grab)/,Un+"$1"),/(image-set)/,Un+"$1"),t,"")+t;case 5495:case 3959:return Hn(t,/(image-set\([^]*)/,Un+"$1$`$1");case 4968:return Hn(Hn(t,/(.+:)(flex-)?(.*)/,Un+"box-pack:$3"+Ui+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Un+t+t;case 4095:case 3583:case 4068:case 2532:return Hn(t,/(.+)-inline(.+)/,Un+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vo(t)-1-n>6)switch(Li(t,n+1)){case 109:if(Li(t,n+4)!==45)break;case 102:return Hn(t,/(.+:)(.+)-([^]+)/,"$1"+Un+"$2-$3$1"+tx+(Li(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~mb(t,"stretch")?NT(Hn(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(Li(t,n+1)!==115)break;case 6444:switch(Li(t,vo(t)-3-(~mb(t,"!important")&&10))){case 107:return Hn(t,":",":"+Un)+t;case 101:return Hn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Un+(Li(t,14)===45?"inline-":"")+"box$3$1"+Un+"$2$3$1"+Ui+"$2box$3")+t}break;case 5936:switch(Li(t,n+11)){case 114:return Un+t+Ui+Hn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Un+t+Ui+Hn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Un+t+Ui+Hn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Un+t+Ui+t+t}return t}var A$=function(n,r,s,l){if(n.length>-1&&!n.return)switch(n.type){case Oj:n.return=NT(n.value,n.length);break;case MT:return Fd([ff(n,{value:Hn(n.value,"@","@"+Un)})],l);case Lj:if(n.length)return u$(n.props,function(u){switch(c$(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fd([ff(n,{props:[Hn(u,/:(read-\w+)/,":"+tx+"$1")]})],l);case"::placeholder":return Fd([ff(n,{props:[Hn(u,/:(plac\w+)/,":"+Un+"input-$1")]}),ff(n,{props:[Hn(u,/:(plac\w+)/,":"+tx+"$1")]}),ff(n,{props:[Hn(u,/:(plac\w+)/,Ui+"input-$1")]})],l)}return""})}},T$=[A$],k$=function(n){var r=n.key;if(r==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(A){var T=A.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var l=n.stylisPlugins||T$,u={},d,m=[];d=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(A){for(var T=A.getAttribute("data-emotion").split(" "),z=1;z<T.length;z++)u[T[z]]=!0;m.push(A)});var p,g=[C$,E$];{var x,j=[y$,j$(function(A){x.insert(A)})],S=b$(g.concat(l,j)),_=function(T){return Fd(x$(T),S)};p=function(T,z,M,k){x=M,_(T?T+"{"+z.styles+"}":z.styles),k&&(E.inserted[z.name]=!0)}}var E={key:r,sheet:new r$({key:r,container:d,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:u,registered:{},insert:p};return E.sheet.hydrate(m),E};function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ju.apply(null,arguments)}var cy={exports:{}},Gn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function P$(){if(ZC)return Gn;ZC=1;var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,m=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,g=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,j=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,_=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,A=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,z=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function k(I){if(typeof I=="object"&&I!==null){var $=I.$$typeof;switch($){case n:switch(I=I.type,I){case p:case g:case s:case u:case l:case j:return I;default:switch(I=I&&I.$$typeof,I){case m:case x:case E:case _:case d:return I;default:return $}}case r:return $}}}function O(I){return k(I)===g}return Gn.AsyncMode=p,Gn.ConcurrentMode=g,Gn.ContextConsumer=m,Gn.ContextProvider=d,Gn.Element=n,Gn.ForwardRef=x,Gn.Fragment=s,Gn.Lazy=E,Gn.Memo=_,Gn.Portal=r,Gn.Profiler=u,Gn.StrictMode=l,Gn.Suspense=j,Gn.isAsyncMode=function(I){return O(I)||k(I)===p},Gn.isConcurrentMode=O,Gn.isContextConsumer=function(I){return k(I)===m},Gn.isContextProvider=function(I){return k(I)===d},Gn.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},Gn.isForwardRef=function(I){return k(I)===x},Gn.isFragment=function(I){return k(I)===s},Gn.isLazy=function(I){return k(I)===E},Gn.isMemo=function(I){return k(I)===_},Gn.isPortal=function(I){return k(I)===r},Gn.isProfiler=function(I){return k(I)===u},Gn.isStrictMode=function(I){return k(I)===l},Gn.isSuspense=function(I){return k(I)===j},Gn.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===s||I===g||I===u||I===l||I===j||I===S||typeof I=="object"&&I!==null&&(I.$$typeof===E||I.$$typeof===_||I.$$typeof===d||I.$$typeof===m||I.$$typeof===x||I.$$typeof===T||I.$$typeof===z||I.$$typeof===M||I.$$typeof===A)},Gn.typeOf=k,Gn}var YC;function M$(){return YC||(YC=1,cy.exports=P$()),cy.exports}var uy,XC;function R$(){if(XC)return uy;XC=1;var t=M$(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[t.ForwardRef]=s,u[t.Memo]=l;function d(E){return t.isMemo(E)?l:u[E.$$typeof]||n}var m=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,j=Object.getPrototypeOf,S=Object.prototype;function _(E,A,T){if(typeof A!="string"){if(S){var z=j(A);z&&z!==S&&_(E,z,T)}var M=p(A);g&&(M=M.concat(g(A)));for(var k=d(E),O=d(A),I=0;I<M.length;++I){var $=M[I];if(!r[$]&&!(T&&T[$])&&!(O&&O[$])&&!(k&&k[$])){var G=x(A,$);try{m(E,$,G)}catch{}}}}return E}return uy=_,uy}R$();var z$=!0;function IT(t,n,r){var s="";return r.split(" ").forEach(function(l){t[l]!==void 0?n.push(t[l]+";"):l&&(s+=l+" ")}),s}var Ij=function(n,r,s){var l=n.key+"-"+r.name;(s===!1||z$===!1)&&n.registered[l]===void 0&&(n.registered[l]=r.styles)},Bj=function(n,r,s){Ij(n,r,s);var l=n.key+"-"+r.name;if(n.inserted[r.name]===void 0){var u=r;do n.insert(r===u?"."+l:"",u,n.sheet,!0),u=u.next;while(u!==void 0)}};function D$(t){for(var n=0,r,s=0,l=t.length;l>=4;++s,l-=4)r=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,n=(r&65535)*1540483477+((r>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(l){case 3:n^=(t.charCodeAt(s+2)&255)<<16;case 2:n^=(t.charCodeAt(s+1)&255)<<8;case 1:n^=t.charCodeAt(s)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var L$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},O$=/[A-Z]|^ms/g,N$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BT=function(n){return n.charCodeAt(1)===45},KC=function(n){return n!=null&&typeof n!="boolean"},dy=OT(function(t){return BT(t)?t:t.replace(O$,"-$&").toLowerCase()}),QC=function(n,r){switch(n){case"animation":case"animationName":if(typeof r=="string")return r.replace(N$,function(s,l,u){return yo={name:l,styles:u,next:yo},l})}return L$[n]!==1&&!BT(n)&&typeof r=="number"&&r!==0?r+"px":r};function op(t,n,r){if(r==null)return"";var s=r;if(s.__emotion_styles!==void 0)return s;switch(typeof r){case"boolean":return"";case"object":{var l=r;if(l.anim===1)return yo={name:l.name,styles:l.styles,next:yo},l.name;var u=r;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)yo={name:d.name,styles:d.styles,next:yo},d=d.next;var m=u.styles+";";return m}return I$(t,n,r)}case"function":{if(t!==void 0){var p=yo,g=r(t);return yo=p,op(t,n,g)}break}}var x=r;if(n==null)return x;var j=n[x];return j!==void 0?j:x}function I$(t,n,r){var s="";if(Array.isArray(r))for(var l=0;l<r.length;l++)s+=op(t,n,r[l])+";";else for(var u in r){var d=r[u];if(typeof d!="object"){var m=d;n!=null&&n[m]!==void 0?s+=u+"{"+n[m]+"}":KC(m)&&(s+=dy(u)+":"+QC(u,m)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(n==null||n[d[0]]===void 0))for(var p=0;p<d.length;p++)KC(d[p])&&(s+=dy(u)+":"+QC(u,d[p])+";");else{var g=op(t,n,d);switch(u){case"animation":case"animationName":{s+=dy(u)+":"+g+";";break}default:s+=u+"{"+g+"}"}}}return s}var JC=/label:\s*([^\s;{]+)\s*(;|$)/g,yo;function zx(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,l="";yo=void 0;var u=t[0];if(u==null||u.raw===void 0)s=!1,l+=op(r,n,u);else{var d=u;l+=d[0]}for(var m=1;m<t.length;m++)if(l+=op(r,n,t[m]),s){var p=u;l+=p[m]}JC.lastIndex=0;for(var g="",x;(x=JC.exec(l))!==null;)g+="-"+x[1];var j=D$(l)+g;return{name:j,styles:l,next:yo}}var B$=function(n){return n()},$T=dC.useInsertionEffect?dC.useInsertionEffect:!1,FT=$T||B$,e2=$T||b.useLayoutEffect,$j=b.createContext(typeof HTMLElement<"u"?k$({key:"css"}):null);$j.Provider;var $$=function(){return b.useContext($j)},Fj=function(n){return b.forwardRef(function(r,s){var l=b.useContext($j);return n(r,l,s)})},Xd=b.createContext({}),F$=function(n,r){if(typeof r=="function"){var s=r(n);return s}return ju({},n,r)},V$=qC(function(t){return qC(function(n){return F$(t,n)})}),U$=function(n){var r=b.useContext(Xd);return n.theme!==r&&(r=V$(r)(n.theme)),b.createElement(Xd.Provider,{value:r},n.children)},Vj={}.hasOwnProperty,xb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",H$=function(n,r){var s={};for(var l in r)Vj.call(r,l)&&(s[l]=r[l]);return s[xb]=n,s},W$=function(n){var r=n.cache,s=n.serialized,l=n.isStringTag;return Ij(r,s,l),FT(function(){return Bj(r,s,l)}),null},q$=Fj(function(t,n,r){var s=t.css;typeof s=="string"&&n.registered[s]!==void 0&&(s=n.registered[s]);var l=t[xb],u=[s],d="";typeof t.className=="string"?d=IT(n.registered,u,t.className):t.className!=null&&(d=t.className+" ");var m=zx(u,void 0,b.useContext(Xd));d+=n.key+"-"+m.name;var p={};for(var g in t)Vj.call(t,g)&&g!=="css"&&g!==xb&&(p[g]=t[g]);return p.className=d,r&&(p.ref=r),b.createElement(b.Fragment,null,b.createElement(W$,{cache:n,serialized:m,isStringTag:typeof l=="string"}),b.createElement(l,p))}),G$=q$,t2=function(n,r){var s=arguments;if(r==null||!Vj.call(r,"css"))return b.createElement.apply(void 0,s);var l=s.length,u=new Array(l);u[0]=G$,u[1]=H$(n,r);for(var d=2;d<l;d++)u[d]=s[d];return b.createElement.apply(null,u)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(t2||(t2={}));var Dx=Fj(function(t,n){var r=t.styles,s=zx([r],void 0,b.useContext(Xd)),l=b.useRef();return e2(function(){var u=n.key+"-global",d=new n.sheet.constructor({key:u,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),m=!1,p=document.querySelector('style[data-emotion="'+u+" "+s.name+'"]');return n.sheet.tags.length&&(d.before=n.sheet.tags[0]),p!==null&&(m=!0,p.setAttribute("data-emotion",u),d.hydrate([p])),l.current=[d,m],function(){d.flush()}},[n]),e2(function(){var u=l.current,d=u[0],m=u[1];if(m){u[1]=!1;return}if(s.next!==void 0&&Bj(n,s.next,!0),d.tags.length){var p=d.tags[d.tags.length-1].nextElementSibling;d.before=p,d.flush()}n.insert("",s,d,!1)},[n,s.name]),null});function Z$(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zx(n)}function Sc(){var t=Z$.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Uj=b.createContext({});Uj.displayName="ColorModeContext";function Lx(){const t=b.useContext(Uj);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}function gr(t,n){const{colorMode:r}=Lx();return r==="dark"?n:t}const lg={light:"chakra-ui-light",dark:"chakra-ui-dark"};function Y$(t={}){const{preventTransition:n=!0,nonce:r}=t,s={setDataset:l=>{const u=n?s.preventTransition():void 0;document.documentElement.dataset.theme=l,document.documentElement.style.colorScheme=l,u?.()},setClassName(l){document.body.classList.add(l?lg.dark:lg.light),document.body.classList.remove(l?lg.light:lg.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(l){return s.query().matches??l==="dark"?"dark":"light"},addListener(l){const u=s.query(),d=m=>{l(m.matches?"dark":"light")};return typeof u.addListener=="function"?u.addListener(d):u.addEventListener("change",d),()=>{typeof u.removeListener=="function"?u.removeListener(d):u.removeEventListener("change",d)}},preventTransition(){const l=document.createElement("style");return l.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r!==void 0&&(l.nonce=r),document.head.appendChild(l),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(l)})})}}};return s}const X$="chakra-ui-color-mode";function K$(t){return{ssr:!1,type:"localStorage",get(n){if(!globalThis?.document)return n;let r;try{r=localStorage.getItem(t)||n}catch{}return r||n},set(n){try{localStorage.setItem(t,n)}catch{}}}}const Q$=K$(X$),n2=()=>{},J$=GL()?b.useLayoutEffect:b.useEffect;function r2(t,n){return t.type==="cookie"&&t.ssr?t.get(n):n}const VT=function(n){const{value:r,children:s,options:{useSystemColorMode:l,initialColorMode:u,disableTransitionOnChange:d}={},colorModeManager:m=Q$}=n,p=$$(),g=u==="dark"?"dark":"light",[x,j]=b.useState(()=>r2(m,g)),[S,_]=b.useState(()=>r2(m)),{getSystemTheme:E,setClassName:A,setDataset:T,addListener:z}=b.useMemo(()=>Y$({preventTransition:d,nonce:p?.nonce}),[d,p?.nonce]),M=u==="system"&&!x?S:x,k=b.useCallback($=>{const G=$==="system"?E():$;j(G),A(G==="dark"),T(G),m.set(G)},[m,E,A,T]);J$(()=>{u==="system"&&_(E())},[]),b.useEffect(()=>{const $=m.get();if($){k($);return}if(u==="system"){k("system");return}k(g)},[m,g,u,k]);const O=b.useCallback(()=>{k(M==="dark"?"light":"dark")},[M,k]);b.useEffect(()=>{if(l)return z(k)},[l,z,k]);const I=b.useMemo(()=>({colorMode:r??M,toggleColorMode:r?n2:O,setColorMode:r?n2:k,forced:r!==void 0}),[M,O,k,r]);return e.jsx(Uj.Provider,{value:I,children:s})};VT.displayName="ColorModeProvider";const UT=String.raw,HT=UT`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,e8=()=>e.jsx(Dx,{styles:HT}),t8=({scope:t=""})=>e.jsx(Dx,{styles:UT`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${HT}
    `});function n8(t){const{cssVarsRoot:n,theme:r,children:s}=t,l=b.useMemo(()=>VO(r),[r]);return e.jsxs(U$,{theme:l,children:[e.jsx(r8,{root:n}),s]})}function r8({root:t=":host, :root"}){const n=[t,"[data-theme]"].join(",");return e.jsx(Dx,{styles:r=>({[n]:r.__cssVars})})}Dn({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function i8(t){return Dn({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function s8(){const{colorMode:t}=Lx();return e.jsx(Dx,{styles:n=>{const r=nT(n,"styles.global"),s=Ks(r,{theme:n,colorMode:t});return s?pT(s)(n):void 0}})}const[a8,o8]=Dn({strict:!1,name:"PortalManagerContext"});function WT(t){const{children:n,zIndex:r}=t;return e.jsx(a8,{value:{zIndex:r},children:n})}WT.displayName="PortalManager";const Hj=b.createContext({getDocument(){return document},getWindow(){return window}});Hj.displayName="EnvironmentContext";function l8({defer:t}={}){const[,n]=b.useReducer(r=>r+1,0);return gl(()=>{t&&n()},[t]),b.useContext(Hj)}function qT(t){const{children:n,environment:r,disabled:s}=t,l=b.useRef(null),u=b.useMemo(()=>r||{getDocument:()=>l.current?.ownerDocument??document,getWindow:()=>l.current?.ownerDocument.defaultView??window},[r]),d=!s||!r;return e.jsxs(Hj.Provider,{value:u,children:[n,d&&e.jsx("span",{id:"__chakra_env",hidden:!0,ref:l})]})}qT.displayName="EnvironmentProvider";const c8=t=>{const{children:n,colorModeManager:r,portalZIndex:s,resetScope:l,resetCSS:u=!0,theme:d={},environment:m,cssVarsRoot:p,disableEnvironment:g,disableGlobalStyle:x}=t,j=e.jsx(qT,{environment:m,disabled:g,children:n});return e.jsx(n8,{theme:d,cssVarsRoot:p,children:e.jsxs(VT,{colorModeManager:r,options:d.config,children:[u?e.jsx(t8,{scope:l}):e.jsx(e8,{}),!x&&e.jsx(s8,{}),s?e.jsx(WT,{zIndex:s,children:j}):j]})})},Wj=b.createContext({});function qj(t){const n=b.useRef(null);return n.current===null&&(n.current=t()),n.current}const Pp=b.createContext(null),Gj=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class u8 extends b.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d8({children:t,isPresent:n}){const r=b.useId(),s=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=b.useContext(Gj);return b.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:g}=l.current;if(n||!s.current||!d||!m)return;s.current.dataset.motionPopId=r;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            top: ${p}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),e.jsx(u8,{isPresent:n,childRef:s,sizeRef:l,children:b.cloneElement(t,{ref:s})})}const h8=({children:t,initial:n,isPresent:r,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:d})=>{const m=qj(f8),p=b.useId(),g=b.useCallback(j=>{m.set(j,!0);for(const S of m.values())if(!S)return;s&&s()},[m,s]),x=b.useMemo(()=>({id:p,initial:n,isPresent:r,custom:l,onExitComplete:g,register:j=>(m.set(j,!1),()=>m.delete(j))}),u?[Math.random(),g]:[r,g]);return b.useMemo(()=>{m.forEach((j,S)=>m.set(S,!1))},[r]),b.useEffect(()=>{!r&&!m.size&&s&&s()},[r]),d==="popLayout"&&(t=e.jsx(d8,{isPresent:r,children:t})),e.jsx(Pp.Provider,{value:x,children:t})};function f8(){return new Map}function Zj(t=!0){const n=b.useContext(Pp);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:l}=n,u=b.useId();b.useEffect(()=>{t&&l(u)},[t]);const d=b.useCallback(()=>t&&s&&s(u),[u,s,t]);return!r&&s?[!1,d]:[!0]}function p8(){return m8(b.useContext(Pp))}function m8(t){return t===null?!0:t.isPresent}const cg=t=>t.key||"";function i2(t){const n=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&n.push(r)}),n}const Yj=typeof window<"u",GT=Yj?b.useLayoutEffect:b.useEffect,wc=({children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1})=>{const[m,p]=Zj(d),g=b.useMemo(()=>i2(t),[t]),x=d&&!m?[]:g.map(cg),j=b.useRef(!0),S=b.useRef(g),_=qj(()=>new Map),[E,A]=b.useState(g),[T,z]=b.useState(g);GT(()=>{j.current=!1,S.current=g;for(let O=0;O<T.length;O++){const I=cg(T[O]);x.includes(I)?_.delete(I):_.get(I)!==!0&&_.set(I,!1)}},[T,x.length,x.join("-")]);const M=[];if(g!==E){let O=[...g];for(let I=0;I<T.length;I++){const $=T[I],G=cg($);x.includes(G)||(O.splice(I,0,$),M.push($))}u==="wait"&&M.length&&(O=M),z(i2(O)),A(g);return}const{forceRender:k}=b.useContext(Wj);return e.jsx(e.Fragment,{children:T.map(O=>{const I=cg(O),$=d&&!m?!1:g===T||x.includes(I),G=()=>{if(_.has(I))_.set(I,!0);else return;let ee=!0;_.forEach(ue=>{ue||(ee=!1)}),ee&&(k?.(),z(S.current),d&&p?.(),s&&s())};return e.jsx(h8,{isPresent:$,initial:!j.current||r?void 0:!1,custom:$?void 0:n,presenceAffectsLayout:l,mode:u,onExitComplete:$?void 0:G,children:O},I)})})},ta=t=>t;let ZT=ta;function Xj(t){let n;return()=>(n===void 0&&(n=t()),n)}const Kd=(t,n,r)=>{const s=n-t;return s===0?1:(r-t)/s},vl=t=>t*1e3,yl=t=>t/1e3,g8={useManualTiming:!1};function x8(t){let n=new Set,r=new Set,s=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,x=!1,j=!1)=>{const _=j&&s?n:r;return x&&u.add(g),_.has(g)||_.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,s){l=!0;return}s=!0,[n,r]=[r,n],n.forEach(m),n.clear(),s=!1,l&&(l=!1,p.process(g))}};return p}const ug=["read","resolveKeyframes","update","preRender","render","postRender"],v8=40;function YT(t,n){let r=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,d=ug.reduce((z,M)=>(z[M]=x8(u),z),{}),{read:m,resolveKeyframes:p,update:g,preRender:x,render:j,postRender:S}=d,_=()=>{const z=performance.now();r=!1,l.delta=s?1e3/60:Math.max(Math.min(z-l.timestamp,v8),1),l.timestamp=z,l.isProcessing=!0,m.process(l),p.process(l),g.process(l),x.process(l),j.process(l),S.process(l),l.isProcessing=!1,r&&n&&(s=!1,t(_))},E=()=>{r=!0,s=!0,l.isProcessing||t(_)};return{schedule:ug.reduce((z,M)=>{const k=d[M];return z[M]=(O,I=!1,$=!1)=>(r||E(),k.schedule(O,I,$)),z},{}),cancel:z=>{for(let M=0;M<ug.length;M++)d[ug[M]].cancel(z)},state:l,steps:d}}const{schedule:jr,cancel:vc,state:Di,steps:hy}=YT(typeof requestAnimationFrame<"u"?requestAnimationFrame:ta,!0),XT=b.createContext({strict:!1}),s2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qd={};for(const t in s2)Qd[t]={isEnabled:n=>s2[t].some(r=>!!n[r])};function y8(t){for(const n in t)Qd[n]={...Qd[n],...t[n]}}const b8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||b8.has(t)}let KT=t=>!nx(t);function j8(t){t&&(KT=n=>n.startsWith("on")?!nx(n):t(n))}try{j8(require("@emotion/is-prop-valid").default)}catch{}function S8(t,n,r){const s={};for(const l in t)l==="values"&&typeof t.values=="object"||(KT(l)||r===!0&&nx(l)||!n&&!nx(l)||t.draggable&&l.startsWith("onDrag"))&&(s[l]=t[l]);return s}function w8(t){if(typeof Proxy>"u")return t;const n=new Map,r=(...s)=>t(...s);return new Proxy(r,{get:(s,l)=>l==="create"?t:(n.has(l)||n.set(l,t(l)),n.get(l))})}const Ox=b.createContext({});function lp(t){return typeof t=="string"||Array.isArray(t)}function Nx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Kj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qj=["initial",...Kj];function Ix(t){return Nx(t.animate)||Qj.some(n=>lp(t[n]))}function QT(t){return!!(Ix(t)||t.variants)}function _8(t,n){if(Ix(t)){const{initial:r,animate:s}=t;return{initial:r===!1||lp(r)?r:void 0,animate:lp(s)?s:void 0}}return t.inherit!==!1?n:{}}function C8(t){const{initial:n,animate:r}=_8(t,b.useContext(Ox));return b.useMemo(()=>({initial:n,animate:r}),[a2(n),a2(r)])}function a2(t){return Array.isArray(t)?t.join(" "):t}const E8=Symbol.for("motionComponentSymbol");function Pd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function A8(t,n,r){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),n&&(s?n.mount(s):n.unmount()),r&&(typeof r=="function"?r(s):Pd(r)&&(r.current=s))},[n])}const Jj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),T8="framerAppearId",JT="data-"+Jj(T8),{schedule:eS}=YT(queueMicrotask,!1),ek=b.createContext({});function k8(t,n,r,s,l){var u,d;const{visualElement:m}=b.useContext(Ox),p=b.useContext(XT),g=b.useContext(Pp),x=b.useContext(Gj).reducedMotion,j=b.useRef(null);s=s||p.renderer,!j.current&&s&&(j.current=s(t,{visualState:n,parent:m,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:x}));const S=j.current,_=b.useContext(ek);S&&!S.projection&&l&&(S.type==="html"||S.type==="svg")&&P8(j.current,r,l,_);const E=b.useRef(!1);b.useInsertionEffect(()=>{S&&E.current&&S.update(r,g)});const A=r[JT],T=b.useRef(!!A&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,A))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,A)));return GT(()=>{S&&(E.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),eS.render(S.render),T.current&&S.animationState&&S.animationState.animateChanges())}),b.useEffect(()=>{S&&(!T.current&&S.animationState&&S.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)===null||z===void 0||z.call(window,A)}),T.current=!1))}),S}function P8(t,n,r,s){const{layoutId:l,layout:u,drag:d,dragConstraints:m,layoutScroll:p,layoutRoot:g}=n;t.projection=new r(t.latestValues,n["data-framer-portal-id"]?void 0:tk(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||m&&Pd(m),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}function tk(t){if(t)return t.options.allowProjection!==!1?t.projection:tk(t.parent)}function M8({preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:l}){var u,d;t&&y8(t);function m(g,x){let j;const S={...b.useContext(Gj),...g,layoutId:R8(g)},{isStatic:_}=S,E=C8(g),A=s(g,_);if(!_&&Yj){z8();const T=D8(S);j=T.MeasureLayout,E.visualElement=k8(l,A,S,n,T.ProjectionNode)}return e.jsxs(Ox.Provider,{value:E,children:[j&&E.visualElement?e.jsx(j,{visualElement:E.visualElement,...S}):null,r(l,g,A8(A,E.visualElement,x),A,_,E.visualElement)]})}m.displayName=`motion.${typeof l=="string"?l:`create(${(d=(u=l.displayName)!==null&&u!==void 0?u:l.name)!==null&&d!==void 0?d:""})`}`;const p=b.forwardRef(m);return p[E8]=l,p}function R8({layoutId:t}){const n=b.useContext(Wj).id;return n&&t!==void 0?n+"-"+t:t}function z8(t,n){b.useContext(XT).strict}function D8(t){const{drag:n,layout:r}=Qd;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const L8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tS(t){return typeof t!="string"||t.includes("-")?!1:!!(L8.indexOf(t)>-1||/[A-Z]/u.test(t))}function o2(t){const n=[{},{}];return t?.values.forEach((r,s)=>{n[0][s]=r.get(),n[1][s]=r.getVelocity()}),n}function nS(t,n,r,s){if(typeof n=="function"){const[l,u]=o2(s);n=n(r!==void 0?r:t.custom,l,u)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[l,u]=o2(s);n=n(r!==void 0?r:t.custom,l,u)}return n}const vb=t=>Array.isArray(t),O8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),N8=t=>vb(t)?t[t.length-1]||0:t,Wi=t=>!!(t&&t.getVelocity);function Vg(t){const n=Wi(t)?t.get():t;return O8(n)?n.toValue():n}function I8({scrapeMotionValuesFromProps:t,createRenderState:n,onUpdate:r},s,l,u){const d={latestValues:B8(s,l,u,t),renderState:n()};return r&&(d.onMount=m=>r({props:s,current:m,...d}),d.onUpdate=m=>r(m)),d}const nk=t=>(n,r)=>{const s=b.useContext(Ox),l=b.useContext(Pp),u=()=>I8(t,n,s,l);return r?u():qj(u)};function B8(t,n,r,s){const l={},u=s(t,{});for(const S in u)l[S]=Vg(u[S]);let{initial:d,animate:m}=t;const p=Ix(t),g=QT(t);n&&g&&!p&&t.inherit!==!1&&(d===void 0&&(d=n.initial),m===void 0&&(m=n.animate));let x=r?r.initial===!1:!1;x=x||d===!1;const j=x?m:d;if(j&&typeof j!="boolean"&&!Nx(j)){const S=Array.isArray(j)?j:[j];for(let _=0;_<S.length;_++){const E=nS(t,S[_]);if(E){const{transitionEnd:A,transition:T,...z}=E;for(const M in z){let k=z[M];if(Array.isArray(k)){const O=x?k.length-1:0;k=k[O]}k!==null&&(l[M]=k)}for(const M in A)l[M]=A[M]}}}return l}const uh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zu=new Set(uh),rk=t=>n=>typeof n=="string"&&n.startsWith(t),ik=rk("--"),$8=rk("var(--"),rS=t=>$8(t)?F8.test(t.split("/*")[0].trim()):!1,F8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sk=(t,n)=>n&&typeof t=="number"?n.transform(t):t,Sl=(t,n,r)=>r>n?n:r<t?t:r,dh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cp={...dh,transform:t=>Sl(0,1,t)},dg={...dh,default:1},Mp=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),hc=Mp("deg"),Co=Mp("%"),qt=Mp("px"),V8=Mp("vh"),U8=Mp("vw"),l2={...Co,parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)},H8={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt},W8={rotate:hc,rotateX:hc,rotateY:hc,rotateZ:hc,scale:dg,scaleX:dg,scaleY:dg,scaleZ:dg,skew:hc,skewX:hc,skewY:hc,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:cp,originX:l2,originY:l2,originZ:qt},c2={...dh,transform:Math.round},iS={...H8,...W8,zIndex:c2,size:qt,fillOpacity:cp,strokeOpacity:cp,numOctaves:c2},q8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G8=uh.length;function Z8(t,n,r){let s="",l=!0;for(let u=0;u<G8;u++){const d=uh[u],m=t[d];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(d.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||r){const g=sk(m,iS[d]);if(!p){l=!1;const x=q8[d]||d;s+=`${x}(${g}) `}r&&(n[d]=g)}}return s=s.trim(),r?s=r(n,l?"":s):l&&(s="none"),s}function sS(t,n,r){const{style:s,vars:l,transformOrigin:u}=t;let d=!1,m=!1;for(const p in n){const g=n[p];if(zu.has(p)){d=!0;continue}else if(ik(p)){l[p]=g;continue}else{const x=sk(g,iS[p]);p.startsWith("origin")?(m=!0,u[p]=x):s[p]=x}}if(n.transform||(d||r?s.transform=Z8(n,t.transform,r):s.transform&&(s.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:x=0}=u;s.transformOrigin=`${p} ${g} ${x}`}}const Y8={offset:"stroke-dashoffset",array:"stroke-dasharray"},X8={offset:"strokeDashoffset",array:"strokeDasharray"};function K8(t,n,r=1,s=0,l=!0){t.pathLength=1;const u=l?Y8:X8;t[u.offset]=qt.transform(-s);const d=qt.transform(n),m=qt.transform(r);t[u.array]=`${d} ${m}`}function u2(t,n,r){return typeof t=="string"?t:qt.transform(n+r*t)}function Q8(t,n,r){const s=u2(n,t.x,t.width),l=u2(r,t.y,t.height);return`${s} ${l}`}function aS(t,{attrX:n,attrY:r,attrScale:s,originX:l,originY:u,pathLength:d,pathSpacing:m=1,pathOffset:p=0,...g},x,j){if(sS(t,g,j),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:_,dimensions:E}=t;S.transform&&(E&&(_.transform=S.transform),delete S.transform),E&&(l!==void 0||u!==void 0||_.transform)&&(_.transformOrigin=Q8(E,l!==void 0?l:.5,u!==void 0?u:.5)),n!==void 0&&(S.x=n),r!==void 0&&(S.y=r),s!==void 0&&(S.scale=s),d!==void 0&&K8(S,d,m,p,!1)}const oS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ak=()=>({...oS(),attrs:{}}),lS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ok(t,{style:n,vars:r},s,l){Object.assign(t.style,n,l&&l.getProjectionStyles(s));for(const u in r)t.style.setProperty(u,r[u])}const lk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ck(t,n,r,s){ok(t,n,void 0,s);for(const l in n.attrs)t.setAttribute(lk.has(l)?l:Jj(l),n.attrs[l])}const rx={};function J8(t){Object.assign(rx,t)}function uk(t,{layout:n,layoutId:r}){return zu.has(t)||t.startsWith("origin")||(n||r!==void 0)&&(!!rx[t]||t==="opacity")}function cS(t,n,r){var s;const{style:l}=t,u={};for(const d in l)(Wi(l[d])||n.style&&Wi(n.style[d])||uk(d,t)||((s=r?.getValue(d))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[d]=l[d]);return u}function dk(t,n,r){const s=cS(t,n,r);for(const l in t)if(Wi(t[l])||Wi(n[l])){const u=uh.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[u]=t[l]}return s}function eF(t,n){try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const d2=["x","y","width","height","cx","cy","r"],tF={useVisualState:nk({scrapeMotionValuesFromProps:dk,createRenderState:ak,onUpdate:({props:t,prevProps:n,current:r,renderState:s,latestValues:l})=>{if(!r)return;let u=!!t.drag;if(!u){for(const m in l)if(zu.has(m)){u=!0;break}}if(!u)return;let d=!n;if(n)for(let m=0;m<d2.length;m++){const p=d2[m];t[p]!==n[p]&&(d=!0)}d&&jr.read(()=>{eF(r,s),jr.render(()=>{aS(s,l,lS(r.tagName),t.transformTemplate),ck(r,s)})})}})},nF={useVisualState:nk({scrapeMotionValuesFromProps:cS,createRenderState:oS})};function hk(t,n,r){for(const s in n)!Wi(n[s])&&!uk(s,r)&&(t[s]=n[s])}function rF({transformTemplate:t},n){return b.useMemo(()=>{const r=oS();return sS(r,n,t),Object.assign({},r.vars,r.style)},[n])}function iF(t,n){const r=t.style||{},s={};return hk(s,r,t),Object.assign(s,rF(t,n)),s}function sF(t,n){const r={},s=iF(t,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}function aF(t,n,r,s){const l=b.useMemo(()=>{const u=ak();return aS(u,n,lS(s),t.transformTemplate),{...u.attrs,style:{...u.style}}},[n]);if(t.style){const u={};hk(u,t.style,t),l.style={...u,...l.style}}return l}function oF(t=!1){return(r,s,l,{latestValues:u},d)=>{const p=(tS(r)?aF:sF)(s,u,d,r),g=S8(s,typeof r=="string",t),x=r!==b.Fragment?{...g,...p,ref:l}:{},{children:j}=s,S=b.useMemo(()=>Wi(j)?j.get():j,[j]);return b.createElement(r,{...x,children:S})}}function lF(t,n){return function(s,{forwardMotionProps:l}={forwardMotionProps:!1}){const d={...tS(s)?tF:nF,preloadedFeatures:t,useRender:oF(l),createVisualElement:n,Component:s};return M8(d)}}function fk(t,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(n[s]!==t[s])return!1;return!0}function Bx(t,n,r){const s=t.getProps();return nS(s,n,r!==void 0?r:s.custom,t)}const cF=Xj(()=>window.ScrollTimeline!==void 0);class uF{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,r){for(let s=0;s<this.animations.length;s++)this.animations[s][n]=r}attachTimeline(n,r){const s=this.animations.map(l=>{if(cF()&&l.attachTimeline)return l.attachTimeline(n);if(typeof r=="function")return r(l)});return()=>{s.forEach((l,u)=>{l&&l(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let r=0;r<this.animations.length;r++)n=Math.max(n,this.animations[r].duration);return n}runAll(n){this.animations.forEach(r=>r[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dF extends uF{then(n,r){return Promise.all(this.animations).then(n).catch(r)}}function uS(t,n){return t?t[n]||t.default||t:void 0}const yb=2e4;function pk(t){let n=0;const r=50;let s=t.next(n);for(;!s.done&&n<yb;)n+=r,s=t.next(n);return n>=yb?1/0:n}function dS(t){return typeof t=="function"}function h2(t,n){t.timeline=n,t.onfinish=null}const hS=t=>Array.isArray(t)&&typeof t[0]=="number",hF={linearEasing:void 0};function fF(t,n){const r=Xj(t);return()=>{var s;return(s=hF[n])!==null&&s!==void 0?s:r()}}const ix=fF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mk=(t,n,r=10)=>{let s="";const l=Math.max(Math.round(n/r),2);for(let u=0;u<l;u++)s+=t(Kd(0,l-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function gk(t){return!!(typeof t=="function"&&ix()||!t||typeof t=="string"&&(t in bb||ix())||hS(t)||Array.isArray(t)&&t.every(gk))}const kf=([t,n,r,s])=>`cubic-bezier(${t}, ${n}, ${r}, ${s})`,bb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kf([0,.65,.55,1]),circOut:kf([.55,0,1,.45]),backIn:kf([.31,.01,.66,-.59]),backOut:kf([.33,1.53,.69,.99])};function xk(t,n){if(t)return typeof t=="function"&&ix()?mk(t,n):hS(t)?kf(t):Array.isArray(t)?t.map(r=>xk(r,n)||bb.easeOut):bb[t]}const Va={x:!1,y:!1};function vk(){return Va.x||Va.y}function pF(t,n,r){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let l=document;const u=(s=void 0)!==null&&s!==void 0?s:l.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function yk(t,n){const r=pF(t),s=new AbortController,l={passive:!0,...n,signal:s.signal};return[r,l,()=>s.abort()]}function f2(t){return n=>{n.pointerType==="touch"||vk()||t(n)}}function mF(t,n,r={}){const[s,l,u]=yk(t,r),d=f2(m=>{const{target:p}=m,g=n(m);if(typeof g!="function"||!p)return;const x=f2(j=>{g(j),p.removeEventListener("pointerleave",x)});p.addEventListener("pointerleave",x,l)});return s.forEach(m=>{m.addEventListener("pointerenter",d,l)}),u}const bk=(t,n)=>n?t===n?!0:bk(t,n.parentElement):!1,fS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xF(t){return gF.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function p2(t){return n=>{n.key==="Enter"&&t(n)}}function fy(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const vF=(t,n)=>{const r=t.currentTarget;if(!r)return;const s=p2(()=>{if(Pf.has(r))return;fy(r,"down");const l=p2(()=>{fy(r,"up")}),u=()=>fy(r,"cancel");r.addEventListener("keyup",l,n),r.addEventListener("blur",u,n)});r.addEventListener("keydown",s,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),n)};function m2(t){return fS(t)&&!vk()}function yF(t,n,r={}){const[s,l,u]=yk(t,r),d=m=>{const p=m.currentTarget;if(!m2(m)||Pf.has(p))return;Pf.add(p);const g=n(m),x=(_,E)=>{window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",S),!(!m2(_)||!Pf.has(p))&&(Pf.delete(p),typeof g=="function"&&g(_,{success:E}))},j=_=>{x(_,r.useGlobalTarget||bk(p,_.target))},S=_=>{x(_,!1)};window.addEventListener("pointerup",j,l),window.addEventListener("pointercancel",S,l)};return s.forEach(m=>{!xF(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(r.useGlobalTarget?window:m).addEventListener("pointerdown",d,l),m.addEventListener("focus",g=>vF(g,l),l)}),u}function bF(t){return t==="x"||t==="y"?Va[t]?null:(Va[t]=!0,()=>{Va[t]=!1}):Va.x||Va.y?null:(Va.x=Va.y=!0,()=>{Va.x=Va.y=!1})}const jk=new Set(["width","height","top","left","right","bottom",...uh]);let Ug;function jF(){Ug=void 0}const Eo={now:()=>(Ug===void 0&&Eo.set(Di.isProcessing||g8.useManualTiming?Di.timestamp:performance.now()),Ug),set:t=>{Ug=t,queueMicrotask(jF)}};function pS(t,n){t.indexOf(n)===-1&&t.push(n)}function mS(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class gS{constructor(){this.subscriptions=[]}add(n){return pS(this.subscriptions,n),()=>mS(this.subscriptions,n)}notify(n,r,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,r,s);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(n,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Sk(t,n){return n?t*(1e3/n):0}const g2=30,SF=t=>!isNaN(parseFloat(t));class wF{constructor(n,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,l=!0)=>{const u=Eo.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=Eo.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=SF(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new gS);const s=this.events[n].add(r);return n==="change"?()=>{s(),jr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n,r=!0){!r||!this.passiveEffect?this.updateAndNotify(n,r):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-s}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Eo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>g2)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,g2);return Sk(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function up(t,n){return new wF(t,n)}function _F(t,n,r){t.hasValue(n)?t.getValue(n).set(r):t.addValue(n,up(r))}function CF(t,n){const r=Bx(t,n);let{transitionEnd:s={},transition:l={},...u}=r||{};u={...u,...s};for(const d in u){const m=N8(u[d]);_F(t,d,m)}}function EF(t){return!!(Wi(t)&&t.add)}function jb(t,n){const r=t.getValue("willChange");if(EF(r))return r.add(n)}function wk(t){return t.props[JT]}const _k=(t,n,r)=>(((1-3*r+3*n)*t+(3*r-6*n))*t+3*n)*t,AF=1e-7,TF=12;function kF(t,n,r,s,l){let u,d,m=0;do d=n+(r-n)/2,u=_k(d,s,l)-t,u>0?r=d:n=d;while(Math.abs(u)>AF&&++m<TF);return d}function Rp(t,n,r,s){if(t===n&&r===s)return ta;const l=u=>kF(u,0,1,t,r);return u=>u===0||u===1?u:_k(l(u),n,s)}const Ck=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,Ek=t=>n=>1-t(1-n),Ak=Rp(.33,1.53,.69,.99),xS=Ek(Ak),Tk=Ck(xS),kk=t=>(t*=2)<1?.5*xS(t):.5*(2-Math.pow(2,-10*(t-1))),vS=t=>1-Math.sin(Math.acos(t)),Pk=Ek(vS),Mk=Ck(vS),Rk=t=>/^0[^.\s]+$/u.test(t);function PF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Rk(t):!0}const Gf=t=>Math.round(t*1e5)/1e5,yS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MF(t){return t==null}const RF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bS=(t,n)=>r=>!!(typeof r=="string"&&RF.test(r)&&r.startsWith(t)||n&&!MF(r)&&Object.prototype.hasOwnProperty.call(r,n)),zk=(t,n,r)=>s=>{if(typeof s!="string")return s;const[l,u,d,m]=s.match(yS);return{[t]:parseFloat(l),[n]:parseFloat(u),[r]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},zF=t=>Sl(0,255,t),py={...dh,transform:t=>Math.round(zF(t))},su={test:bS("rgb","red"),parse:zk("red","green","blue"),transform:({red:t,green:n,blue:r,alpha:s=1})=>"rgba("+py.transform(t)+", "+py.transform(n)+", "+py.transform(r)+", "+Gf(cp.transform(s))+")"};function DF(t){let n="",r="",s="",l="";return t.length>5?(n=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),l=t.substring(7,9)):(n=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),l=t.substring(4,5),n+=n,r+=r,s+=s,l+=l),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Sb={test:bS("#"),parse:DF,transform:su.transform},Md={test:bS("hsl","hue"),parse:zk("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Co.transform(Gf(n))+", "+Co.transform(Gf(r))+", "+Gf(cp.transform(s))+")"},Hi={test:t=>su.test(t)||Sb.test(t)||Md.test(t),parse:t=>su.test(t)?su.parse(t):Md.test(t)?Md.parse(t):Sb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?su.transform(t):Md.transform(t)},LF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OF(t){var n,r;return isNaN(t)&&typeof t=="string"&&(((n=t.match(yS))===null||n===void 0?void 0:n.length)||0)+(((r=t.match(LF))===null||r===void 0?void 0:r.length)||0)>0}const Dk="number",Lk="color",NF="var",IF="var(",x2="${}",BF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dp(t){const n=t.toString(),r=[],s={color:[],number:[],var:[]},l=[];let u=0;const m=n.replace(BF,p=>(Hi.test(p)?(s.color.push(u),l.push(Lk),r.push(Hi.parse(p))):p.startsWith(IF)?(s.var.push(u),l.push(NF),r.push(p)):(s.number.push(u),l.push(Dk),r.push(parseFloat(p))),++u,x2)).split(x2);return{values:r,split:m,indexes:s,types:l}}function Ok(t){return dp(t).values}function Nk(t){const{split:n,types:r}=dp(t),s=n.length;return l=>{let u="";for(let d=0;d<s;d++)if(u+=n[d],l[d]!==void 0){const m=r[d];m===Dk?u+=Gf(l[d]):m===Lk?u+=Hi.transform(l[d]):u+=l[d]}return u}}const $F=t=>typeof t=="number"?0:t;function FF(t){const n=Ok(t);return Nk(t)(n.map($F))}const yc={test:OF,parse:Ok,createTransformer:Nk,getAnimatableNone:FF},VF=new Set(["brightness","contrast","saturate","opacity"]);function UF(t){const[n,r]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[s]=r.match(yS)||[];if(!s)return t;const l=r.replace(s,"");let u=VF.has(n)?1:0;return s!==r&&(u*=100),n+"("+u+l+")"}const HF=/\b([a-z-]*)\(.*?\)/gu,wb={...yc,getAnimatableNone:t=>{const n=t.match(HF);return n?n.map(UF).join(" "):t}},WF={...iS,color:Hi,backgroundColor:Hi,outlineColor:Hi,fill:Hi,stroke:Hi,borderColor:Hi,borderTopColor:Hi,borderRightColor:Hi,borderBottomColor:Hi,borderLeftColor:Hi,filter:wb,WebkitFilter:wb},jS=t=>WF[t];function Ik(t,n){let r=jS(t);return r!==wb&&(r=yc),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const qF=new Set(["auto","none","0"]);function GF(t,n,r){let s=0,l;for(;s<t.length&&!l;){const u=t[s];typeof u=="string"&&!qF.has(u)&&dp(u).values.length&&(l=t[s]),s++}if(l&&r)for(const u of n)t[u]=Ik(r,l)}const v2=t=>t===dh||t===qt,y2=(t,n)=>parseFloat(t.split(", ")[n]),b2=(t,n)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const l=s.match(/^matrix3d\((.+)\)$/u);if(l)return y2(l[1],n);{const u=s.match(/^matrix\((.+)\)$/u);return u?y2(u[1],t):0}},ZF=new Set(["x","y","z"]),YF=uh.filter(t=>!ZF.has(t));function XF(t){const n=[];return YF.forEach(r=>{const s=t.getValue(r);s!==void 0&&(n.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),n}const Jd={width:({x:t},{paddingLeft:n="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),height:({y:t},{paddingTop:n="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:b2(4,13),y:b2(5,14)};Jd.translateX=Jd.x;Jd.translateY=Jd.y;const fu=new Set;let _b=!1,Cb=!1;function Bk(){if(Cb){const t=Array.from(fu).filter(s=>s.needsMeasurement),n=new Set(t.map(s=>s.element)),r=new Map;n.forEach(s=>{const l=XF(s);l.length&&(r.set(s,l),s.render())}),t.forEach(s=>s.measureInitialState()),n.forEach(s=>{s.render();const l=r.get(s);l&&l.forEach(([u,d])=>{var m;(m=s.getValue(u))===null||m===void 0||m.set(d)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Cb=!1,_b=!1,fu.forEach(t=>t.complete()),fu.clear()}function $k(){fu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cb=!0)})}function KF(){$k(),Bk()}class SS{constructor(n,r,s,l,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=s,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fu.add(this),_b||(_b=!0,jr.read($k),jr.resolveKeyframes(Bk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:s,motionValue:l}=this;for(let u=0;u<n.length;u++)if(n[u]===null)if(u===0){const d=l?.get(),m=n[n.length-1];if(d!==void 0)n[0]=d;else if(s&&r){const p=s.readValue(r,m);p!=null&&(n[0]=p)}n[0]===void 0&&(n[0]=m),l&&d===void 0&&l.set(n[0])}else n[u]=n[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),QF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JF(t){const n=QF.exec(t);if(!n)return[,];const[,r,s,l]=n;return[`--${r??s}`,l]}function Vk(t,n,r=1){const[s,l]=JF(t);if(!s)return;const u=window.getComputedStyle(n).getPropertyValue(s);if(u){const d=u.trim();return Fk(d)?parseFloat(d):d}return rS(l)?Vk(l,n,r+1):l}const Uk=t=>n=>n.test(t),e9={test:t=>t==="auto",parse:t=>t},Hk=[dh,qt,Co,hc,U8,V8,e9],j2=t=>Hk.find(Uk(t));class Wk extends SS{constructor(n,r,s,l,u){super(n,r,s,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let g=n[p];if(typeof g=="string"&&(g=g.trim(),rS(g))){const x=Vk(g,r.current);x!==void 0&&(n[p]=x),p===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!jk.has(s)||n.length!==2)return;const[l,u]=n,d=j2(l),m=j2(u);if(d!==m)if(v2(d)&&v2(m))for(let p=0;p<n.length;p++){const g=n[p];typeof g=="string"&&(n[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,s=[];for(let l=0;l<n.length;l++)PF(n[l])&&s.push(l);s.length&&GF(n,s,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:s}=this;if(!n||!n.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jd[s](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&n.getValue(s,l).jump(l,!1)}measureEndState(){var n;const{element:r,name:s,unresolvedKeyframes:l}=this;if(!r||!r.current)return;const u=r.getValue(s);u&&u.jump(this.measuredOrigin,!1);const d=l.length-1,m=l[d];l[d]=Jd[s](r.measureViewportBox(),window.getComputedStyle(r.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([p,g])=>{r.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const S2=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yc.test(t)||t==="0")&&!t.startsWith("url("));function t9(t){const n=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function n9(t,n,r,s){const l=t[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const u=t[t.length-1],d=S2(l,n),m=S2(u,n);return!d||!m?!1:t9(t)||(r==="spring"||dS(r))&&s}const r9=t=>t!==null;function $x(t,{repeat:n,repeatType:r="loop"},s){const l=t.filter(r9),u=n&&r!=="loop"&&n%2===1?0:l.length-1;return!u||s===void 0?l[u]:s}const i9=40;class qk{constructor({autoplay:n=!0,delay:r=0,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Eo.now(),this.options={autoplay:n,delay:r,type:s,repeat:l,repeatDelay:u,repeatType:d,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>i9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KF(),this._resolved}onKeyframesResolved(n,r){this.resolvedAt=Eo.now(),this.hasAttemptedResolve=!0;const{name:s,type:l,velocity:u,delay:d,onComplete:m,onUpdate:p,isGenerator:g}=this.options;if(!g&&!n9(n,s,l,u))if(d)this.options.duration=0;else{p&&p($x(n,this.options,r)),m&&m(),this.resolveFinishedPromise();return}const x=this.initPlayback(n,r);x!==!1&&(this._resolved={keyframes:n,finalKeyframe:r,...x},this.onPostResolved())}onPostResolved(){}then(n,r){return this.currentFinishedPromise.then(n,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const zr=(t,n,r)=>t+(n-t)*r;function my(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function s9({hue:t,saturation:n,lightness:r,alpha:s}){t/=360,n/=100,r/=100;let l=0,u=0,d=0;if(!n)l=u=d=r;else{const m=r<.5?r*(1+n):r+n-r*n,p=2*r-m;l=my(p,m,t+1/3),u=my(p,m,t),d=my(p,m,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:s}}function sx(t,n){return r=>r>0?n:t}const gy=(t,n,r)=>{const s=t*t,l=r*(n*n-s)+s;return l<0?0:Math.sqrt(l)},a9=[Sb,su,Md],o9=t=>a9.find(n=>n.test(t));function w2(t){const n=o9(t);if(!n)return!1;let r=n.parse(t);return n===Md&&(r=s9(r)),r}const _2=(t,n)=>{const r=w2(t),s=w2(n);if(!r||!s)return sx(t,n);const l={...r};return u=>(l.red=gy(r.red,s.red,u),l.green=gy(r.green,s.green,u),l.blue=gy(r.blue,s.blue,u),l.alpha=zr(r.alpha,s.alpha,u),su.transform(l))},l9=(t,n)=>r=>n(t(r)),zp=(...t)=>t.reduce(l9),Eb=new Set(["none","hidden"]);function c9(t,n){return Eb.has(t)?r=>r<=0?t:n:r=>r>=1?n:t}function u9(t,n){return r=>zr(t,n,r)}function wS(t){return typeof t=="number"?u9:typeof t=="string"?rS(t)?sx:Hi.test(t)?_2:f9:Array.isArray(t)?Gk:typeof t=="object"?Hi.test(t)?_2:d9:sx}function Gk(t,n){const r=[...t],s=r.length,l=t.map((u,d)=>wS(u)(u,n[d]));return u=>{for(let d=0;d<s;d++)r[d]=l[d](u);return r}}function d9(t,n){const r={...t,...n},s={};for(const l in r)t[l]!==void 0&&n[l]!==void 0&&(s[l]=wS(t[l])(t[l],n[l]));return l=>{for(const u in s)r[u]=s[u](l);return r}}function h9(t,n){var r;const s=[],l={color:0,var:0,number:0};for(let u=0;u<n.values.length;u++){const d=n.types[u],m=t.indexes[d][l[d]],p=(r=t.values[m])!==null&&r!==void 0?r:0;s[u]=p,l[d]++}return s}const f9=(t,n)=>{const r=yc.createTransformer(n),s=dp(t),l=dp(n);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?Eb.has(t)&&!l.values.length||Eb.has(n)&&!s.values.length?c9(t,n):zp(Gk(h9(s,l),l.values),r):sx(t,n)};function Zk(t,n,r){return typeof t=="number"&&typeof n=="number"&&typeof r=="number"?zr(t,n,r):wS(t)(t,n)}const p9=5;function Yk(t,n,r){const s=Math.max(n-p9,0);return Sk(r-t(s),n-s)}const Br={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xy=.001;function m9({duration:t=Br.duration,bounce:n=Br.bounce,velocity:r=Br.velocity,mass:s=Br.mass}){let l,u,d=1-n;d=Sl(Br.minDamping,Br.maxDamping,d),t=Sl(Br.minDuration,Br.maxDuration,yl(t)),d<1?(l=g=>{const x=g*d,j=x*t,S=x-r,_=Ab(g,d),E=Math.exp(-j);return xy-S/_*E},u=g=>{const j=g*d*t,S=j*r+r,_=Math.pow(d,2)*Math.pow(g,2)*t,E=Math.exp(-j),A=Ab(Math.pow(g,2),d);return(-l(g)+xy>0?-1:1)*((S-_)*E)/A}):(l=g=>{const x=Math.exp(-g*t),j=(g-r)*t+1;return-xy+x*j},u=g=>{const x=Math.exp(-g*t),j=(r-g)*(t*t);return x*j});const m=5/t,p=x9(l,u,m);if(t=vl(t),isNaN(p))return{stiffness:Br.stiffness,damping:Br.damping,duration:t};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:d*2*Math.sqrt(s*g),duration:t}}}const g9=12;function x9(t,n,r){let s=r;for(let l=1;l<g9;l++)s=s-t(s)/n(s);return s}function Ab(t,n){return t*Math.sqrt(1-n*n)}const v9=["duration","bounce"],y9=["stiffness","damping","mass"];function C2(t,n){return n.some(r=>t[r]!==void 0)}function b9(t){let n={velocity:Br.velocity,stiffness:Br.stiffness,damping:Br.damping,mass:Br.mass,isResolvedFromDuration:!1,...t};if(!C2(t,y9)&&C2(t,v9))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),l=s*s,u=2*Sl(.05,1,1-(t.bounce||0))*Math.sqrt(l);n={...n,mass:Br.mass,stiffness:l,damping:u}}else{const r=m9(t);n={...n,...r,mass:Br.mass},n.isResolvedFromDuration=!0}return n}function Xk(t=Br.visualDuration,n=Br.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:s,restDelta:l}=r;const u=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:x,duration:j,velocity:S,isResolvedFromDuration:_}=b9({...r,velocity:-yl(r.velocity||0)}),E=S||0,A=g/(2*Math.sqrt(p*x)),T=d-u,z=yl(Math.sqrt(p/x)),M=Math.abs(T)<5;s||(s=M?Br.restSpeed.granular:Br.restSpeed.default),l||(l=M?Br.restDelta.granular:Br.restDelta.default);let k;if(A<1){const I=Ab(z,A);k=$=>{const G=Math.exp(-A*z*$);return d-G*((E+A*z*T)/I*Math.sin(I*$)+T*Math.cos(I*$))}}else if(A===1)k=I=>d-Math.exp(-z*I)*(T+(E+z*T)*I);else{const I=z*Math.sqrt(A*A-1);k=$=>{const G=Math.exp(-A*z*$),ee=Math.min(I*$,300);return d-G*((E+A*z*T)*Math.sinh(ee)+I*T*Math.cosh(ee))/I}}const O={calculatedDuration:_&&j||null,next:I=>{const $=k(I);if(_)m.done=I>=j;else{let G=0;A<1&&(G=I===0?vl(E):Yk(k,I,$));const ee=Math.abs(G)<=s,ue=Math.abs(d-$)<=l;m.done=ee&&ue}return m.value=m.done?d:$,m},toString:()=>{const I=Math.min(pk(O),yb),$=mk(G=>O.next(I*G).value,I,30);return I+"ms "+$}};return O}function E2({keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:m,max:p,restDelta:g=.5,restSpeed:x}){const j=t[0],S={done:!1,value:j},_=ee=>m!==void 0&&ee<m||p!==void 0&&ee>p,E=ee=>m===void 0?p:p===void 0||Math.abs(m-ee)<Math.abs(p-ee)?m:p;let A=r*n;const T=j+A,z=d===void 0?T:d(T);z!==T&&(A=z-j);const M=ee=>-A*Math.exp(-ee/s),k=ee=>z+M(ee),O=ee=>{const ue=M(ee),fe=k(ee);S.done=Math.abs(ue)<=g,S.value=S.done?z:fe};let I,$;const G=ee=>{_(S.value)&&(I=ee,$=Xk({keyframes:[S.value,E(S.value)],velocity:Yk(k,ee,S.value),damping:l,stiffness:u,restDelta:g,restSpeed:x}))};return G(0),{calculatedDuration:null,next:ee=>{let ue=!1;return!$&&I===void 0&&(ue=!0,O(ee),G(ee)),I!==void 0&&ee>=I?$.next(ee-I):(!ue&&O(ee),S)}}}const j9=Rp(.42,0,1,1),S9=Rp(0,0,.58,1),Kk=Rp(.42,0,.58,1),w9=t=>Array.isArray(t)&&typeof t[0]!="number",_9={linear:ta,easeIn:j9,easeInOut:Kk,easeOut:S9,circIn:vS,circInOut:Mk,circOut:Pk,backIn:xS,backInOut:Tk,backOut:Ak,anticipate:kk},A2=t=>{if(hS(t)){ZT(t.length===4);const[n,r,s,l]=t;return Rp(n,r,s,l)}else if(typeof t=="string")return _9[t];return t};function C9(t,n,r){const s=[],l=r||Zk,u=t.length-1;for(let d=0;d<u;d++){let m=l(t[d],t[d+1]);if(n){const p=Array.isArray(n)?n[d]||ta:n;m=zp(p,m)}s.push(m)}return s}function E9(t,n,{clamp:r=!0,ease:s,mixer:l}={}){const u=t.length;if(ZT(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const d=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),n=[...n].reverse());const m=C9(n,s,l),p=m.length,g=x=>{if(d&&x<t[0])return n[0];let j=0;if(p>1)for(;j<t.length-2&&!(x<t[j+1]);j++);const S=Kd(t[j],t[j+1],x);return m[j](S)};return r?x=>g(Sl(t[0],t[u-1],x)):g}function A9(t,n){const r=t[t.length-1];for(let s=1;s<=n;s++){const l=Kd(0,n,s);t.push(zr(r,1,l))}}function T9(t){const n=[0];return A9(n,t.length-1),n}function k9(t,n){return t.map(r=>r*n)}function P9(t,n){return t.map(()=>n||Kk).splice(0,t.length-1)}function ax({duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}){const l=w9(s)?s.map(A2):A2(s),u={done:!1,value:n[0]},d=k9(r&&r.length===n.length?r:T9(n),t),m=E9(d,n,{ease:Array.isArray(l)?l:P9(n,l)});return{calculatedDuration:t,next:p=>(u.value=m(p),u.done=p>=t,u)}}const M9=t=>{const n=({timestamp:r})=>t(r);return{start:()=>jr.update(n,!0),stop:()=>vc(n),now:()=>Di.isProcessing?Di.timestamp:Eo.now()}},R9={decay:E2,inertia:E2,tween:ax,keyframes:ax,spring:Xk},z9=t=>t/100;class _S extends qk{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:r,motionValue:s,element:l,keyframes:u}=this.options,d=l?.KeyframeResolver||SS,m=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new d(u,m,r,s,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=this.options,m=dS(r)?r:R9[r]||ax;let p,g;m!==ax&&typeof n[0]!="number"&&(p=zp(z9,Zk(n[0],n[1])),n=[0,100]);const x=m({...this.options,keyframes:n});u==="mirror"&&(g=m({...this.options,keyframes:[...n].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=pk(x));const{calculatedDuration:j}=x,S=j+l,_=S*(s+1)-l;return{generator:x,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:j,resolvedDuration:S,totalDuration:_}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,r=!1){const{resolved:s}=this;if(!s){const{keyframes:ee}=this.options;return{done:!0,value:ee[ee.length-1]}}const{finalKeyframe:l,generator:u,mirroredGenerator:d,mapPercentToKeyframes:m,keyframes:p,calculatedDuration:g,totalDuration:x,resolvedDuration:j}=s;if(this.startTime===null)return u.next(0);const{delay:S,repeat:_,repeatType:E,repeatDelay:A,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-x/this.speed,this.startTime)),r?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const z=this.currentTime-S*(this.speed>=0?1:-1),M=this.speed>=0?z<0:z>x;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let k=this.currentTime,O=u;if(_){const ee=Math.min(this.currentTime,x)/j;let ue=Math.floor(ee),fe=ee%1;!fe&&ee>=1&&(fe=1),fe===1&&ue--,ue=Math.min(ue,_+1),!!(ue%2)&&(E==="reverse"?(fe=1-fe,A&&(fe-=A/j)):E==="mirror"&&(O=d)),k=Sl(0,1,fe)*j}const I=M?{done:!1,value:p[0]}:O.next(k);m&&(I.value=m(I.value));let{done:$}=I;!M&&g!==null&&($=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return G&&l!==void 0&&(I.value=$x(p,this.options,l)),T&&T(I.value),G&&this.finish(),I}get duration(){const{resolved:n}=this;return n?yl(n.calculatedDuration):0}get time(){return yl(this.currentTime)}set time(n){n=vl(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=yl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=M9,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),r&&r();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const D9=new Set(["opacity","clipPath","filter","transform"]);function L9(t,n,r,{delay:s=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:m="easeInOut",times:p}={}){const g={[n]:r};p&&(g.offset=p);const x=xk(m,l);return Array.isArray(x)&&(g.easing=x),t.animate(g,{delay:s,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const O9=Xj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ox=10,N9=2e4;function I9(t){return dS(t.type)||t.type==="spring"||!gk(t.ease)}function B9(t,n){const r=new _S({...n,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const l=[];let u=0;for(;!s.done&&u<N9;)s=r.sample(u),l.push(s.value),u+=ox;return{times:void 0,keyframes:l,duration:u-ox,ease:"linear"}}const Qk={anticipate:kk,backInOut:Tk,circInOut:Mk};function $9(t){return t in Qk}class T2 extends qk{constructor(n){super(n);const{name:r,motionValue:s,element:l,keyframes:u}=this.options;this.resolver=new Wk(u,(d,m)=>this.onKeyframesResolved(d,m),r,s,l),this.resolver.scheduleResolve()}initPlayback(n,r){let{duration:s=300,times:l,ease:u,type:d,motionValue:m,name:p,startTime:g}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof u=="string"&&ix()&&$9(u)&&(u=Qk[u]),I9(this.options)){const{onComplete:j,onUpdate:S,motionValue:_,element:E,...A}=this.options,T=B9(n,A);n=T.keyframes,n.length===1&&(n[1]=n[0]),s=T.duration,l=T.times,u=T.ease,d="keyframes"}const x=L9(m.owner.current,p,n,{...this.options,duration:s,times:l,ease:u});return x.startTime=g??this.calcStartTime(),this.pendingTimeline?(h2(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:j}=this.options;m.set($x(n,this.options,r)),j&&j(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:s,times:l,type:d,ease:u,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:r}=n;return yl(r)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:r}=n;return yl(r.currentTime||0)}set time(n){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=vl(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:r}=n;return r.playbackRate}set speed(n){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:r}=n;return r.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:r}=n;return r.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:r}=this;if(!r)return ta;const{animation:s}=r;h2(s,n)}return ta}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:r,keyframes:s,duration:l,type:u,ease:d,times:m}=n;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:x,onComplete:j,element:S,..._}=this.options,E=new _S({..._,keyframes:s,duration:l,type:u,ease:d,times:m,isGenerator:!0}),A=vl(this.time);g.setWithVelocity(E.sample(A-ox).value,E.sample(A).value,ox)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:r,name:s,repeatDelay:l,repeatType:u,damping:d,type:m}=n;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=r.owner.getProps();return O9()&&s&&D9.has(s)&&!p&&!g&&!l&&u!=="mirror"&&d!==0&&m!=="inertia"}}const F9={type:"spring",stiffness:500,damping:25,restSpeed:10},V9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),U9={type:"keyframes",duration:.8},H9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W9=(t,{keyframes:n})=>n.length>2?U9:zu.has(t)?t.startsWith("scale")?V9(n[1]):F9:H9;function q9({when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:m,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const CS=(t,n,r,s={},l,u)=>d=>{const m=uS(s,t)||{},p=m.delay||s.delay||0;let{elapsed:g=0}=s;g=g-vl(p);let x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...m,delay:-g,onUpdate:S=>{n.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:t,motionValue:n,element:u?void 0:l};q9(m)||(x={...x,...W9(t,x)}),x.duration&&(x.duration=vl(x.duration)),x.repeatDelay&&(x.repeatDelay=vl(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let j=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(j=!0)),j&&!u&&n.get()!==void 0){const S=$x(x.keyframes,m);if(S!==void 0)return jr.update(()=>{x.onUpdate(S),x.onComplete()}),new dF([])}return!u&&T2.supports(x)?new T2(x):new _S(x)};function G9({protectedKeys:t,needsAnimating:n},r){const s=t.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,s}function Jk(t,n,{delay:r=0,transitionOverride:s,type:l}={}){var u;let{transition:d=t.getDefaultTransition(),transitionEnd:m,...p}=n;s&&(d=s);const g=[],x=l&&t.animationState&&t.animationState.getState()[l];for(const j in p){const S=t.getValue(j,(u=t.latestValues[j])!==null&&u!==void 0?u:null),_=p[j];if(_===void 0||x&&G9(x,j))continue;const E={delay:r,...uS(d||{},j)};let A=!1;if(window.MotionHandoffAnimation){const z=wk(t);if(z){const M=window.MotionHandoffAnimation(z,j,jr);M!==null&&(E.startTime=M,A=!0)}}jb(t,j),S.start(CS(j,S,_,t.shouldReduceMotion&&jk.has(j)?{type:!1}:E,t,A));const T=S.animation;T&&g.push(T)}return m&&Promise.all(g).then(()=>{jr.update(()=>{m&&CF(t,m)})}),g}function Tb(t,n,r={}){var s;const l=Bx(t,n,r.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=l||{};r.transitionOverride&&(u=r.transitionOverride);const d=l?()=>Promise.all(Jk(t,l,r)):()=>Promise.resolve(),m=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:j,staggerDirection:S}=u;return Z9(t,n,x+g,j,S,r)}:()=>Promise.resolve(),{when:p}=u;if(p){const[g,x]=p==="beforeChildren"?[d,m]:[m,d];return g().then(()=>x())}else return Promise.all([d(),m(r.delay)])}function Z9(t,n,r=0,s=0,l=1,u){const d=[],m=(t.variantChildren.size-1)*s,p=l===1?(g=0)=>g*s:(g=0)=>m-g*s;return Array.from(t.variantChildren).sort(Y9).forEach((g,x)=>{g.notify("AnimationStart",n),d.push(Tb(g,n,{...u,delay:r+p(x)}).then(()=>g.notify("AnimationComplete",n)))}),Promise.all(d)}function Y9(t,n){return t.sortNodePosition(n)}function X9(t,n,r={}){t.notify("AnimationStart",n);let s;if(Array.isArray(n)){const l=n.map(u=>Tb(t,u,r));s=Promise.all(l)}else if(typeof n=="string")s=Tb(t,n,r);else{const l=typeof n=="function"?Bx(t,n,r.custom):n;s=Promise.all(Jk(t,l,r))}return s.then(()=>{t.notify("AnimationComplete",n)})}const K9=Qj.length;function eP(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?eP(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const n={};for(let r=0;r<K9;r++){const s=Qj[r],l=t.props[s];(lp(l)||l===!1)&&(n[s]=l)}return n}const Q9=[...Kj].reverse(),J9=Kj.length;function e7(t){return n=>Promise.all(n.map(({animation:r,options:s})=>X9(t,r,s)))}function t7(t){let n=e7(t),r=k2(),s=!0;const l=p=>(g,x)=>{var j;const S=Bx(t,x,p==="exit"?(j=t.presenceContext)===null||j===void 0?void 0:j.custom:void 0);if(S){const{transition:_,transitionEnd:E,...A}=S;g={...g,...A,...E}}return g};function u(p){n=p(t)}function d(p){const{props:g}=t,x=eP(t.parent)||{},j=[],S=new Set;let _={},E=1/0;for(let T=0;T<J9;T++){const z=Q9[T],M=r[z],k=g[z]!==void 0?g[z]:x[z],O=lp(k),I=z===p?M.isActive:null;I===!1&&(E=T);let $=k===x[z]&&k!==g[z]&&O;if($&&s&&t.manuallyAnimateOnMount&&($=!1),M.protectedKeys={..._},!M.isActive&&I===null||!k&&!M.prevProp||Nx(k)||typeof k=="boolean")continue;const G=n7(M.prevProp,k);let ee=G||z===p&&M.isActive&&!$&&O||T>E&&O,ue=!1;const fe=Array.isArray(k)?k:[k];let X=fe.reduce(l(z),{});I===!1&&(X={});const{prevResolvedValues:me={}}=M,Ee={...me,...X},pe=W=>{ee=!0,S.has(W)&&(ue=!0,S.delete(W)),M.needsAnimating[W]=!0;const H=t.getValue(W);H&&(H.liveStyle=!1)};for(const W in Ee){const H=X[W],Se=me[W];if(_.hasOwnProperty(W))continue;let B=!1;vb(H)&&vb(Se)?B=!fk(H,Se):B=H!==Se,B?H!=null?pe(W):S.add(W):H!==void 0&&S.has(W)?pe(W):M.protectedKeys[W]=!0}M.prevProp=k,M.prevResolvedValues=X,M.isActive&&(_={..._,...X}),s&&t.blockInitialAnimation&&(ee=!1),ee&&(!($&&G)||ue)&&j.push(...fe.map(W=>({animation:W,options:{type:z}})))}if(S.size){const T={};S.forEach(z=>{const M=t.getBaseTarget(z),k=t.getValue(z);k&&(k.liveStyle=!0),T[z]=M??null}),j.push({animation:T})}let A=!!j.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(A=!1),s=!1,A?n(j):Promise.resolve()}function m(p,g){var x;if(r[p].isActive===g)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var _;return(_=S.animationState)===null||_===void 0?void 0:_.setActive(p,g)}),r[p].isActive=g;const j=d(p);for(const S in r)r[S].protectedKeys={};return j}return{animateChanges:d,setActive:m,setAnimateFunction:u,getState:()=>r,reset:()=>{r=k2(),s=!0}}}function n7(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!fk(n,t):!1}function Yc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k2(){return{animate:Yc(!0),whileInView:Yc(),whileHover:Yc(),whileTap:Yc(),whileDrag:Yc(),whileFocus:Yc(),exit:Yc()}}class _c{constructor(n){this.isMounted=!1,this.node=n}update(){}}class r7 extends _c{constructor(n){super(n),n.animationState||(n.animationState=t7(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Nx(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let i7=0;class s7 extends _c{constructor(){super(...arguments),this.id=i7++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===s)return;const l=this.node.animationState.setActive("exit",!n);r&&!n&&l.then(()=>r(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const a7={animation:{Feature:r7},exit:{Feature:s7}};function hp(t,n,r,s={passive:!0}){return t.addEventListener(n,r,s),()=>t.removeEventListener(n,r)}function Dp(t){return{point:{x:t.pageX,y:t.pageY}}}const o7=t=>n=>fS(n)&&t(n,Dp(n));function Zf(t,n,r,s){return hp(t,n,o7(r),s)}const P2=(t,n)=>Math.abs(t-n);function l7(t,n){const r=P2(t.x,n.x),s=P2(t.y,n.y);return Math.sqrt(r**2+s**2)}class tP{constructor(n,r,{transformPagePoint:s,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=yy(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,_=l7(j.offset,{x:0,y:0})>=3;if(!S&&!_)return;const{point:E}=j,{timestamp:A}=Di;this.history.push({...E,timestamp:A});const{onStart:T,onMove:z}=this.handlers;S||(T&&T(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,j)},this.handlePointerMove=(j,S)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=vy(S,this.transformPagePoint),jr.update(this.updatePoint,!0)},this.handlePointerUp=(j,S)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=yy(j.type==="pointercancel"?this.lastMoveEventInfo:vy(S,this.transformPagePoint),this.history);this.startEvent&&_&&_(j,T),E&&E(j,T)},!fS(n))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=s,this.contextWindow=l||window;const d=Dp(n),m=vy(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=Di;this.history=[{...p,timestamp:g}];const{onSessionStart:x}=r;x&&x(n,yy(m,this.history)),this.removeListeners=zp(Zf(this.contextWindow,"pointermove",this.handlePointerMove),Zf(this.contextWindow,"pointerup",this.handlePointerUp),Zf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),vc(this.updatePoint)}}function vy(t,n){return n?{point:n(t.point)}:t}function M2(t,n){return{x:t.x-n.x,y:t.y-n.y}}function yy({point:t},n){return{point:t,delta:M2(t,nP(n)),offset:M2(t,c7(n)),velocity:u7(n,.1)}}function c7(t){return t[0]}function nP(t){return t[t.length-1]}function u7(t,n){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const l=nP(t);for(;r>=0&&(s=t[r],!(l.timestamp-s.timestamp>vl(n)));)r--;if(!s)return{x:0,y:0};const u=yl(l.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-s.x)/u,y:(l.y-s.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const rP=1e-4,d7=1-rP,h7=1+rP,iP=.01,f7=0-iP,p7=0+iP;function na(t){return t.max-t.min}function m7(t,n,r){return Math.abs(t-n)<=r}function R2(t,n,r,s=.5){t.origin=s,t.originPoint=zr(n.min,n.max,t.origin),t.scale=na(r)/na(n),t.translate=zr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=d7&&t.scale<=h7||isNaN(t.scale))&&(t.scale=1),(t.translate>=f7&&t.translate<=p7||isNaN(t.translate))&&(t.translate=0)}function Yf(t,n,r,s){R2(t.x,n.x,r.x,s?s.originX:void 0),R2(t.y,n.y,r.y,s?s.originY:void 0)}function z2(t,n,r){t.min=r.min+n.min,t.max=t.min+na(n)}function g7(t,n,r){z2(t.x,n.x,r.x),z2(t.y,n.y,r.y)}function D2(t,n,r){t.min=n.min-r.min,t.max=t.min+na(n)}function Xf(t,n,r){D2(t.x,n.x,r.x),D2(t.y,n.y,r.y)}function x7(t,{min:n,max:r},s){return n!==void 0&&t<n?t=s?zr(n,t,s.min):Math.max(t,n):r!==void 0&&t>r&&(t=s?zr(r,t,s.max):Math.min(t,r)),t}function L2(t,n,r){return{min:n!==void 0?t.min+n:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function v7(t,{top:n,left:r,bottom:s,right:l}){return{x:L2(t.x,r,l),y:L2(t.y,n,s)}}function O2(t,n){let r=n.min-t.min,s=n.max-t.max;return n.max-n.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function y7(t,n){return{x:O2(t.x,n.x),y:O2(t.y,n.y)}}function b7(t,n){let r=.5;const s=na(t),l=na(n);return l>s?r=Kd(n.min,n.max-s,t.min):s>l&&(r=Kd(t.min,t.max-l,n.min)),Sl(0,1,r)}function j7(t,n){const r={};return n.min!==void 0&&(r.min=n.min-t.min),n.max!==void 0&&(r.max=n.max-t.min),r}const kb=.35;function S7(t=kb){return t===!1?t=0:t===!0&&(t=kb),{x:N2(t,"left","right"),y:N2(t,"top","bottom")}}function N2(t,n,r){return{min:I2(t,n),max:I2(t,r)}}function I2(t,n){return typeof t=="number"?t:t[n]||0}const B2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rd=()=>({x:B2(),y:B2()}),$2=()=>({min:0,max:0}),Gr=()=>({x:$2(),y:$2()});function xa(t){return[t("x"),t("y")]}function sP({top:t,left:n,right:r,bottom:s}){return{x:{min:n,max:r},y:{min:t,max:s}}}function w7({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function _7(t,n){if(!n)return t;const r=n({x:t.left,y:t.top}),s=n({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function by(t){return t===void 0||t===1}function Pb({scale:t,scaleX:n,scaleY:r}){return!by(t)||!by(n)||!by(r)}function Jc(t){return Pb(t)||aP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aP(t){return F2(t.x)||F2(t.y)}function F2(t){return t&&t!=="0%"}function lx(t,n,r){const s=t-r,l=n*s;return r+l}function V2(t,n,r,s,l){return l!==void 0&&(t=lx(t,l,s)),lx(t,r,s)+n}function Mb(t,n=0,r=1,s,l){t.min=V2(t.min,n,r,s,l),t.max=V2(t.max,n,r,s,l)}function oP(t,{x:n,y:r}){Mb(t.x,n.translate,n.scale,n.originPoint),Mb(t.y,r.translate,r.scale,r.originPoint)}const U2=.999999999999,H2=1.0000000000001;function C7(t,n,r,s=!1){const l=r.length;if(!l)return;n.x=n.y=1;let u,d;for(let m=0;m<l;m++){u=r[m],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Dd(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(n.x*=d.x.scale,n.y*=d.y.scale,oP(t,d)),s&&Jc(u.latestValues)&&Dd(t,u.latestValues))}n.x<H2&&n.x>U2&&(n.x=1),n.y<H2&&n.y>U2&&(n.y=1)}function zd(t,n){t.min=t.min+n,t.max=t.max+n}function W2(t,n,r,s,l=.5){const u=zr(t.min,t.max,l);Mb(t,n,r,u,s)}function Dd(t,n){W2(t.x,n.x,n.scaleX,n.scale,n.originX),W2(t.y,n.y,n.scaleY,n.scale,n.originY)}function lP(t,n){return sP(_7(t.getBoundingClientRect(),n))}function E7(t,n,r){const s=lP(t,r),{scroll:l}=n;return l&&(zd(s.x,l.offset.x),zd(s.y,l.offset.y)),s}const cP=({current:t})=>t?t.ownerDocument.defaultView:null,A7=new WeakMap;class T7{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gr(),this.visualElement=n}start(n,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Dp(x).point)},u=(x,j)=>{const{drag:S,dragPropagation:_,onDragStart:E}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bF(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xa(T=>{let z=this.getAxisMotionValue(T).get()||0;if(Co.test(z)){const{projection:M}=this.visualElement;if(M&&M.layout){const k=M.layout.layoutBox[T];k&&(z=na(k)*(parseFloat(z)/100))}}this.originPoint[T]=z}),E&&jr.postRender(()=>E(x,j)),jb(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},d=(x,j)=>{const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:E,onDrag:A}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=j;if(_&&this.currentDirection===null){this.currentDirection=k7(T),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",j.point,T),this.updateAxis("y",j.point,T),this.visualElement.render(),A&&A(x,j)},m=(x,j)=>this.stop(x,j),p=()=>xa(x=>{var j;return this.getAnimationState(x)==="paused"&&((j=this.getAxisMotionValue(x).animation)===null||j===void 0?void 0:j.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new tP(n,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:cP(this.visualElement)})}stop(n,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&jr.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,s){const{drag:l}=this.getProps();if(!s||!hg(n,l,this.currentDirection))return;const u=this.getAxisMotionValue(n);let d=this.originPoint[n]+s[n];this.constraints&&this.constraints[n]&&(d=x7(d,this.constraints[n],this.elastic[n])),u.set(d)}resolveConstraints(){var n;const{dragConstraints:r,dragElastic:s}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,u=this.constraints;r&&Pd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&l?this.constraints=v7(l.layoutBox,r):this.constraints=!1,this.elastic=S7(s),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&xa(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=j7(l.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!Pd(n))return!1;const s=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=E7(s,l.root,this.visualElement.getTransformPagePoint());let d=y7(l.layout.layoutBox,u);if(r){const m=r(w7(d));this.hasMutatedConstraints=!!m,m&&(d=sP(m))}return d}startAnimation(n){const{drag:r,dragMomentum:s,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=xa(x=>{if(!hg(x,r,this.currentDirection))return;let j=p&&p[x]||{};d&&(j={min:0,max:0});const S=l?200:1e6,_=l?40:1e7,E={type:"inertia",velocity:s?n[x]:0,bounceStiffness:S,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...j};return this.startAxisValueAnimation(x,E)});return Promise.all(g).then(m)}startAxisValueAnimation(n,r){const s=this.getAxisMotionValue(n);return jb(this.visualElement,n),s.start(CS(n,s,0,r,this.visualElement,!1))}stopAnimation(){xa(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){xa(n=>{var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(n){var r;return(r=this.getAxisMotionValue(n).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,s=this.visualElement.getProps(),l=s[r];return l||this.visualElement.getValue(n,(s.initial?s.initial[n]:void 0)||0)}snapToCursor(n){xa(r=>{const{drag:s}=this.getProps();if(!hg(r,s,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:m}=l.layout.layoutBox[r];u.set(n[r]-zr(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Pd(r)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};xa(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const p=m.get();l[d]=b7({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),xa(d=>{if(!hg(d,n,null))return;const m=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];m.set(zr(p,g,l[d]))})}addListeners(){if(!this.visualElement.current)return;A7.set(this.visualElement,this);const n=this.visualElement.current,r=Zf(n,"pointerdown",p=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Pd(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),jr.read(s);const d=hp(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(xa(x=>{const j=this.getAxisMotionValue(x);j&&(this.originPoint[x]+=p[x].translate,j.set(j.get()+p[x].translate))}),this.visualElement.render())}));return()=>{d(),r(),u(),m&&m()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=kb,dragMomentum:m=!0}=n;return{...n,drag:r,dragDirectionLock:s,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:m}}}function hg(t,n,r){return(n===!0||n===t)&&(r===null||r===t)}function k7(t,n=10){let r=null;return Math.abs(t.y)>n?r="y":Math.abs(t.x)>n&&(r="x"),r}class P7 extends _c{constructor(n){super(n),this.removeGroupControls=ta,this.removeListeners=ta,this.controls=new T7(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ta}unmount(){this.removeGroupControls(),this.removeListeners()}}const q2=t=>(n,r)=>{t&&jr.postRender(()=>t(n,r))};class M7 extends _c{constructor(){super(...arguments),this.removePointerDownListener=ta}onPointerDown(n){this.session=new tP(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cP(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:q2(n),onStart:q2(r),onMove:s,onEnd:(u,d)=>{delete this.session,l&&jr.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=Zf(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G2(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const pf={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(qt.test(t))t=parseFloat(t);else return t;const r=G2(t,n.target.x),s=G2(t,n.target.y);return`${r}% ${s}%`}},R7={correct:(t,{treeScale:n,projectionDelta:r})=>{const s=t,l=yc.parse(t);if(l.length>5)return s;const u=yc.createTransformer(t),d=typeof l[0]!="number"?1:0,m=r.x.scale*n.x,p=r.y.scale*n.y;l[0+d]/=m,l[1+d]/=p;const g=zr(m,p,.5);return typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g),u(l)}};class z7 extends b.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:s,layoutId:l}=this.props,{projection:u}=n;J8(D7),u&&(r.group&&r.group.add(u),s&&s.register&&l&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Hg.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:s,drag:l,isPresent:u}=this.props,d=s.projection;return d&&(d.isPresent=u,l||n.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?d.promote():d.relegate()||jr.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),eS.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:l}=n;l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function uP(t){const[n,r]=Zj(),s=b.useContext(Wj);return e.jsx(z7,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(ek),isPresent:n,safeToRemove:r})}const D7={borderRadius:{...pf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pf,borderTopRightRadius:pf,borderBottomLeftRadius:pf,borderBottomRightRadius:pf,boxShadow:R7};function L7(t,n,r){const s=Wi(t)?t:up(t);return s.start(CS("",s,n,r)),s.animation}function O7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const N7=(t,n)=>t.depth-n.depth;class I7{constructor(){this.children=[],this.isDirty=!1}add(n){pS(this.children,n),this.isDirty=!0}remove(n){mS(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(N7),this.isDirty=!1,this.children.forEach(n)}}function B7(t,n){const r=Eo.now(),s=({timestamp:l})=>{const u=l-r;u>=n&&(vc(s),t(u-n))};return jr.read(s,!0),()=>vc(s)}const dP=["TopLeft","TopRight","BottomLeft","BottomRight"],$7=dP.length,Z2=t=>typeof t=="string"?parseFloat(t):t,Y2=t=>typeof t=="number"||qt.test(t);function F7(t,n,r,s,l,u){l?(t.opacity=zr(0,r.opacity!==void 0?r.opacity:1,V7(s)),t.opacityExit=zr(n.opacity!==void 0?n.opacity:1,0,U7(s))):u&&(t.opacity=zr(n.opacity!==void 0?n.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let d=0;d<$7;d++){const m=`border${dP[d]}Radius`;let p=X2(n,m),g=X2(r,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Y2(p)===Y2(g)?(t[m]=Math.max(zr(Z2(p),Z2(g),s),0),(Co.test(g)||Co.test(p))&&(t[m]+="%")):t[m]=g}(n.rotate||r.rotate)&&(t.rotate=zr(n.rotate||0,r.rotate||0,s))}function X2(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const V7=hP(0,.5,Pk),U7=hP(.5,.95,ta);function hP(t,n,r){return s=>s<t?0:s>n?1:r(Kd(t,n,s))}function K2(t,n){t.min=n.min,t.max=n.max}function pa(t,n){K2(t.x,n.x),K2(t.y,n.y)}function Q2(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function J2(t,n,r,s,l){return t-=n,t=lx(t,1/r,s),l!==void 0&&(t=lx(t,1/l,s)),t}function H7(t,n=0,r=1,s=.5,l,u=t,d=t){if(Co.test(n)&&(n=parseFloat(n),n=zr(d.min,d.max,n/100)-d.min),typeof n!="number")return;let m=zr(u.min,u.max,s);t===u&&(m-=n),t.min=J2(t.min,n,r,m,l),t.max=J2(t.max,n,r,m,l)}function eE(t,n,[r,s,l],u,d){H7(t,n[r],n[s],n[l],n.scale,u,d)}const W7=["x","scaleX","originX"],q7=["y","scaleY","originY"];function tE(t,n,r,s){eE(t.x,n,W7,r?r.x:void 0,s?s.x:void 0),eE(t.y,n,q7,r?r.y:void 0,s?s.y:void 0)}function nE(t){return t.translate===0&&t.scale===1}function fP(t){return nE(t.x)&&nE(t.y)}function rE(t,n){return t.min===n.min&&t.max===n.max}function G7(t,n){return rE(t.x,n.x)&&rE(t.y,n.y)}function iE(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function pP(t,n){return iE(t.x,n.x)&&iE(t.y,n.y)}function sE(t){return na(t.x)/na(t.y)}function aE(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class Z7{constructor(){this.members=[]}add(n){pS(this.members,n),n.scheduleRender()}remove(n){if(mS(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(l=>n===l);if(r===0)return!1;let s;for(let l=r;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(n,r){const s=this.lead;if(n!==s&&(this.prevLead=s,this.lead=n,n.show(),s)){s.instance&&s.scheduleRender(),n.scheduleRender(),n.resumeFrom=s,r&&(n.resumeFrom.preserveOpacity=!0),s.snapshot&&(n.snapshot=s.snapshot,n.snapshot.latestValues=s.animationValues||s.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:s}=n;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y7(t,n,r){let s="";const l=t.x.translate/n.x,u=t.y.translate/n.y,d=r?.z||0;if((l||u||d)&&(s=`translate3d(${l}px, ${u}px, ${d}px) `),(n.x!==1||n.y!==1)&&(s+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:g,rotate:x,rotateX:j,rotateY:S,skewX:_,skewY:E}=r;g&&(s=`perspective(${g}px) ${s}`),x&&(s+=`rotate(${x}deg) `),j&&(s+=`rotateX(${j}deg) `),S&&(s+=`rotateY(${S}deg) `),_&&(s+=`skewX(${_}deg) `),E&&(s+=`skewY(${E}deg) `)}const m=t.x.scale*n.x,p=t.y.scale*n.y;return(m!==1||p!==1)&&(s+=`scale(${m}, ${p})`),s||"none"}const eu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mf=typeof window<"u"&&window.MotionDebug!==void 0,jy=["","X","Y","Z"],X7={visibility:"hidden"},oE=1e3;let K7=0;function Sy(t,n,r,s){const{latestValues:l}=n;l[t]&&(r[t]=l[t],n.setStaticValue(t,0),s&&(s[t]=0))}function mP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const r=wk(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",jr,!(l||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&mP(s)}function gP({attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(d={},m=n?.()){this.id=K7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mf&&(eu.totalNodes=eu.resolvedTargetDeltas=eu.recalculatedProjection=0),this.nodes.forEach(eV),this.nodes.forEach(sV),this.nodes.forEach(aV),this.nodes.forEach(tV),Mf&&window.MotionDebug.record(eu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new I7)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new gS),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const p=this.eventHandlers.get(d);p&&p.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O7(d),this.instance=d;const{layoutId:p,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(g||p)&&(this.isLayoutDirty=!0),t){let j;const S=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,j&&j(),j=B7(S,250),Hg.hasAnimatedSinceResize&&(Hg.hasAnimatedSinceResize=!1,this.nodes.forEach(cE))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||g)&&this.addEventListener("didUpdate",({delta:j,hasLayoutChanged:S,hasRelativeTargetChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||x.getDefaultTransition()||dV,{onLayoutAnimationStart:T,onLayoutAnimationComplete:z}=x.getProps(),M=!this.targetLayout||!pP(this.targetLayout,E)||_,k=!S&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||S&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(j,k);const O={...uS(A,"layout"),onPlay:T,onComplete:z};(x.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else S||cE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oV),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const j=this.path[x];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lE);return}this.isUpdating||this.nodes.forEach(rV),this.isUpdating=!1,this.nodes.forEach(iV),this.nodes.forEach(Q7),this.nodes.forEach(J7),this.clearAllSnapshots();const m=Eo.now();Di.delta=Sl(0,1e3/60,m-Di.timestamp),Di.timestamp=m,Di.isProcessing=!0,hy.update.process(Di),hy.preRender.process(Di),hy.render.process(Di),Di.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nV),this.sharedNodes.forEach(lV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!fP(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&(m||Jc(this.latestValues)||x)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return d&&(p=this.removeTransform(p)),hV(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:m}=this.options;if(!m)return Gr();const p=m.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(fV))){const{scroll:x}=this.root;x&&(zd(p.x,x.offset.x),zd(p.y,x.offset.y))}return p}removeElementScroll(d){var m;const p=Gr();if(pa(p,d),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return p;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:j,options:S}=x;x!==this.root&&j&&S.layoutScroll&&(j.wasRoot&&pa(p,d),zd(p.x,j.offset.x),zd(p.y,j.offset.y))}return p}applyTransform(d,m=!1){const p=Gr();pa(p,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Dd(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Jc(x.latestValues)&&Dd(p,x.latestValues)}return Jc(this.latestValues)&&Dd(p,this.latestValues),p}removeTransform(d){const m=Gr();pa(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Jc(g.latestValues))continue;Pb(g.latestValues)&&g.updateSnapshot();const x=Gr(),j=g.measurePageBox();pa(x,j),tE(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Jc(this.latestValues)&&tE(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Di.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var m;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:j,layoutId:S}=this.options;if(!(!this.layout||!(j||S))){if(this.resolvedRelativeTargetAt=Di.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gr(),this.relativeTargetOrigin=Gr(),Xf(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gr(),this.targetWithTransforms=Gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pa(this.target,this.layout.layoutBox),oP(this.target,this.targetDelta)):pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gr(),this.relativeTargetOrigin=Gr(),Xf(this.relativeTargetOrigin,this.target,_.target),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mf&&eu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pb(this.parent.latestValues)||aP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const m=this.getLead(),p=!!this.resumingFrom||this!==m;let g=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Di.timestamp&&(g=!1),g)return;const{layout:x,layoutId:j}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||j))return;pa(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,_=this.treeScale.y;C7(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Gr());const{target:E}=m;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q2(this.prevProjectionDelta.x,this.projectionDelta.x),Q2(this.prevProjectionDelta.y,this.projectionDelta.y)),Yf(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==_||!aE(this.projectionDelta.x,this.prevProjectionDelta.x)||!aE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Mf&&eu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rd(),this.projectionDelta=Rd(),this.projectionDeltaWithTransform=Rd()}setAnimationOrigin(d,m=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},j=Rd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Gr(),_=p?p.source:void 0,E=this.layout?this.layout.source:void 0,A=_!==E,T=this.getStack(),z=!T||T.members.length<=1,M=!!(A&&!z&&this.options.crossfade===!0&&!this.path.some(uV));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const I=O/1e3;uE(j.x,d.x,I),uE(j.y,d.y,I),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cV(this.relativeTarget,this.relativeTargetOrigin,S,I),k&&G7(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Gr()),pa(k,this.relativeTarget)),A&&(this.animationValues=x,F7(x,g,this.latestValues,I,M,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jr.update(()=>{Hg.hasAnimatedSinceResize=!0,this.currentAnimation=L7(0,oE,{...d,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:x}=d;if(!(!m||!p||!g)){if(this!==d&&this.layout&&g&&xP(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Gr();const j=na(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+j;const S=na(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+S}pa(m,p),Dd(m,x),Yf(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new Z7),this.sharedNodes.get(d).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:m}=this.options;return m?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:m}=this.options;return m?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Sy("z",d,g,this.animationValues);for(let x=0;x<jy.length;x++)Sy(`rotate${jy[x]}`,d,g,this.animationValues),Sy(`skew${jy[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}getProjectionStyles(d){var m,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return X7;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Vg(d?.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Vg(d?.pointerEvents)||""),this.hasProjected&&!Jc(this.latestValues)&&(A.transform=x?x({},""):"none",this.hasProjected=!1),A}const S=j.animationValues||j.latestValues;this.applyTransformsToTarget(),g.transform=Y7(this.projectionDeltaWithTransform,this.treeScale,S),x&&(g.transform=x(S,g.transform));const{x:_,y:E}=this.projectionDelta;g.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,j.animationValues?g.opacity=j===this?(p=(m=S.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:g.opacity=j===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const A in rx){if(S[A]===void 0)continue;const{correct:T,applyTo:z}=rx[A],M=g.transform==="none"?S[A]:T(S[A],j);if(z){const k=z.length;for(let O=0;O<k;O++)g[z[O]]=M}else g[A]=M}return this.options.layoutId&&(g.pointerEvents=j===this?Vg(d?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(lE),this.root.sharedNodes.clear()}}}function Q7(t){t.updateLayout()}function J7(t){var n;const r=((n=t.resumeFrom)===null||n===void 0?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=t.layout,{animationType:u}=t.options,d=r.source!==t.layout.source;u==="size"?xa(j=>{const S=d?r.measuredBox[j]:r.layoutBox[j],_=na(S);S.min=s[j].min,S.max=S.min+_}):xP(u,r.layoutBox,s)&&xa(j=>{const S=d?r.measuredBox[j]:r.layoutBox[j],_=na(s[j]);S.max=S.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[j].max=t.relativeTarget[j].min+_)});const m=Rd();Yf(m,s,r.layoutBox);const p=Rd();d?Yf(p,t.applyTransform(l,!0),r.measuredBox):Yf(p,s,r.layoutBox);const g=!fP(m);let x=!1;if(!t.resumeFrom){const j=t.getClosestProjectingParent();if(j&&!j.resumeFrom){const{snapshot:S,layout:_}=j;if(S&&_){const E=Gr();Xf(E,r.layoutBox,S.layoutBox);const A=Gr();Xf(A,s,_.layoutBox),pP(E,A)||(x=!0),j.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=E,t.relativeParent=j)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function eV(t){Mf&&eu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nV(t){t.clearSnapshot()}function lE(t){t.clearMeasurements()}function rV(t){t.isLayoutDirty=!1}function iV(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function cE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sV(t){t.resolveTargetDelta()}function aV(t){t.calcProjection()}function oV(t){t.resetSkewAndRotation()}function lV(t){t.removeLeadSnapshot()}function uE(t,n,r){t.translate=zr(n.translate,0,r),t.scale=zr(n.scale,1,r),t.origin=n.origin,t.originPoint=n.originPoint}function dE(t,n,r,s){t.min=zr(n.min,r.min,s),t.max=zr(n.max,r.max,s)}function cV(t,n,r,s){dE(t.x,n.x,r.x,s),dE(t.y,n.y,r.y,s)}function uV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dV={duration:.45,ease:[.4,0,.1,1]},hE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fE=hE("applewebkit/")&&!hE("chrome/")?Math.round:ta;function pE(t){t.min=fE(t.min),t.max=fE(t.max)}function hV(t){pE(t.x),pE(t.y)}function xP(t,n,r){return t==="position"||t==="preserve-aspect"&&!m7(sE(n),sE(r),.2)}function fV(t){var n;return t!==t.root&&((n=t.scroll)===null||n===void 0?void 0:n.wasRoot)}const pV=gP({attachResizeListener:(t,n)=>hp(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wy={current:void 0},vP=gP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wy.current){const t=new pV({});t.mount(window),t.setOptions({layoutScroll:!0}),wy.current=t}return wy.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mV={pan:{Feature:M7},drag:{Feature:P7,ProjectionNode:vP,MeasureLayout:uP}};function mE(t,n,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,u=s[l];u&&jr.postRender(()=>u(n,Dp(n)))}class gV extends _c{mount(){const{current:n}=this.node;n&&(this.unmount=mF(n,r=>(mE(this.node,r,"Start"),s=>mE(this.node,s,"End"))))}unmount(){}}class xV extends _c{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zp(hp(this.node.current,"focus",()=>this.onFocus()),hp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gE(t,n,r){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),u=s[l];u&&jr.postRender(()=>u(n,Dp(n)))}class vV extends _c{mount(){const{current:n}=this.node;n&&(this.unmount=yF(n,r=>(gE(this.node,r,"Start"),(s,{success:l})=>gE(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rb=new WeakMap,_y=new WeakMap,yV=t=>{const n=Rb.get(t.target);n&&n(t)},bV=t=>{t.forEach(yV)};function jV({root:t,...n}){const r=t||document;_y.has(r)||_y.set(r,{});const s=_y.get(r),l=JSON.stringify(n);return s[l]||(s[l]=new IntersectionObserver(bV,{root:t,...n})),s[l]}function SV(t,n,r){const s=jV(n);return Rb.set(t,r),s.observe(t),()=>{Rb.delete(t),s.unobserve(t)}}const wV={some:0,all:1};class _V extends _c{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:s,amount:l="some",once:u}=n,d={root:r?r.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:wV[l]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:j}=this.node.getProps(),S=g?x:j;S&&S(p)};return SV(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(CV(n,r))&&this.startObserver()}unmount(){}}function CV({viewport:t={}},{viewport:n={}}={}){return r=>t[r]!==n[r]}const EV={inView:{Feature:_V},tap:{Feature:vV},focus:{Feature:xV},hover:{Feature:gV}},AV={layout:{ProjectionNode:vP,MeasureLayout:uP}},zb={current:null},yP={current:!1};function TV(){if(yP.current=!0,!!Yj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>zb.current=t.matches;t.addListener(n),n()}else zb.current=!1}const kV=[...Hk,Hi,yc],PV=t=>kV.find(Uk(t)),xE=new WeakMap;function MV(t,n,r){for(const s in n){const l=n[s],u=r[s];if(Wi(l))t.addValue(s,l);else if(Wi(u))t.addValue(s,up(l,{owner:t}));else if(u!==l)if(t.hasValue(s)){const d=t.getValue(s);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=t.getStaticValue(s);t.addValue(s,up(d!==void 0?d:l,{owner:t}))}}for(const s in r)n[s]===void 0&&t.removeValue(s);return n}const vE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RV{scrapeMotionValuesFromProps(n,r,s){return{}}constructor({parent:n,props:r,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Eo.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,jr.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:x}=d;this.onUpdate=x,this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=g,this.parent=n,this.props=r,this.presenceContext=s,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ix(r),this.isVariantNode=QT(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:j,...S}=this.scrapeMotionValuesFromProps(r,{},this);for(const _ in S){const E=S[_];p[_]!==void 0&&Wi(E)&&E.set(p[_],!1)}}mount(n){this.current=n,xE.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),yP.current||TV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xE.delete(this.current),this.projection&&this.projection.unmount(),vc(this.notifyUpdate),vc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const s=zu.has(n),l=r.on("change",m=>{this.latestValues[n]=m,this.props.onUpdate&&jr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=r.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{l(),u(),d&&d(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Qd){const r=Qd[n];if(!r)continue;const{isEnabled:s,Feature:l}=r;if(!this.features[n]&&l&&s(this.props)&&(this.features[n]=new l(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gr()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<vE.length;s++){const l=vE[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=n[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=MV(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const s=this.values.get(n);r!==s&&(s&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let s=this.values.get(n);return s===void 0&&r!==void 0&&(s=up(r===null?void 0:r,{owner:this}),this.addValue(n,s)),s}readValue(n,r){var s;let l=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(s=this.getBaseTargetFromProps(this.props,n))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,n,this.options);return l!=null&&(typeof l=="string"&&(Fk(l)||Rk(l))?l=parseFloat(l):!PV(l)&&yc.test(r)&&(l=Ik(n,r)),this.setBaseTarget(n,Wi(l)?l.get():l)),Wi(l)?l.get():l}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){var r;const{initial:s}=this.props;let l;if(typeof s=="string"||typeof s=="object"){const d=nS(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(l=d[n])}if(s&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,n);return u!==void 0&&!Wi(u)?u:this.initialValues[n]!==void 0&&l===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new gS),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}}class bP extends RV{constructor(){super(...arguments),this.KeyframeResolver=Wk}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:s}){delete r[n],delete s[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Wi(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function zV(t){return window.getComputedStyle(t)}class DV extends bP{constructor(){super(...arguments),this.type="html",this.renderInstance=ok}readValueFromInstance(n,r){if(zu.has(r)){const s=jS(r);return s&&s.default||0}else{const s=zV(n),l=(ik(r)?s.getPropertyValue(r):s[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:r}){return lP(n,r)}build(n,r,s){sS(n,r,s.transformTemplate)}scrapeMotionValuesFromProps(n,r,s){return cS(n,r,s)}}class LV extends bP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gr}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(zu.has(r)){const s=jS(r);return s&&s.default||0}return r=lk.has(r)?r:Jj(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,s){return dk(n,r,s)}build(n,r,s){aS(n,r,this.isSVGTag,s.transformTemplate)}renderInstance(n,r,s,l){ck(n,r,s,l)}mount(n){this.isSVGTag=lS(n.tagName),super.mount(n)}}const OV=(t,n)=>tS(t)?new LV(n):new DV(n,{allowProjection:t!==b.Fragment}),NV=lF({...a7,...EV,...mV,...AV},OV),zo=w8(NV),IV=(t,n)=>t.find(r=>r.id===n);function yE(t,n){const r=jP(t,n),s=r?t[r].findIndex(l=>l.id===n):-1;return{position:r,index:s}}function jP(t,n){for(const[r,s]of Object.entries(t))if(IV(s,n))return r}function BV(t){const n=t.includes("right"),r=t.includes("left");let s="center";return n&&(s="flex-end"),r&&(s="flex-start"),{display:"flex",flexDirection:"column",alignItems:s}}function $V(t){const r=t==="top"||t==="bottom"?"0 auto":void 0,s=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,l=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,u=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",d=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:r,top:s,bottom:l,right:u,left:d}}var FV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VV=OT(function(t){return FV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),UV=VV,HV=function(n){return n!=="theme"},bE=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?UV:HV},jE=function(n,r,s){var l;if(r){var u=r.shouldForwardProp;l=n.__emotion_forwardProp&&u?function(d){return n.__emotion_forwardProp(d)&&u(d)}:u}return typeof l!="function"&&s&&(l=n.__emotion_forwardProp),l},WV=function(n){var r=n.cache,s=n.serialized,l=n.isStringTag;return Ij(r,s,l),FT(function(){return Bj(r,s,l)}),null},qV=function t(n,r){var s=n.__emotion_real===n,l=s&&n.__emotion_base||n,u,d;r!==void 0&&(u=r.label,d=r.target);var m=jE(n,r,s),p=m||bE(l),g=!p("as");return function(){var x=arguments,j=s&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(u!==void 0&&j.push("label:"+u+";"),x[0]==null||x[0].raw===void 0)j.push.apply(j,x);else{var S=x[0];j.push(S[0]);for(var _=x.length,E=1;E<_;E++)j.push(x[E],S[E])}var A=Fj(function(T,z,M){var k=g&&T.as||l,O="",I=[],$=T;if(T.theme==null){$={};for(var G in T)$[G]=T[G];$.theme=b.useContext(Xd)}typeof T.className=="string"?O=IT(z.registered,I,T.className):T.className!=null&&(O=T.className+" ");var ee=zx(j.concat(I),z.registered,$);O+=z.key+"-"+ee.name,d!==void 0&&(O+=" "+d);var ue=g&&m===void 0?bE(k):p,fe={};for(var X in T)g&&X==="as"||ue(X)&&(fe[X]=T[X]);return fe.className=O,M&&(fe.ref=M),b.createElement(b.Fragment,null,b.createElement(WV,{cache:z,serialized:ee,isStringTag:typeof k=="string"}),b.createElement(k,fe))});return A.displayName=u!==void 0?u:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",A.defaultProps=n.defaultProps,A.__emotion_real=A,A.__emotion_base=l,A.__emotion_styles=j,A.__emotion_forwardProp=m,Object.defineProperty(A,"toString",{value:function(){return"."+d}}),A.withComponent=function(T,z){var M=t(T,ju({},r,z,{shouldForwardProp:jE(A,z,!0)}));return M.apply(void 0,j)},A}},GV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Db=qV.bind(null);GV.forEach(function(t){Db[t]=Db(t)});const ZV=new Set([...pO,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),YV=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function XV(t){return(YV.has(t)||!ZV.has(t))&&t[0]!=="_"}const KV=h4(Db),QV=({baseStyle:t})=>n=>{const{theme:r,css:s,__css:l,sx:u,...d}=n,[m]=b4(d,gO),p=Ks(t,n),g=QL({},l,p,Cp(m),u),x=pT(g)(n.theme);return s?[x,s]:x};function Cy(t,n){const{baseStyle:r,...s}=n??{};s.shouldForwardProp||(s.shouldForwardProp=XV);const l=QV({baseStyle:r}),u=KV(t,s)(l);return b.forwardRef(function(p,g){const{children:x,...j}=p,{colorMode:S,forced:_}=Lx(),E=_?S:void 0;return b.createElement(u,{ref:g,"data-theme":E,...j},x)})}function JV(){const t=new Map;return new Proxy(Cy,{apply(n,r,s){return Cy(...s)},get(n,r){return t.has(r)||t.set(r,Cy(r)),t.get(r)}})}const Be=JV(),eU={initial:t=>{const{position:n}=t,r=["top","bottom"].includes(n)?"y":"x";let s=["top-right","bottom-right"].includes(n)?1:-1;return n==="bottom"&&(s=1),{opacity:0,[r]:s*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},SP=b.memo(t=>{const{id:n,message:r,onCloseComplete:s,onRequestRemove:l,requestClose:u=!1,position:d="bottom",duration:m=5e3,containerStyle:p,motionVariants:g=eU,toastSpacing:x="0.5rem"}=t,[j,S]=b.useState(m),_=p8();yu(()=>{_||s?.()},[_]),yu(()=>{S(m)},[m]);const E=()=>S(null),A=()=>S(m),T=()=>{_&&l()};b.useEffect(()=>{_&&u&&l()},[_,u,l]),z4(T,j);const z=b.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:x,...p}),[p,x]),M=b.useMemo(()=>BV(d),[d]);return e.jsx(zo.div,{layout:!0,className:"chakra-toast",variants:g,initial:"initial",animate:"animate",exit:"exit",onHoverStart:E,onHoverEnd:A,custom:{position:d},style:M,children:e.jsx(Be.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:z,children:Ks(r,{id:n,onClose:T})})})});SP.displayName="ToastComponent";function Ke(t){return b.forwardRef(t)}var Ey,SE;function tU(){if(SE)return Ey;SE=1;var t=typeof Element<"u",n=typeof Map=="function",r=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(u,d){if(u===d)return!0;if(u&&d&&typeof u=="object"&&typeof d=="object"){if(u.constructor!==d.constructor)return!1;var m,p,g;if(Array.isArray(u)){if(m=u.length,m!=d.length)return!1;for(p=m;p--!==0;)if(!l(u[p],d[p]))return!1;return!0}var x;if(n&&u instanceof Map&&d instanceof Map){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;for(x=u.entries();!(p=x.next()).done;)if(!l(p.value[1],d.get(p.value[0])))return!1;return!0}if(r&&u instanceof Set&&d instanceof Set){if(u.size!==d.size)return!1;for(x=u.entries();!(p=x.next()).done;)if(!d.has(p.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(d)){if(m=u.length,m!=d.length)return!1;for(p=m;p--!==0;)if(u[p]!==d[p])return!1;return!0}if(u.constructor===RegExp)return u.source===d.source&&u.flags===d.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof d.valueOf=="function")return u.valueOf()===d.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof d.toString=="function")return u.toString()===d.toString();if(g=Object.keys(u),m=g.length,m!==Object.keys(d).length)return!1;for(p=m;p--!==0;)if(!Object.prototype.hasOwnProperty.call(d,g[p]))return!1;if(t&&u instanceof Element)return!1;for(p=m;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&u.$$typeof)&&!l(u[g[p]],d[g[p]]))return!1;return!0}return u!==u&&d!==d}return Ey=function(d,m){try{return l(d,m)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},Ey}var nU=tU();const rU=Sp(nU);function Du(){const t=b.useContext(Xd);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function wP(){const t=Lx(),n=Du();return{...t,theme:n}}function iU(t,n,r){if(n==null)return n;const s=l=>t.__cssMap?.[l]?.value;return s(n)??s(r)??r}function sU(t,n,r){const s=Array.isArray(n)?n:[n],l=Array.isArray(r)?r:[r];return u=>{const d=l.filter(Boolean),m=s.map((p,g)=>{const x=`${t}.${p}`;return iU(u,x,d[g]??p)});return Array.isArray(n)?m:m[0]}}function aU(t){return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0&&n!=="children"&&!b.isValidElement(r)))}function _P(t,n={}){const{styleConfig:r,...s}=n,{theme:l,colorMode:u}=wP(),d=t?nT(l,`components.${t}`):void 0,m=r||d,p=ya({theme:l,colorMode:u},m?.defaultProps??{},aU(s),(x,j)=>x?void 0:j),g=b.useRef({});if(m){const j=AO(m)(p);rU(g.current,j)||(g.current=j)}return g.current}function hs(t,n={}){return _P(t,n)}function si(t,n={}){return _P(t,n)}const wE={path:e.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Kn=Ke((t,n)=>{const{as:r,viewBox:s,color:l="currentColor",focusable:u=!1,children:d,className:m,__css:p,...g}=t,x=lt("chakra-icon",m),j=hs("Icon",t),S={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:l,...p,...j},_={ref:n,focusable:u,className:x,__css:S},E=s??wE.viewBox;if(r&&typeof r!="string")return e.jsx(Be.svg,{as:r,..._,...g});const A=d??wE.path;return e.jsx(Be.svg,{verticalAlign:"middle",viewBox:E,..._,...g,children:A})});Kn.displayName="Icon";function oU(t){return e.jsx(Kn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function lU(t){return e.jsx(Kn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function _E(t){return e.jsx(Kn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const cU=Sc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Sn=Ke((t,n)=>{const r=hs("Spinner",t),{label:s="Loading...",thickness:l="2px",speed:u="0.45s",emptyColor:d="transparent",className:m,...p}=On(t),g=lt("chakra-spinner",m),x={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:d,borderLeftColor:d,animation:`${cU} ${u} linear infinite`,...r};return e.jsx(Be.div,{ref:n,__css:x,className:g,...p,children:s&&e.jsx(Be.span,{srOnly:!0,children:s})})});Sn.displayName="Spinner";const[uU,ES]=Dn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[dU,AS]=Dn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),CP={info:{icon:lU,colorScheme:"blue"},warning:{icon:_E,colorScheme:"orange"},success:{icon:oU,colorScheme:"green"},error:{icon:_E,colorScheme:"red"},loading:{icon:Sn,colorScheme:"blue"}};function hU(t){return CP[t].colorScheme}function fU(t){return CP[t].icon}const tn=Ke(function(n,r){const{status:s="info",addRole:l=!0,...u}=On(n),d=n.colorScheme??hU(s),m=si("Alert",{...n,colorScheme:d}),p={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...m.container};return e.jsx(uU,{value:{status:s},children:e.jsx(dU,{value:m,children:e.jsx(Be.div,{"data-status":s,role:l?"alert":void 0,ref:r,...u,className:lt("chakra-alert",n.className),__css:p})})})});tn.displayName="Alert";function nn(t){const{status:n}=ES(),r=fU(n),s=AS(),l=n==="loading"?s.spinner:s.icon;return e.jsx(Be.span,{display:"inherit","data-status":n,...t,className:lt("chakra-alert__icon",t.className),__css:l,children:t.children||e.jsx(r,{h:"100%",w:"100%"})})}nn.displayName="AlertIcon";const EP=Ke(function(n,r){const s=AS(),{status:l}=ES();return e.jsx(Be.div,{ref:r,"data-status":l,...n,className:lt("chakra-alert__title",n.className),__css:s.title})});EP.displayName="AlertTitle";const AP=Ke(function(n,r){const{status:s}=ES(),l=AS(),u={display:"inline",...l.description};return e.jsx(Be.div,{ref:r,"data-status":s,...n,className:lt("chakra-alert__desc",n.className),__css:u})});AP.displayName="AlertDescription";function pU(t){return e.jsx(Kn,{focusable:"false","aria-hidden":!0,...t,children:e.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const TS=Ke(function(n,r){const s=hs("CloseButton",n),{children:l,isDisabled:u,__css:d,...m}=On(n),p={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return e.jsx(Be.button,{type:"button","aria-label":"Close",ref:r,disabled:u,__css:{...p,...s,...d},...m,children:l||e.jsx(pU,{width:"1em",height:"1em"})})});TS.displayName="CloseButton";const mU=t=>{const{status:n,variant:r="solid",id:s,title:l,isClosable:u,onClose:d,description:m,colorScheme:p,icon:g}=t,x=s?{root:`toast-${s}`,title:`toast-${s}-title`,description:`toast-${s}-description`}:void 0;return e.jsxs(tn,{addRole:!1,status:n,variant:r,id:x?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:p,children:[e.jsx(nn,{children:g}),e.jsxs(Be.div,{flex:"1",maxWidth:"100%",children:[l&&e.jsx(EP,{id:x?.title,children:l}),m&&e.jsx(AP,{id:x?.description,display:"block",children:m})]}),u&&e.jsx(TS,{size:"sm",onClick:d,position:"absolute",insetEnd:1,top:1})]})};function TP(t={}){const{render:n,toastComponent:r=mU}=t;return l=>typeof n=="function"?n({...l,...t}):e.jsx(r,{...l,...t})}const gU={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},bo=xU(gU);function xU(t){let n=t;const r=new Set,s=l=>{n=l(n),r.forEach(u=>u())};return{getState:()=>n,subscribe:l=>(r.add(l),()=>{s(()=>t),r.delete(l)}),removeToast:(l,u)=>{s(d=>({...d,[u]:d[u].filter(m=>m.id!=l)}))},notify:(l,u)=>{const d=vU(l,u),{position:m,id:p}=d;return s(g=>{const j=m.includes("top")?[d,...g[m]??[]]:[...g[m]??[],d];return{...g,[m]:j}}),p},update:(l,u)=>{l&&s(d=>{const m={...d},{position:p,index:g}=yE(m,l);return p&&g!==-1&&(m[p][g]={...m[p][g],...u,message:TP(u)}),m})},closeAll:({positions:l}={})=>{s(u=>(l??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((p,g)=>(p[g]=u[g].map(x=>({...x,requestClose:!0})),p),{...u}))},close:l=>{s(u=>{const d=jP(u,l);return d?{...u,[d]:u[d].map(m=>m.id==l?{...m,requestClose:!0}:m)}:u})},isActive:l=>!!yE(bo.getState(),l).position}}let CE=0;function vU(t,n={}){CE+=1;const r=n.id??CE,s=n.position??"bottom";return{id:r,message:t,position:s,duration:n.duration,onCloseComplete:n.onCloseComplete,onRequestRemove:()=>bo.removeToast(String(r),s),status:n.status,requestClose:!1,containerStyle:n.containerStyle}}const[kP,yU]=Dn({strict:!1,name:"PortalContext"}),kS="chakra-portal",bU=".chakra-portal",jU=t=>e.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),SU=t=>{const{appendToParentPortal:n,children:r}=t,[s,l]=b.useState(null),u=b.useRef(null),[,d]=b.useState({});b.useEffect(()=>d({}),[]);const m=yU(),p=o8();gl(()=>{if(!s)return;const x=s.ownerDocument,j=n?m??x.body:x.body;if(!j)return;u.current=x.createElement("div"),u.current.className=kS,j.appendChild(u.current),d({});const S=u.current;return()=>{j.contains(S)&&j.removeChild(S)}},[s]);const g=p?.zIndex?e.jsx(jU,{zIndex:p?.zIndex,children:r}):r;return u.current?Ej.createPortal(e.jsx(kP,{value:u.current,children:g}),u.current):e.jsx("span",{ref:x=>{x&&l(x)}})},wU=t=>{const{children:n,containerRef:r,appendToParentPortal:s}=t,l=r.current,u=l??(typeof window<"u"?document.body:void 0),d=b.useMemo(()=>{const p=l?.ownerDocument.createElement("div");return p&&(p.className=kS),p},[l]),[,m]=b.useState({});return gl(()=>m({}),[]),gl(()=>{if(!(!d||!u))return u.appendChild(d),()=>{u.removeChild(d)}},[d,u]),u&&d?Ej.createPortal(e.jsx(kP,{value:s?d:null,children:n}),d):null};function hh(t){const n={appendToParentPortal:!0,...t},{containerRef:r,...s}=n;return r?e.jsx(wU,{containerRef:r,...s}):e.jsx(SU,{...s})}hh.className=kS;hh.selector=bU;hh.displayName="Portal";const[_U,CU]=Dn({name:"ToastOptionsContext",strict:!1}),EU=t=>{const n=b.useSyncExternalStore(bo.subscribe,bo.getState,bo.getState),{motionVariants:r,component:s=SP,portalProps:l,animatePresenceProps:u}=t,m=Object.keys(n).map(p=>{const g=n[p];return e.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${p}`,id:`chakra-toast-manager-${p}`,style:$V(p),children:e.jsx(wc,{...u,initial:!1,children:g.map(x=>e.jsx(s,{motionVariants:r,...x},x.id))})},p)});return e.jsx(hh,{...l,children:m})},AU=t=>function({children:r,theme:s=t,toastOptions:l,...u}){return e.jsxs(c8,{theme:s,...u,children:[e.jsx(_U,{value:l?.defaultOptions,children:r}),e.jsx(EU,{...l})]})},TU=AU(kT);function EE(t){return t.sort((n,r)=>{const s=n.compareDocumentPosition(r);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const kU=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function AE(t,n,r){let s=t+1;return r&&s>=n&&(s=0),s}function TE(t,n,r){let s=t-1;return r&&s<0&&(s=n),s}const Ay=typeof window<"u"?b.useLayoutEffect:b.useEffect,kE=t=>t;var PU=Object.defineProperty,MU=(t,n,r)=>n in t?PU(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Nr=(t,n,r)=>(MU(t,typeof n!="symbol"?n+"":n,r),r);class RU{constructor(){Nr(this,"descendants",new Map),Nr(this,"register",n=>{if(n!=null)return kU(n)?this.registerNode(n):r=>{this.registerNode(r,n)}}),Nr(this,"unregister",n=>{this.descendants.delete(n);const r=EE(Array.from(this.descendants.keys()));this.assignIndex(r)}),Nr(this,"destroy",()=>{this.descendants.clear()}),Nr(this,"assignIndex",n=>{this.descendants.forEach(r=>{const s=n.indexOf(r.node);r.index=s,r.node.dataset.index=r.index.toString()})}),Nr(this,"count",()=>this.descendants.size),Nr(this,"enabledCount",()=>this.enabledValues().length),Nr(this,"values",()=>Array.from(this.descendants.values()).sort((r,s)=>r.index-s.index)),Nr(this,"enabledValues",()=>this.values().filter(n=>!n.disabled)),Nr(this,"item",n=>{if(this.count()!==0)return this.values()[n]}),Nr(this,"enabledItem",n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]}),Nr(this,"first",()=>this.item(0)),Nr(this,"firstEnabled",()=>this.enabledItem(0)),Nr(this,"last",()=>this.item(this.descendants.size-1)),Nr(this,"lastEnabled",()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)}),Nr(this,"indexOf",n=>n?this.descendants.get(n)?.index??-1:-1),Nr(this,"enabledIndexOf",n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n))),Nr(this,"next",(n,r=!0)=>{const s=AE(n,this.count(),r);return this.item(s)}),Nr(this,"nextEnabled",(n,r=!0)=>{const s=this.item(n);if(!s)return;const l=this.enabledIndexOf(s.node),u=AE(l,this.enabledCount(),r);return this.enabledItem(u)}),Nr(this,"prev",(n,r=!0)=>{const s=TE(n,this.count()-1,r);return this.item(s)}),Nr(this,"prevEnabled",(n,r=!0)=>{const s=this.item(n);if(!s)return;const l=this.enabledIndexOf(s.node),u=TE(l,this.enabledCount()-1,r);return this.enabledItem(u)}),Nr(this,"registerNode",(n,r)=>{if(!n||this.descendants.has(n))return;const s=Array.from(this.descendants.keys()).concat(n),l=EE(s);r?.disabled&&(r.disabled=!!r.disabled);const u={node:n,index:-1,...r};this.descendants.set(n,u),this.assignIndex(l)})}}function Fx(){const[t,n]=Dn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[t,n,()=>{const l=b.useRef(new RU);return Ay(()=>()=>l.current.destroy()),l.current},l=>{const u=n(),[d,m]=b.useState(-1),p=b.useRef(null);Ay(()=>()=>{p.current&&u.unregister(p.current)},[]),Ay(()=>{if(!p.current)return;const x=Number(p.current.dataset.index);d!=x&&!Number.isNaN(x)&&m(x)});const g=kE(l?u.register(l):u.register);return{descendants:u,index:d,enabledIndex:u.enabledIndexOf(p.current),register:Xr(g,p)}}]}const[zU,Vx]=Dn({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[DU,PS]=Dn({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[LU,OJ,OU,NU]=Fx();function IU(t){const{onChange:n,defaultIndex:r,index:s,allowMultiple:l,allowToggle:u,...d}=t;FU(t),VU(t);const m=OU(),[p,g]=b.useState(-1);b.useEffect(()=>()=>{g(-1)},[]);const[x,j]=Cx({value:s,defaultValue(){return l?r??[]:r??-1},onChange:n});return{index:x,setIndex:j,htmlProps:d,getAccordionItemProps:_=>{let E=!1;return _!==null&&(E=Array.isArray(x)?x.includes(_):x===_),{isOpen:E,onChange:T=>{if(_!==null)if(l&&Array.isArray(x)){const z=T?x.concat(_):x.filter(M=>M!==_);j(z)}else T?j(_):u&&j(-1)}}},focusedIndex:p,setFocusedIndex:g,descendants:m}}const[BU,MS]=Dn({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function $U(t){const{isDisabled:n,isFocusable:r,id:s,...l}=t,{getAccordionItemProps:u,setFocusedIndex:d}=MS(),m=b.useRef(null),p=b.useId(),g=s??p,x=`accordion-button-${g}`,j=`accordion-panel-${g}`;UU(t);const{register:S,index:_,descendants:E}=NU({disabled:n&&!r}),{isOpen:A,onChange:T}=u(_===-1?null:_);HU({isOpen:A,isDisabled:n});const z=()=>{T?.(!0)},M=()=>{T?.(!1)},k=b.useCallback(()=>{T?.(!A),d(_)},[_,d,A,T]),O=b.useCallback(ee=>{const fe={ArrowDown:()=>{E.nextEnabled(_)?.node.focus()},ArrowUp:()=>{E.prevEnabled(_)?.node.focus()},Home:()=>{E.firstEnabled()?.node.focus()},End:()=>{E.lastEnabled()?.node.focus()}}[ee.key];fe&&(ee.preventDefault(),fe(ee))},[E,_]),I=b.useCallback(()=>{d(_)},[d,_]),$=b.useCallback(function(ue={},fe=null){return{...ue,type:"button",ref:Xr(S,m,fe),id:x,disabled:!!n,"aria-expanded":!!A,"aria-controls":j,onClick:Jt(ue.onClick,k),onFocus:Jt(ue.onFocus,I),onKeyDown:Jt(ue.onKeyDown,O)}},[x,n,A,k,I,O,j,S]),G=b.useCallback(function(ue={},fe=null){return{...ue,ref:fe,role:"region",id:j,"aria-labelledby":x,hidden:!A}},[x,A,j]);return{isOpen:A,isDisabled:n,isFocusable:r,onOpen:z,onClose:M,getButtonProps:$,getPanelProps:G,htmlProps:l}}function FU(t){const n=t.index||t.defaultIndex,r=n!=null&&!Array.isArray(n)&&t.allowMultiple;Ap({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function VU(t){Ap({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function UU(t){Ap({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function HU(t){Ap({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}const PP=Ke(function({children:n,reduceMotion:r,...s},l){const u=si("Accordion",s),d=On(s),{htmlProps:m,descendants:p,...g}=IU(d),x=b.useMemo(()=>({...g,reduceMotion:!!r}),[g,r]);return e.jsx(LU,{value:p,children:e.jsx(BU,{value:x,children:e.jsx(zU,{value:u,children:e.jsx(Be.div,{ref:l,...m,className:lt("chakra-accordion",s.className),__css:u.root,children:n})})})})});PP.displayName="Accordion";const MP=Ke(function(n,r){const{getButtonProps:s}=PS(),l=s(n,r),d={display:"flex",alignItems:"center",width:"100%",outline:0,...Vx().button};return e.jsx(Be.button,{...l,className:lt("chakra-accordion__button",n.className),__css:d})});MP.displayName="AccordionButton";function RP(t){const{isOpen:n,isDisabled:r}=PS(),{reduceMotion:s}=MS(),l=lt("chakra-accordion__icon",t.className),u=Vx(),d={opacity:r?.4:1,transform:n?"rotate(-180deg)":void 0,transition:s?void 0:"transform 0.2s",transformOrigin:"center",...u.icon};return e.jsx(Kn,{viewBox:"0 0 24 24","aria-hidden":!0,className:l,__css:d,...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}RP.displayName="AccordionIcon";const zP=Ke(function(n,r){const{children:s,className:l}=n,{htmlProps:u,...d}=$U(n),m=Vx(),p={...m.container,overflowAnchor:"none"},g=b.useMemo(()=>d,[d]);return e.jsx(DU,{value:g,children:e.jsx(Be.div,{ref:r,...u,className:lt("chakra-accordion__item",l),__css:p,children:typeof s=="function"?s({isExpanded:!!d.isOpen,isDisabled:!!d.isDisabled}):s})})});zP.displayName="AccordionItem";const au={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},mf={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function Lb(t){switch(t?.direction??"right"){case"right":return mf.slideRight;case"left":return mf.slideLeft;case"bottom":return mf.slideDown;case"top":return mf.slideUp;default:return mf.slideRight}}const pu={enter:{duration:.2,ease:au.easeOut},exit:{duration:.1,ease:au.easeIn}},Ha={enter:(t,n)=>({...t,delay:typeof n=="number"?n:n?.enter}),exit:(t,n)=>({...t,delay:typeof n=="number"?n:n?.exit})},WU=t=>t!=null&&parseInt(t.toString(),10)>0,PE={exit:{height:{duration:.2,ease:au.ease},opacity:{duration:.3,ease:au.ease}},enter:{height:{duration:.3,ease:au.ease},opacity:{duration:.4,ease:au.ease}}},qU={exit:({animateOpacity:t,startingHeight:n,transition:r,transitionEnd:s,delay:l})=>({...t&&{opacity:WU(n)?1:0},height:n,transitionEnd:s?.exit,transition:r?.exit??Ha.exit(PE.exit,l)}),enter:({animateOpacity:t,endingHeight:n,transition:r,transitionEnd:s,delay:l})=>({...t&&{opacity:1},height:n,transitionEnd:s?.enter,transition:r?.enter??Ha.enter(PE.enter,l)})},RS=b.forwardRef((t,n)=>{const{in:r,unmountOnExit:s,animateOpacity:l=!0,startingHeight:u=0,endingHeight:d="auto",style:m,className:p,transition:g,transitionEnd:x,animatePresenceProps:j,...S}=t,[_,E]=b.useState(!1);b.useEffect(()=>{const k=setTimeout(()=>{E(!0)});return()=>clearTimeout(k)},[]),Ap({condition:Number(u)>0&&!!s,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const A=parseFloat(u.toString())>0,T={startingHeight:u,endingHeight:d,animateOpacity:l,transition:_?g:{enter:{duration:0}},transitionEnd:{enter:x?.enter,exit:s?x?.exit:{...x?.exit,display:A?"block":"none"}}},z=s?r:!0,M=r||s?"enter":"exit";return e.jsx(wc,{...j,initial:!1,custom:T,children:z&&e.jsx(zo.div,{ref:n,...S,className:lt("chakra-collapse",p),style:{overflow:"hidden",display:"block",...m},custom:T,variants:qU,initial:s?"exit":!1,animate:M,exit:"exit"})})});RS.displayName="Collapse";const DP=Ke(function(n,r){const{className:s,motionProps:l,...u}=n,{reduceMotion:d}=MS(),{getPanelProps:m,isOpen:p}=PS(),g=m(u,r),x=lt("chakra-accordion__panel",s),j=Vx();d||delete g.hidden;const S=e.jsx(Be.div,{...g,__css:j.panel,className:x});return d?S:e.jsx(RS,{in:p,...l,children:S})});DP.displayName="AccordionPanel";const[GU,ZU]=Dn({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function YU(t){const n=t.trim().split(" "),r=n[0]??"",s=n.length>1?n[n.length-1]:"";return r&&s?`${r.charAt(0)}${s.charAt(0)}`:r.charAt(0)}function LP(t){const{name:n,getInitials:r,...s}=t,l=ZU();return e.jsx(Be.div,{role:"img","aria-label":n,...s,__css:l.label,children:n?r?.(n):null})}LP.displayName="AvatarName";const OP=t=>e.jsxs(Be.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[e.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),e.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function NP(t){const{loading:n,src:r,srcSet:s,onLoad:l,onError:u,crossOrigin:d,sizes:m,ignoreFallback:p}=t,[g,x]=b.useState("pending");b.useEffect(()=>{x(r?"loading":"pending")},[r]);const j=b.useRef(null),S=b.useCallback(()=>{if(!r)return;_();const E=new Image;E.src=r,d&&(E.crossOrigin=d),s&&(E.srcset=s),m&&(E.sizes=m),n&&(E.loading=n),E.onload=A=>{_(),x("loaded"),l?.(A)},E.onerror=A=>{_(),x("failed"),u?.(A)},j.current=E},[r,d,s,m,l,u,n]),_=()=>{j.current&&(j.current.onload=null,j.current.onerror=null,j.current=null)};return gl(()=>{if(!p)return g==="loading"&&S(),()=>{_()}},[g,S,p]),p?"loaded":g}const XU=(t,n)=>t!=="loaded"&&n==="beforeLoadOrError"||t==="failed"&&n==="onError";function IP(t){const{src:n,srcSet:r,onError:s,onLoad:l,getInitials:u,name:d,borderRadius:m,loading:p,iconLabel:g,icon:x=e.jsx(OP,{}),ignoreFallback:j,referrerPolicy:S,crossOrigin:_}=t,A=NP({src:n,onError:s,crossOrigin:_,ignoreFallback:j})==="loaded";return!n||!A?d?e.jsx(LP,{className:"chakra-avatar__initials",getInitials:u,name:d}):b.cloneElement(x,{role:"img","aria-label":g}):e.jsx(Be.img,{src:n,srcSet:r,alt:d??g,onLoad:l,referrerPolicy:S,crossOrigin:_??void 0,className:"chakra-avatar__img",loading:p,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:m}})}IP.displayName="AvatarImage";const KU={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},BP=Ke((t,n)=>{const r=si("Avatar",t),[s,l]=b.useState(!1),{src:u,srcSet:d,name:m,showBorder:p,borderRadius:g="full",onError:x,onLoad:j,getInitials:S=YU,icon:_=e.jsx(OP,{}),iconLabel:E=" avatar",loading:A,children:T,borderColor:z,ignoreFallback:M,crossOrigin:k,referrerPolicy:O,...I}=On(t),$={borderRadius:g,borderWidth:p?"2px":void 0,...KU,...r.container};return z&&($.borderColor=z),e.jsx(Be.span,{ref:n,...I,className:lt("chakra-avatar",t.className),"data-loaded":yn(s),__css:$,children:e.jsxs(GU,{value:r,children:[e.jsx(IP,{src:u,srcSet:d,loading:A,onLoad:Jt(j,()=>{l(!0)}),onError:x,getInitials:S,name:m,borderRadius:g,icon:_,iconLabel:E,ignoreFallback:M,crossOrigin:k,referrerPolicy:O}),T]})})});BP.displayName="Avatar";const nt=Ke(function(n,r){const s=hs("Badge",n),{className:l,...u}=On(n);return e.jsx(Be.span,{ref:r,className:lt("chakra-badge",n.className),...u,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...s}})});nt.displayName="Badge";const xe=Be("div");xe.displayName="Box";const[QU,zS]=Dn({name:"BreadcrumbStylesContext",errorMessage:`useBreadcrumbStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Breadcrumb />" `}),Ob=Ke(function(n,r){const s=si("Breadcrumb",n),l=On(n),{children:u,spacing:d="0.5rem",separator:m="/",className:p,listProps:g,...x}=l,j=Ru(u),S=j.length,_=j.map((A,T)=>b.cloneElement(A,{separator:m,spacing:d,isLastChild:S===T+1})),E=lt("chakra-breadcrumb",p);return e.jsx(Be.nav,{ref:r,"aria-label":"breadcrumb",className:E,__css:s.container,...x,children:e.jsx(QU,{value:s,children:e.jsx(Be.ol,{className:"chakra-breadcrumb__list",...g,__css:{display:"flex",alignItems:"center",...s.list},children:_})})})});Ob.displayName="Breadcrumb";const cx=Ke(function(n,r){const{isCurrentPage:s,as:l,className:u,href:d,...m}=n,p=zS(),g={ref:r,as:l,className:lt("chakra-breadcrumb__link",u),...m};return s?e.jsx(Be.span,{"aria-current":"page",__css:p.link,...g}):e.jsx(Be.a,{__css:p.link,href:d,...g})});cx.displayName="BreadcrumbLink";const Nb=Ke(function(n,r){const{spacing:s,...l}=n,u=zS(),d={mx:s,...u.separator};return e.jsx(Be.span,{ref:r,role:"presentation",...l,__css:d})});Nb.displayName="BreadcrumbSeparator";const Ib=Ke(function(n,r){const{isCurrentPage:s,separator:l,isLastChild:u,spacing:d,children:m,className:p,...g}=n,j=Ru(m).map(A=>A.type===cx?b.cloneElement(A,{isCurrentPage:s}):A.type===Nb?b.cloneElement(A,{spacing:d,children:A.props.children||l}):A),S=zS(),_={display:"inline-flex",alignItems:"center",...S.item},E=lt("chakra-breadcrumb__list-item",p);return e.jsxs(Be.li,{ref:r,className:E,...g,__css:_,children:[j,!u&&e.jsx(Nb,{spacing:d,children:l})]})});Ib.displayName="BreadcrumbItem";const[JU,eH]=Dn({strict:!1,name:"ButtonGroupContext"});function Rf(t){const{children:n,className:r,...s}=t,l=b.isValidElement(n)?b.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,u=lt("chakra-button__icon",r);return e.jsx(Be.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...s,className:u,children:l})}Rf.displayName="ButtonIcon";function Bb(t){const{label:n,placement:r,spacing:s="0.5rem",children:l=e.jsx(Sn,{color:"currentColor",width:"1em",height:"1em"}),className:u,__css:d,...m}=t,p=lt("chakra-button__spinner",u),g=r==="start"?"marginEnd":"marginStart",x=b.useMemo(()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[g]:n?s:0,fontSize:"1em",lineHeight:"normal",...d}),[d,n,g,s]);return e.jsx(Be.div,{className:p,...m,__css:x,children:l})}Bb.displayName="ButtonSpinner";function tH(t){const[n,r]=b.useState(!t);return{ref:b.useCallback(u=>{u&&r(u.tagName==="BUTTON")},[]),type:n?"button":void 0}}const ne=Ke((t,n)=>{const r=eH(),s=hs("Button",{...r,...t}),{isDisabled:l=r?.isDisabled,isLoading:u,isActive:d,children:m,leftIcon:p,rightIcon:g,loadingText:x,iconSpacing:j="0.5rem",type:S,spinner:_,spinnerPlacement:E="start",className:A,as:T,shouldWrapChildren:z,...M}=On(t),k=b.useMemo(()=>{const G={...s?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...s,...!!r&&{_focus:G}}},[s,r]),{ref:O,type:I}=tH(T),$={rightIcon:g,leftIcon:p,iconSpacing:j,children:m,shouldWrapChildren:z};return e.jsxs(Be.button,{disabled:l||u,ref:M4(n,O),as:T,type:S??I,"data-active":yn(d),"data-loading":yn(u),__css:k,className:lt("chakra-button",A),...M,children:[u&&E==="start"&&e.jsx(Bb,{className:"chakra-button__spinner--start",label:x,placement:"start",spacing:j,children:_}),u?x||e.jsx(Be.span,{opacity:0,children:e.jsx(ME,{...$})}):e.jsx(ME,{...$}),u&&E==="end"&&e.jsx(Bb,{className:"chakra-button__spinner--end",label:x,placement:"end",spacing:j,children:_})]})});ne.displayName="Button";function ME(t){const{leftIcon:n,rightIcon:r,children:s,iconSpacing:l,shouldWrapChildren:u}=t;return u?e.jsxs("span",{style:{display:"contents"},children:[n&&e.jsx(Rf,{marginEnd:l,children:n}),s,r&&e.jsx(Rf,{marginStart:l,children:r})]}):e.jsxs(e.Fragment,{children:[n&&e.jsx(Rf,{marginEnd:l,children:n}),s,r&&e.jsx(Rf,{marginStart:l,children:r})]})}const nH={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},rH={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},$b=Ke(function(n,r){const{size:s,colorScheme:l,variant:u,className:d,spacing:m="0.5rem",isAttached:p,isDisabled:g,orientation:x="horizontal",...j}=n,S=lt("chakra-button__group",d),_=b.useMemo(()=>({size:s,colorScheme:l,variant:u,isDisabled:g}),[s,l,u,g]);let E={display:"inline-flex",...p?nH[x]:rH[x](m)};const A=x==="vertical";return e.jsx(JU,{value:_,children:e.jsx(Be.div,{ref:r,role:"group",__css:E,className:S,"data-attached":p?"":void 0,"data-orientation":x,flexDir:A?"column":void 0,...j})})});$b.displayName="ButtonGroup";const yt=Ke((t,n)=>{const{icon:r,children:s,isRound:l,"aria-label":u,...d}=t,m=r||s,p=b.isValidElement(m)?b.cloneElement(m,{"aria-hidden":!0,focusable:!1}):null;return e.jsx(ne,{px:"0",py:"0",borderRadius:l?"full":void 0,ref:n,"aria-label":u,...d,children:p})});yt.displayName="IconButton";const[iH,$P]=i8("Card"),Ie=Ke(function(n,r){const{className:s,children:l,direction:u="column",justify:d,align:m,...p}=On(n),g=si("Card",n);return e.jsx(Be.div,{ref:r,className:lt("chakra-card",s),__css:{display:"flex",flexDirection:u,justifyContent:d,alignItems:m,position:"relative",minWidth:0,wordWrap:"break-word",...g.container},...p,children:e.jsx(iH,{value:g,children:l})})}),Ne=Ke(function(n,r){const{className:s,...l}=n,u=$P();return e.jsx(Be.div,{ref:r,className:lt("chakra-card__body",s),__css:u.body,...l})}),Ot=Ke(function(n,r){const{className:s,...l}=n,u=$P();return e.jsx(Be.div,{ref:r,className:lt("chakra-card__header",s),__css:u.header,...l})}),jn=Be("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});jn.displayName="Center";const sH={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Ke(function(n,r){const{axis:s="both",...l}=n;return e.jsx(Be.div,{ref:r,__css:sH[s],...l,position:"absolute"})});const[aH,oH]=Dn({name:"CheckboxGroupContext",strict:!1});function lH(t){return e.jsx(Be.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...t,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function cH(t){return e.jsx(Be.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...t,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function uH(t){const{isIndeterminate:n,isChecked:r,...s}=t,l=n?cH:lH;return r||n?e.jsx(Be.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(l,{...s})}):null}var dH=()=>typeof document<"u",RE=!1,Lp=null,Su=!1,Fb=!1,Vb=new Set;function DS(t,n){Vb.forEach(r=>r(t,n))}var hH=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function fH(t){return!(t.metaKey||!hH&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function zE(t){Su=!0,fH(t)&&(Lp="keyboard",DS("keyboard",t))}function xd(t){if(Lp="pointer",t.type==="mousedown"||t.type==="pointerdown"){Su=!0;const n=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=n.matches(":focus-visible")}catch{}if(r)return;DS("pointer",t)}}function pH(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function mH(t){pH(t)&&(Su=!0,Lp="virtual")}function gH(t){t.target===window||t.target===document||t.target instanceof Element&&t.target.hasAttribute("tabindex")||(!Su&&!Fb&&(Lp="virtual",DS("virtual",t)),Su=!1,Fb=!1)}function xH(){Su=!1,Fb=!0}function DE(){return Lp!=="pointer"}function vH(){if(!dH()||RE)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...r){Su=!0,t.apply(this,r)},document.addEventListener("keydown",zE,!0),document.addEventListener("keyup",zE,!0),document.addEventListener("click",mH,!0),window.addEventListener("focus",gH,!0),window.addEventListener("blur",xH,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",xd,!0),document.addEventListener("pointermove",xd,!0),document.addEventListener("pointerup",xd,!0)):(document.addEventListener("mousedown",xd,!0),document.addEventListener("mousemove",xd,!0),document.addEventListener("mouseup",xd,!0)),RE=!0}function yH(t){vH(),t(DE());const n=()=>t(DE());return Vb.add(n),()=>{Vb.delete(n)}}const[bH,FP]=Dn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[jH,Ux]=Dn({strict:!1,name:"FormControlContext"});function SH(t){const{id:n,isRequired:r,isInvalid:s,isDisabled:l,isReadOnly:u,...d}=t,m=b.useId(),p=n||`field-${m}`,g=`${p}-label`,x=`${p}-feedback`,j=`${p}-helptext`,[S,_]=b.useState(!1),[E,A]=b.useState(!1),[T,z]=b.useState(!1),M=b.useCallback((G={},ee=null)=>({id:j,...G,ref:Xr(ee,ue=>{ue&&A(!0)})}),[j]),k=b.useCallback((G={},ee=null)=>({...G,ref:ee,"data-focus":yn(T),"data-disabled":yn(l),"data-invalid":yn(s),"data-readonly":yn(u),id:G.id!==void 0?G.id:g,htmlFor:G.htmlFor!==void 0?G.htmlFor:p}),[p,l,T,s,u,g]),O=b.useCallback((G={},ee=null)=>({id:x,...G,ref:Xr(ee,ue=>{ue&&_(!0)}),"aria-live":"polite"}),[x]),I=b.useCallback((G={},ee=null)=>({...G,...d,ref:ee,role:"group","data-focus":yn(T),"data-disabled":yn(l),"data-invalid":yn(s),"data-readonly":yn(u)}),[d,l,T,s,u]),$=b.useCallback((G={},ee=null)=>({...G,ref:ee,role:"presentation","aria-hidden":!0,children:G.children||"*"}),[]);return{isRequired:!!r,isInvalid:!!s,isReadOnly:!!u,isDisabled:!!l,isFocused:!!T,onFocus:()=>z(!0),onBlur:()=>z(!1),hasFeedbackText:S,setHasFeedbackText:_,hasHelpText:E,setHasHelpText:A,id:p,labelId:g,feedbackId:x,helpTextId:j,htmlProps:d,getHelpTextProps:M,getErrorMessageProps:O,getRootProps:I,getLabelProps:k,getRequiredIndicatorProps:$}}const J=Ke(function(n,r){const s=si("Form",n),l=On(n),{getRootProps:u,htmlProps:d,...m}=SH(l),p=lt("chakra-form-control",n.className);return e.jsx(jH,{value:m,children:e.jsx(bH,{value:s,children:e.jsx(Be.div,{...u({},r),className:p,__css:s.container})})})});J.displayName="FormControl";const Wg=Ke(function(n,r){const s=Ux(),l=FP(),u=lt("chakra-form__helper-text",n.className);return e.jsx(Be.div,{...s?.getHelpTextProps(n,r),__css:l.helperText,className:u})});Wg.displayName="FormHelperText";function LS(t){const{isDisabled:n,isInvalid:r,isReadOnly:s,isRequired:l,...u}=OS(t);return{...u,disabled:n,readOnly:s,required:l,"aria-invalid":cu(r),"aria-required":cu(l),"aria-readonly":cu(s)}}function OS(t){const n=Ux(),{id:r,disabled:s,readOnly:l,required:u,isRequired:d,isInvalid:m,isReadOnly:p,isDisabled:g,onFocus:x,onBlur:j,...S}=t,_=t["aria-describedby"]?[t["aria-describedby"]]:[];return n?.hasFeedbackText&&n?.isInvalid&&_.push(n.feedbackId),n?.hasHelpText&&_.push(n.helpTextId),{...S,"aria-describedby":_.join(" ")||void 0,id:r??n?.id,isDisabled:s??g??n?.isDisabled,isReadOnly:l??p??n?.isReadOnly,isRequired:u??d??n?.isRequired,isInvalid:m??n?.isInvalid,onFocus:Jt(n?.onFocus,x),onBlur:Jt(n?.onBlur,j)}}const NS={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function VP(t={}){const n=OS(t),{isDisabled:r,isReadOnly:s,isRequired:l,isInvalid:u,id:d,onBlur:m,onFocus:p,"aria-describedby":g}=n,{defaultChecked:x,isChecked:j,isFocusable:S,onChange:_,isIndeterminate:E,name:A,value:T,tabIndex:z=void 0,"aria-label":M,"aria-labelledby":k,"aria-invalid":O,...I}=t,$=Ep(I,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),G=di(_),ee=di(m),ue=di(p),[fe,X]=b.useState(!1),[me,Ee]=b.useState(!1),[pe,K]=b.useState(!1),Z=b.useRef(!1);b.useEffect(()=>yH($e=>{Z.current=$e}),[]);const W=b.useRef(null),[H,Se]=b.useState(!0),[B,ie]=b.useState(!!x),he=j!==void 0,F=he?j:B,P=b.useCallback($e=>{if(s||r){$e.preventDefault();return}he||ie(F?$e.currentTarget.checked:E?!0:$e.currentTarget.checked),G?.($e)},[s,r,F,he,E,G]);gl(()=>{W.current&&(W.current.indeterminate=!!E)},[E]),yu(()=>{r&&X(!1)},[r,X]),gl(()=>{const $e=W.current;if(!$e?.form)return;const Bt=()=>{ie(!!x)};return $e.form.addEventListener("reset",Bt),()=>$e.form?.removeEventListener("reset",Bt)},[]);const N=r&&!S,re=b.useCallback($e=>{$e.key===" "&&K(!0)},[K]),Le=b.useCallback($e=>{$e.key===" "&&K(!1)},[K]);gl(()=>{if(!W.current)return;W.current.checked!==F&&ie(W.current.checked)},[W.current]);const Oe=b.useCallback(($e={},Bt=null)=>{const ye=Ze=>{fe&&Ze.preventDefault(),K(!0)};return{...$e,ref:Bt,"data-active":yn(pe),"data-hover":yn(me),"data-checked":yn(F),"data-focus":yn(fe),"data-focus-visible":yn(fe&&Z.current),"data-indeterminate":yn(E),"data-disabled":yn(r),"data-invalid":yn(u),"data-readonly":yn(s),"aria-hidden":!0,onMouseDown:Jt($e.onMouseDown,ye),onMouseUp:Jt($e.onMouseUp,()=>K(!1)),onMouseEnter:Jt($e.onMouseEnter,()=>Ee(!0)),onMouseLeave:Jt($e.onMouseLeave,()=>Ee(!1))}},[pe,F,r,fe,me,E,u,s]),Pe=b.useCallback(($e={},Bt=null)=>({...$e,ref:Bt,"data-active":yn(pe),"data-hover":yn(me),"data-checked":yn(F),"data-focus":yn(fe),"data-focus-visible":yn(fe&&Z.current),"data-indeterminate":yn(E),"data-disabled":yn(r),"data-invalid":yn(u),"data-readonly":yn(s)}),[pe,F,r,fe,me,E,u,s]),it=b.useCallback(($e={},Bt=null)=>({...$,...$e,ref:Xr(Bt,ye=>{ye&&Se(ye.tagName==="LABEL")}),onClick:Jt($e.onClick,()=>{H||(W.current?.click(),requestAnimationFrame(()=>{W.current?.focus({preventScroll:!0})}))}),"data-disabled":yn(r),"data-checked":yn(F),"data-invalid":yn(u)}),[$,r,F,u,H]),ot=b.useCallback(($e={},Bt=null)=>({...$e,ref:Xr(W,Bt),type:"checkbox",name:A,value:T,id:d,tabIndex:z,onChange:Jt($e.onChange,P),onBlur:Jt($e.onBlur,ee,()=>X(!1)),onFocus:Jt($e.onFocus,ue,()=>X(!0)),onKeyDown:Jt($e.onKeyDown,re),onKeyUp:Jt($e.onKeyUp,Le),required:l,checked:F,disabled:N,readOnly:s,"aria-label":M,"aria-labelledby":k,"aria-invalid":O?!!O:u,"aria-describedby":g,"aria-disabled":r,"aria-checked":E?"mixed":F,style:NS}),[A,T,d,z,P,ee,ue,re,Le,l,F,N,s,M,k,O,u,g,r,E]),Qe=b.useCallback(($e={},Bt=null)=>({...$e,ref:Bt,onMouseDown:Jt($e.onMouseDown,wH),"data-disabled":yn(r),"data-checked":yn(F),"data-invalid":yn(u)}),[F,r,u]);return{state:{isInvalid:u,isFocused:fe,isChecked:F,isActive:pe,isHovered:me,isIndeterminate:E,isDisabled:r,isReadOnly:s,isRequired:l},getRootProps:it,getCheckboxProps:Oe,getIndicatorProps:Pe,getInputProps:ot,getLabelProps:Qe,htmlProps:$}}function wH(t){t.preventDefault(),t.stopPropagation()}function _H(t){const[n,r]=b.useState(t),[s,l]=b.useState(!1);return t!==n&&(l(!0),r(t)),s}const CH={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},EH={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},AH=Sc({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),TH=Sc({from:{opacity:0},to:{opacity:1}}),kH=Sc({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),mu=Ke(function(n,r){const s=oH(),l={...s,...n},u=si("Checkbox",l),d=On(n),{spacing:m="0.5rem",className:p,children:g,iconColor:x,iconSize:j,icon:S=e.jsx(uH,{}),isChecked:_,isDisabled:E=s?.isDisabled,onChange:A,inputProps:T,...z}=d;let M=_;s?.value&&d.value&&(M=s.value.includes(d.value));let k=A;s?.onChange&&d.value&&(k=JA(s.onChange,A));const{state:O,getInputProps:I,getCheckboxProps:$,getLabelProps:G,getRootProps:ee}=VP({...z,isDisabled:E,isChecked:M,onChange:k}),ue=_H(O.isChecked),fe=b.useMemo(()=>({animation:ue?O.isIndeterminate?`${TH} 20ms linear, ${kH} 200ms linear`:`${AH} 200ms linear`:void 0,...u.icon,...Cp({fontSize:j,color:x})}),[x,j,ue,O.isIndeterminate,u.icon]),X=b.cloneElement(S,{__css:fe,isIndeterminate:O.isIndeterminate,isChecked:O.isChecked});return e.jsxs(Be.label,{__css:{...EH,...u.container},className:lt("chakra-checkbox",p),...ee(),children:[e.jsx("input",{className:"chakra-checkbox__input",...I(T,r)}),e.jsx(Be.span,{__css:{...CH,...u.control},className:"chakra-checkbox__control",...$(),children:X}),g&&e.jsx(Be.span,{className:"chakra-checkbox__label",...G(),__css:{marginStart:m,...u.label},children:g})]})});mu.displayName="Checkbox";function LE(t){return t&&hi(t)&&hi(t.target)}function PH(t={}){const{defaultValue:n,value:r,onChange:s,isDisabled:l,isNative:u}=t,d=di(s),[m,p]=Cx({value:r,defaultValue:n||[],onChange:d}),g=b.useCallback(j=>{if(!m)return;const S=LE(j)?j.target.checked:!m.includes(j),_=LE(j)?j.target.value:j,E=S?[...m,_]:m.filter(A=>String(A)!==String(_));p(E)},[p,m]),x=b.useCallback((j={})=>({...j,[u?"checked":"isChecked"]:m.some(_=>String(j.value)===String(_)),onChange:g}),[g,u,m]);return{value:m,isDisabled:l,onChange:g,setValue:p,getCheckboxProps:x}}function UP(t){const{colorScheme:n,size:r,variant:s,children:l,isDisabled:u}=t,{value:d,onChange:m}=PH(t),p=b.useMemo(()=>({size:r,onChange:m,colorScheme:n,value:d,variant:s,isDisabled:u}),[r,m,n,d,s,u]);return e.jsx(aH,{value:p,children:l})}UP.displayName="CheckboxGroup";const ux=Ke(function(n,r){const s=hs("Code",n),{className:l,...u}=On(n);return e.jsx(Be.code,{ref:r,className:lt("chakra-code",n.className),...u,__css:{display:"inline-block",...s}})});ux.displayName="Code";const ds=Ke(function(n,r){const{className:s,centerContent:l,...u}=On(n),d=hs("Container",n);return e.jsx(Be.div,{ref:r,className:lt("chakra-container",s),...u,__css:{...d,...l&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});ds.displayName="Container";const Ln=Ke(function(n,r){const{borderLeftWidth:s,borderBottomWidth:l,borderTopWidth:u,borderRightWidth:d,borderWidth:m,borderStyle:p,borderColor:g,...x}=hs("Divider",n),{className:j,orientation:S="horizontal",__css:_,...E}=On(n),A={vertical:{borderLeftWidth:s||d||m||"1px",height:"100%"},horizontal:{borderBottomWidth:l||u||m||"1px",width:"100%"}};return e.jsx(Be.hr,{ref:r,"aria-orientation":S,...E,__css:{...x,border:"0",borderColor:g,borderStyle:p,...A[S],..._},className:lt("chakra-divider",j)})});Ln.displayName="Divider";function zf(t){return typeof t=="function"}function MH(...t){return n=>t.reduce((r,s)=>s(r),n)}const RH=t=>function(...r){let s=[...r],l=r[r.length-1];return QB(l)&&s.length>1?s=s.slice(0,s.length-1):l=t,MH(...s.map(u=>d=>zf(u)?u(d):DH(d,u)))(l)},zH=RH(kT);function DH(...t){return ya({},...t,HP)}function HP(t,n,r,s){if((zf(t)||zf(n))&&Object.prototype.hasOwnProperty.call(s,r))return(...l)=>{const u=zf(t)?t(...l):t,d=zf(n)?n(...l):n;return ya({},u,d,HP)};if(hi(t)&&ib(n)||ib(t)&&hi(n))return n}const lr=Ke(function(n,r){const{direction:s,align:l,justify:u,wrap:d,basis:m,grow:p,shrink:g,...x}=n,j={display:"flex",flexDirection:s,alignItems:l,justifyContent:u,flexWrap:d,flexBasis:m,flexGrow:p,flexShrink:g};return e.jsx(Be.div,{ref:r,__css:j,...x})});lr.displayName="Flex";function LH(t,n){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(n.indexOf(s)!==-1)continue;r[s]=t[s]}return r}var Ub="data-focus-lock",WP="data-focus-lock-disabled",OH="data-no-focus-lock",NH="data-autofocus-inside",IH="data-no-autofocus";function Ty(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function BH(t,n){var r=b.useState(function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(s){var l=r.value;l!==s&&(r.value=s,r.callback(s,l))}}}})[0];return r.callback=n,r.facade}var $H=typeof window<"u"?b.useLayoutEffect:b.useEffect,OE=new WeakMap;function qP(t,n){var r=BH(null,function(s){return t.forEach(function(l){return Ty(l,s)})});return $H(function(){var s=OE.get(r);if(s){var l=new Set(s),u=new Set(t),d=r.current;l.forEach(function(m){u.has(m)||Ty(m,null)}),u.forEach(function(m){l.has(m)||Ty(m,d)})}OE.set(r,t)},[t]),r}var ky={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},jo=function(){return jo=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},jo.apply(this,arguments)};function GP(t,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)n.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(r[s[l]]=t[s[l]]);return r}function FH(t,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,u;s<l;s++)(u||!(s in n))&&(u||(u=Array.prototype.slice.call(n,0,s)),u[s]=n[s]);return t.concat(u||Array.prototype.slice.call(n))}function ZP(t){return t}function YP(t,n){n===void 0&&(n=ZP);var r=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(u){var d=n(u,s);return r.push(d),function(){r=r.filter(function(m){return m!==d})}},assignSyncMedium:function(u){for(s=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){s=!0;var d=[];if(r.length){var m=r;r=[],m.forEach(u),d=r}var p=function(){var x=d;d=[],x.forEach(u)},g=function(){return Promise.resolve().then(p)};g(),r={push:function(x){d.push(x),g()},filter:function(x){return d=d.filter(x),r}}}};return l}function IS(t,n){return n===void 0&&(n=ZP),YP(t,n)}function XP(t){t===void 0&&(t={});var n=YP(null);return n.options=jo({async:!0,ssr:!1},t),n}var KP=function(t){var n=t.sideCar,r=GP(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,jo({},r))};KP.isSideCarExport=!0;function VH(t,n){return t.useMedium(n),KP}var QP=IS({},function(t){var n=t.target,r=t.currentTarget;return{target:n,currentTarget:r}}),JP=IS(),UH=IS(),HH=XP({async:!0,ssr:typeof document<"u"}),WH=b.createContext(void 0),qH=[],BS=b.forwardRef(function(n,r){var s,l=b.useState(),u=l[0],d=l[1],m=b.useRef(),p=b.useRef(!1),g=b.useRef(null),x=b.useState({}),j=x[1],S=n.children,_=n.disabled,E=_===void 0?!1:_,A=n.noFocusGuards,T=A===void 0?!1:A,z=n.persistentFocus,M=z===void 0?!1:z,k=n.crossFrame,O=k===void 0?!0:k,I=n.autoFocus,$=I===void 0?!0:I;n.allowTextSelection;var G=n.group,ee=n.className,ue=n.whiteList,fe=n.hasPositiveIndices,X=n.shards,me=X===void 0?qH:X,Ee=n.as,pe=Ee===void 0?"div":Ee,K=n.lockProps,Z=K===void 0?{}:K,W=n.sideCar,H=n.returnFocus,Se=H===void 0?!1:H,B=n.focusOptions,ie=n.onActivation,he=n.onDeactivation,F=b.useState({}),P=F[0],N=b.useCallback(function(ye){var Ze=ye.captureFocusRestore;if(!g.current){var Tt,ae=(Tt=document)==null?void 0:Tt.activeElement;g.current=ae,ae!==document.body&&(g.current=Ze(ae))}m.current&&ie&&ie(m.current),p.current=!0,j()},[ie]),re=b.useCallback(function(){p.current=!1,he&&he(m.current),j()},[he]),Le=b.useCallback(function(ye){var Ze=g.current;if(Ze){var Tt=(typeof Ze=="function"?Ze():Ze)||document.body,ae=typeof Se=="function"?Se(Tt):Se;if(ae){var ge=typeof ae=="object"?ae:void 0;g.current=null,ye?Promise.resolve().then(function(){return Tt.focus(ge)}):Tt.focus(ge)}}},[Se]),Oe=b.useCallback(function(ye){p.current&&QP.useMedium(ye)},[]),Pe=JP.useMedium,it=b.useCallback(function(ye){m.current!==ye&&(m.current=ye,d(ye))},[]),ot=ju((s={},s[WP]=E&&"disabled",s[Ub]=G,s),Z),Qe=T!==!0,wt=Qe&&T!=="tail",$e=qP([r,it]),Bt=b.useMemo(function(){return{observed:m,shards:me,enabled:!E,active:p.current}},[E,p.current,me,u]);return cn.createElement(b.Fragment,null,Qe&&[cn.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:E?-1:0,style:ky}),fe?cn.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:E?-1:1,style:ky}):null],!E&&cn.createElement(W,{id:P,sideCar:HH,observed:u,disabled:E,persistentFocus:M,crossFrame:O,autoFocus:$,whiteList:ue,shards:me,onActivation:N,onDeactivation:re,returnFocus:Le,focusOptions:B,noFocusGuards:T}),cn.createElement(pe,ju({ref:$e},ot,{className:ee,onBlur:Pe,onFocus:Oe}),cn.createElement(WH.Provider,{value:Bt},S)),wt&&cn.createElement("div",{"data-focus-guard":!0,tabIndex:E?-1:0,style:ky}))});BS.propTypes={};function Hb(t,n){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Hb(t,n)}function GH(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Hb(t,n)}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fp(t)}function ZH(t,n){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(fp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function YH(t){var n=ZH(t,"string");return fp(n)=="symbol"?n:n+""}function XH(t,n,r){return(n=YH(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function KH(t,n){function r(s){return s.displayName||s.name||"Component"}return function(l){var u=[],d;function m(){d=t(u.map(function(g){return g.props})),n(d)}var p=(function(g){GH(x,g);function x(){return g.apply(this,arguments)||this}x.peek=function(){return d};var j=x.prototype;return j.componentDidMount=function(){u.push(this),m()},j.componentDidUpdate=function(){m()},j.componentWillUnmount=function(){var _=u.indexOf(this);u.splice(_,1),m()},j.render=function(){return cn.createElement(l,this.props)},x})(b.PureComponent);return XH(p,"displayName","SideEffect("+r(l)+")"),p}}var Do=function(t){for(var n=Array(t.length),r=0;r<t.length;++r)n[r]=t[r];return n},wu=function(t){return Array.isArray(t)?t:[t]},eM=function(t){return Array.isArray(t)?t[0]:t},QH=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},tM=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},nM=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},JH=function(t){return t.hasAttribute("inert")},eW=function(t,n){return!t||nM(t)||!QH(t)&&!JH(t)&&n(tM(t))},rM=function(t,n){var r=t.get(n);if(r!==void 0)return r;var s=eW(n,rM.bind(void 0,t));return t.set(n,s),s},tW=function(t,n){return t&&!nM(t)?iW(t)?n(tM(t)):!1:!0},iM=function(t,n){var r=t.get(n);if(r!==void 0)return r;var s=tW(n,iM.bind(void 0,t));return t.set(n,s),s},sM=function(t){return t.dataset},nW=function(t){return t.tagName==="BUTTON"},aM=function(t){return t.tagName==="INPUT"},oM=function(t){return aM(t)&&t.type==="radio"},rW=function(t){return!((aM(t)||nW(t))&&(t.type==="hidden"||t.disabled))},iW=function(t){var n=t.getAttribute(IH);return![!0,"true",""].includes(n)},$S=function(t){var n;return!!(t&&(!((n=sM(t))===null||n===void 0)&&n.focusGuard))},Wb=function(t){return!$S(t)},sW=function(t){return!!t},aW=function(t,n){var r=Math.max(0,t.tabIndex),s=Math.max(0,n.tabIndex),l=r-s,u=t.index-n.index;if(l){if(!r)return 1;if(!s)return-1}return l||u},oW=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},FS=function(t,n,r){return Do(t).map(function(s,l){var u=oW(s);return{node:s,index:l,tabIndex:r&&u===-1?(s.dataset||{}).focusGuard?0:-1:u}}).filter(function(s){return!n||s.tabIndex>=0}).sort(aW)},lW=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],VS=lW.join(","),cW="".concat(VS,", [data-focus-guard]"),lM=function(t,n){return Do((t.shadowRoot||t).children).reduce(function(r,s){return r.concat(s.matches(n?cW:VS)?[s]:[],lM(s))},[])},uW=function(t,n){var r;return t instanceof HTMLIFrameElement&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?eh([t.contentDocument.body],n):[t]},eh=function(t,n){return t.reduce(function(r,s){var l,u=lM(s,n),d=(l=[]).concat.apply(l,u.map(function(m){return uW(m,n)}));return r.concat(d,s.parentNode?Do(s.parentNode.querySelectorAll(VS)).filter(function(m){return m===s}):[])},[])},dW=function(t){var n=t.querySelectorAll("[".concat(NH,"]"));return Do(n).map(function(r){return eh([r])}).reduce(function(r,s){return r.concat(s)},[])},US=function(t,n){return Do(t).filter(function(r){return rM(n,r)}).filter(function(r){return rW(r)})},NE=function(t,n){return n===void 0&&(n=new Map),Do(t).filter(function(r){return iM(n,r)})},HS=function(t,n,r){return FS(US(eh(t,r),n),!0,r)},pp=function(t,n){return FS(US(eh(t),n),!1)},hW=function(t,n){return US(dW(t),n)},gu=function(t,n){return t.shadowRoot?gu(t.shadowRoot,n):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,n)?!0:Do(t.children).some(function(r){var s;if(r instanceof HTMLIFrameElement){var l=(s=r.contentDocument)===null||s===void 0?void 0:s.body;return l?gu(l,n):!1}return gu(r,n)})},fW=function(t){for(var n=new Set,r=t.length,s=0;s<r;s+=1)for(var l=s+1;l<r;l+=1){var u=t[s].compareDocumentPosition(t[l]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(l),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(s)}return t.filter(function(d,m){return!n.has(m)})},cM=function(t){return t.parentNode?cM(t.parentNode):t},WS=function(t){var n=wu(t);return n.filter(Boolean).reduce(function(r,s){var l=s.getAttribute(Ub);return r.push.apply(r,l?fW(Do(cM(s).querySelectorAll("[".concat(Ub,'="').concat(l,'"]:not([').concat(WP,'="disabled"])')))):[s]),r},[])},pW=function(t){try{return t()}catch{return}},mp=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var n=t.activeElement;return n.shadowRoot?mp(n.shadowRoot):n instanceof HTMLIFrameElement&&pW(function(){return n.contentWindow.document})?mp(n.contentWindow.document):n}},mW=function(t,n){return t===n},gW=function(t,n){return!!Do(t.querySelectorAll("iframe")).some(function(r){return mW(r,n)})},uM=function(t,n){return n===void 0&&(n=mp(eM(t).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:WS(t).some(function(r){return gu(r,n)||gW(r,n)})},xW=function(t){t===void 0&&(t=document);var n=mp(t);return n?Do(t.querySelectorAll("[".concat(OH,"]"))).some(function(r){return gu(r,n)}):!1},vW=function(t,n){return n.filter(oM).filter(function(r){return r.name===t.name}).filter(function(r){return r.checked})[0]||t},qS=function(t,n){return oM(t)&&t.name?vW(t,n):t},yW=function(t){var n=new Set;return t.forEach(function(r){return n.add(qS(r,t))}),t.filter(function(r){return n.has(r)})},IE=function(t){return t[0]&&t.length>1?qS(t[0],t):t[0]},BE=function(t,n){return t.indexOf(qS(n,t))},qb="NEW_FOCUS",bW=function(t,n,r,s,l){var u=t.length,d=t[0],m=t[u-1],p=$S(s);if(!(s&&t.indexOf(s)>=0)){var g=s!==void 0?r.indexOf(s):-1,x=l?r.indexOf(l):g,j=l?t.indexOf(l):-1;if(g===-1)return j!==-1?j:qb;if(j===-1)return qb;var S=g-x,_=r.indexOf(d),E=r.indexOf(m),A=yW(r),T=s!==void 0?A.indexOf(s):-1,z=l?A.indexOf(l):T,M=A.filter(function(ee){return ee.tabIndex>=0}),k=s!==void 0?M.indexOf(s):-1,O=l?M.indexOf(l):k,I=k>=0&&O>=0?O-k:z-T;if(!S&&j>=0||n.length===0)return j;var $=BE(t,n[0]),G=BE(t,n[n.length-1]);if(g<=_&&p&&Math.abs(S)>1)return G;if(g>=E&&p&&Math.abs(S)>1)return $;if(S&&Math.abs(I)>1)return j;if(g<=_)return G;if(g>E)return $;if(S)return Math.abs(S)>1?j:(u+j+S)%u}},jW=function(t){return function(n){var r,s=(r=sM(n))===null||r===void 0?void 0:r.autofocus;return n.autofocus||s!==void 0&&s!=="false"||t.indexOf(n)>=0}},$E=function(t,n,r){var s=t.map(function(u){var d=u.node;return d}),l=NE(s.filter(jW(r)));return l&&l.length?IE(l):IE(NE(n))},Gb=function(t,n){return n===void 0&&(n=[]),n.push(t),t.parentNode&&Gb(t.parentNode.host||t.parentNode,n),n},Py=function(t,n){for(var r=Gb(t),s=Gb(n),l=0;l<r.length;l+=1){var u=r[l];if(s.indexOf(u)>=0)return u}return!1},dM=function(t,n,r){var s=wu(t),l=wu(n),u=s[0],d=!1;return l.filter(Boolean).forEach(function(m){d=Py(d||m,m)||d,r.filter(Boolean).forEach(function(p){var g=Py(u,p);g&&(!d||gu(g,d)?d=g:d=Py(g,d))})}),d},FE=function(t,n){return t.reduce(function(r,s){return r.concat(hW(s,n))},[])},SW=function(t,n){var r=new Map;return n.forEach(function(s){return r.set(s.node,s)}),t.map(function(s){return r.get(s)}).filter(sW)},wW=function(t,n){var r=mp(wu(t).length>0?document:eM(t).ownerDocument),s=WS(t).filter(Wb),l=dM(r||t,t,s),u=new Map,d=pp(s,u),m=d.filter(function(E){var A=E.node;return Wb(A)});if(m[0]){var p=pp([l],u).map(function(E){var A=E.node;return A}),g=SW(p,m),x=g.map(function(E){var A=E.node;return A}),j=g.filter(function(E){var A=E.tabIndex;return A>=0}).map(function(E){var A=E.node;return A}),S=bW(x,j,p,r,n);if(S===qb){var _=$E(d,j,FE(s,u))||$E(d,x,FE(s,u));if(_)return{node:_};console.warn("focus-lock: cannot find any node to move focus into");return}return S===void 0?S:g[S]}},_W=function(t){var n=WS(t).filter(Wb),r=dM(t,t,n),s=FS(eh([r],!0),!0,!0),l=eh(n,!1);return s.map(function(u){var d=u.node,m=u.index;return{node:d,index:m,lockItem:l.indexOf(d)>=0,guard:$S(d)}})},GS=function(t,n){t&&("focus"in t&&t.focus(n),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},My=0,Ry=!1,hM=function(t,n,r){r===void 0&&(r={});var s=wW(t,n);if(!Ry&&s){if(My>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Ry=!0,setTimeout(function(){Ry=!1},1);return}My++,GS(s.node,r.focusOptions),My--}};function gf(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var n=t?new WeakRef(t):null;return function(){return n?.deref()||null}}var CW=function(t){if(!t)return null;for(var n=[],r=t;r&&r!==document.body;)n.push({current:gf(r),parent:gf(r.parentElement),left:gf(r.previousElementSibling),right:gf(r.nextElementSibling)}),r=r.parentElement;return{element:gf(t),stack:n,ownerDocument:t.ownerDocument}},EW=function(t){var n,r,s,l,u;if(t)for(var d=t.stack,m=t.ownerDocument,p=new Map,g=0,x=d;g<x.length;g++){var j=x[g],S=(n=j.parent)===null||n===void 0?void 0:n.call(j);if(S&&m.contains(S)){for(var _=(r=j.left)===null||r===void 0?void 0:r.call(j),E=j.current(),A=S.contains(E)?E:void 0,T=(s=j.right)===null||s===void 0?void 0:s.call(j),z=HS([S],p),M=(u=(l=A??_?.nextElementSibling)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:_;M;){for(var k=0,O=z;k<O.length;k++){var I=O[k];if(M?.contains(I.node))return I.node}M=M.nextElementSibling}if(z.length)return z[0].node}}},fM=function(t){var n=CW(t);return function(){return EW(n)}},AW=function(t,n,r){if(!t||!n)return console.error("no element or scope given"),{};var s=wu(n);if(s.every(function(d){return!gu(d,t)}))return console.error("Active element is not contained in the scope"),{};var l=r?HS(s,new Map):pp(s,new Map),u=l.findIndex(function(d){var m=d.node;return m===t});if(u!==-1)return{prev:l[u-1],next:l[u+1],first:l[0],last:l[l.length-1]}},TW=function(t,n){var r=n?HS(wu(t),new Map):pp(wu(t),new Map);return{first:r[0],last:r[r.length-1]}},kW=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},pM=function(t,n,r){n===void 0&&(n={});var s=kW(n),l=AW(t,s.scope,s.onlyTabbable);if(l){var u=r(l,s.cycle);u&&GS(u.node,s.focusOptions)}},PW=function(t,n){n===void 0&&(n={}),pM(t,n,function(r,s){var l=r.next,u=r.first;return l||s&&u})},MW=function(t,n){n===void 0&&(n={}),pM(t,n,function(r,s){var l=r.prev,u=r.last;return l||s&&u})},mM=function(t,n,r){var s,l=TW(t,(s=n.onlyTabbable)!==null&&s!==void 0?s:!0),u=l[r];u&&GS(u.node,n.focusOptions)},RW=function(t,n){n===void 0&&(n={}),mM(t,n,"first")},zW=function(t,n){n===void 0&&(n={}),mM(t,n,"last")};function ZS(t){setTimeout(t,1)}var DW=function(n){return n&&"current"in n?n.current:n},gM=function(){return document&&document.activeElement===document.body},LW=function(){return gM()||xW()},Vd=null,Ss=null,VE=function(){return null},Ud=null,gp=!1,YS=!1,OW=function(){return!0},NW=function(n){return(Vd.whiteList||OW)(n)},IW=function(n,r){Ud={observerNode:n,portaledElement:r}},BW=function(n){return Ud&&Ud.portaledElement===n};function UE(t,n,r,s){var l=null,u=t;do{var d=s[u];if(d.guard)d.node.dataset.focusAutoGuard&&(l=d);else if(d.lockItem){if(u!==t)return;l=null}else break}while((u+=r)!==n);l&&(l.node.tabIndex=0)}var $W=function(n){return n?!!gp:gp==="meanwhile"},FW=function t(n,r,s){return r&&(r.host===n&&(!r.activeElement||s.contains(r.activeElement))||r.parentNode&&t(n,r.parentNode,s))},VW=function(n,r){return r.some(function(s){return FW(n,s,s)})},xM=function(n){return pp(n,new Map)},UW=function(n){return!xM([n.parentNode]).some(function(r){return r.node===n})},dx=function(){var n=!1;if(Vd){var r=Vd,s=r.observed,l=r.persistentFocus,u=r.autoFocus,d=r.shards,m=r.crossFrame,p=r.focusOptions,g=r.noFocusGuards,x=s||Ud&&Ud.portaledElement;if(gM()&&Ss&&Ss!==document.body&&(!document.body.contains(Ss)||UW(Ss))){var j=VE();j&&j.focus()}var S=document&&document.activeElement;if(x){var _=[x].concat(d.map(DW).filter(Boolean)),E=function(){if(!$W(m)||!g||!Ss||YS)return!1;var k=xM(_),O=k.findIndex(function(I){var $=I.node;return $===Ss});return O===0||O===k.length-1};if((!S||NW(S))&&(l||E()||!LW()||!Ss&&u)&&(x&&!(uM(_)||S&&VW(S,_)||BW(S))&&(document&&!Ss&&S&&!u?(S.blur&&S.blur(),document.body.focus()):(n=hM(_,Ss,{focusOptions:p}),Ud={})),Ss=document&&document.activeElement,Ss!==document.body&&(VE=fM(Ss)),gp=!1),document&&S!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var A=document&&document.activeElement,T=_W(_),z=T.map(function(M){var k=M.node;return k}).indexOf(A);z>-1&&(T.filter(function(M){var k=M.guard,O=M.node;return k&&O.dataset.focusAutoGuard}).forEach(function(M){var k=M.node;return k.removeAttribute("tabIndex")}),UE(z,T.length,1,T),UE(z,-1,-1,T))}}}return n},vM=function(n){dx()&&n&&(n.stopPropagation(),n.preventDefault())},XS=function(){return ZS(dx)},HW=function(n){var r=n.target,s=n.currentTarget;s.contains(r)||IW(s,r)},WW=function(){return null},yM=function(){YS=!0},bM=function(){YS=!1,gp="just",ZS(function(){gp="meanwhile"})},qW=function(){document.addEventListener("focusin",vM),document.addEventListener("focusout",XS),window.addEventListener("focus",yM),window.addEventListener("blur",bM)},GW=function(){document.removeEventListener("focusin",vM),document.removeEventListener("focusout",XS),window.removeEventListener("focus",yM),window.removeEventListener("blur",bM)};function ZW(t){return t.filter(function(n){var r=n.disabled;return!r})}var jM={moveFocusInside:hM,focusInside:uM,focusNextElement:PW,focusPrevElement:MW,focusFirstElement:RW,focusLastElement:zW,captureFocusRestore:fM};function YW(t){var n=t.slice(-1)[0];n&&!Vd&&qW();var r=Vd,s=r&&n&&n.id===r.id;Vd=n,r&&!s&&(r.onDeactivation(),t.filter(function(l){var u=l.id;return u===r.id}).length||r.returnFocus(!n)),n?(Ss=null,(!s||r.observed!==n.observed)&&n.onActivation(jM),dx(),ZS(dx)):(GW(),Ss=null)}QP.assignSyncMedium(HW);JP.assignMedium(XS);UH.assignMedium(function(t){return t(jM)});const XW=KH(ZW,YW)(WW);var Zb=b.forwardRef(function(n,r){return cn.createElement(BS,ju({sideCar:XW,ref:r},n))}),SM=BS.propTypes||{};SM.sideCar;LH(SM,["sideCar"]);Zb.propTypes={};const KW=Zb.default??Zb,wM=t=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:s,restoreFocus:l,children:u,isDisabled:d,autoFocus:m,persistentFocus:p,lockFocusAcrossFrames:g}=t,x=b.useCallback(()=>{n?.current?n.current.focus():s?.current&&c4(s.current).length===0&&requestAnimationFrame(()=>{s.current?.focus()})},[n,s]),j=b.useCallback(()=>{r?.current?.focus()},[r]),S=l&&!r;return e.jsx(KW,{crossFrame:g,persistentFocus:p,autoFocus:m,disabled:d,onActivation:x,onDeactivation:j,returnFocus:S,children:u})};wM.displayName="FocusLock";const Q=Ke(function(n,r){const s=hs("FormLabel",n),l=On(n),{className:u,children:d,requiredIndicator:m=e.jsx(_M,{}),optionalIndicator:p=null,...g}=l,x=Ux(),j=x?.getLabelProps(g,r)??{ref:r,...g};return e.jsxs(Be.label,{...j,className:lt("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...s},children:[d,x?.isRequired?m:p]})});Q.displayName="FormLabel";const _M=Ke(function(n,r){const s=Ux(),l=FP();if(!s?.isRequired)return null;const u=lt("chakra-form__required-indicator",n.className);return e.jsx(Be.span,{...s?.getRequiredIndicatorProps(n,r),__css:l.requiredIndicator,className:u})});_M.displayName="RequiredIndicator";const Sa=Ke(function(n,r){const{templateAreas:s,gap:l,rowGap:u,columnGap:d,column:m,row:p,autoFlow:g,autoRows:x,templateRows:j,autoColumns:S,templateColumns:_,...E}=n,A={display:"grid",gridTemplateAreas:s,gridGap:l,gridRowGap:u,gridColumnGap:d,gridAutoColumns:S,gridColumn:m,gridRow:p,gridAutoFlow:g,gridAutoRows:x,gridTemplateRows:j,gridTemplateColumns:_};return e.jsx(Be.div,{ref:r,__css:A,...E})});Sa.displayName="Grid";function HE(t){return _x(t,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const Yb=Ke(function(n,r){const{area:s,colSpan:l,colStart:u,colEnd:d,rowEnd:m,rowSpan:p,rowStart:g,...x}=n,j=Cp({gridArea:s,gridColumn:HE(l),gridRow:HE(p),gridColumnStart:u,gridColumnEnd:d,gridRowStart:g,gridRowEnd:m});return e.jsx(Be.div,{ref:r,__css:j,...x})});Yb.displayName="GridItem";const ht=Ke(function(n,r){const{columns:s,spacingX:l,spacingY:u,spacing:d,minChildWidth:m,...p}=n,g=Du(),x=m?JW(m,g):eq(s);return e.jsx(Sa,{ref:r,gap:d,columnGap:l,rowGap:u,templateColumns:x,...p})});ht.displayName="SimpleGrid";function QW(t){return typeof t=="number"?`${t}px`:t}function JW(t,n){return _x(t,r=>{const s=sU("sizes",r,QW(r))(n);return r===null?null:`repeat(auto-fit, minmax(${s}, 1fr))`})}function eq(t){return _x(t,n=>n===null?null:`repeat(${n}, minmax(0, 1fr))`)}function Lu(t){const{viewBox:n="0 0 24 24",d:r,displayName:s,defaultProps:l={}}=t,u=b.Children.toArray(t.path),d=Ke((m,p)=>e.jsx(Kn,{ref:p,viewBox:n,...l,...m,children:u.length?u:e.jsx("path",{fill:"currentColor",d:r})}));return d.displayName=s,d}const Xb=Ke(function(n,r){const{htmlWidth:s,htmlHeight:l,alt:u,...d}=n;return e.jsx("img",{width:s,height:l,ref:r,alt:u,...d})});Xb.displayName="NativeImage";const As=Ke(function(n,r){const{fallbackSrc:s,fallback:l,src:u,srcSet:d,align:m,fit:p,loading:g,ignoreFallback:x,crossOrigin:j,fallbackStrategy:S="beforeLoadOrError",referrerPolicy:_,...E}=n,A=s!==void 0||l!==void 0,T=g!=null||x||!A,z=NP({...n,crossOrigin:j,ignoreFallback:T}),M=XU(z,S),k={ref:r,objectFit:p,objectPosition:m,...T?E:Ep(E,["onError","onLoad"])};return M?l||e.jsx(Be.img,{as:Xb,className:"chakra-image__placeholder",src:s,...k}):e.jsx(Be.img,{as:Xb,src:u,srcSet:d,crossOrigin:j,loading:g,referrerPolicy:_,className:"chakra-image",...k})});As.displayName="Image";const je=Ke(function(n,r){const{htmlSize:s,...l}=n,u=si("Input",l),d=On(l),m=LS(d),p=lt("chakra-input",n.className);return e.jsx(Be.input,{size:s,...m,__css:u.field,ref:r,className:p})});je.displayName="Input";je.id="Input";const[tq,nq]=Dn({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),_u=Ke(function(n,r){const s=si("Input",n),{children:l,className:u,...d}=On(n),m=lt("chakra-input__group",u),p={},g=Ru(l),x=s.field;g.forEach(S=>{s&&(x&&S.type.id==="InputLeftElement"&&(p.paddingStart=x.height??x.h),x&&S.type.id==="InputRightElement"&&(p.paddingEnd=x.height??x.h),S.type.id==="InputRightAddon"&&(p.borderEndRadius=0),S.type.id==="InputLeftAddon"&&(p.borderStartRadius=0))});const j=g.map(S=>{const _=Cp({size:S.props?.size||n.size,variant:S.props?.variant||n.variant});return S.type.id!=="Input"?b.cloneElement(S,_):b.cloneElement(S,Object.assign(_,p,S.props))});return e.jsx(Be.div,{className:m,ref:r,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...s.group},"data-group":!0,...d,children:e.jsx(tq,{value:s,children:j})})});_u.displayName="InputGroup";const rq=Be("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Hx=Ke(function(n,r){const{placement:s="left",...l}=n,u=nq(),d=u.field,p={[s==="left"?"insetStart":"insetEnd"]:"0",width:d?.height??d?.h,height:d?.height??d?.h,fontSize:d?.fontSize,...u.element};return e.jsx(rq,{ref:r,__css:p,...l})});Hx.id="InputElement";Hx.displayName="InputElement";const Cu=Ke(function(n,r){const{className:s,...l}=n,u=lt("chakra-input__left-element",s);return e.jsx(Hx,{ref:r,placement:"left",className:u,...l})});Cu.id="InputLeftElement";Cu.displayName="InputLeftElement";const KS=Ke(function(n,r){const{className:s,...l}=n,u=lt("chakra-input__right-element",s);return e.jsx(Hx,{ref:r,placement:"right",className:u,...l})});KS.id="InputRightElement";KS.displayName="InputRightElement";const QS=Ke(function(n,r){const s=hs("Link",n),{className:l,isExternal:u,...d}=On(n);return e.jsx(Be.a,{target:u?"_blank":void 0,rel:u?"noopener":void 0,ref:r,className:lt("chakra-link",l),...d,__css:s})});QS.displayName="Link";const[iq,CM]=Dn({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),Wx=Ke(function(n,r){const s=si("List",n),{children:l,styleType:u="none",stylePosition:d,spacing:m,...p}=On(n),g=Ru(l),j=m?{"& > *:not(style) ~ *:not(style)":{mt:m}}:{};return e.jsx(iq,{value:s,children:e.jsx(Be.ul,{ref:r,listStyleType:u,listStylePosition:d,role:"list",__css:{...s.container,...j},...p,children:g})})});Wx.displayName="List";const sq=Ke((t,n)=>{const{as:r,...s}=t;return e.jsx(Wx,{ref:n,as:"ol",styleType:"decimal",marginStart:"1em",...s})});sq.displayName="OrderedList";const aq=Ke(function(n,r){const{as:s,...l}=n;return e.jsx(Wx,{ref:r,as:"ul",styleType:"initial",marginStart:"1em",...l})});aq.displayName="UnorderedList";const EM=Ke(function(n,r){const s=CM();return e.jsx(Be.li,{ref:r,...n,__css:s.item})});EM.displayName="ListItem";const oq=Ke(function(n,r){const s=CM();return e.jsx(Kn,{ref:r,role:"presentation",...n,__css:s.icon})});oq.displayName="ListIcon";function lq(t,n={}){const{ssr:r=!0,fallback:s}=n,{getWindow:l}=l8(),u=Array.isArray(t)?t:[t];let d=Array.isArray(s)?s:[s];d=d.filter(g=>g!=null);const[m,p]=b.useState(()=>u.map((g,x)=>({media:g,matches:r?!!d[x]:l().matchMedia(g).matches})));return b.useEffect(()=>{const g=l();p(u.map(S=>({media:S,matches:g.matchMedia(S).matches})));const x=u.map(S=>g.matchMedia(S)),j=S=>{p(_=>_.slice().map(E=>E.media===S.media?{...E,matches:S.matches}:E))};return x.forEach(S=>{typeof S.addListener=="function"?S.addListener(j):S.addEventListener("change",j)}),()=>{x.forEach(S=>{typeof S.removeListener=="function"?S.removeListener(j):S.removeEventListener("change",j)})}},[l]),m.map(g=>g.matches)}function cq(t){const n=hi(t)?t:{fallback:t??"base"},s=Du().__breakpoints.details.map(({minMaxQuery:m,breakpoint:p})=>({breakpoint:p,query:m.replace("@media screen and ","")})),l=s.map(m=>m.breakpoint===n.fallback),d=lq(s.map(m=>m.query),{fallback:l,ssr:n.ssr}).findIndex(m=>m==!0);return s[d]?.breakpoint??n.fallback}function uq(t,n,r=aT){let s=Object.keys(t).indexOf(n);if(s!==-1)return t[n];let l=r.indexOf(n);for(;l>=0;){const u=r[l];if(t.hasOwnProperty(u)){s=l;break}l-=1}if(s!==-1){const u=r[s];return t[u]}}function dq(t,n){const r=hi(n)?n:{fallback:"base"},s=cq(r),l=Du();if(!s)return;const u=Array.from(l.__breakpoints?.keys||[]),d=Array.isArray(t)?Object.fromEntries(Object.entries(m4(t,u)).map(([m,p])=>[m,p])):t;return uq(d,s,u)}function hq(t,n,r,s){if(n==null)return s;if(!s)return t.find(d=>r(d).toLowerCase().startsWith(n.toLowerCase()));const l=t.filter(u=>r(u).toLowerCase().startsWith(n.toLowerCase()));if(l.length>0){let u;return l.includes(s)?(u=l.indexOf(s)+1,u===l.length&&(u=0),l[u]):(u=t.indexOf(l[0]),t[u])}return s}function fq(t){const{key:n}=t;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function pq(t={}){const{timeout:n=300,preventDefault:r=()=>!0}=t,[s,l]=b.useState([]),u=b.useRef(void 0),d=()=>{u.current&&(clearTimeout(u.current),u.current=null)},m=()=>{d(),u.current=setTimeout(()=>{l([]),u.current=null},n)};b.useEffect(()=>d,[]);function p(g){return x=>{if(x.key==="Backspace"){const j=[...s];j.pop(),l(j);return}if(fq(x)){const j=s.concat(x.key);r(x)&&(x.preventDefault(),x.stopPropagation()),l(j),g(j.join("")),m()}}}return p}var _s="top",wa="bottom",_a="right",Cs="left",JS="auto",Op=[_s,wa,_a,Cs],th="start",xp="end",mq="clippingParents",AM="viewport",xf="popper",gq="reference",WE=Op.reduce(function(t,n){return t.concat([n+"-"+th,n+"-"+xp])},[]),TM=[].concat(Op,[JS]).reduce(function(t,n){return t.concat([n,n+"-"+th,n+"-"+xp])},[]),xq="beforeRead",vq="read",yq="afterRead",bq="beforeMain",jq="main",Sq="afterMain",wq="beforeWrite",_q="write",Cq="afterWrite",Eq=[xq,vq,yq,bq,jq,Sq,wq,_q,Cq];function Mo(t){return t?(t.nodeName||"").toLowerCase():null}function ra(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Eu(t){var n=ra(t).Element;return t instanceof n||t instanceof Element}function ba(t){var n=ra(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function e1(t){if(typeof ShadowRoot>"u")return!1;var n=ra(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Aq(t){var n=t.state;Object.keys(n.elements).forEach(function(r){var s=n.styles[r]||{},l=n.attributes[r]||{},u=n.elements[r];!ba(u)||!Mo(u)||(Object.assign(u.style,s),Object.keys(l).forEach(function(d){var m=l[d];m===!1?u.removeAttribute(d):u.setAttribute(d,m===!0?"":m)}))})}function Tq(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(s){var l=n.elements[s],u=n.attributes[s]||{},d=Object.keys(n.styles.hasOwnProperty(s)?n.styles[s]:r[s]),m=d.reduce(function(p,g){return p[g]="",p},{});!ba(l)||!Mo(l)||(Object.assign(l.style,m),Object.keys(u).forEach(function(p){l.removeAttribute(p)}))})}}const kq={name:"applyStyles",enabled:!0,phase:"write",fn:Aq,effect:Tq,requires:["computeStyles"]};function Ao(t){return t.split("-")[0]}var xu=Math.max,hx=Math.min,nh=Math.round;function Kb(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function kM(){return!/^((?!chrome|android).)*safari/i.test(Kb())}function rh(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var s=t.getBoundingClientRect(),l=1,u=1;n&&ba(t)&&(l=t.offsetWidth>0&&nh(s.width)/t.offsetWidth||1,u=t.offsetHeight>0&&nh(s.height)/t.offsetHeight||1);var d=Eu(t)?ra(t):window,m=d.visualViewport,p=!kM()&&r,g=(s.left+(p&&m?m.offsetLeft:0))/l,x=(s.top+(p&&m?m.offsetTop:0))/u,j=s.width/l,S=s.height/u;return{width:j,height:S,top:x,right:g+j,bottom:x+S,left:g,x:g,y:x}}function t1(t){var n=rh(t),r=t.offsetWidth,s=t.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-s)<=1&&(s=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:s}}function PM(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&e1(r)){var s=n;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function wl(t){return ra(t).getComputedStyle(t)}function Pq(t){return["table","td","th"].indexOf(Mo(t))>=0}function Cc(t){return((Eu(t)?t.ownerDocument:t.document)||window.document).documentElement}function qx(t){return Mo(t)==="html"?t:t.assignedSlot||t.parentNode||(e1(t)?t.host:null)||Cc(t)}function qE(t){return!ba(t)||wl(t).position==="fixed"?null:t.offsetParent}function Mq(t){var n=/firefox/i.test(Kb()),r=/Trident/i.test(Kb());if(r&&ba(t)){var s=wl(t);if(s.position==="fixed")return null}var l=qx(t);for(e1(l)&&(l=l.host);ba(l)&&["html","body"].indexOf(Mo(l))<0;){var u=wl(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function Np(t){for(var n=ra(t),r=qE(t);r&&Pq(r)&&wl(r).position==="static";)r=qE(r);return r&&(Mo(r)==="html"||Mo(r)==="body"&&wl(r).position==="static")?n:r||Mq(t)||n}function n1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kf(t,n,r){return xu(t,hx(n,r))}function Rq(t,n,r){var s=Kf(t,n,r);return s>r?r:s}function MM(){return{top:0,right:0,bottom:0,left:0}}function RM(t){return Object.assign({},MM(),t)}function zM(t,n){return n.reduce(function(r,s){return r[s]=t,r},{})}var zq=function(n,r){return n=typeof n=="function"?n(Object.assign({},r.rects,{placement:r.placement})):n,RM(typeof n!="number"?n:zM(n,Op))};function Dq(t){var n,r=t.state,s=t.name,l=t.options,u=r.elements.arrow,d=r.modifiersData.popperOffsets,m=Ao(r.placement),p=n1(m),g=[Cs,_a].indexOf(m)>=0,x=g?"height":"width";if(!(!u||!d)){var j=zq(l.padding,r),S=t1(u),_=p==="y"?_s:Cs,E=p==="y"?wa:_a,A=r.rects.reference[x]+r.rects.reference[p]-d[p]-r.rects.popper[x],T=d[p]-r.rects.reference[p],z=Np(u),M=z?p==="y"?z.clientHeight||0:z.clientWidth||0:0,k=A/2-T/2,O=j[_],I=M-S[x]-j[E],$=M/2-S[x]/2+k,G=Kf(O,$,I),ee=p;r.modifiersData[s]=(n={},n[ee]=G,n.centerOffset=G-$,n)}}function Lq(t){var n=t.state,r=t.options,s=r.element,l=s===void 0?"[data-popper-arrow]":s;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||PM(n.elements.popper,l)&&(n.elements.arrow=l))}const Oq={name:"arrow",enabled:!0,phase:"main",fn:Dq,effect:Lq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ih(t){return t.split("-")[1]}var Nq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Iq(t,n){var r=t.x,s=t.y,l=n.devicePixelRatio||1;return{x:nh(r*l)/l||0,y:nh(s*l)/l||0}}function GE(t){var n,r=t.popper,s=t.popperRect,l=t.placement,u=t.variation,d=t.offsets,m=t.position,p=t.gpuAcceleration,g=t.adaptive,x=t.roundOffsets,j=t.isFixed,S=d.x,_=S===void 0?0:S,E=d.y,A=E===void 0?0:E,T=typeof x=="function"?x({x:_,y:A}):{x:_,y:A};_=T.x,A=T.y;var z=d.hasOwnProperty("x"),M=d.hasOwnProperty("y"),k=Cs,O=_s,I=window;if(g){var $=Np(r),G="clientHeight",ee="clientWidth";if($===ra(r)&&($=Cc(r),wl($).position!=="static"&&m==="absolute"&&(G="scrollHeight",ee="scrollWidth")),$=$,l===_s||(l===Cs||l===_a)&&u===xp){O=wa;var ue=j&&$===I&&I.visualViewport?I.visualViewport.height:$[G];A-=ue-s.height,A*=p?1:-1}if(l===Cs||(l===_s||l===wa)&&u===xp){k=_a;var fe=j&&$===I&&I.visualViewport?I.visualViewport.width:$[ee];_-=fe-s.width,_*=p?1:-1}}var X=Object.assign({position:m},g&&Nq),me=x===!0?Iq({x:_,y:A},ra(r)):{x:_,y:A};if(_=me.x,A=me.y,p){var Ee;return Object.assign({},X,(Ee={},Ee[O]=M?"0":"",Ee[k]=z?"0":"",Ee.transform=(I.devicePixelRatio||1)<=1?"translate("+_+"px, "+A+"px)":"translate3d("+_+"px, "+A+"px, 0)",Ee))}return Object.assign({},X,(n={},n[O]=M?A+"px":"",n[k]=z?_+"px":"",n.transform="",n))}function Bq(t){var n=t.state,r=t.options,s=r.gpuAcceleration,l=s===void 0?!0:s,u=r.adaptive,d=u===void 0?!0:u,m=r.roundOffsets,p=m===void 0?!0:m,g={placement:Ao(n.placement),variation:ih(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,GE(Object.assign({},g,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:p})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,GE(Object.assign({},g,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const $q={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bq,data:{}};var fg={passive:!0};function Fq(t){var n=t.state,r=t.instance,s=t.options,l=s.scroll,u=l===void 0?!0:l,d=s.resize,m=d===void 0?!0:d,p=ra(n.elements.popper),g=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&g.forEach(function(x){x.addEventListener("scroll",r.update,fg)}),m&&p.addEventListener("resize",r.update,fg),function(){u&&g.forEach(function(x){x.removeEventListener("scroll",r.update,fg)}),m&&p.removeEventListener("resize",r.update,fg)}}const Vq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fq,data:{}};var Uq={left:"right",right:"left",bottom:"top",top:"bottom"};function qg(t){return t.replace(/left|right|bottom|top/g,function(n){return Uq[n]})}var Hq={start:"end",end:"start"};function ZE(t){return t.replace(/start|end/g,function(n){return Hq[n]})}function r1(t){var n=ra(t),r=n.pageXOffset,s=n.pageYOffset;return{scrollLeft:r,scrollTop:s}}function i1(t){return rh(Cc(t)).left+r1(t).scrollLeft}function Wq(t,n){var r=ra(t),s=Cc(t),l=r.visualViewport,u=s.clientWidth,d=s.clientHeight,m=0,p=0;if(l){u=l.width,d=l.height;var g=kM();(g||!g&&n==="fixed")&&(m=l.offsetLeft,p=l.offsetTop)}return{width:u,height:d,x:m+i1(t),y:p}}function qq(t){var n,r=Cc(t),s=r1(t),l=(n=t.ownerDocument)==null?void 0:n.body,u=xu(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=xu(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),m=-s.scrollLeft+i1(t),p=-s.scrollTop;return wl(l||r).direction==="rtl"&&(m+=xu(r.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:m,y:p}}function s1(t){var n=wl(t),r=n.overflow,s=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+s)}function DM(t){return["html","body","#document"].indexOf(Mo(t))>=0?t.ownerDocument.body:ba(t)&&s1(t)?t:DM(qx(t))}function Qf(t,n){var r;n===void 0&&(n=[]);var s=DM(t),l=s===((r=t.ownerDocument)==null?void 0:r.body),u=ra(s),d=l?[u].concat(u.visualViewport||[],s1(s)?s:[]):s,m=n.concat(d);return l?m:m.concat(Qf(qx(d)))}function Qb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Gq(t,n){var r=rh(t,!1,n==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function YE(t,n,r){return n===AM?Qb(Wq(t,r)):Eu(n)?Gq(n,r):Qb(qq(Cc(t)))}function Zq(t){var n=Qf(qx(t)),r=["absolute","fixed"].indexOf(wl(t).position)>=0,s=r&&ba(t)?Np(t):t;return Eu(s)?n.filter(function(l){return Eu(l)&&PM(l,s)&&Mo(l)!=="body"}):[]}function Yq(t,n,r,s){var l=n==="clippingParents"?Zq(t):[].concat(n),u=[].concat(l,[r]),d=u[0],m=u.reduce(function(p,g){var x=YE(t,g,s);return p.top=xu(x.top,p.top),p.right=hx(x.right,p.right),p.bottom=hx(x.bottom,p.bottom),p.left=xu(x.left,p.left),p},YE(t,d,s));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function LM(t){var n=t.reference,r=t.element,s=t.placement,l=s?Ao(s):null,u=s?ih(s):null,d=n.x+n.width/2-r.width/2,m=n.y+n.height/2-r.height/2,p;switch(l){case _s:p={x:d,y:n.y-r.height};break;case wa:p={x:d,y:n.y+n.height};break;case _a:p={x:n.x+n.width,y:m};break;case Cs:p={x:n.x-r.width,y:m};break;default:p={x:n.x,y:n.y}}var g=l?n1(l):null;if(g!=null){var x=g==="y"?"height":"width";switch(u){case th:p[g]=p[g]-(n[x]/2-r[x]/2);break;case xp:p[g]=p[g]+(n[x]/2-r[x]/2);break}}return p}function vp(t,n){n===void 0&&(n={});var r=n,s=r.placement,l=s===void 0?t.placement:s,u=r.strategy,d=u===void 0?t.strategy:u,m=r.boundary,p=m===void 0?mq:m,g=r.rootBoundary,x=g===void 0?AM:g,j=r.elementContext,S=j===void 0?xf:j,_=r.altBoundary,E=_===void 0?!1:_,A=r.padding,T=A===void 0?0:A,z=RM(typeof T!="number"?T:zM(T,Op)),M=S===xf?gq:xf,k=t.rects.popper,O=t.elements[E?M:S],I=Yq(Eu(O)?O:O.contextElement||Cc(t.elements.popper),p,x,d),$=rh(t.elements.reference),G=LM({reference:$,element:k,placement:l}),ee=Qb(Object.assign({},k,G)),ue=S===xf?ee:$,fe={top:I.top-ue.top+z.top,bottom:ue.bottom-I.bottom+z.bottom,left:I.left-ue.left+z.left,right:ue.right-I.right+z.right},X=t.modifiersData.offset;if(S===xf&&X){var me=X[l];Object.keys(fe).forEach(function(Ee){var pe=[_a,wa].indexOf(Ee)>=0?1:-1,K=[_s,wa].indexOf(Ee)>=0?"y":"x";fe[Ee]+=me[K]*pe})}return fe}function Xq(t,n){n===void 0&&(n={});var r=n,s=r.placement,l=r.boundary,u=r.rootBoundary,d=r.padding,m=r.flipVariations,p=r.allowedAutoPlacements,g=p===void 0?TM:p,x=ih(s),j=x?m?WE:WE.filter(function(E){return ih(E)===x}):Op,S=j.filter(function(E){return g.indexOf(E)>=0});S.length===0&&(S=j);var _=S.reduce(function(E,A){return E[A]=vp(t,{placement:A,boundary:l,rootBoundary:u,padding:d})[Ao(A)],E},{});return Object.keys(_).sort(function(E,A){return _[E]-_[A]})}function Kq(t){if(Ao(t)===JS)return[];var n=qg(t);return[ZE(t),n,ZE(n)]}function Qq(t){var n=t.state,r=t.options,s=t.name;if(!n.modifiersData[s]._skip){for(var l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!0:d,p=r.fallbackPlacements,g=r.padding,x=r.boundary,j=r.rootBoundary,S=r.altBoundary,_=r.flipVariations,E=_===void 0?!0:_,A=r.allowedAutoPlacements,T=n.options.placement,z=Ao(T),M=z===T,k=p||(M||!E?[qg(T)]:Kq(T)),O=[T].concat(k).reduce(function(P,N){return P.concat(Ao(N)===JS?Xq(n,{placement:N,boundary:x,rootBoundary:j,padding:g,flipVariations:E,allowedAutoPlacements:A}):N)},[]),I=n.rects.reference,$=n.rects.popper,G=new Map,ee=!0,ue=O[0],fe=0;fe<O.length;fe++){var X=O[fe],me=Ao(X),Ee=ih(X)===th,pe=[_s,wa].indexOf(me)>=0,K=pe?"width":"height",Z=vp(n,{placement:X,boundary:x,rootBoundary:j,altBoundary:S,padding:g}),W=pe?Ee?_a:Cs:Ee?wa:_s;I[K]>$[K]&&(W=qg(W));var H=qg(W),Se=[];if(u&&Se.push(Z[me]<=0),m&&Se.push(Z[W]<=0,Z[H]<=0),Se.every(function(P){return P})){ue=X,ee=!1;break}G.set(X,Se)}if(ee)for(var B=E?3:1,ie=function(N){var re=O.find(function(Le){var Oe=G.get(Le);if(Oe)return Oe.slice(0,N).every(function(Pe){return Pe})});if(re)return ue=re,"break"},he=B;he>0;he--){var F=ie(he);if(F==="break")break}n.placement!==ue&&(n.modifiersData[s]._skip=!0,n.placement=ue,n.reset=!0)}}const Jq={name:"flip",enabled:!0,phase:"main",fn:Qq,requiresIfExists:["offset"],data:{_skip:!1}};function XE(t,n,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function KE(t){return[_s,_a,wa,Cs].some(function(n){return t[n]>=0})}function eG(t){var n=t.state,r=t.name,s=n.rects.reference,l=n.rects.popper,u=n.modifiersData.preventOverflow,d=vp(n,{elementContext:"reference"}),m=vp(n,{altBoundary:!0}),p=XE(d,s),g=XE(m,l,u),x=KE(p),j=KE(g);n.modifiersData[r]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:x,hasPopperEscaped:j},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":j})}const tG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eG};function nG(t,n,r){var s=Ao(t),l=[Cs,_s].indexOf(s)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},n,{placement:t})):r,d=u[0],m=u[1];return d=d||0,m=(m||0)*l,[Cs,_a].indexOf(s)>=0?{x:m,y:d}:{x:d,y:m}}function rG(t){var n=t.state,r=t.options,s=t.name,l=r.offset,u=l===void 0?[0,0]:l,d=TM.reduce(function(x,j){return x[j]=nG(j,n.rects,u),x},{}),m=d[n.placement],p=m.x,g=m.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=p,n.modifiersData.popperOffsets.y+=g),n.modifiersData[s]=d}const iG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rG};function sG(t){var n=t.state,r=t.name;n.modifiersData[r]=LM({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const aG={name:"popperOffsets",enabled:!0,phase:"read",fn:sG,data:{}};function oG(t){return t==="x"?"y":"x"}function lG(t){var n=t.state,r=t.options,s=t.name,l=r.mainAxis,u=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!1:d,p=r.boundary,g=r.rootBoundary,x=r.altBoundary,j=r.padding,S=r.tether,_=S===void 0?!0:S,E=r.tetherOffset,A=E===void 0?0:E,T=vp(n,{boundary:p,rootBoundary:g,padding:j,altBoundary:x}),z=Ao(n.placement),M=ih(n.placement),k=!M,O=n1(z),I=oG(O),$=n.modifiersData.popperOffsets,G=n.rects.reference,ee=n.rects.popper,ue=typeof A=="function"?A(Object.assign({},n.rects,{placement:n.placement})):A,fe=typeof ue=="number"?{mainAxis:ue,altAxis:ue}:Object.assign({mainAxis:0,altAxis:0},ue),X=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,me={x:0,y:0};if($){if(u){var Ee,pe=O==="y"?_s:Cs,K=O==="y"?wa:_a,Z=O==="y"?"height":"width",W=$[O],H=W+T[pe],Se=W-T[K],B=_?-ee[Z]/2:0,ie=M===th?G[Z]:ee[Z],he=M===th?-ee[Z]:-G[Z],F=n.elements.arrow,P=_&&F?t1(F):{width:0,height:0},N=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:MM(),re=N[pe],Le=N[K],Oe=Kf(0,G[Z],P[Z]),Pe=k?G[Z]/2-B-Oe-re-fe.mainAxis:ie-Oe-re-fe.mainAxis,it=k?-G[Z]/2+B+Oe+Le+fe.mainAxis:he+Oe+Le+fe.mainAxis,ot=n.elements.arrow&&Np(n.elements.arrow),Qe=ot?O==="y"?ot.clientTop||0:ot.clientLeft||0:0,wt=(Ee=X?.[O])!=null?Ee:0,$e=W+Pe-wt-Qe,Bt=W+it-wt,ye=Kf(_?hx(H,$e):H,W,_?xu(Se,Bt):Se);$[O]=ye,me[O]=ye-W}if(m){var Ze,Tt=O==="x"?_s:Cs,ae=O==="x"?wa:_a,ge=$[I],Je=I==="y"?"height":"width",bt=ge+T[Tt],An=ge-T[ae],nr=[_s,Cs].indexOf(z)!==-1,Fe=(Ze=X?.[I])!=null?Ze:0,et=nr?bt:ge-G[Je]-ee[Je]-Fe+fe.altAxis,jt=nr?ge+G[Je]+ee[Je]-Fe-fe.altAxis:An,Ye=_&&nr?Rq(et,ge,jt):Kf(_?et:bt,ge,_?jt:An);$[I]=Ye,me[I]=Ye-ge}n.modifiersData[s]=me}}const cG={name:"preventOverflow",enabled:!0,phase:"main",fn:lG,requiresIfExists:["offset"]};function uG(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function dG(t){return t===ra(t)||!ba(t)?r1(t):uG(t)}function hG(t){var n=t.getBoundingClientRect(),r=nh(n.width)/t.offsetWidth||1,s=nh(n.height)/t.offsetHeight||1;return r!==1||s!==1}function fG(t,n,r){r===void 0&&(r=!1);var s=ba(n),l=ba(n)&&hG(n),u=Cc(n),d=rh(t,l,r),m={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(s||!s&&!r)&&((Mo(n)!=="body"||s1(u))&&(m=dG(n)),ba(n)?(p=rh(n,!0),p.x+=n.clientLeft,p.y+=n.clientTop):u&&(p.x=i1(u))),{x:d.left+m.scrollLeft-p.x,y:d.top+m.scrollTop-p.y,width:d.width,height:d.height}}function pG(t){var n=new Map,r=new Set,s=[];t.forEach(function(u){n.set(u.name,u)});function l(u){r.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(m){if(!r.has(m)){var p=n.get(m);p&&l(p)}}),s.push(u)}return t.forEach(function(u){r.has(u.name)||l(u)}),s}function mG(t){var n=pG(t);return Eq.reduce(function(r,s){return r.concat(n.filter(function(l){return l.phase===s}))},[])}function gG(t){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(t())})})),n}}function xG(t){var n=t.reduce(function(r,s){var l=r[s.name];return r[s.name]=l?Object.assign({},l,s,{options:Object.assign({},l.options,s.options),data:Object.assign({},l.data,s.data)}):s,r},{});return Object.keys(n).map(function(r){return n[r]})}var QE={placement:"bottom",modifiers:[],strategy:"absolute"};function JE(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function vG(t){t===void 0&&(t={});var n=t,r=n.defaultModifiers,s=r===void 0?[]:r,l=n.defaultOptions,u=l===void 0?QE:l;return function(m,p,g){g===void 0&&(g=u);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},QE,u),modifiersData:{},elements:{reference:m,popper:p},attributes:{},styles:{}},j=[],S=!1,_={state:x,setOptions:function(z){var M=typeof z=="function"?z(x.options):z;A(),x.options=Object.assign({},u,x.options,M),x.scrollParents={reference:Eu(m)?Qf(m):m.contextElement?Qf(m.contextElement):[],popper:Qf(p)};var k=mG(xG([].concat(s,x.options.modifiers)));return x.orderedModifiers=k.filter(function(O){return O.enabled}),E(),_.update()},forceUpdate:function(){if(!S){var z=x.elements,M=z.reference,k=z.popper;if(JE(M,k)){x.rects={reference:fG(M,Np(k),x.options.strategy==="fixed"),popper:t1(k)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(fe){return x.modifiersData[fe.name]=Object.assign({},fe.data)});for(var O=0;O<x.orderedModifiers.length;O++){if(x.reset===!0){x.reset=!1,O=-1;continue}var I=x.orderedModifiers[O],$=I.fn,G=I.options,ee=G===void 0?{}:G,ue=I.name;typeof $=="function"&&(x=$({state:x,options:ee,name:ue,instance:_})||x)}}}},update:gG(function(){return new Promise(function(T){_.forceUpdate(),T(x)})}),destroy:function(){A(),S=!0}};if(!JE(m,p))return _;_.setOptions(g).then(function(T){!S&&g.onFirstUpdate&&g.onFirstUpdate(T)});function E(){x.orderedModifiers.forEach(function(T){var z=T.name,M=T.options,k=M===void 0?{}:M,O=T.effect;if(typeof O=="function"){var I=O({state:x,name:z,instance:_,options:k}),$=function(){};j.push(I||$)}})}function A(){j.forEach(function(T){return T()}),j=[]}return _}}var yG=[Vq,aG,$q,kq,iG,Jq,cG,Oq,tG],bG=vG({defaultModifiers:yG});const vd=(t,n)=>({var:t,varRef:n?`var(${t}, ${n})`:`var(${t})`}),Oi={arrowShadowColor:vd("--popper-arrow-shadow-color"),arrowSize:vd("--popper-arrow-size","8px"),arrowSizeHalf:vd("--popper-arrow-size-half"),arrowBg:vd("--popper-arrow-bg"),transformOrigin:vd("--popper-transform-origin"),arrowOffset:vd("--popper-arrow-offset")};function jG(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const SG={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},wG=t=>SG[t],eA={scroll:!0,resize:!0};function _G(t){let n;return typeof t=="object"?n={enabled:!0,options:{...eA,...t}}:n={enabled:t,options:eA},n}const CG={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const n=t.elements.reference;t.elements.popper.style.width=`${n.offsetWidth}px`}},EG={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{tA(t)},effect:({state:t})=>()=>{tA(t)}},tA=t=>{t.elements.popper.style.setProperty(Oi.transformOrigin.var,wG(t.placement))},AG={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{TG(t)}},TG=t=>{if(!t.placement)return;const n=kG(t.placement);if(t.elements?.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:Oi.arrowSize.varRef,height:Oi.arrowSize.varRef,zIndex:-1});const r={[Oi.arrowSizeHalf.var]:`calc(${Oi.arrowSize.varRef} / 2 - 1px)`,[Oi.arrowOffset.var]:`calc(${Oi.arrowSizeHalf.varRef} * -1)`};for(const s in r)t.elements.arrow.style.setProperty(s,r[s])}},kG=t=>{if(t.startsWith("top"))return{property:"bottom",value:Oi.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:Oi.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:Oi.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:Oi.arrowOffset.varRef}},PG={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{nA(t)},effect:({state:t})=>()=>{nA(t)}},nA=t=>{if(!t.elements.arrow)return;const n=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!n)return;const r=jG(t.placement);r&&n.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(n.style,{transform:"rotate(45deg)",background:Oi.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},MG={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},RG={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function zG(t,n="ltr"){const r=MG[t]?.[n]||t;return n==="ltr"?r:RG[t]??r}function OM(t={}){const{enabled:n=!0,modifiers:r,placement:s="bottom",strategy:l="absolute",arrowPadding:u=8,eventListeners:d=!0,offset:m,gutter:p=8,flip:g=!0,boundary:x="clippingParents",preventOverflow:j=!0,matchWidth:S,direction:_="ltr"}=t,E=b.useRef(null),A=b.useRef(null),T=b.useRef(null),z=zG(s,_),M=b.useRef(()=>{}),k=b.useCallback(()=>{!n||!E.current||!A.current||(M.current?.(),T.current=bG(E.current,A.current,{placement:z,modifiers:[PG,AG,EG,{...CG,enabled:!!S},{name:"eventListeners",..._G(d)},{name:"arrow",options:{padding:u}},{name:"offset",options:{offset:m??[0,p]}},{name:"flip",enabled:!!g,options:{padding:8}},{name:"preventOverflow",enabled:!!j,options:{boundary:x}},...r??[]],strategy:l}),T.current.forceUpdate(),M.current=T.current.destroy)},[z,n,r,S,d,u,m,p,g,j,x,l]);b.useEffect(()=>()=>{!E.current&&!A.current&&(T.current?.destroy(),T.current=null)},[]);const O=b.useCallback(fe=>{E.current=fe,k()},[k]),I=b.useCallback((fe={},X=null)=>({...fe,ref:Xr(O,X)}),[O]),$=b.useCallback(fe=>{A.current=fe,k()},[k]),G=b.useCallback((fe={},X=null)=>({...fe,ref:Xr($,X),style:{...fe.style,position:l,minWidth:S?void 0:"max-content",inset:"0 auto auto 0"}}),[l,$,S]),ee=b.useCallback((fe={},X=null)=>{const{size:me,shadowColor:Ee,bg:pe,style:K,...Z}=fe;return{...Z,ref:X,"data-popper-arrow":"",style:DG(fe)}},[]),ue=b.useCallback((fe={},X=null)=>({...fe,ref:X,"data-popper-arrow-inner":""}),[]);return{update(){T.current?.update()},forceUpdate(){T.current?.forceUpdate()},transformOrigin:Oi.transformOrigin.varRef,referenceRef:O,popperRef:$,getPopperProps:G,getArrowProps:ee,getArrowInnerProps:ue,getReferenceProps:I}}function DG(t){const{size:n,shadowColor:r,bg:s,style:l}=t,u={...l,position:"absolute"};return n&&(u["--popper-arrow-size"]=n),r&&(u["--popper-arrow-shadow-color"]=r),s&&(u["--popper-arrow-bg"]=s),u}function LG(){const t=b.useRef(new Map),n=t.current,r=b.useCallback((l,u,d,m)=>{t.current.set(d,{type:u,el:l,options:m}),l.addEventListener(u,d,m)},[]),s=b.useCallback((l,u,d,m)=>{l.removeEventListener(u,d,m),t.current.delete(d)},[]);return b.useEffect(()=>()=>{n.forEach((l,u)=>{s(l.el,l.type,u,l.options)})},[s,n]),{add:r,remove:s}}function zy(t){const n=t.composedPath?.()?.[0]??t.target,{tagName:r,isContentEditable:s}=n;return r!=="INPUT"&&r!=="TEXTAREA"&&s!==!0}function NM(t={}){const{ref:n,isDisabled:r,isFocusable:s,clickOnEnter:l=!0,clickOnSpace:u=!0,onMouseDown:d,onMouseUp:m,onClick:p,onKeyDown:g,onKeyUp:x,tabIndex:j,onMouseOver:S,onMouseLeave:_,...E}=t,[A,T]=b.useState(!0),[z,M]=b.useState(!1),k=LG(),O=W=>{W&&W.tagName!=="BUTTON"&&T(!1)},I=A?j:j||0,$=r&&!s,G=b.useCallback(W=>{if(r){W.stopPropagation(),W.preventDefault();return}W.currentTarget.focus(),p?.(W)},[r,p]),ee=b.useCallback(W=>{z&&zy(W)&&(W.preventDefault(),W.stopPropagation(),M(!1),k.remove(document,"keyup",ee,!1))},[z,k]),ue=b.useCallback(W=>{if(g?.(W),r||W.defaultPrevented||W.metaKey||!zy(W.nativeEvent)||A)return;const H=l&&W.key==="Enter";u&&W.key===" "&&(W.preventDefault(),M(!0)),H&&(W.preventDefault(),W.currentTarget.click()),k.add(document,"keyup",ee,!1)},[r,A,g,l,u,k,ee]),fe=b.useCallback(W=>{if(x?.(W),r||W.defaultPrevented||W.metaKey||!zy(W.nativeEvent)||A)return;u&&W.key===" "&&(W.preventDefault(),M(!1),W.currentTarget.click())},[u,A,r,x]),X=b.useCallback(W=>{W.button===0&&(M(!1),k.remove(document,"mouseup",X,!1))},[k]),me=b.useCallback(W=>{if(W.button!==0)return;if(r){W.stopPropagation(),W.preventDefault();return}A||M(!0),W.currentTarget.focus({preventScroll:!0}),k.add(document,"mouseup",X,!1),d?.(W)},[r,A,d,k,X]),Ee=b.useCallback(W=>{W.button===0&&(A||M(!1),m?.(W))},[m,A]),pe=b.useCallback(W=>{if(r){W.preventDefault();return}S?.(W)},[r,S]),K=b.useCallback(W=>{z&&(W.preventDefault(),M(!1)),_?.(W)},[z,_]),Z=Xr(n,O);return A?{...E,ref:Z,type:"button","aria-disabled":$?void 0:r,disabled:$,onClick:G,onMouseDown:d,onMouseUp:m,onKeyUp:x,onKeyDown:g,onMouseOver:S,onMouseLeave:_}:{...E,ref:Z,role:"button","data-active":yn(z),"aria-disabled":r?"true":void 0,tabIndex:$?void 0:I,onClick:G,onMouseDown:me,onMouseUp:Ee,onKeyUp:fe,onKeyDown:ue,onMouseOver:pe,onMouseLeave:K}}const[OG,NG,IG,BG]=Fx(),[$G,Ip]=Dn({strict:!1,name:"MenuContext"});function IM(t){return t?.ownerDocument??document}function FG(t){return IM(t).activeElement===t}function VG(t={}){const{id:n,closeOnSelect:r=!0,closeOnBlur:s=!0,initialFocusRef:l,autoSelect:u=!0,isLazy:d,isOpen:m,defaultIsOpen:p,onClose:g,onOpen:x,placement:j="bottom-start",lazyBehavior:S="unmount",direction:_,computePositionOnMount:E=!1,...A}=t,T=b.useRef(null),z=b.useRef(null),M=b.useRef(!0),k=IG(),O=b.useCallback(()=>{requestAnimationFrame(()=>{T.current?.focus({preventScroll:!1})})},[]),I=b.useCallback(()=>{const F=setTimeout(()=>{if(l)l.current?.focus();else if(!k.count())T.current?.focus({preventScroll:!1});else{const P=k.firstEnabled();P&&pe(P.index)}});Se.current.add(F)},[k,l]),$=b.useCallback(()=>{const F=setTimeout(()=>{if(!k.count())T.current?.focus({preventScroll:!1});else{const P=k.lastEnabled();P&&pe(P.index)}});Se.current.add(F)},[k]),G=b.useCallback(()=>{x?.(),u?I():O()},[u,I,O,x]),{isOpen:ee,onOpen:ue,onClose:fe,onToggle:X}=It({isOpen:m,defaultIsOpen:p,onClose:g,onOpen:G});R4({enabled:ee&&s,ref:T,handler:F=>{const P=F.composedPath?.()?.[0]??F.target;z.current?.contains(P)||fe()}});const me=OM({...A,enabled:ee||E,placement:j,direction:_}),[Ee,pe]=b.useState(-1);E4(T,{focusRef:z,visible:ee});const K=w4({isOpen:ee,ref:T}),[Z,W]=T4(n,"menu-button","menu-list"),H=b.useCallback(()=>{ue(),O()},[ue,O]),Se=b.useRef(new Set([]));b.useEffect(()=>{const F=Se.current;return()=>{F.forEach(P=>clearTimeout(P)),F.clear()}},[]),yu(()=>{ee||(pe(-1),T.current?.scrollTo(0,0))},[ee]),yu(()=>{ee&&Ee===-1&&O()},[Ee,ee]),b.useEffect(()=>{if(!ee)return;k.item(Ee)?.node?.focus({preventScroll:!M.current})},[k,Ee,ee]);const B=b.useCallback(()=>{ue(),I()},[I,ue]),ie=b.useCallback(()=>{M.current=!0,ue(),$()},[ue,$]),he=b.useCallback(()=>{const F=IM(T.current),P=T.current?.contains(F.activeElement);if(!(ee&&!P))return;k.item(Ee)?.node?.focus({preventScroll:!M.current})},[ee,Ee,k]);return{openAndFocusMenu:H,openAndFocusFirstItem:B,openAndFocusLastItem:ie,onTransitionEnd:he,unstable__animationState:K,descendants:k,popper:me,buttonId:Z,menuId:W,forceUpdate:me.forceUpdate,orientation:"vertical",isOpen:ee,onToggle:X,onOpen:ue,onClose:fe,menuRef:T,buttonRef:z,focusedIndex:Ee,closeOnSelect:r,closeOnBlur:s,autoSelect:u,setFocusedIndex:pe,isLazy:d,lazyBehavior:S,initialFocusRef:l,scrollIntoViewRef:M}}function UG(t={},n=null){const r=Ip(),{onToggle:s,popper:l,openAndFocusFirstItem:u,openAndFocusLastItem:d,scrollIntoViewRef:m}=r,p=b.useCallback(g=>{const x=g.key,S={Enter:u,ArrowDown:u,ArrowUp:d}[x];S&&(m.current=!0,g.preventDefault(),g.stopPropagation(),S(g))},[u,d,m]);return{...t,ref:Xr(r.buttonRef,n,l.referenceRef),id:r.buttonId,"data-active":yn(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:Jt(t.onClick,s),onKeyDown:Jt(t.onKeyDown,p)}}function Jb(t){return GG(t)&&!!t?.getAttribute("role")?.startsWith("menuitem")}function HG(t={},n=null){const r=Ip();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:s,setFocusedIndex:l,menuRef:u,isOpen:d,onClose:m,menuId:p,isLazy:g,lazyBehavior:x,scrollIntoViewRef:j,unstable__animationState:S}=r,_=NG(),E=pq({preventDefault:M=>M.key!==" "&&Jb(M.target)}),A=b.useCallback(M=>{if(!M.currentTarget.contains(M.target))return;const k=M.key,I={Tab:G=>G.preventDefault(),Escape:G=>{G.stopPropagation(),m()},ArrowDown:()=>{j.current=!0;const G=_.nextEnabled(s)??_.firstEnabled();G&&l(G.index)},ArrowUp:()=>{j.current=!0;const G=_.prevEnabled(s)??_.firstEnabled();G&&l(G.index)}}[k];if(I){M.preventDefault(),I(M);return}const $=E(G=>{const ee=hq(_.values(),G,ue=>ue?.node?.textContent??"",_.item(s));if(ee){const ue=_.indexOf(ee.node);l(ue)}});Jb(M.target)&&$(M)},[_,s,E,m,l,j]),T=b.useRef(!1);d&&(T.current=!0);const z=rT({wasSelected:T.current,enabled:g,mode:x,isSelected:S.present});return{...t,ref:Xr(u,n),children:z?t.children:null,tabIndex:-1,role:"menu",id:p,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:Jt(t.onKeyDown,A)}}function WG(t={}){const{popper:n,isOpen:r}=Ip();return n.getPopperProps({...t,style:{visibility:r?"visible":"hidden",...t.style}})}function qG(t={},n=null){const{onMouseEnter:r,onMouseMove:s,onMouseLeave:l,onClick:u,onFocus:d,isDisabled:m,isFocusable:p,closeOnSelect:g,type:x,...j}=t,S=Ip(),{setFocusedIndex:_,focusedIndex:E,closeOnSelect:A,onClose:T,menuId:z,scrollIntoViewRef:M}=S,k=b.useRef(null),O=`${z}-menuitem-${b.useId()}`,{index:I,register:$}=BG({disabled:m&&!p}),G=b.useCallback(pe=>{r?.(pe),!m&&(M.current=!1,_(I))},[_,I,m,r,M]),ee=b.useCallback(pe=>{s?.(pe),k.current&&!FG(k.current)&&G(pe)},[G,s]),ue=b.useCallback(pe=>{l?.(pe),!m&&_(-1)},[_,m,l]),fe=b.useCallback(pe=>{u?.(pe),Jb(pe.currentTarget)&&(g??A)&&T()},[T,u,A,g]),X=b.useCallback(pe=>{d?.(pe),_(I)},[_,d,I]),me=I===E,Ee=NM({onClick:fe,onFocus:X,onMouseEnter:G,onMouseMove:ee,onMouseLeave:ue,ref:Xr($,k,n),isDisabled:m,isFocusable:p});return{...j,...Ee,type:x??Ee.type,id:O,role:"menuitem",tabIndex:me?0:-1}}function GG(t){if(!ZG(t))return!1;const n=t.ownerDocument.defaultView??window;return t instanceof n.HTMLElement}function ZG(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}const[YG,fh]=Dn({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),To=t=>{const{children:n}=t,r=si("Menu",t),s=On(t),{direction:l}=Du(),{descendants:u,...d}=VG({...s,direction:l}),m=b.useMemo(()=>d,[d]),{isOpen:p,onClose:g,forceUpdate:x}=m;return e.jsx(OG,{value:u,children:e.jsx($G,{value:m,children:e.jsx(YG,{value:r,children:Ks(n,{isOpen:p,onClose:g,forceUpdate:x})})})})};To.displayName="Menu";const XG=Ke((t,n)=>{const r=fh();return e.jsx(Be.button,{ref:n,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...r.button}})}),ko=Ke((t,n)=>{const{children:r,as:s,...l}=t,u=UG(l,n),d=s||XG;return e.jsx(d,{...u,className:lt("chakra-menu__menu-button",t.className),children:e.jsx(Be.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});ko.displayName="MenuButton";const BM=Ke((t,n)=>{const r=fh();return e.jsx(Be.span,{ref:n,...t,__css:r.command,className:"chakra-menu__command"})});BM.displayName="MenuCommand";const $M=t=>{const{className:n,...r}=t,s=fh();return e.jsx(Be.hr,{"aria-orientation":"horizontal",className:lt("chakra-menu__divider",n),...r,__css:s.divider})};$M.displayName="MenuDivider";const FM=t=>{const{className:n,children:r,...s}=t,l=fh(),u=b.Children.only(r),d=b.isValidElement(u)?b.cloneElement(u,{focusable:"false","aria-hidden":!0,className:lt("chakra-menu__icon",u.props.className)}):null,m=lt("chakra-menu__icon-wrapper",n);return e.jsx(Be.span,{className:m,...s,__css:l.icon,children:d})};FM.displayName="MenuIcon";const KG=Ke((t,n)=>{const{type:r,...s}=t,l=fh(),u=s.as||r?r??void 0:"button",d=b.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...l.item}),[l.item]);return e.jsx(Be.button,{ref:n,type:u,...s,__css:d})}),bn=Ke((t,n)=>{const{icon:r,iconSpacing:s="0.75rem",command:l,commandSpacing:u="0.75rem",children:d,...m}=t,p=qG(m,n),x=r||l?e.jsx("span",{style:{pointerEvents:"none",flex:1},children:d}):d;return e.jsxs(KG,{...p,className:lt("chakra-menu__menuitem",p.className),children:[r&&e.jsx(FM,{fontSize:"0.8em",marginEnd:s,children:r}),x,l&&e.jsx(BM,{marginStart:u,children:l})]})});bn.displayName="MenuItem";const QG={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},JG=Be(zo.div),Po=Ke(function(n,r){const{rootProps:s,motionProps:l,...u}=n,{isOpen:d,onTransitionEnd:m,unstable__animationState:p}=Ip(),g=HG(u,r),x=WG(s),j=fh();return e.jsx(Be.div,{...x,__css:{zIndex:n.zIndex??j.list?.zIndex},children:e.jsx(JG,{variants:QG,initial:!1,animate:d?"enter":"exit",__css:{outline:0,...j.list},...l,...g,className:lt("chakra-menu__menu-list",g.className),onUpdate:m,onAnimationComplete:JA(p.onComplete,g.onAnimationComplete)})})});Po.displayName="MenuList";var eZ=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},yd=new WeakMap,pg=new WeakMap,mg={},Dy=0,VM=function(t){return t&&(t.host||VM(t.parentNode))},tZ=function(t,n){return n.map(function(r){if(t.contains(r))return r;var s=VM(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},nZ=function(t,n,r,s){var l=tZ(n,Array.isArray(t)?t:[t]);mg[r]||(mg[r]=new WeakMap);var u=mg[r],d=[],m=new Set,p=new Set(l),g=function(j){!j||m.has(j)||(m.add(j),g(j.parentNode))};l.forEach(g);var x=function(j){!j||p.has(j)||Array.prototype.forEach.call(j.children,function(S){if(m.has(S))x(S);else try{var _=S.getAttribute(s),E=_!==null&&_!=="false",A=(yd.get(S)||0)+1,T=(u.get(S)||0)+1;yd.set(S,A),u.set(S,T),d.push(S),A===1&&E&&pg.set(S,!0),T===1&&S.setAttribute(r,"true"),E||S.setAttribute(s,"true")}catch(z){console.error("aria-hidden: cannot operate on ",S,z)}})};return x(n),m.clear(),Dy++,function(){d.forEach(function(j){var S=yd.get(j)-1,_=u.get(j)-1;yd.set(j,S),u.set(j,_),S||(pg.has(j)||j.removeAttribute(s),pg.delete(j)),_||j.removeAttribute(r)}),Dy--,Dy||(yd=new WeakMap,yd=new WeakMap,pg=new WeakMap,mg={})}},rZ=function(t,n,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),l=eZ(t);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),nZ(s,l,r,"aria-hidden")):function(){return null}},iZ=Object.defineProperty,sZ=(t,n,r)=>n in t?iZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,aZ=(t,n,r)=>(sZ(t,n+"",r),r);class oZ{constructor(){aZ(this,"modals"),this.modals=new Set}add(n){return this.modals.add(n),this.modals.size}remove(n){this.modals.delete(n)}isTopModal(n){if(!n)return!1;const r=Array.from(this.modals)[this.modals.size-1];return n===r}}const ej=new oZ;function UM(t,n){const[r,s]=b.useState(0);return b.useEffect(()=>{const l=t.current;if(l){if(n){const u=ej.add(l);s(u)}return()=>{ej.remove(l),s(0)}}},[n,t]),r}function lZ(t){const{isOpen:n,onClose:r,id:s,closeOnOverlayClick:l=!0,closeOnEsc:u=!0,useInert:d=!0,onOverlayClick:m,onEsc:p}=t,g=b.useRef(null),x=b.useRef(null),[j,S,_]=uZ(s,"chakra-modal","chakra-modal--header","chakra-modal--body");cZ(g,n&&d);const E=UM(g,n),A=b.useRef(null),T=b.useCallback(ue=>{A.current=ue.target},[]),z=b.useCallback(ue=>{ue.key==="Escape"&&(ue.stopPropagation(),u&&r?.(),p?.())},[u,r,p]),[M,k]=b.useState(!1),[O,I]=b.useState(!1),$=b.useCallback((ue={},fe=null)=>({role:"dialog",...ue,ref:Xr(fe,g),id:j,tabIndex:-1,"aria-modal":!0,"aria-labelledby":M?S:void 0,"aria-describedby":O?_:void 0,onClick:Jt(ue.onClick,X=>X.stopPropagation())}),[_,O,j,S,M]),G=b.useCallback(ue=>{ue.stopPropagation(),A.current===ue.target&&ej.isTopModal(g.current)&&(l&&r?.(),m?.())},[r,l,m]),ee=b.useCallback((ue={},fe=null)=>({...ue,ref:Xr(fe,x),onClick:Jt(ue.onClick,G),onKeyDown:Jt(ue.onKeyDown,z),onMouseDown:Jt(ue.onMouseDown,T)}),[z,T,G]);return{isOpen:n,onClose:r,headerId:S,bodyId:_,setBodyMounted:I,setHeaderMounted:k,dialogRef:g,overlayRef:x,getDialogProps:$,getDialogContainerProps:ee,index:E}}function cZ(t,n){const r=t.current;b.useEffect(()=>{if(!(!t.current||!n))return rZ(t.current)},[n,t,r])}function uZ(t,...n){const r=b.useId(),s=t||r;return b.useMemo(()=>n.map(l=>`${l}-${s}`),[s,n])}const[dZ,Ou]=Dn({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[hZ,bc]=Dn({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),kt=t=>{const n={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...t,lockFocusAcrossFrames:t.lockFocusAcrossFrames??!0},{portalProps:r,children:s,autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:m,returnFocusOnClose:p,blockScrollOnMount:g,allowPinchZoom:x,preserveScrollBarGap:j,motionPreset:S,lockFocusAcrossFrames:_,animatePresenceProps:E,onCloseComplete:A}=n,T=si("Modal",n),M={...lZ(n),autoFocus:l,trapFocus:u,initialFocusRef:d,finalFocusRef:m,returnFocusOnClose:p,blockScrollOnMount:g,allowPinchZoom:x,preserveScrollBarGap:j,motionPreset:S,lockFocusAcrossFrames:_};return e.jsx(hZ,{value:M,children:e.jsx(dZ,{value:T,children:e.jsx(wc,{...E,onExitComplete:A,children:M.isOpen&&e.jsx(hh,{...r,children:s})})})})};kt.displayName="Modal";var Gg="right-scroll-bar-position",Zg="width-before-scroll-bar",fZ="with-scroll-bars-hidden",pZ="--removed-body-scroll-bar-size",HM=XP(),Ly=function(){},Gx=b.forwardRef(function(t,n){var r=b.useRef(null),s=b.useState({onScrollCapture:Ly,onWheelCapture:Ly,onTouchMoveCapture:Ly}),l=s[0],u=s[1],d=t.forwardProps,m=t.children,p=t.className,g=t.removeScrollBar,x=t.enabled,j=t.shards,S=t.sideCar,_=t.noRelative,E=t.noIsolation,A=t.inert,T=t.allowPinchZoom,z=t.as,M=z===void 0?"div":z,k=t.gapMode,O=GP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=S,$=qP([r,n]),G=jo(jo({},O),l);return b.createElement(b.Fragment,null,x&&b.createElement(I,{sideCar:HM,removeScrollBar:g,shards:j,noRelative:_,noIsolation:E,inert:A,setCallbacks:u,allowPinchZoom:!!T,lockRef:r,gapMode:k}),d?b.cloneElement(b.Children.only(m),jo(jo({},G),{ref:$})):b.createElement(M,jo({},G,{className:p,ref:$}),m))});Gx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gx.classNames={fullWidth:Zg,zeroRight:Gg};var mZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=mZ();return n&&t.setAttribute("nonce",n),t}function xZ(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function vZ(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var yZ=function(){var t=0,n=null;return{add:function(r){t==0&&(n=gZ())&&(xZ(n,r),vZ(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},bZ=function(){var t=yZ();return function(n,r){b.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&r])}},WM=function(){var t=bZ(),n=function(r){var s=r.styles,l=r.dynamic;return t(s,l),null};return n},jZ={left:0,top:0,right:0,gap:0},Oy=function(t){return parseInt(t||"",10)||0},SZ=function(t){var n=window.getComputedStyle(document.body),r=n[t==="padding"?"paddingLeft":"marginLeft"],s=n[t==="padding"?"paddingTop":"marginTop"],l=n[t==="padding"?"paddingRight":"marginRight"];return[Oy(r),Oy(s),Oy(l)]},wZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jZ;var n=SZ(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-r+n[2]-n[0])}},_Z=WM(),Hd="data-scroll-locked",CZ=function(t,n,r,s){var l=t.left,u=t.top,d=t.right,m=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(fZ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(m,"px ").concat(s,`;
  }
  body[`).concat(Hd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gg,` {
    right: `).concat(m,"px ").concat(s,`;
  }
  
  .`).concat(Zg,` {
    margin-right: `).concat(m,"px ").concat(s,`;
  }
  
  .`).concat(Gg," .").concat(Gg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Hd,`] {
    `).concat(pZ,": ").concat(m,`px;
  }
`)},rA=function(){var t=parseInt(document.body.getAttribute(Hd)||"0",10);return isFinite(t)?t:0},EZ=function(){b.useEffect(function(){return document.body.setAttribute(Hd,(rA()+1).toString()),function(){var t=rA()-1;t<=0?document.body.removeAttribute(Hd):document.body.setAttribute(Hd,t.toString())}},[])},AZ=function(t){var n=t.noRelative,r=t.noImportant,s=t.gapMode,l=s===void 0?"margin":s;EZ();var u=b.useMemo(function(){return wZ(l)},[l]);return b.createElement(_Z,{styles:CZ(u,!n,l,r?"":"!important")})},tj=!1;if(typeof window<"u")try{var gg=Object.defineProperty({},"passive",{get:function(){return tj=!0,!0}});window.addEventListener("test",gg,gg),window.removeEventListener("test",gg,gg)}catch{tj=!1}var bd=tj?{passive:!1}:!1,TZ=function(t){return t.tagName==="TEXTAREA"},qM=function(t,n){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!TZ(t)&&r[n]==="visible")},kZ=function(t){return qM(t,"overflowY")},PZ=function(t){return qM(t,"overflowX")},iA=function(t,n){var r=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=GM(t,s);if(l){var u=ZM(t,s),d=u[1],m=u[2];if(d>m)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},MZ=function(t){var n=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[n,r,s]},RZ=function(t){var n=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[n,r,s]},GM=function(t,n){return t==="v"?kZ(n):PZ(n)},ZM=function(t,n){return t==="v"?MZ(n):RZ(n)},zZ=function(t,n){return t==="h"&&n==="rtl"?-1:1},DZ=function(t,n,r,s,l){var u=zZ(t,window.getComputedStyle(n).direction),d=u*s,m=r.target,p=n.contains(m),g=!1,x=d>0,j=0,S=0;do{if(!m)break;var _=ZM(t,m),E=_[0],A=_[1],T=_[2],z=A-T-u*E;(E||z)&&GM(t,m)&&(j+=z,S+=E);var M=m.parentNode;m=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!p&&m!==document.body||p&&(n.contains(m)||n===m));return(x&&Math.abs(j)<1||!x&&Math.abs(S)<1)&&(g=!0),g},xg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sA=function(t){return[t.deltaX,t.deltaY]},aA=function(t){return t&&"current"in t?t.current:t},LZ=function(t,n){return t[0]===n[0]&&t[1]===n[1]},OZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NZ=0,jd=[];function IZ(t){var n=b.useRef([]),r=b.useRef([0,0]),s=b.useRef(),l=b.useState(NZ++)[0],u=b.useState(WM)[0],d=b.useRef(t);b.useEffect(function(){d.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var A=FH([t.lockRef.current],(t.shards||[]).map(aA),!0).filter(Boolean);return A.forEach(function(T){return T.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),A.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var m=b.useCallback(function(A,T){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!d.current.allowPinchZoom;var z=xg(A),M=r.current,k="deltaX"in A?A.deltaX:M[0]-z[0],O="deltaY"in A?A.deltaY:M[1]-z[1],I,$=A.target,G=Math.abs(k)>Math.abs(O)?"h":"v";if("touches"in A&&G==="h"&&$.type==="range")return!1;var ee=iA(G,$);if(!ee)return!0;if(ee?I=G:(I=G==="v"?"h":"v",ee=iA(G,$)),!ee)return!1;if(!s.current&&"changedTouches"in A&&(k||O)&&(s.current=I),!I)return!0;var ue=s.current||I;return DZ(ue,T,A,ue==="h"?k:O)},[]),p=b.useCallback(function(A){var T=A;if(!(!jd.length||jd[jd.length-1]!==u)){var z="deltaY"in T?sA(T):xg(T),M=n.current.filter(function(I){return I.name===T.type&&(I.target===T.target||T.target===I.shadowParent)&&LZ(I.delta,z)})[0];if(M&&M.should){T.cancelable&&T.preventDefault();return}if(!M){var k=(d.current.shards||[]).map(aA).filter(Boolean).filter(function(I){return I.contains(T.target)}),O=k.length>0?m(T,k[0]):!d.current.noIsolation;O&&T.cancelable&&T.preventDefault()}}},[]),g=b.useCallback(function(A,T,z,M){var k={name:A,delta:T,target:z,should:M,shadowParent:BZ(z)};n.current.push(k),setTimeout(function(){n.current=n.current.filter(function(O){return O!==k})},1)},[]),x=b.useCallback(function(A){r.current=xg(A),s.current=void 0},[]),j=b.useCallback(function(A){g(A.type,sA(A),A.target,m(A,t.lockRef.current))},[]),S=b.useCallback(function(A){g(A.type,xg(A),A.target,m(A,t.lockRef.current))},[]);b.useEffect(function(){return jd.push(u),t.setCallbacks({onScrollCapture:j,onWheelCapture:j,onTouchMoveCapture:S}),document.addEventListener("wheel",p,bd),document.addEventListener("touchmove",p,bd),document.addEventListener("touchstart",x,bd),function(){jd=jd.filter(function(A){return A!==u}),document.removeEventListener("wheel",p,bd),document.removeEventListener("touchmove",p,bd),document.removeEventListener("touchstart",x,bd)}},[]);var _=t.removeScrollBar,E=t.inert;return b.createElement(b.Fragment,null,E?b.createElement(u,{styles:OZ(l)}):null,_?b.createElement(AZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function BZ(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const $Z=VH(HM,IZ);var YM=b.forwardRef(function(t,n){return b.createElement(Gx,jo({},t,{ref:n,sideCar:$Z}))});YM.classNames=Gx.classNames;function XM(t){const{autoFocus:n,trapFocus:r,dialogRef:s,initialFocusRef:l,blockScrollOnMount:u,allowPinchZoom:d,finalFocusRef:m,returnFocusOnClose:p,preserveScrollBarGap:g,lockFocusAcrossFrames:x,isOpen:j}=bc(),[S,_]=Zj();b.useEffect(()=>{!S&&_&&setTimeout(_)},[S,_]);const E=UM(s,j);return e.jsx(wM,{autoFocus:n,isDisabled:!r,initialFocusRef:l,finalFocusRef:m,restoreFocus:p,contentRef:s,lockFocusAcrossFrames:x,children:e.jsx(YM,{removeScrollBar:!g,allowPinchZoom:d,enabled:E===1&&u,forwardProps:!0,children:t.children})})}const FZ={initial:({offsetX:t,offsetY:n,transition:r,transitionEnd:s,delay:l})=>({opacity:0,x:t,y:n,transition:r?.exit??Ha.exit(pu.exit,l),transitionEnd:s?.exit}),enter:({transition:t,transitionEnd:n,delay:r})=>({opacity:1,x:0,y:0,transition:t?.enter??Ha.enter(pu.enter,r),transitionEnd:n?.enter}),exit:({offsetY:t,offsetX:n,transition:r,transitionEnd:s,reverse:l,delay:u})=>{const d={x:n,y:t};return{opacity:0,transition:r?.exit??Ha.exit(pu.exit,u),...l?{...d,transitionEnd:s?.exit}:{transitionEnd:{...d,...s?.exit}}}}},Df={initial:"initial",animate:"enter",exit:"exit",variants:FZ},VZ=b.forwardRef(function(n,r){const{unmountOnExit:s,in:l,reverse:u=!0,className:d,offsetX:m=0,offsetY:p=8,transition:g,transitionEnd:x,delay:j,animatePresenceProps:S,..._}=n,E=s?l&&s:!0,A=l||s?"enter":"exit",T={offsetX:m,offsetY:p,reverse:u,transition:g,transitionEnd:x,delay:j};return e.jsx(wc,{...S,custom:T,children:E&&e.jsx(zo.div,{ref:r,className:lt("chakra-offset-slide",d),custom:T,...Df,animate:A,..._})})});VZ.displayName="SlideFade";const UZ={exit:({reverse:t,initialScale:n,transition:r,transitionEnd:s,delay:l})=>({opacity:0,...t?{scale:n,transitionEnd:s?.exit}:{transitionEnd:{scale:n,...s?.exit}},transition:r?.exit??Ha.exit(pu.exit,l)}),enter:({transitionEnd:t,transition:n,delay:r})=>({opacity:1,scale:1,transition:n?.enter??Ha.enter(pu.enter,r),transitionEnd:t?.enter})},KM={initial:"exit",animate:"enter",exit:"exit",variants:UZ},HZ=b.forwardRef(function(n,r){const{unmountOnExit:s,in:l,reverse:u=!0,initialScale:d=.95,className:m,transition:p,transitionEnd:g,delay:x,animatePresenceProps:j,...S}=n,_=s?l&&s:!0,E=l||s?"enter":"exit",A={initialScale:d,reverse:u,transition:p,transitionEnd:g,delay:x};return e.jsx(wc,{...j,custom:A,children:_&&e.jsx(zo.div,{ref:r,className:lt("chakra-offset-slide",m),...KM,animate:E,custom:A,...S})})});HZ.displayName="ScaleFade";const WZ={slideInBottom:{...Df,custom:{offsetY:16,reverse:!0}},slideInRight:{...Df,custom:{offsetX:16,reverse:!0}},slideInTop:{...Df,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Df,custom:{offsetX:-16,reverse:!0}},scale:{...KM,custom:{initialScale:.95,reverse:!0}},none:{}},qZ=Be(zo.section),GZ=t=>WZ[t||"none"],QM=b.forwardRef((t,n)=>{const{preset:r,motionProps:s=GZ(r),...l}=t;return e.jsx(qZ,{ref:n,...s,...l})});QM.displayName="ModalTransition";const Dt=Ke((t,n)=>{const{className:r,children:s,containerProps:l,motionProps:u,...d}=t,{getDialogProps:m,getDialogContainerProps:p}=bc(),g=m(d,n),x=p(l),j=lt("chakra-modal__content",r),S=Ou(),_={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...S.dialog},E={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...S.dialogContainer},{motionPreset:A}=bc();return e.jsx(XM,{children:e.jsx(Be.div,{...x,className:"chakra-modal__content-container",tabIndex:-1,__css:E,children:e.jsx(QM,{preset:A,motionProps:u,className:j,...g,__css:_,children:s})})})});Dt.displayName="ModalContent";const Pt=Ke((t,n)=>{const{className:r,...s}=t,{bodyId:l,setBodyMounted:u}=bc();b.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=lt("chakra-modal__body",r),m=Ou();return e.jsx(Be.div,{ref:n,className:d,id:l,...s,__css:m.body})});Pt.displayName="ModalBody";const $t=Ke((t,n)=>{const{onClick:r,className:s,...l}=t,{onClose:u}=bc(),d=lt("chakra-modal__close-btn",s),m=Ou();return e.jsx(TS,{ref:n,__css:m.closeButton,className:d,onClick:Jt(r,p=>{p.stopPropagation(),u()}),...l})});$t.displayName="ModalCloseButton";const Gt=Ke((t,n)=>{const{className:r,...s}=t,l=lt("chakra-modal__footer",r),u=Ou(),d={display:"flex",alignItems:"center",justifyContent:"flex-end",...u.footer};return e.jsx(Be.footer,{ref:n,...s,__css:d,className:l})});Gt.displayName="ModalFooter";const Mt=Ke((t,n)=>{const{className:r,...s}=t,{headerId:l,setHeaderMounted:u}=bc();b.useEffect(()=>(u(!0),()=>u(!1)),[u]);const d=lt("chakra-modal__header",r),m=Ou(),p={flex:0,...m.header};return e.jsx(Be.header,{ref:n,className:d,id:l,...s,__css:p})});Mt.displayName="ModalHeader";const ZZ={enter:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:1,transition:t?.enter??Ha.enter(pu.enter,r),transitionEnd:n?.enter}),exit:({transition:t,transitionEnd:n,delay:r}={})=>({opacity:0,transition:t?.exit??Ha.exit(pu.exit,r),transitionEnd:n?.exit})},JM={initial:"exit",animate:"enter",exit:"exit",variants:ZZ},YZ=b.forwardRef(function(n,r){const{unmountOnExit:s,in:l,className:u,transition:d,transitionEnd:m,delay:p,animatePresenceProps:g,...x}=n,j=l||s?"enter":"exit",S=s?l&&s:!0,_={transition:d,transitionEnd:m,delay:p};return e.jsx(wc,{...g,custom:_,children:S&&e.jsx(zo.div,{ref:r,className:lt("chakra-fade",u),custom:_,...JM,animate:j,...x})})});YZ.displayName="Fade";const XZ=Be(zo.div),Rt=Ke((t,n)=>{const{className:r,transition:s,motionProps:l,...u}=t,d=lt("chakra-modal__overlay",r),p={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Ou().overlay},{motionPreset:g}=bc(),j=l||(g==="none"?{}:JM);return e.jsx(XZ,{...j,__css:p,ref:n,className:d,...u})});Rt.displayName="ModalOverlay";function KZ(t){const{leastDestructiveRef:n,...r}=t;return e.jsx(kt,{...r,initialFocusRef:n})}const QZ=Ke((t,n)=>e.jsx(Dt,{ref:n,role:"alertdialog",...t})),[JZ,eY]=Dn(),tY={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function nY(t,n){if(t)return tY[t]?.[n]??t}function rY(t){const{isOpen:n,onClose:r,placement:s="right",children:l,...u}=t,d=Du(),m=d.components?.Drawer,p=nY(s,d.direction);return e.jsx(JZ,{value:{placement:p},children:e.jsx(kt,{isOpen:n,onClose:r,styleConfig:m,...u,children:l})})}const oA={exit:{duration:.15,ease:au.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},iY={exit:({direction:t,transition:n,transitionEnd:r,delay:s})=>{const{exit:l}=Lb({direction:t});return{...l,transition:n?.exit??Ha.exit(oA.exit,s),transitionEnd:r?.exit}},enter:({direction:t,transitionEnd:n,transition:r,delay:s})=>{const{enter:l}=Lb({direction:t});return{...l,transition:r?.enter??Ha.enter(oA.enter,s),transitionEnd:n?.enter}}},eR=b.forwardRef(function(n,r){const{direction:s="right",style:l,unmountOnExit:u,in:d,className:m,transition:p,transitionEnd:g,delay:x,motionProps:j,animatePresenceProps:S,..._}=n,E=Lb({direction:s}),A=Object.assign({position:"fixed"},E.position,l),T=u?d&&u:!0,z=d||u?"enter":"exit",M={transitionEnd:g,transition:p,direction:s,delay:x};return e.jsx(wc,{...S,custom:M,children:T&&e.jsx(zo.div,{..._,ref:r,initial:"exit",className:lt("chakra-slide",m),animate:z,exit:"exit",custom:M,variants:iY,style:A,...j})})});eR.displayName="Slide";const sY=Be(eR),tR=Ke((t,n)=>{const{className:r,children:s,motionProps:l,containerProps:u,...d}=t,{getDialogProps:m,getDialogContainerProps:p,isOpen:g}=bc(),x=m(d,n),j=p(u),S=lt("chakra-modal__content",r),_=Ou(),E={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,..._.dialog},A={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,..._.dialogContainer},{placement:T}=eY();return e.jsx(XM,{children:e.jsx(Be.div,{...j,className:"chakra-modal__content-container",__css:A,children:e.jsx(sY,{motionProps:l,direction:T,in:g,className:S,...x,__css:E,children:s})})})});tR.displayName="DrawerContent";const aY=t=>e.jsx(Kn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),oY=t=>e.jsx(Kn,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function lA(t,n,r,s){b.useEffect(()=>{if(!t.current||!s)return;const l=t.current.ownerDocument.defaultView??window,u=Array.isArray(n)?n:[n],d=new l.MutationObserver(m=>{for(const p of m)p.type==="attributes"&&p.attributeName&&u.includes(p.attributeName)&&r(p)});return d.observe(t.current,{attributes:!0,attributeFilter:u}),()=>d.disconnect()})}const lY=50,cA=300;function cY(t,n){const[r,s]=b.useState(!1),[l,u]=b.useState(null),[d,m]=b.useState(!0),p=b.useRef(null),g=()=>clearTimeout(p.current);k4(()=>{l==="increment"&&t(),l==="decrement"&&n()},r?lY:null);const x=b.useCallback(()=>{d&&t(),p.current=setTimeout(()=>{m(!1),s(!0),u("increment")},cA)},[t,d]),j=b.useCallback(()=>{d&&n(),p.current=setTimeout(()=>{m(!1),s(!0),u("decrement")},cA)},[n,d]),S=b.useCallback(()=>{m(!0),s(!1),g()},[]);return b.useEffect(()=>()=>g(),[]),{up:x,down:j,stop:S,isSpinning:r}}const uY=/^[Ee0-9+\-.]$/;function dY(t){return uY.test(t)}function hY(t,n){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:n(t.key)}function fY(t={}){const{focusInputOnChange:n=!0,clampValueOnBlur:r=!0,keepWithinRange:s=!0,min:l=Number.MIN_SAFE_INTEGER,max:u=Number.MAX_SAFE_INTEGER,step:d=1,isReadOnly:m,isDisabled:p,isRequired:g,isInvalid:x,pattern:j="[0-9]*(.[0-9]+)?",inputMode:S="decimal",allowMouseWheel:_,id:E,onChange:A,precision:T,name:z,"aria-describedby":M,"aria-label":k,"aria-labelledby":O,onFocus:I,onBlur:$,onInvalid:G,getAriaValueText:ee,isValidCharacter:ue,format:fe,parse:X,...me}=t,Ee=di(I),pe=di($),K=di(G),Z=di(ue??dY),W=di(ee),H=_4(t),{update:Se,increment:B,decrement:ie}=H,[he,F]=b.useState(!1),P=!(m||p),N=b.useRef(null),re=b.useRef(null),Le=b.useRef(null),Oe=b.useRef(null),Pe=b.useCallback(Ye=>Ye.split("").filter(Z).join(""),[Z]),it=b.useCallback(Ye=>X?.(Ye)??Ye,[X]),ot=b.useCallback(Ye=>(fe?.(Ye)??Ye).toString(),[fe]);yu(()=>{(H.valueAsNumber>u||H.valueAsNumber<l)&&K?.("rangeOverflow",ot(H.value),H.valueAsNumber)},[H.valueAsNumber,H.value,ot,K]),gl(()=>{if(!N.current)return;if(N.current.value!=H.value){const ft=it(N.current.value);H.setValue(Pe(ft))}},[it,Pe]);const Qe=b.useCallback((Ye=d)=>{P&&B(Ye)},[B,P,d]),wt=b.useCallback((Ye=d)=>{P&&ie(Ye)},[ie,P,d]),$e=cY(Qe,wt);lA(Le,"disabled",$e.stop,$e.isSpinning),lA(Oe,"disabled",$e.stop,$e.isSpinning);const Bt=b.useCallback(Ye=>{if(Ye.nativeEvent.isComposing)return;const Tn=it(Ye.currentTarget.value);Se(Pe(Tn)),re.current={start:Ye.currentTarget.selectionStart,end:Ye.currentTarget.selectionEnd}},[Se,Pe,it]),ye=b.useCallback(Ye=>{Ee?.(Ye),re.current&&(Ye.currentTarget.selectionStart=re.current.start??Ye.currentTarget.value?.length,Ye.currentTarget.selectionEnd=re.current.end??Ye.currentTarget.selectionStart)},[Ee]),Ze=b.useCallback(Ye=>{if(Ye.nativeEvent.isComposing)return;hY(Ye,Z)||Ye.preventDefault();const ft=Tt(Ye)*d,Tn=Ye.key,xt={ArrowUp:()=>Qe(ft),ArrowDown:()=>wt(ft),Home:()=>Se(l),End:()=>Se(u)}[Tn];xt&&(Ye.preventDefault(),xt(Ye))},[Z,d,Qe,wt,Se,l,u]),Tt=Ye=>{let ft=1;return(Ye.metaKey||Ye.ctrlKey)&&(ft=.1),Ye.shiftKey&&(ft=10),ft},ae=b.useMemo(()=>{const Ye=W?.(H.value);if(Ye!=null)return Ye;const ft=H.value.toString();return ft||void 0},[H.value,W]),ge=b.useCallback(()=>{let Ye=H.value;if(H.value==="")return;/^[eE]/.test(H.value.toString())?H.setValue(""):(H.valueAsNumber<l&&(Ye=l),H.valueAsNumber>u&&(Ye=u),H.cast(Ye))},[H,u,l]),Je=b.useCallback(()=>{F(!1),r&&ge()},[r,F,ge]),bt=b.useCallback(()=>{n&&requestAnimationFrame(()=>{N.current?.focus()})},[n]),An=b.useCallback(Ye=>{Ye.preventDefault(),$e.up(),bt()},[bt,$e]),nr=b.useCallback(Ye=>{Ye.preventDefault(),$e.down(),bt()},[bt,$e]);$f(()=>N.current,"wheel",Ye=>{const Tn=(N.current?.ownerDocument??document).activeElement===N.current;if(!_||!Tn)return;Ye.preventDefault();const qe=Tt(Ye)*d,xt=Math.sign(Ye.deltaY);xt===-1?Qe(qe):xt===1&&wt(qe)},{passive:!1});const Fe=b.useCallback((Ye={},ft=null)=>{const Tn=p||s&&H.isAtMax;return{...Ye,ref:Xr(ft,Le),role:"button",tabIndex:-1,onPointerDown:Jt(Ye.onPointerDown,qe=>{qe.button!==0||Tn||An(qe)}),onPointerLeave:Jt(Ye.onPointerLeave,$e.stop),onPointerUp:Jt(Ye.onPointerUp,$e.stop),disabled:Tn,"aria-disabled":cu(Tn)}},[H.isAtMax,s,An,$e.stop,p]),et=b.useCallback((Ye={},ft=null)=>{const Tn=p||s&&H.isAtMin;return{...Ye,ref:Xr(ft,Oe),role:"button",tabIndex:-1,onPointerDown:Jt(Ye.onPointerDown,qe=>{qe.button!==0||Tn||nr(qe)}),onPointerLeave:Jt(Ye.onPointerLeave,$e.stop),onPointerUp:Jt(Ye.onPointerUp,$e.stop),disabled:Tn,"aria-disabled":cu(Tn)}},[H.isAtMin,s,nr,$e.stop,p]),jt=b.useCallback((Ye={},ft=null)=>({name:z,inputMode:S,type:"text",pattern:j,"aria-labelledby":O,"aria-label":k,"aria-describedby":M,id:E,disabled:p,role:"spinbutton",...Ye,readOnly:Ye.readOnly??m,"aria-readonly":Ye.readOnly??m,"aria-required":Ye.required??g,required:Ye.required??g,ref:Xr(N,ft),value:ot(H.value),"aria-valuemin":l,"aria-valuemax":u,"aria-valuenow":Number.isNaN(H.valueAsNumber)?void 0:H.valueAsNumber,"aria-invalid":cu(x??H.isOutOfRange),"aria-valuetext":ae,autoComplete:"off",autoCorrect:"off",onChange:Jt(Ye.onChange,Bt),onKeyDown:Jt(Ye.onKeyDown,Ze),onFocus:Jt(Ye.onFocus,ye,()=>F(!0)),onBlur:Jt(Ye.onBlur,pe,Je)}),[z,S,j,O,k,ot,M,E,p,g,m,x,H.value,H.valueAsNumber,H.isOutOfRange,l,u,ae,Bt,Ze,ye,pe,Je]);return{value:ot(H.value),valueAsNumber:H.valueAsNumber,isFocused:he,isDisabled:p,isReadOnly:m,getIncrementButtonProps:Fe,getDecrementButtonProps:et,getInputProps:jt,htmlProps:me}}const[pY,Zx]=Dn({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[mY,a1]=Dn({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Yn=Ke(function(n,r){const s=si("NumberInput",n),l=On(n),u=OS(l),{htmlProps:d,...m}=fY(u),p=b.useMemo(()=>m,[m]);return e.jsx(mY,{value:p,children:e.jsx(pY,{value:s,children:e.jsx(Be.div,{...d,ref:r,className:lt("chakra-numberinput",n.className),__css:{position:"relative",zIndex:0,...s.root}})})})});Yn.displayName="NumberInput";const ss=Ke(function(n,r){const s=Zx();return e.jsx(Be.div,{"aria-hidden":!0,ref:r,...n,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...s.stepperGroup}})});ss.displayName="NumberInputStepper";const Xn=Ke(function(n,r){const{getInputProps:s}=a1(),l=s(n,r),u=Zx();return e.jsx(Be.input,{...l,className:lt("chakra-numberinput__field",n.className),__css:{width:"100%",...u.field}})});Xn.displayName="NumberInputField";const nR=Be("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),as=Ke(function(n,r){const s=Zx(),{getDecrementButtonProps:l}=a1(),u=l(n,r);return e.jsx(nR,{...u,__css:s.stepper,children:n.children??e.jsx(aY,{})})});as.displayName="NumberDecrementStepper";const os=Ke(function(n,r){const{getIncrementButtonProps:s}=a1(),l=s(n,r),u=Zx();return e.jsx(nR,{...l,__css:u.stepper,children:n.children??e.jsx(oY,{})})});os.displayName="NumberIncrementStepper";const[gY,NJ,xY,vY]=Fx(),[yY,bY]=Dn({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to place all pin input fields within `<PinInput />`"}),uA=t=>t?.split("");function dA(t,n){return(n==="alphanumeric"?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(t)}function jY(t={}){const{autoFocus:n,value:r,defaultValue:s,onChange:l,onComplete:u,placeholder:d="",manageFocus:m=!0,otp:p=!1,id:g,isDisabled:x,isInvalid:j,type:S="number",mask:_}=t,E=b.useId(),A=g??`pin-input-${E}`,T=xY(),[z,M]=b.useState(!0),[k,O]=b.useState(-1),[I,$]=Cx({defaultValue:uA(s)||[],value:uA(r),onChange:me=>l?.(me.join(""))});b.useEffect(()=>{if(n){const me=T.first();me&&requestAnimationFrame(()=>{me.node.focus()})}},[T]);const G=b.useCallback(me=>{if(!z||!m)return;const Ee=T.next(me,!1);Ee&&requestAnimationFrame(()=>{Ee.node.focus()})},[T,z,m]),ee=b.useCallback((me,Ee,pe=!0)=>{const K=[...I];K[Ee]=me,$(K),me!==""&&K.length===T.count()&&K.every(W=>W!=null&&W!=="")?u?.(K.join("")):pe&&G(Ee)},[I,$,G,u,T]),ue=b.useCallback(()=>{const me=Array(T.count()).fill("");$(me),T.first()?.node?.focus()},[T,$]),fe=b.useCallback((me,Ee)=>{let pe=Ee;return me?.length>0&&(me[0]===Ee.charAt(0)?pe=Ee.charAt(1):me[0]===Ee.charAt(1)&&(pe=Ee.charAt(0))),pe},[]);return{getInputProps:b.useCallback(me=>{const{index:Ee,...pe}=me,K=ie=>{const he=ie.currentTarget.value,F=I[Ee],P=fe(F,he);if(P===""){ee("",Ee);return}if(he.length>2){if(dA(he,S)){const N=he.split("").filter((re,Le)=>Le<T.count());$(N),N.length===T.count()&&u?.(N.join(""))}}else dA(P,S)&&ee(P,Ee),M(!0)},Z=ie=>{if(ie.key==="Backspace"&&m)if(ie.currentTarget.value===""){const he=T.prev(Ee,!1);he&&(ee("",Ee-1,!1),he.node?.focus(),M(!0))}else M(!1)},W=()=>{O(Ee)},H=()=>{O(-1)},Se=k===Ee;return{"aria-label":"Please enter your pin code",inputMode:S==="number"?"numeric":"text",type:_?"password":S==="number"?"tel":"text",...pe,id:`${A}-${Ee}`,disabled:x,"aria-invalid":cu(j),onChange:Jt(pe.onChange,K),onKeyDown:Jt(pe.onKeyDown,Z),onFocus:Jt(pe.onFocus,W),onBlur:Jt(pe.onBlur,H),value:I[Ee]||"",autoComplete:p?"one-time-code":"off",placeholder:Se?"":d}},[T,k,fe,A,x,_,j,m,u,p,d,ee,$,S,I]),id:A,descendants:T,values:I,setValue:ee,setValues:$,clear:ue}}function SY(t={},n=null){const{getInputProps:r}=bY(),{index:s,register:l}=vY();return r({...t,ref:Xr(l,n),index:t.index??s})}function nj(t){const n=hs("PinInput",t),{children:r,...s}=On(t),{descendants:l,...u}=jY(s),d=Ru(r).map(m=>b.cloneElement(m,{__css:n}));return e.jsx(gY,{value:l,children:e.jsx(yY,{value:u,children:d})})}nj.displayName="PinInput";const al=Ke(function(n,r){const s=SY(n,r);return e.jsx(Be.input,{...s,className:lt("chakra-pin-input",n.className)})});al.displayName="PinInputField";function wY(t){const n=b.version;return typeof n!="string"||n.startsWith("18.")?t?.ref:t?.props?.ref}function _Y(t,n,r){return(t-n)*100/(r-n)}Sc({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});Sc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});const CY=Sc({"0%":{left:"-40%"},"100%":{left:"100%"}}),EY=Sc({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function AY(t){const{value:n=0,min:r,max:s,valueText:l,getValueText:u,isIndeterminate:d,role:m="progressbar"}=t,p=_Y(n,r,s);return{bind:{"data-indeterminate":d?"":void 0,"aria-valuemax":s,"aria-valuemin":r,"aria-valuenow":d?void 0:n,"aria-valuetext":(()=>{if(n!=null)return typeof u=="function"?u(n,p):l})(),role:m},percent:p,value:n}}const[TY,kY]=Dn({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),PY=Ke((t,n)=>{const{min:r,max:s,value:l,isIndeterminate:u,role:d,...m}=t,p=AY({value:l,min:r,max:s,isIndeterminate:u,role:d}),x={height:"100%",...kY().filledTrack};return e.jsx(Be.div,{ref:n,style:{width:`${p.percent}%`,...m.style},...p.bind,...m,__css:x})}),pc=Ke((t,n)=>{const{value:r,min:s=0,max:l=100,hasStripe:u,isAnimated:d,children:m,borderRadius:p,isIndeterminate:g,"aria-label":x,"aria-labelledby":j,"aria-valuetext":S,title:_,role:E,...A}=On(t),T=si("Progress",t),z=p??T.track?.borderRadius,M={animation:`${EY} 1s linear infinite`},I={...!g&&u&&d&&M,...g&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${CY} 1s ease infinite normal none running`}},$={overflow:"hidden",position:"relative",...T.track};return e.jsx(Be.div,{ref:n,borderRadius:z,__css:$,...A,children:e.jsxs(TY,{value:T,children:[e.jsx(PY,{"aria-label":x,"aria-labelledby":j,"aria-valuetext":S,min:s,max:l,value:r,isIndeterminate:g,css:I,borderRadius:z,title:_,role:E}),m]})})});pc.displayName="Progress";const rR=Ke(function(n,r){const{children:s,placeholder:l,className:u,...d}=n;return e.jsxs(Be.select,{...d,ref:r,className:lt("chakra-select",u),children:[l&&e.jsx("option",{value:"",children:l}),s]})});rR.displayName="SelectField";const st=Ke((t,n)=>{const r=si("Select",t),{rootProps:s,placeholder:l,icon:u,color:d,height:m,h:p,minH:g,minHeight:x,iconColor:j,iconSize:S,..._}=On(t),[E,A]=y4(_,fO),T=LS(A),z={width:"100%",height:"fit-content",position:"relative",color:d},M={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...r.field?._focus}};return e.jsxs(Be.div,{className:"chakra-select__wrapper",__css:z,...E,...s,children:[e.jsx(rR,{ref:n,height:p??m,minH:g??x,placeholder:l,...T,__css:M,children:t.children}),e.jsx(iR,{"data-disabled":yn(T.disabled),...(j||d)&&{color:j||d},__css:r.icon,...S&&{fontSize:S},children:u})]})});st.displayName="Select";const MY=t=>e.jsx("svg",{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),RY=Be("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),iR=t=>{const{children:n=e.jsx(MY,{}),...r}=t,s=b.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return e.jsx(RY,{...r,className:"chakra-select__icon-wrapper",children:b.isValidElement(n)?s:null})};iR.displayName="SelectIcon";const yp=Be("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});yp.displayName="Spacer";const sR=t=>e.jsx(Be.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});sR.displayName="StackItem";function zY(t){const{spacing:n,direction:r}=t,s={column:{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:n,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:n,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":_x(r,l=>s[l])}}const Lo=Ke((t,n)=>{const{isInline:r,direction:s,align:l,justify:u,spacing:d="0.5rem",wrap:m,children:p,divider:g,className:x,shouldWrapChildren:j,...S}=t,_=r?"row":s??"column",E=b.useMemo(()=>zY({spacing:d,direction:_}),[d,_]),A=!!g,T=!j&&!A,z=b.useMemo(()=>{const k=Ru(p);return T?k:k.map((O,I)=>{const $=typeof O.key<"u"?O.key:I,G=I+1===k.length,ue=j?e.jsx(sR,{children:O},$):O;if(!A)return ue;const fe=b.cloneElement(g,{__css:E}),X=G?null:fe;return e.jsxs(b.Fragment,{children:[ue,X]},$)})},[g,E,A,T,j,p]),M=lt("chakra-stack",x);return e.jsx(Be.div,{ref:n,display:"flex",alignItems:l,justifyContent:u,flexDirection:_,flexWrap:m,gap:A?void 0:d,className:M,...S,children:z})});Lo.displayName="Stack";const le=Ke((t,n)=>e.jsx(Lo,{align:"center",...t,direction:"row",ref:n}));le.displayName="HStack";const oe=Ke((t,n)=>e.jsx(Lo,{align:"center",...t,direction:"column",ref:n}));oe.displayName="VStack";const[DY,Yx]=Dn({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),Ct=Ke(function(n,r){const s=si("Stat",n),l={position:"relative",flex:"1 1 0%",...s.container},{className:u,children:d,...m}=On(n);return e.jsx(DY,{value:s,children:e.jsx(Be.div,{ref:r,...m,className:lt("chakra-stat",u),__css:l,children:e.jsx("dl",{children:d})})})});Ct.displayName="Stat";const aR=t=>e.jsx(Kn,{color:"red.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})});aR.displayName="StatDownArrow";function oR(t){return e.jsx(Kn,{color:"green.400",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})})}oR.displayName="StatUpArrow";function Ld(t){const{type:n,"aria-label":r,...s}=t,l=Yx(),u=n==="increase"?oR:aR,m=r||(n==="increase"?"increased by":"decreased by");return e.jsxs(e.Fragment,{children:[e.jsx(Be.span,{srOnly:!0,children:m}),e.jsx(u,{"aria-hidden":!0,...s,__css:l.icon})]})}Ld.displayName="StatArrow";const o1=Ke(function(n,r){return e.jsx(Be.div,{...n,ref:r,role:"group",className:lt("chakra-stat__group",n.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});o1.displayName="StatGroup";const Xs=Ke(function(n,r){const s=Yx();return e.jsx(Be.dd,{ref:r,...n,className:lt("chakra-stat__help-text",n.className),__css:s.helpText})});Xs.displayName="StatHelpText";const Et=Ke(function(n,r){const s=Yx();return e.jsx(Be.dt,{ref:r,...n,className:lt("chakra-stat__label",n.className),__css:s.label})});Et.displayName="StatLabel";const At=Ke(function(n,r){const s=Yx();return e.jsx(Be.dd,{ref:r,...n,className:lt("chakra-stat__number",n.className),__css:{...s.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});At.displayName="StatNumber";const br=Ke(function(n,r){const s=si("Switch",n),{spacing:l="0.5rem",children:u,...d}=On(n),{getIndicatorProps:m,getInputProps:p,getCheckboxProps:g,getRootProps:x,getLabelProps:j}=VP(d),S=b.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...s.container}),[s.container]),_=b.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...s.track}),[s.track]),E=b.useMemo(()=>({userSelect:"none",marginStart:l,...s.label}),[l,s.label]);return e.jsxs(Be.label,{...x(),className:lt("chakra-switch",n.className),__css:S,children:[e.jsx("input",{className:"chakra-switch__input",...p({},r)}),e.jsx(Be.span,{...g(),className:"chakra-switch__track",__css:_,children:e.jsx(Be.span,{__css:s.thumb,className:"chakra-switch__thumb",...m()})}),u&&e.jsx(Be.span,{className:"chakra-switch__label",...j(),__css:E,children:u})]})});br.displayName="Switch";const[LY,Bp]=Dn({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),Rr=Ke((t,n)=>{const r=si("Table",t),{className:s,layout:l,...u}=On(t);return e.jsx(LY,{value:r,children:e.jsx(Be.table,{ref:n,__css:{tableLayout:l,...r.table},className:lt("chakra-table",s),...u})})});Rr.displayName="Table";const $r=Ke((t,n)=>{const r=Bp();return e.jsx(Be.tbody,{...t,ref:n,__css:r.tbody})}),Ve=Ke(({isNumeric:t,...n},r)=>{const s=Bp();return e.jsx(Be.td,{...n,ref:r,__css:s.td,"data-is-numeric":t})}),He=Ke(({isNumeric:t,...n},r)=>{const s=Bp();return e.jsx(Be.th,{...n,ref:r,__css:s.th,"data-is-numeric":t})}),Fr=Ke((t,n)=>{const r=Bp();return e.jsx(Be.thead,{...t,ref:n,__css:r.thead})}),Qt=Ke((t,n)=>{const r=Bp();return e.jsx(Be.tr,{...t,ref:n,__css:r.tr})}),[OY,NY,IY,BY]=Fx();function $Y(t){const{defaultIndex:n,onChange:r,index:s,isManual:l,isLazy:u,lazyBehavior:d="unmount",orientation:m="horizontal",direction:p="ltr",...g}=t,[x,j]=b.useState(n??0),[S,_]=Cx({defaultValue:n??0,value:s,onChange:r});b.useEffect(()=>{s!=null&&j(s)},[s]);const E=IY(),A=b.useId();return{id:`tabs-${t.id??A}`,selectedIndex:S,focusedIndex:x,setSelectedIndex:_,setFocusedIndex:j,isManual:l,isLazy:u,lazyBehavior:d,orientation:m,descendants:E,direction:p,htmlProps:g}}const[FY,Xx]=Dn({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function VY(t){const{focusedIndex:n,orientation:r,direction:s}=Xx(),l=NY(),u=b.useCallback(d=>{const m=()=>{const M=l.nextEnabled(n);M&&M.node?.focus()},p=()=>{const M=l.prevEnabled(n);M&&M.node?.focus()},g=()=>{const M=l.firstEnabled();M&&M.node?.focus()},x=()=>{const M=l.lastEnabled();M&&M.node?.focus()},j=r==="horizontal",S=r==="vertical",_=d.key,E=s==="ltr"?"ArrowLeft":"ArrowRight",A=s==="ltr"?"ArrowRight":"ArrowLeft",z={[E]:()=>j&&p(),[A]:()=>j&&m(),ArrowDown:()=>S&&m(),ArrowUp:()=>S&&p(),Home:g,End:x}[_];z&&(d.preventDefault(),z(d))},[l,n,r,s]);return{...t,role:"tablist","aria-orientation":r,onKeyDown:Jt(t.onKeyDown,u)}}function UY(t){const{isDisabled:n=!1,isFocusable:r=!1,...s}=t,{setSelectedIndex:l,isManual:u,id:d,setFocusedIndex:m,selectedIndex:p}=Xx(),{index:g,register:x}=BY({disabled:n&&!r}),j=g===p,S=()=>{l(g)},_=()=>{m(g),!u&&!(n&&r)&&l(g)};return{...NM({...s,ref:Xr(x,t.ref),isDisabled:n,isFocusable:r,onClick:Jt(t.onClick,S)}),id:lR(d,g),role:"tab",tabIndex:j?0:-1,type:"button","aria-selected":j,"aria-controls":cR(d,g),onFocus:n?void 0:Jt(t.onFocus,_)}}const[HY,WY]=Dn({});function qY(t){const n=Xx(),{id:r,selectedIndex:s}=n,u=Ru(t.children).map((d,m)=>b.createElement(HY,{key:d.key??m,value:{isSelected:m===s,id:cR(r,m),tabId:lR(r,m),selectedIndex:s}},d));return{...t,children:u}}function GY(t){const{children:n,...r}=t,{isLazy:s,lazyBehavior:l}=Xx(),{isSelected:u,id:d,tabId:m}=WY(),p=b.useRef(!1);u&&(p.current=!0);const g=rT({wasSelected:p.current,isSelected:u,enabled:s,mode:l});return{tabIndex:0,...r,children:g?n:null,role:"tabpanel","aria-labelledby":m,hidden:!u,id:d}}function lR(t,n){return`${t}--tab-${n}`}function cR(t,n){return`${t}--tabpanel-${n}`}const[ZY,Kx]=Dn({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Oo=Ke(function(n,r){const s=si("Tabs",n),{children:l,className:u,...d}=On(n),{htmlProps:m,descendants:p,...g}=$Y(d),x=b.useMemo(()=>g,[g]),{isFitted:j,...S}=m,_={position:"relative",...s.root};return e.jsx(OY,{value:p,children:e.jsx(FY,{value:x,children:e.jsx(ZY,{value:s,children:e.jsx(Be.div,{className:lt("chakra-tabs",u),ref:r,...S,__css:_,children:l})})})})});Oo.displayName="Tabs";const pn=Ke(function(n,r){const s=Kx(),l=UY({...n,ref:r}),u={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...s.tab};return e.jsx(Be.button,{...l,className:lt("chakra-tabs__tab",n.className),__css:u})});pn.displayName="Tab";const No=Ke(function(n,r){const s=VY({...n,ref:r}),l=Kx(),u={display:"flex",...l.tablist};return e.jsx(Be.div,{...s,className:lt("chakra-tabs__tablist",n.className),__css:u})});No.displayName="TabList";const mn=Ke(function(n,r){const s=GY({...n,ref:r}),l=Kx();return e.jsx(Be.div,{outline:"0",...s,className:lt("chakra-tabs__tab-panel",n.className),__css:l.tabpanel})});mn.displayName="TabPanel";const Io=Ke(function(n,r){const s=qY(n),l=Kx();return e.jsx(Be.div,{...s,width:"100%",ref:r,className:lt("chakra-tabs__tab-panels",n.className),__css:l.tabpanels})});Io.displayName="TabPanels";const[YY,uR]=Dn({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Au=Ke((t,n)=>{const r=si("Tag",t),s=On(t),l={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...r.container};return e.jsx(YY,{value:r,children:e.jsx(Be.span,{ref:n,...s,__css:l})})});Au.displayName="Tag";const Tu=Ke((t,n)=>{const r=uR();return e.jsx(Be.span,{ref:n,noOfLines:1,...t,__css:r.label})});Tu.displayName="TagLabel";const XY=Ke((t,n)=>e.jsx(Kn,{ref:n,verticalAlign:"top",marginEnd:"0.5rem",...t}));XY.displayName="TagLeftIcon";const KY=Ke((t,n)=>e.jsx(Kn,{ref:n,verticalAlign:"top",marginStart:"0.5rem",...t}));KY.displayName="TagRightIcon";const dR=t=>e.jsx(Kn,{verticalAlign:"inherit",viewBox:"0 0 512 512",...t,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});dR.displayName="TagCloseIcon";const l1=Ke((t,n)=>{const{isDisabled:r,children:s,...l}=t,d={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...uR().closeButton};return e.jsx(Be.button,{ref:n,"aria-label":"close",...l,type:"button",disabled:r,__css:d,children:s||e.jsx(dR,{})})});l1.displayName="TagCloseButton";const QY=["h","minH","height","minHeight"],sn=Ke((t,n)=>{const r=hs("Textarea",t),{className:s,rows:l,...u}=On(t),d=LS(u),m=l?Ep(r,QY):r;return e.jsx(Be.textarea,{ref:n,rows:l,...d,className:lt("chakra-textarea",s),__css:m})});sn.displayName="Textarea";function JY(t,n){const r=t??"bottom";return{"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r]?.[n]??r}function eX(t,n){const r=l=>({...n,...l,position:JY(l?.position??n?.position,t)}),s=l=>{const u=r(l),d=TP(u);return bo.notify(d,u)};return s.update=(l,u)=>{bo.update(l,r(u))},s.promise=(l,u)=>{const d=s({...u.loading,status:"loading",duration:null});l.then(m=>s.update(d,{status:"success",duration:5e3,...Ks(u.success,m)})).catch(m=>s.update(d,{status:"error",duration:5e3,...Ks(u.error,m)}))},s.closeAll=bo.closeAll,s.close=bo.close,s.isActive=bo.isActive,s}function Mn(t){const{theme:n}=wP(),r=CU();return b.useMemo(()=>eX(n.direction,{...r,...t}),[t,n.direction,r])}const tX={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},rj=t=>t.current?.ownerDocument||document,Yg=t=>t.current?.ownerDocument?.defaultView||window;function nX(t={}){const{openDelay:n=0,closeDelay:r=0,closeOnClick:s=!0,closeOnMouseDown:l,closeOnScroll:u,closeOnPointerDown:d=l,closeOnEsc:m=!0,onOpen:p,onClose:g,placement:x,id:j,isOpen:S,defaultIsOpen:_,arrowSize:E=10,arrowShadowColor:A,arrowPadding:T,modifiers:z,isDisabled:M,gutter:k,offset:O,direction:I,...$}=t,{isOpen:G,onOpen:ee,onClose:ue}=It({isOpen:S,defaultIsOpen:_,onOpen:p,onClose:g}),{referenceRef:fe,getPopperProps:X,getArrowInnerProps:me,getArrowProps:Ee}=OM({enabled:G,placement:x,arrowPadding:T,modifiers:z,gutter:k,offset:O,direction:I}),pe=b.useId(),Z=`tooltip-${j??pe}`,W=b.useRef(null),H=b.useRef(void 0),Se=b.useCallback(()=>{H.current&&(clearTimeout(H.current),H.current=void 0)},[]),B=b.useRef(void 0),ie=b.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=void 0)},[]),he=b.useCallback(()=>{ie(),ue()},[ue,ie]),F=rX(W,he),P=b.useCallback(()=>{if(!M&&!H.current){G&&F();const Qe=Yg(W);H.current=Qe.setTimeout(ee,n)}},[F,M,G,ee,n]),N=b.useCallback(()=>{Se();const Qe=Yg(W);B.current=Qe.setTimeout(he,r)},[r,he,Se]),re=b.useCallback(()=>{G&&s&&N()},[s,N,G]),Le=b.useCallback(()=>{G&&d&&N()},[d,N,G]),Oe=b.useCallback(Qe=>{G&&Qe.key==="Escape"&&N()},[G,N]);$f(()=>rj(W),"keydown",m?Oe:void 0),$f(()=>{if(!u)return null;const Qe=W.current;if(!Qe)return null;const wt=oT(Qe);return wt.localName==="body"?Yg(W):wt},"scroll",()=>{G&&u&&he()},{passive:!0,capture:!0}),b.useEffect(()=>{M&&(Se(),G&&ue())},[M,G,ue,Se]),b.useEffect(()=>()=>{Se(),ie()},[Se,ie]),$f(()=>W.current,"pointerleave",N);const Pe=b.useCallback((Qe={},wt=null)=>({...Qe,ref:Xr(W,wt,fe),onPointerEnter:Jt(Qe.onPointerEnter,Bt=>{Bt.pointerType!=="touch"&&P()}),onClick:Jt(Qe.onClick,re),onPointerDown:Jt(Qe.onPointerDown,Le),onFocus:Jt(Qe.onFocus,P),onBlur:Jt(Qe.onBlur,N),"aria-describedby":G?Z:void 0}),[P,N,Le,G,Z,re,fe]),it=b.useCallback((Qe={},wt=null)=>X({...Qe,style:{...Qe.style,[Oi.arrowSize.var]:E?`${E}px`:void 0,[Oi.arrowShadowColor.var]:A}},wt),[X,E,A]),ot=b.useCallback((Qe={},wt=null)=>{const $e={...Qe.style,position:"relative",transformOrigin:Oi.transformOrigin.varRef};return{ref:wt,...$,...Qe,id:Z,role:"tooltip",style:$e}},[$,Z]);return{isOpen:G,show:P,hide:N,getTriggerProps:Pe,getTooltipProps:ot,getTooltipPositionerProps:it,getArrowProps:Ee,getArrowInnerProps:me}}const Ny="chakra-ui:close-tooltip";function rX(t,n){return b.useEffect(()=>{const r=rj(t);return r.addEventListener(Ny,n),()=>r.removeEventListener(Ny,n)},[n,t]),()=>{const r=rj(t),s=Yg(t);r.dispatchEvent(new s.CustomEvent(Ny))}}const iX=Be(zo.div),qi=Ke((t,n)=>{const r=hs("Tooltip",t),s=On(t),l=Du(),{children:u,label:d,shouldWrapChildren:m,"aria-label":p,hasArrow:g,bg:x,portalProps:j,background:S,backgroundColor:_,bgColor:E,motionProps:A,animatePresenceProps:T,...z}=s,M=S??_??x??E;if(M){r.bg=M;const fe=wO(l,"colors",M);r[Oi.arrowBg.var]=fe}const k=nX({...z,direction:l.direction}),O=!b.isValidElement(u)||m;let I;if(O)I=e.jsx(Be.span,{display:"inline-block",tabIndex:0,...k.getTriggerProps(),children:u});else{const fe=b.Children.only(u);I=b.cloneElement(fe,k.getTriggerProps(fe.props,wY(fe)))}const $=!!p,G=k.getTooltipProps({},n),ee=$?Ep(G,["role","id"]):G,ue=sT(G,["role","id"]);return d?e.jsxs(e.Fragment,{children:[I,e.jsx(wc,{...T,children:k.isOpen&&e.jsx(hh,{...j,children:e.jsx(Be.div,{...k.getTooltipPositionerProps(),__css:{zIndex:r.zIndex,pointerEvents:"none"},children:e.jsxs(iX,{variants:tX,initial:"exit",animate:"enter",exit:"exit",...A,...ee,__css:r,children:[d,$&&e.jsx(Be.span,{srOnly:!0,...ue,children:p}),g&&e.jsx(Be.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:e.jsx(Be.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:r.bg}})})]})})})})]}):e.jsx(e.Fragment,{children:u})});qi.displayName="Tooltip";const De=Ke(function(n,r){const s=hs("Heading",n),{className:l,...u}=On(n);return e.jsx(Be.h2,{ref:r,className:lt("chakra-heading",n.className),...u,__css:s})});De.displayName="Heading";const D=Ke(function(n,r){const s=hs("Text",n),{className:l,align:u,decoration:d,casing:m,...p}=On(n),g=Cp({textAlign:n.align,textDecoration:n.decoration,textTransform:n.casing});return e.jsx(Be.p,{ref:r,className:lt("chakra-text",n.className),...g,...p,__css:s})});D.displayName="Text";const hR=Be("span",{baseStyle:NS});hR.displayName="VisuallyHidden";const sX=Be("input",{baseStyle:NS});sX.displayName="VisuallyHiddenInput";const fR=Ke(function(n,r){const{spacing:s="0.5rem",spacingX:l,spacingY:u,children:d,justify:m,direction:p,align:g,className:x,shouldWrapChildren:j,...S}=n,_=b.useMemo(()=>j?b.Children.map(d,(E,A)=>e.jsx(pR,{children:E},A)):d,[d,j]);return e.jsx(Be.div,{ref:r,className:lt("chakra-wrap",x),...S,children:e.jsx(Be.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:m,alignItems:g,flexDirection:p,listStyleType:"none",gap:s,columnGap:l,rowGap:u,padding:"0"},children:_})})});fR.displayName="Wrap";const pR=Ke(function(n,r){const{className:s,...l}=n;return e.jsx(Be.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:lt("chakra-wrap__listitem",s),...l})});pR.displayName="WrapItem";const aX=zH({fonts:{heading:"Montserrat, system-ui, sans-serif",body:"Montserrat, system-ui, sans-serif"},styles:{global:{body:{fontFamily:"Montserrat, system-ui, sans-serif",bg:"gray.50",color:"gray.800"},"*":{borderColor:"gray.200"}}},colors:{rbe:{50:"#fef2f4",100:"#fde2e7",200:"#facbd4",300:"#f5a3b2",400:"#ed7189",500:"#e14964",600:"#be003c",700:"#9f1d3d",800:"#881b38",900:"#751a35"},brand:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"}},semanticTokens:{colors:{primary:{default:"rbe.600",_dark:"rbe.400"},accent:{default:"rbe.500",_dark:"rbe.300"},background:{default:"gray.50",_dark:"gray.900"},surface:{default:"white",_dark:"gray.800"},muted:{default:"gray.100",_dark:"gray.700"}}},components:{Card:{baseStyle:{container:{fontFamily:"Montserrat, system-ui, sans-serif",borderRadius:"xl",boxShadow:"sm",border:"1px solid",borderColor:"gray.200",transition:"all 0.2s ease-out",_hover:{boxShadow:"md",transform:"translateY(-2px)"}}},variants:{modern:{container:{bg:"white",borderRadius:"2xl",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"none",_hover:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transform:"translateY(-4px)"}}},gradient:{container:{bgGradient:"linear(to-br, rbe.500, rbe.700)",color:"white",border:"none",_hover:{bgGradient:"linear(to-br, rbe.400, rbe.600)"}}}}},Heading:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",letterSpacing:"-0.025em",lineHeight:"shorter"},variants:{page:{fontSize:{base:"2xl",md:"4xl"},fontWeight:"800",bgGradient:"linear(to-r, rbe.600, rbe.800)",bgClip:"text",textAlign:"center",mb:2},section:{fontSize:{base:"xl",md:"2xl"},fontWeight:"700",color:"gray.800",mb:4},card:{fontSize:{base:"lg",md:"xl"},fontWeight:"600",color:"gray.700"}}},Text:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",lineHeight:"relaxed"},variants:{subtitle:{fontSize:{base:"md",md:"lg"},color:"gray.600",textAlign:"center",maxW:"2xl",mx:"auto"},description:{fontSize:"sm",color:"gray.600",lineHeight:"relaxed"}}},Button:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",borderRadius:"lg",transition:"all 0.2s ease-out",_focus:{boxShadow:"0 0 0 3px rgba(190, 0, 60, 0.1)"}},variants:{primary:{bg:"rbe.600",color:"white",_hover:{bg:"rbe.700",transform:"translateY(-1px)",boxShadow:"lg"},_active:{bg:"rbe.800"}},secondary:{bg:"white",color:"rbe.600",borderWidth:"2px",borderColor:"rbe.600",_hover:{bg:"rbe.50",transform:"translateY(-1px)"}},modern:{bg:"white",color:"gray.700",borderWidth:"1px",borderColor:"gray.300",boxShadow:"sm",_hover:{bg:"gray.50",borderColor:"gray.400",transform:"translateY(-1px)",boxShadow:"md"}}},sizes:{modern:{h:"12",px:"6",fontSize:"sm",fontWeight:"600"}}},Container:{baseStyle:{maxW:"container.xl",px:{base:4,md:8}}},Badge:{baseStyle:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"600",fontSize:"xs",textTransform:"none",borderRadius:"md",px:2,py:1}},Modal:{baseStyle:{dialog:{borderRadius:"2xl",boxShadow:"2xl"},header:{fontFamily:"Montserrat, system-ui, sans-serif",fontWeight:"700",fontSize:"xl",color:"gray.800"}}}},breakpoints:{base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},shadows:{modern:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","modern-lg":"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",rbe:"0 4px 14px 0 rgba(190, 0, 60, 0.15)"},radii:{modern:"12px","modern-lg":"16px","modern-xl":"20px"}}),oX=["w.belaidi","admin"];function lX(t){return t?oX.includes(String(t).toLowerCase()):!1}const cX=[{code:"ADMIN",label:"Administrateur"},{code:"VOLUNTEER",label:"Bnvole"},{code:"DRIVER",label:"Conducteur"},{code:"MEMBER",label:"Membre"},{code:"PRESIDENT",label:"Prsident (hritage)"},{code:"VICE_PRESIDENT",label:"Vice-prsident (hritage)"},{code:"TRESORIER",label:"Trsorier (hritage)"},{code:"SECRETAIRE_GENERAL",label:"Secrtaire gnral (hritage)"}];function uX(t){if(!t)return"MEMBER";let n=String(t).trim().toUpperCase().replace(/[-\s]+/g,"_");const r={ADMINISTRATEUR:"ADMIN",ADMINISTRATEURS:"ADMIN",BENEVOLE:"VOLUNTEER",BNVOLE:"VOLUNTEER",BENEVOLES:"VOLUNTEER",BNVOLES:"VOLUNTEER",CONDUCTEUR:"DRIVER",CONDUCTEURS:"DRIVER",MEMBRE:"MEMBER",MEMBRES:"MEMBER"};return r[n]&&(n=r[n]),new Set(cX.map(l=>l.code)).has(n)?n:"MEMBER"}const dX=Lu({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),mR=Lu({displayName:"ViewIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),hX=Lu({displayName:"ViewOffIcon",path:e.jsxs("g",{fill:"currentColor",children:[e.jsx("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),e.jsx("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})}),fX=Lu({displayName:"DeleteIcon",path:e.jsx("g",{fill:"currentColor",children:e.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),pX=Lu({displayName:"EditIcon",path:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),mX=Lu({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),gX=Lu({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});function xX({isOpen:t,onPasswordChanged:n}){const[r,s]=b.useState(""),[l,u]=b.useState(""),[d,m]=b.useState(!1),[p,g]=b.useState(!1),[x,j]=b.useState(""),_=(A=>{let T=0;return A.length>=8&&(T+=25),/[A-Z]/.test(A)&&(T+=25),/[a-z]/.test(A)&&(T+=25),/[0-9]/.test(A)&&(T+=25),T})(r),E=async A=>{if(A.preventDefault(),j(""),r.length<6){j("Le mot de passe doit contenir au moins 6 caractres");return}if(r!==l){j("Les mots de passe ne correspondent pas");return}g(!0);try{const T=await fetch("https://attractive-kindness-rbe-serveurs.up.railway.app/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newPassword:r})}),z=await T.json();if(!T.ok)throw new Error(z.error||"Erreur de changement de mot de passe");n()}catch(T){j(T.message)}finally{g(!1)}};return e.jsxs(kt,{isOpen:t,closeOnOverlayClick:!1,closeOnEsc:!1,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Changement de mot de passe obligatoire"}),e.jsxs(Pt,{pb:6,children:[e.jsxs(tn,{status:"info",mb:4,children:[e.jsx(nn,{}),"Vous devez changer votre mot de passe temporaire avant de continuer."]}),e.jsx("form",{onSubmit:E,children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nouveau mot de passe"}),e.jsxs(_u,{children:[e.jsx(je,{type:d?"text":"password",value:r,onChange:A=>s(A.target.value),placeholder:"Au moins 6 caractres"}),e.jsx(KS,{children:e.jsx(yt,{variant:"ghost",size:"sm",icon:d?e.jsx(hX,{}):e.jsx(mR,{}),onClick:()=>m(!d)})})]}),r&&e.jsxs(oe,{align:"start",spacing:1,mt:2,children:[e.jsx(D,{fontSize:"xs",color:"gray.600",children:"Force du mot de passe:"}),e.jsx(pc,{value:_,colorScheme:_<50?"red":_<75?"yellow":"green",size:"sm",width:"100%"})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Confirmer le mot de passe"}),e.jsx(je,{type:d?"text":"password",value:l,onChange:A=>u(A.target.value),placeholder:"Retapez le nouveau mot de passe"})]}),x&&e.jsx(D,{color:"red.500",fontSize:"sm",children:x}),e.jsx(ne,{type:"submit",colorScheme:"blue",width:"100%",isLoading:p,isDisabled:!r||!l,children:"Changer le mot de passe"})]})})]})]})]})}const gR=b.createContext(null);function vX({children:t}){const[n,r]=b.useState(()=>localStorage.getItem("token")||""),[s,l]=b.useState(()=>{const he=localStorage.getItem("user");return he?JSON.parse(he):null}),[u,d]=b.useState(!1),[m,p]=b.useState(!1),g=!!n,[x,j]=b.useState(null),[S,_]=b.useState(!1),[E,A]=b.useState(null),[T,z]=b.useState(null),M=b.useRef(0),[k,O]=b.useState(null),[I,$]=b.useState(!1);b.useEffect(()=>{n?localStorage.setItem("token",n):localStorage.removeItem("token")},[n]),b.useEffect(()=>{s?localStorage.setItem("user",JSON.stringify(s)):localStorage.removeItem("user")},[s]);const G=()=>{r(""),l(null),j(null),A(null),z(null),localStorage.removeItem("token"),localStorage.removeItem("user")},ee=async()=>{if(!n)return l(null),p(!0),!1;const he="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),F=String(n).startsWith("local-dev-token-");if(!he||F)return p(!0),!0;try{const P=await fetch(`${he}/api/me`,{headers:{Authorization:`Bearer ${n}`}});if(!P.ok)throw new Error(`HTTP ${P.status}`);const N=await P.json();if(N?.disabled===!0||N?.active===!1||N?.status==="DISABLED")return G(),p(!0),!1;const Le=(()=>{const Oe=N?.username||N?.matricule||N?.login||(N?.email?String(N.email).split("@")[0]:""),Pe=N?.prenom||N?.firstName||N?.given_name||"",it=N?.nom||N?.lastName||N?.family_name||"";return{...N,username:Oe,prenom:Pe,nom:it}})();return l(Le),d(!!N.mustChangePassword),p(!0),!0}catch{return G(),p(!0),!1}},ue=()=>{const he="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),F=[];return he&&F.push(he),F.push(""),F},fe=async(he=!1)=>{if(!n)return j(null),A("no-token"),null;const F=Date.now();if(!he&&F-M.current<500)return x;M.current=F,_(!0),A(null);try{const P=ue();let N=!1,re=null;for(const Le of P)try{const Oe=await fetch(`${Le}/api/members/me`,{headers:{Authorization:`Bearer ${n}`}});if(re=Oe.status,Oe.ok){const Pe=await Oe.json();j(Pe),z(Le||null),N=!0;break}}catch{re="network";continue}return N?x:(j(null),A(re),null)}finally{_(!1)}},X=async()=>{if(!s?.id||!n)return O(null),null;$(!0);try{const he=ue();for(const F of he)try{const P=await fetch(`${F}/api/member-permissions/${s.id}`,{headers:{Authorization:`Bearer ${n}`}});if(P.ok){const N=await P.json(),re=N.customPermissions&&Object.keys(N.customPermissions).length>0?N.customPermissions:null;return O(re),re}}catch{continue}return O(null),null}finally{$(!1)}};b.useEffect(()=>{ee()},[]),b.useEffect(()=>{n?ee().then(he=>{he&&(fe(),X())}):p(!0)},[n]),b.useEffect(()=>{const he=()=>ee();window.addEventListener("focus",he);const F=setInterval(()=>ee(),300*1e3);return()=>{window.removeEventListener("focus",he),clearInterval(F)}},[n]);const me=s?.username||"",Ee=s?.prenom||"",pe=s?.nom||"",K=(s?.roles||[]).map(he=>uX(he)),Z=K.includes("ADMIN")||K.includes("PRESIDENT")||K.includes("VICE_PRESIDENT")||K.includes("TRESORIER")||K.includes("SECRETAIRE_GENERAL"),W=K.includes("VOLUNTEER"),H=K.includes("DRIVER"),Se=K.includes("MEMBER"),B=s?.username||"",ie=b.useMemo(()=>({token:n,setToken:r,user:s,setUser:l,isAuthenticated:g,username:me,prenom:Ee,nom:pe,roles:K,isAdmin:Z,isVolunteer:W,isDriver:H,isMember:Se,matricule:B,logout:G,sessionChecked:m,ensureSession:ee,member:x,memberLoading:S,memberError:E,memberApiBase:T,refreshMember:fe,customPermissions:k,permissionsLoading:I,refreshPermissions:X}),[n,s,g,me,Ee,pe,K,Z,W,H,Se,B,m,x,S,E,T,k,I]);return e.jsxs(gR.Provider,{value:ie,children:[t,e.jsx(xX,{isOpen:u,onPasswordChanged:()=>{d(!1),n&&ee()}})]})}function Ni(){return b.useContext(gR)}const ma="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),vf=(t={})=>({"Content-Type":"application/json",...t.headers}),yf=(t,n={})=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`,...n.headers}),mo=async t=>{const n=t.headers.get("content-type");if(n&&n.includes("application/json"))try{return await t.json()}catch(r){throw console.error(" Erreur parsing JSON:",r),new Error("Rponse JSON invalide du serveur")}else{const r=await t.text();throw console.error(" Rponse non-JSON reue:",r.substring(0,200)+"..."),r.includes("<!DOCTYPE")?new Error("Le serveur a renvoy une page HTML au lieu de JSON. Vrifiez l'URL de l'API."):new Error(`Rponse inattendue du serveur (${t.status}): ${r.substring(0,100)}`)}},St={baseURL:ma,get:async(t,n={})=>{const r=localStorage.getItem("token"),s=r?yf(r,n):vf(n);console.log(` GET ${ma}${t}`);try{const l=await fetch(`${ma}${t}`,{method:"GET",headers:s,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const u=await mo(l),d=u?.error||u?.message||`HTTP ${l.status}`;throw new Error(d)}return await mo(l)}catch(l){throw console.error(` Erreur GET ${t}:`,l.message),l}},post:async(t,n,r={})=>{const s=localStorage.getItem("token"),l=s?yf(s,r):vf(r);console.log(` POST ${ma}${t}`,n);try{const u=await fetch(`${ma}${t}`,{method:"POST",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await mo(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await mo(u)}catch(u){throw console.error(` Erreur POST ${t}:`,u.message),u}},put:async(t,n,r={})=>{const s=localStorage.getItem("token"),l=s?yf(s,r):vf(r);console.log(` PUT ${ma}${t}`,n);try{const u=await fetch(`${ma}${t}`,{method:"PUT",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await mo(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await mo(u)}catch(u){throw console.error(` Erreur PUT ${t}:`,u.message),u}},patch:async(t,n,r={})=>{const s=localStorage.getItem("token"),l=s?yf(s,r):vf(r);console.log(` PATCH ${ma}${t}`,n);try{const u=await fetch(`${ma}${t}`,{method:"PATCH",headers:l,body:JSON.stringify(n),...r});if(console.log(` Response status: ${u.status}`),!u.ok){if(u.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await mo(u),m=d?.error||d?.message||`HTTP ${u.status}`;throw new Error(m)}return await mo(u)}catch(u){throw console.error(` Erreur PATCH ${t}:`,u.message),u}},delete:async(t,n={})=>{const r=localStorage.getItem("token"),s=r?yf(r,n):vf(n);console.log(` DELETE ${ma}${t}`);try{const l=await fetch(`${ma}${t}`,{method:"DELETE",headers:s,...n});if(console.log(` Response status: ${l.status}`),!l.ok){if(l.status===401){console.warn(" Token expir, redirection vers login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}const d=await mo(l),m=d?.error||d?.message||`HTTP ${l.status}`;throw new Error(m)}return l.headers.get("content-length")==="0"||l.status===204?{success:!0}:await mo(l)}catch(l){throw console.error(` Erreur DELETE ${t}:`,l.message),l}}},Qx={getActive:async()=>{console.log(" API: getActive flashs...");const t=await St.get("/flashes");return console.log(" API: getActive result:",t),t},getAll:async()=>{console.log(" API: getAll flashs...");const t=await St.get("/flashes/all");return console.log(" API: getAll result:",t),t},create:async t=>{console.log(" API: create flash:",t);const n=await St.post("/flashes",t);return console.log(" API: create result:",n),n},update:async(t,n)=>{console.log(" API: update flash:",t,n);const r=await St.put(`/flashes/${t}`,n);return console.log(" API: update result:",r),r},delete:async t=>{console.log(" API: delete flash:",t);const n=await St.delete(`/flashes/${t}`);return console.log(" API: delete result:",n),n}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,s)=>s?s.toUpperCase():r.toLowerCase()),hA=t=>{const n=bX(t);return n.charAt(0).toUpperCase()+n.slice(1)},xR=(...t)=>t.filter((n,r,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===r).join(" ").trim(),jX=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=b.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...m},p)=>b.createElement("svg",{ref:p,...SX,width:n,height:n,stroke:t,strokeWidth:s?Number(r)*24/Number(n):r,className:xR("lucide",l),...!u&&!jX(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,x])=>b.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=(t,n)=>{const r=b.forwardRef(({className:s,...l},u)=>b.createElement(wX,{ref:u,iconNode:n,className:xR(`lucide-${yX(hA(t))}`,`lucide-${t}`,s),...l}));return r.displayName=hA(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fA=$p("bell",_X);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EX=$p("check",CX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TX=$p("settings",AX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PX=$p("trash-2",kX);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],RX=$p("x",MX);function zX(){const[t,n]=b.useState([]),[r,s]=b.useState(0),[l,u]=b.useState(!1),[d,m]=b.useState(!1),[p,g]=b.useState(!1),[x,j]=b.useState({}),S=b.useCallback(async()=>{try{const M=localStorage.getItem("token");if(!M)return;const k=await fetch("/api/notifications/inbox?limit=20",{headers:{Authorization:`Bearer ${M}`}});if(!k.ok)throw new Error("Failed to fetch");const O=await k.json();O.success&&(n(O.messages||[]),s(O.unread||0))}catch(M){console.error(" Fetch notifications error:",M)}},[]),_=b.useCallback(async()=>{try{const M=localStorage.getItem("token");if(!M)return;const k=await fetch("/api/notifications/preferences",{headers:{Authorization:`Bearer ${M}`}});if(k.ok){const O=await k.json();j(O.preferences||{})}}catch(M){console.error(" Fetch preferences error:",M)}},[]),E=async M=>{try{const k=localStorage.getItem("token");(await fetch(`/api/notifications/mark-read/${M}`,{method:"PATCH",headers:{Authorization:`Bearer ${k}`}})).ok&&S()}catch(k){console.error(" Mark read error:",k)}},A=async M=>{try{const k=localStorage.getItem("token");(await fetch(`/api/notifications/message/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`}})).ok&&S()}catch(k){console.error(" Delete error:",k)}},T=async()=>{try{const M=localStorage.getItem("token");(await fetch("/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${M}`}})).ok&&S()}catch(M){console.error(" Mark all read error:",M)}},z=async(M,k)=>{try{const O=localStorage.getItem("token");(await fetch("/api/notifications/preferences",{method:"PUT",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({[M]:k})})).ok&&_()}catch(O){console.error(" Update preferences error:",O)}};return b.useEffect(()=>{S(),_();const M=setInterval(S,3e4);return()=>clearInterval(M)},[S,_]),e.jsxs("div",{className:"notification-center",children:[e.jsxs("button",{className:"bell-button",onClick:()=>{u(!l),g(!1)},title:"Notifications",children:[e.jsx(fA,{size:20}),r>0&&e.jsx("span",{className:"badge",children:r>9?"9+":r})]}),l&&e.jsxs("div",{className:"notification-popup",children:[e.jsxs("div",{className:"popup-header",children:[e.jsxs("h3",{children:["Notifications ",t.length>0&&`(${t.length})`]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"icon-button",onClick:()=>g(!p),title:"Paramtres",children:e.jsx(TX,{size:16})}),e.jsx("button",{className:"close-button",onClick:()=>u(!1),children:e.jsx(RX,{size:16})})]})]}),e.jsx("div",{className:"popup-content",children:p?e.jsxs("div",{className:"preferences-panel",children:[e.jsx("h4",{children:"Prfrences de notification"}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.ticketNotifications!==!1,onChange:M=>z("ticketNotifications",M.target.checked)}),e.jsx("span",{children:" Notifications de tickets"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.eventNotifications!==!1,onChange:M=>z("eventNotifications",M.target.checked)}),e.jsx("span",{children:" Notifications d'vnements"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.reportNotifications!==!1,onChange:M=>z("reportNotifications",M.target.checked)}),e.jsx("span",{children:" Notifications de rapports"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.maintenanceNotifications!==!1,onChange:M=>z("maintenanceNotifications",M.target.checked)}),e.jsx("span",{children:" Alertes de maintenance"})]}),e.jsxs("label",{className:"pref-item",children:[e.jsx("input",{type:"checkbox",checked:x.systemNotifications!==!1,onChange:M=>z("systemNotifications",M.target.checked)}),e.jsx("span",{children:" Messages systme"})]})]}):e.jsx(e.Fragment,{children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(fA,{size:48}),e.jsx("p",{children:"Aucune notification"})]}):e.jsxs("div",{className:"messages-list",children:[r>0&&e.jsx("div",{className:"mark-all-read",children:e.jsx("button",{onClick:T,children:" Marquer tout comme lu"})}),t.map(M=>e.jsxs("div",{className:`message-item ${M.readAt?"read":"unread"}`,children:[e.jsxs("div",{className:"message-header",children:[e.jsx("strong",{children:M.title}),e.jsx("small",{children:DX(new Date(M.createdAt))})]}),e.jsx("div",{className:"message-content",dangerouslySetInnerHTML:{__html:M.content}}),e.jsxs("div",{className:"message-footer",children:[e.jsx("small",{className:"type-badge",children:M.type}),e.jsxs("div",{className:"message-actions",children:[!M.readAt&&e.jsx("button",{className:"action-button",onClick:()=>E(M.id),title:"Marquer comme lu",children:e.jsx(EX,{size:14})}),e.jsx("button",{className:"action-button delete",onClick:()=>A(M.id),title:"Supprimer",children:e.jsx(PX,{size:14})})]})]})]},M.id))]})})})]})]})}function DX(t){const r=new Date-t,s=Math.floor(r/6e4),l=Math.floor(r/36e5),u=Math.floor(r/864e5);return s<1?" l'instant":s<60?`${s}m`:l<24?`${l}h`:u<7?`${u}j`:t.toLocaleDateString("fr-FR")}const LX="/assets/retro_intranet_essonne-BfWPiuYY.svg",OX="/assets/flash-info-rvZ9UMs-.png",NX="/assets/flash-notif-HViqZ6l6.png",IX="/assets/flash-pos-1o7mOrZv.png",Zr={SITE_MANAGEMENT:"site:management",VEHICLES:"vehicles:list",EVENTS:"events:list",FINANCE:"finance:access",MEMBERS:"members:list",STOCK:"stock:access",NEWSLETTER:"newsletter:access",RETROMAIL:"retromail:access",RETROPLANNING:"retroplanning:access",RETROPLANNING_RESPOND:"retroplanning:respond",RETROSUPPORT:"retrosupport:access",MYRBE:"myrbe:access"};function BX(t,n,r="access",s=null){return t==="PRESTATAIRE"?n?.startsWith("retroplanning")||n?.startsWith("retrosupport"):!0}function ol(t,n,r=null){return BX(t,n,"access",r)}function Xc({to:t,exact:n=!1,children:r}){const{pathname:s}=Za(),l=n?s===t:s===t||s.startsWith(t+"/");return e.jsx(QS,{as:tr,to:t,color:l?"var(--rbe-red)":"gray.600",fontWeight:l?"bold":"normal",textDecoration:"none",position:"relative",_hover:{color:"var(--rbe-red)",textDecoration:"none"},_after:l?{content:'""',position:"absolute",bottom:"-8px",left:0,right:0,height:"2px",bg:"var(--rbe-red)",borderRadius:"1px"}:{},"aria-current":l?"page":void 0,children:r})}function $X(){const{user:t,customPermissions:n}=Ni(),r=t?.role||"MEMBER",s=ol(r,Zr.SITE_MANAGEMENT,n),l=ol(r,Zr.VEHICLES,n),u=ol(r,Zr.EVENTS,n),d=ol(r,Zr.MYRBE,n),m=ol(r,Zr.NEWSLETTER,n),p=ol(r,Zr.RETROPLANNING,n),g=ol(r,Zr.RETROSUPPORT,n);return r==="PRESTATAIRE"?e.jsxs(lr,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[p&&e.jsx(Xc,{to:"/dashboard/retroplanning",children:" RtroPlanning"}),g&&e.jsx(Xc,{to:"/dashboard/support",children:" RtroSupport"})]}):e.jsxs(lr,{bg:"white",gap:{base:4,md:8},justify:"center",align:"center",py:3,children:[s&&e.jsx(Xc,{to:"/dashboard",children:" Accueil"}),l&&e.jsx(Xc,{to:"/dashboard/vehicules",children:" Vhicules"}),u&&e.jsx(Xc,{to:"/dashboard/evenements",children:" vnements"}),d&&e.jsx(Xc,{to:"/dashboard/myrbe",children:" MyRBE"}),m&&e.jsx(Xc,{to:"/dashboard/retromerch",children:" RtroMerch"})]})}const vg={red:"#2e538d",yellow:"#2e538d",green:"#bb1f11",blue:"#bb1f11"},nu={INFO:{key:"INFO",label:"Flash Infos",color:{bg:"red.50",border:"red.300",text:"red.800",accent:"#bb1f11"}},NOTIF:{key:"NOTIF",label:"Flash Notifications",color:{bg:"orange.50",border:"orange.300",text:"orange.800",accent:"#d97706"}},POS:{key:"POS",label:"Flash Positif",color:{bg:"green.50",border:"green.300",text:"green.900",accent:"#16a34a"}}},FX="56px",VX="80px",UX="52px",HX="110px",vR="rbe:announcements:dismissed:";function WX(){return`flash-${Date.now()}-${Math.floor(Math.random()*1e3)}`}async function qX(){try{const t=await Qx.getAll();return Array.isArray(t)?t:[]}catch{return[]}}async function GX(t){try{return await Qx.create(t)}catch(n){throw n}}async function pA(t,n){try{return await Qx.update(t,n)}catch(r){throw r}}async function ZX(t){try{return await Qx.delete(t),!0}catch(n){throw n}}function mA(t){if(!t)return{};try{const n=localStorage.getItem(vR+t);return n?JSON.parse(n):{}}catch{return{}}}function YX(t,n){try{localStorage.setItem(vR+t,JSON.stringify(n||{}))}catch{}}const gA={INFO:OX,NOTIF:NX,POS:IX};function Iy({catKey:t}){const n=Object.values(nu).find(s=>s.key===t)||nu.INFO,r=gA[t]||gA.INFO;return e.jsx(qi,{label:n.label,children:e.jsxs(xe,{as:"span",display:"inline-flex",alignItems:"center",gap:2,children:[e.jsx(As,{src:r,alt:"",boxSize:"18px",draggable:!1}),e.jsx(hR,{children:n.label})]})})}function XX(t){return e.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor","aria-hidden":"true",...t,children:e.jsx("path",{d:"M3 10v4a2 2 0 0 0 2 2h1v2a1 1 0 0 0 1.555.832L12 16h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6L7.555 3.168A1 1 0 0 0 6 4v2H5a2 2 0 0 0-2 2z"})})}function KX(){const{logout:t,prenom:n,nom:r,isAuthenticated:s,isAdmin:l,matricule:u}=Ni(),d=Ro(),m=Mn(),p=It(),g=It(),x=It(),j=dq({base:!0,md:!1}),[S,_]=b.useState([]),[E,A]=b.useState(!0),[T,z]=b.useState(null),[M,k]=b.useState({message:"",category:"INFO",active:!0,expiresAt:""}),O=()=>{t(),d("/login"),m({title:"Dconnexion russie",description:"Vous avez t dconnect avec succs",status:"info",duration:3e3,isClosable:!0})};b.useEffect(()=>{if(!s)return;let W;const H=600*1e3,Se=()=>{clearTimeout(W),W=setTimeout(()=>{t(),d("/login"),m({title:"Session expire",description:"Vous avez t dconnect pour inactivit (10 minutes)",status:"warning",duration:5e3,isClosable:!0})},H)},B=["mousedown","mousemove","keypress","scroll","touchstart","click"];return Se(),B.forEach(ie=>{document.addEventListener(ie,Se,!0)}),()=>{clearTimeout(W),B.forEach(ie=>{document.removeEventListener(ie,Se,!0)})}},[s,t,d,m]),b.useEffect(()=>{async function W(){try{A(!0);const H=await qX();_(H)}finally{A(!1)}}W()},[m]);const I=Date.now(),$=b.useMemo(()=>S.filter(W=>W&&W.active&&(!W.expiresAt||new Date(W.expiresAt).getTime()>I)),[S,I]),G=b.useMemo(()=>$.filter(W=>W.category==="INFO"),[$]),[ee,ue]=b.useState(0);b.useEffect(()=>{const W=mA(u||"anon"),H=$.reduce((Se,B)=>{const ie=W[B.id]||0,he=B.updatedAt?new Date(B.updatedAt).getTime():B.createdAt?new Date(B.createdAt).getTime():0;return Se+(ie>=he?0:1)},0);ue(H)},[S,u,$.length]);const fe=()=>{z(null),k({message:"",category:"INFO",active:!0,expiresAt:""}),p.onOpen()},X=W=>{z(W),k({message:W.message||"",category:W.category||"INFO",active:!!W.active,expiresAt:W.expiresAt||""}),p.onOpen()},me=async()=>{const W=(M.message||"").trim();if(!W)return m({status:"warning",title:"Le message est requis"});["INFO","NOTIF","POS"].includes(M.category)||(M.category="INFO");try{if(T){const H=await pA(T.id,{message:W,category:M.category,active:!!M.active,expiresAt:M.expiresAt||null});_(Se=>Se.map(B=>B.id===T.id?H:B)),m({status:"success",title:"Flash modifi"})}else{const H={id:WX(),message:W,category:M.category,active:!!M.active,expiresAt:M.expiresAt||null},Se=await GX(H);_(B=>[Se,...B]),m({status:"success",title:"Flash ajout"})}z(null),p.onClose()}catch(H){m({status:"error",title:"Erreur",description:`Impossible de sauvegarder le flash: ${H.message}`})}},Ee=async W=>{if(confirm("Supprimer ce flash ?"))try{await ZX(W),_(H=>H.filter(Se=>Se.id!==W)),m({status:"info",title:"Flash supprim"})}catch{m({status:"error",title:"Erreur",description:"Impossible de supprimer le flash"})}},pe=async W=>{try{const H=S.find(B=>B.id===W);if(!H)return;const Se=await pA(W,{active:!H.active});_(B=>B.map(ie=>ie.id===W?Se:ie))}catch{m({status:"error",title:"Erreur",description:"Impossible de modifier le flash"})}},K=W=>{const H=u||"anon",Se=mA(H),B=Date.now();Se[W]=B,YX(H,Se),ue(ie=>Math.max(0,ie-1)),m({status:"info",title:"Prise de connaissance enregistre"})},Z=W=>{const H=Object.values(nu).find(Se=>Se.key===W)||nu.INFO;return{bg:H.color.bg,borderColor:H.color.border,color:H.color.text,accent:H.color.accent}};return e.jsxs(xe,{as:"header",w:"100%",bg:"white",position:"sticky",top:"0",zIndex:"1000",borderBottom:"1px solid #3a3a3aff",children:[e.jsxs(xe,{position:"relative",h:{base:FX,md:VX},overflow:"visible",children:[e.jsx(xe,{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",zIndex:0,pointerEvents:"none",style:{background:`linear-gradient(90deg,
              ${vg.red} 0%,
              ${vg.yellow} 22%,
              ${vg.green} 70%,
              ${vg.blue} 100%
            )`}}),e.jsx(As,{src:LX,alt:"RtroBus Essonne Intranet",height:{base:UX,md:HX},objectFit:"contain",position:"absolute",left:{base:3,md:5},top:"50%",transform:"translateY(-50%)",zIndex:2,draggable:!1}),e.jsx(xe,{position:"absolute",right:{base:2,md:6},top:"50%",transform:"translateY(-50%)",zIndex:2,children:j?e.jsx(yt,{"aria-label":"Menu",icon:e.jsx(xe,{as:"span",display:"inline-block",w:"18px",h:"2px",bg:"white",position:"relative",_before:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"-6px",left:0},_after:{content:'""',position:"absolute",w:"18px",h:"2px",bg:"white",top:"6px",left:0}}),size:"sm",variant:"ghost",color:"white",onClick:x.onOpen,title:"Ouvrir le menu"}):e.jsxs(le,{spacing:2,children:[e.jsx(qi,{label:l?"Grer les flashs":"Vous n'tes pas autoris",children:e.jsx("span",{children:e.jsx(yt,{"aria-label":"Annonces (gestion)",icon:e.jsx(XX,{}),size:"sm",variant:"ghost",color:"white",onClick:()=>{l&&p.onOpen()},title:"Annonces",isDisabled:!l})})}),e.jsx(zX,{}),e.jsxs(To,{children:[e.jsxs(ko,{as:ne,colorScheme:"red",children:["Bonjour, ",n||"Utilisateur"]}),e.jsxs(Po,{children:[e.jsx(bn,{as:tr,to:"/adhesion",children:"Mon Adhsion"}),e.jsx(bn,{as:tr,to:"/retromail",children:"RtroMail"}),e.jsx(bn,{onClick:O,color:"red.500",children:"Dconnexion"})]})]})]})})]}),e.jsx(xe,{display:{base:"none",md:"block"},children:e.jsx($X,{})}),e.jsxs(rY,{isOpen:x.isOpen,onClose:x.onClose,placement:"right",children:[e.jsx(Rt,{}),e.jsxs(tR,{children:[e.jsx($t,{}),e.jsxs(Mt,{bg:"var(--rbe-red)",color:"white",children:[e.jsxs(D,{fontWeight:"bold",children:[" Bonjour ",n||"Utilisateur"]}),ee>0&&e.jsxs(D,{fontSize:"sm",color:"whiteAlpha.800",children:[ee," flash(s) non lu(s)"]})]}),e.jsx(Pt,{p:0,children:e.jsxs(oe,{align:"stretch",spacing:0,children:[e.jsx(ne,{as:tr,to:"/dashboard",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Accueil"}),e.jsx(ne,{as:tr,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Vhicules"}),e.jsx(ne,{as:tr,to:"/dashboard/evenements",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"vnements"}),e.jsx(ne,{as:tr,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"MyRBE"}),e.jsx(ne,{as:tr,to:"/dashboard/retromerch",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMerch"}),e.jsx(Ln,{}),e.jsx(ne,{onClick:()=>{g.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Voir les flashs"}),l&&e.jsx(ne,{onClick:()=>{p.onOpen(),x.onClose()},variant:"ghost",justifyContent:"flex-start",py:4,px:5,children:"Grer les flashs"}),e.jsx(Ln,{}),e.jsx(ne,{as:tr,to:"/adhesion",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"Mon Adhsion"}),e.jsx(ne,{as:tr,to:"/retromail",variant:"ghost",justifyContent:"flex-start",onClick:x.onClose,py:4,px:5,children:"RtroMail"}),e.jsx(ne,{onClick:()=>{x.onClose(),O()},colorScheme:"red",justifyContent:"flex-start",variant:"ghost",py:4,px:5,children:"Dconnexion"})]})})]})]}),e.jsx(xe,{children:G.map(W=>{const H=Z(W.category);return e.jsx(xe,{bg:H.bg,borderTop:"2px solid",borderColor:H.borderColor||H.border,py:2,px:4,children:e.jsxs(le,{spacing:3,flex:"1",align:"center",children:[e.jsx(xe,{children:e.jsx(Iy,{catKey:W.category})}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:{base:"sm",md:"md"},color:H.color,children:W.message}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:W.createdAt?`Publi: ${new Date(W.createdAt).toLocaleString()}`:""})]}),e.jsx(xe,{children:l?e.jsxs(le,{spacing:2,children:[e.jsx(ne,{size:"sm",onClick:()=>X(W),children:"diter"}),e.jsx(ne,{size:"sm",colorScheme:W.active?"yellow":"green",onClick:()=>pe(W.id),children:W.active?"Dsactiver":"Activer"}),e.jsx(ne,{size:"sm",colorScheme:"red",onClick:()=>Ee(W.id),children:"Supprimer"})]}):e.jsx(ne,{size:"sm",onClick:()=>K(W.id),children:"Prendre connaissance"})})]})},W.id)})}),e.jsxs(kt,{isOpen:g.isOpen,onClose:g.onClose,isCentered:!0,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxW:"900px",children:[e.jsx(Mt,{children:"Flashs en cours"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[$.length===0&&e.jsx(D,{color:"gray.600",children:"Aucun flash en cours."}),$.map(W=>e.jsxs(xe,{p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsxs(le,{spacing:2,align:"center",children:[e.jsx(Iy,{catKey:W.category}),e.jsx(D,{fontWeight:"600",children:W.message})]}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:W.createdAt?`Publi: ${new Date(W.createdAt).toLocaleString()}`:""}),e.jsx(ne,{size:"sm",onClick:()=>{K(W.id)},children:"Prendre connaissance"})]},W.id))]})}),e.jsx(Gt,{children:e.jsx(ne,{onClick:g.onClose,children:"Fermer"})})]})]}),e.jsxs(kt,{isOpen:p.isOpen,onClose:()=>{z(null),p.onClose()},isCentered:!0,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxW:"900px",children:[e.jsx(Mt,{children:"Gestion des flashs"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(Lo,{direction:"row",justify:"space-between",align:"center",children:[e.jsx(D,{fontWeight:"600",children:"Diffusions existantes"}),e.jsx(ne,{size:"sm",onClick:fe,children:"Nouveau flash"})]}),S.length===0&&e.jsx(D,{color:"gray.600",children:"Aucun flash enregistr."}),S.map(W=>{const H=Z(W.category);return e.jsxs(xe,{p:3,borderWidth:"1px",borderRadius:"md",bg:H.bg,children:[e.jsxs(le,{spacing:2,align:"center",children:[e.jsx(Iy,{catKey:W.category}),e.jsx(D,{fontWeight:"600",children:W.message})]}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:W.createdAt?`Publi: ${new Date(W.createdAt).toLocaleString()}`:""}),e.jsxs(le,{spacing:2,children:[e.jsx(ne,{size:"sm",onClick:()=>X(W),children:"diter"}),e.jsx(ne,{size:"sm",onClick:()=>pe(W.id),children:W.active?"Dsactiver":"Activer"}),e.jsx(ne,{size:"sm",colorScheme:"red",onClick:()=>Ee(W.id),children:"Supprimer"})]})]},W.id)}),e.jsxs(xe,{mt:2,p:3,borderWidth:"1px",borderRadius:"md",bg:"white",children:[e.jsx(D,{fontWeight:"600",mb:2,children:T?"Modifier le flash":"Crer un nouveau flash"}),e.jsxs(J,{mb:2,children:[e.jsx(Q,{children:"Catgorie"}),e.jsxs(st,{value:M.category,onChange:W=>k(H=>({...H,category:W.target.value})),children:[e.jsx("option",{value:"INFO",children:nu.INFO.label}),e.jsx("option",{value:"NOTIF",children:nu.NOTIF.label}),e.jsx("option",{value:"POS",children:nu.POS.label})]})]}),e.jsxs(J,{mb:2,children:[e.jsx(Q,{children:"Message"}),e.jsx(sn,{value:M.message,onChange:W=>k(H=>({...H,message:W.target.value})),rows:4})]}),e.jsxs(J,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(Q,{mb:"0",mr:3,children:"Actif"}),e.jsx(br,{isChecked:M.active,onChange:W=>k(H=>({...H,active:W.target.checked}))})]}),e.jsxs(J,{mb:2,children:[e.jsx(Q,{children:"Expire le (optionnel)"}),e.jsx("input",{type:"datetime-local",value:M.expiresAt||"",onChange:W=>k(H=>({...H,expiresAt:W.target.value||""})),style:{width:"100%",padding:"8px",borderRadius:6,border:"1px solid #e2e8f0"}})]}),e.jsxs(le,{gap:2,justify:"flex-end",children:[e.jsx(ne,{variant:"ghost",onClick:()=>{z(null),k({message:"",category:"INFO",active:!0,expiresAt:""})},children:"Rinitialiser"}),e.jsx(ne,{colorScheme:"blue",onClick:me,children:T?"Sauvegarder":"Crer"})]})]})]})}),e.jsx(Gt,{children:e.jsx(ne,{onClick:()=>{z(null),p.onClose()},children:"Fermer"})})]})]})]})}function Mr({children:t}){const{isAuthenticated:n,user:r,sessionChecked:s,ensureSession:l}=Ni(),[u,d]=b.useState(!1);return b.useEffect(()=>{!s&&!u&&(l(),d(!0))},[s,u,l]),s?!n||!r?e.jsx(Ag,{to:"/login",replace:!0}):t:e.jsx(jn,{py:20,children:e.jsx(Sn,{size:"lg"})})}function yg({children:t,resource:n=null,permissionType:r="access",fallbackRoute:s="/dashboard/home",showError:l=!1}){const{isAuthenticated:u,user:d}=Ni();if(!u)return console.warn(" PermissionProtectedRoute: Not authenticated"),e.jsx(Ag,{to:"/login",replace:!0});if(!d)return console.warn(" PermissionProtectedRoute: No user data"),e.jsx(Ag,{to:"/login",replace:!0});if(!n)return t;const m=d.role||d.roles?.[0]||"MEMBER";return ol(m,n)?(console.log(` PermissionProtectedRoute: Access granted to "${n}" for role "${m}"`),t):(console.warn(` PermissionProtectedRoute: User role "${m}" denied access to resource "${n}"`),l?e.jsx(xe,{p:8,textAlign:"center",minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(oe,{spacing:4,children:[e.jsx(D,{fontSize:"2xl",fontWeight:"bold",children:" Accs Refus"}),e.jsx(D,{fontSize:"md",color:"gray.600",children:"Vous n'avez pas les permissions ncessaires pour accder  cette ressource."}),e.jsxs(D,{fontSize:"sm",color:"gray.400",children:["Votre rle: ",e.jsx("strong",{children:m})]})]})}):e.jsx(Ag,{to:s,replace:!0}))}function QX({children:t}){const{matricule:n}=Ni();return lX(n)?t:e.jsxs(xe,{p:6,children:[e.jsx(D,{fontWeight:"bold",children:"Accs refus"}),e.jsx(D,{opacity:.8,children:"Vous ntes pas autoris  ajouter des vhicules."})]})}var JX=Object.defineProperty,fx=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,xA=(t,n,r)=>n in t?JX(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,ij=(t,n)=>{for(var r in n||(n={}))yR.call(n,r)&&xA(t,r,n[r]);if(fx)for(var r of fx(n))bR.call(n,r)&&xA(t,r,n[r]);return t},sj=(t,n)=>{var r={};for(var s in t)yR.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&fx)for(var s of fx(t))n.indexOf(s)<0&&bR.call(t,s)&&(r[s]=t[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ku;(t=>{const n=class En{constructor(p,g,x,j){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<En.MIN_VERSION||p>En.MAX_VERSION)throw new RangeError("Version value out of range");if(j<-1||j>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let E=0;E<this.size;E++)S.push(!1);for(let E=0;E<this.size;E++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(x);if(this.drawCodewords(_),j==-1){let E=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const T=this.getPenaltyScore();T<E&&(j=A,E=T),this.applyMask(A)}}l(0<=j&&j<=7),this.mask=j,this.applyMask(j),this.drawFormatBits(j),this.isFunction=[]}static encodeText(p,g){const x=t.QrSegment.makeSegments(p);return En.encodeSegments(x,g)}static encodeBinary(p,g){const x=t.QrSegment.makeBytes(p);return En.encodeSegments([x],g)}static encodeSegments(p,g,x=1,j=40,S=-1,_=!0){if(!(En.MIN_VERSION<=x&&x<=j&&j<=En.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let E,A;for(E=x;;E++){const k=En.getNumDataCodewords(E,g)*8,O=d.getTotalBits(p,E);if(O<=k){A=O;break}if(E>=j)throw new RangeError("Data too long")}for(const k of[En.Ecc.MEDIUM,En.Ecc.QUARTILE,En.Ecc.HIGH])_&&A<=En.getNumDataCodewords(E,k)*8&&(g=k);let T=[];for(const k of p){r(k.mode.modeBits,4,T),r(k.numChars,k.mode.numCharCountBits(E),T);for(const O of k.getData())T.push(O)}l(T.length==A);const z=En.getNumDataCodewords(E,g)*8;l(T.length<=z),r(0,Math.min(4,z-T.length),T),r(0,(8-T.length%8)%8,T),l(T.length%8==0);for(let k=236;T.length<z;k^=253)r(k,8,T);let M=[];for(;M.length*8<T.length;)M.push(0);return T.forEach((k,O)=>M[O>>>3]|=k<<7-(O&7)),new En(E,g,M,S)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let x=0;x<g;x++)for(let j=0;j<g;j++)x==0&&j==0||x==0&&j==g-1||x==g-1&&j==0||this.drawAlignmentPattern(p[x],p[j]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let x=g;for(let S=0;S<10;S++)x=x<<1^(x>>>9)*1335;const j=(g<<10|x)^21522;l(j>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,s(j,S));this.setFunctionModule(8,7,s(j,6)),this.setFunctionModule(8,8,s(j,7)),this.setFunctionModule(7,8,s(j,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,s(j,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,s(j,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,s(j,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;l(g>>>18==0);for(let x=0;x<18;x++){const j=s(g,x),S=this.size-11+x%3,_=Math.floor(x/3);this.setFunctionModule(S,_,j),this.setFunctionModule(_,S,j)}}drawFinderPattern(p,g){for(let x=-4;x<=4;x++)for(let j=-4;j<=4;j++){const S=Math.max(Math.abs(j),Math.abs(x)),_=p+j,E=g+x;0<=_&&_<this.size&&0<=E&&E<this.size&&this.setFunctionModule(_,E,S!=2&&S!=4)}}drawAlignmentPattern(p,g){for(let x=-2;x<=2;x++)for(let j=-2;j<=2;j++)this.setFunctionModule(p+j,g+x,Math.max(Math.abs(j),Math.abs(x))!=1)}setFunctionModule(p,g,x){this.modules[g][p]=x,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,x=this.errorCorrectionLevel;if(p.length!=En.getNumDataCodewords(g,x))throw new RangeError("Invalid argument");const j=En.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][g],S=En.ECC_CODEWORDS_PER_BLOCK[x.ordinal][g],_=Math.floor(En.getNumRawDataModules(g)/8),E=j-_%j,A=Math.floor(_/j);let T=[];const z=En.reedSolomonComputeDivisor(S);for(let k=0,O=0;k<j;k++){let I=p.slice(O,O+A-S+(k<E?0:1));O+=I.length;const $=En.reedSolomonComputeRemainder(I,z);k<E&&I.push(0),T.push(I.concat($))}let M=[];for(let k=0;k<T[0].length;k++)T.forEach((O,I)=>{(k!=A-S||I>=E)&&M.push(O[k])});return l(M.length==_),M}drawCodewords(p){if(p.length!=Math.floor(En.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let j=0;j<this.size;j++)for(let S=0;S<2;S++){const _=x-S,A=(x+1&2)==0?this.size-1-j:j;!this.isFunction[A][_]&&g<p.length*8&&(this.modules[A][_]=s(p[g>>>3],7-(g&7)),g++)}}l(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let x=0;x<this.size;x++){let j;switch(p){case 0:j=(x+g)%2==0;break;case 1:j=g%2==0;break;case 2:j=x%3==0;break;case 3:j=(x+g)%3==0;break;case 4:j=(Math.floor(x/3)+Math.floor(g/2))%2==0;break;case 5:j=x*g%2+x*g%3==0;break;case 6:j=(x*g%2+x*g%3)%2==0;break;case 7:j=((x+g)%2+x*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][x]&&j&&(this.modules[g][x]=!this.modules[g][x])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let _=!1,E=0,A=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[S][T]==_?(E++,E==5?p+=En.PENALTY_N1:E>5&&p++):(this.finderPenaltyAddHistory(E,A),_||(p+=this.finderPenaltyCountPatterns(A)*En.PENALTY_N3),_=this.modules[S][T],E=1);p+=this.finderPenaltyTerminateAndCount(_,E,A)*En.PENALTY_N3}for(let S=0;S<this.size;S++){let _=!1,E=0,A=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][S]==_?(E++,E==5?p+=En.PENALTY_N1:E>5&&p++):(this.finderPenaltyAddHistory(E,A),_||(p+=this.finderPenaltyCountPatterns(A)*En.PENALTY_N3),_=this.modules[T][S],E=1);p+=this.finderPenaltyTerminateAndCount(_,E,A)*En.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let _=0;_<this.size-1;_++){const E=this.modules[S][_];E==this.modules[S][_+1]&&E==this.modules[S+1][_]&&E==this.modules[S+1][_+1]&&(p+=En.PENALTY_N2)}let g=0;for(const S of this.modules)g=S.reduce((_,E)=>_+(E?1:0),g);const x=this.size*this.size,j=Math.ceil(Math.abs(g*20-x*10)/x)-1;return l(0<=j&&j<=9),p+=j*En.PENALTY_N4,l(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let j=this.size-7;x.length<p;j-=g)x.splice(1,0,j);return x}}static getNumRawDataModules(p){if(p<En.MIN_VERSION||p>En.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;g-=(25*x-10)*x-55,p>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(En.getNumRawDataModules(p)/8)-En.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*En.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let j=0;j<p-1;j++)g.push(0);g.push(1);let x=1;for(let j=0;j<p;j++){for(let S=0;S<g.length;S++)g[S]=En.reedSolomonMultiply(g[S],x),S+1<g.length&&(g[S]^=g[S+1]);x=En.reedSolomonMultiply(x,2)}return g}static reedSolomonComputeRemainder(p,g){let x=g.map(j=>0);for(const j of p){const S=j^x.shift();x.push(0),g.forEach((_,E)=>x[E]^=En.reedSolomonMultiply(_,S))}return x}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let x=0;for(let j=7;j>=0;j--)x=x<<1^(x>>>7)*285,x^=(g>>>j&1)*p;return l(x>>>8==0),x}finderPenaltyCountPatterns(p){const g=p[1];l(g<=this.size*3);const x=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(x&&p[0]>=g*4&&p[6]>=g?1:0)+(x&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,x){return p&&(this.finderPenaltyAddHistory(g,x),g=0),g+=this.size,this.finderPenaltyAddHistory(g,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(m,p,g){if(p<0||p>31||m>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)g.push(m>>>x&1)}function s(m,p){return(m>>>p&1)!=0}function l(m){if(!m)throw new Error("Assertion error")}const u=class Ir{constructor(p,g,x){if(this.mode=p,this.numChars=g,this.bitData=x,g<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let g=[];for(const x of p)r(x,8,g);return new Ir(Ir.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!Ir.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let x=0;x<p.length;){const j=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+j),10),j*3+1,g),x+=j}return new Ir(Ir.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!Ir.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],x;for(x=0;x+2<=p.length;x+=2){let j=Ir.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;j+=Ir.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(j,11,g)}return x<p.length&&r(Ir.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,g),new Ir(Ir.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:Ir.isNumeric(p)?[Ir.makeNumeric(p)]:Ir.isAlphanumeric(p)?[Ir.makeAlphanumeric(p)]:[Ir.makeBytes(Ir.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,g);else if(p<16384)r(2,2,g),r(p,14,g);else if(p<1e6)r(6,3,g),r(p,21,g);else throw new RangeError("ECI assignment value out of range");return new Ir(Ir.Mode.ECI,0,g)}static isNumeric(p){return Ir.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Ir.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let x=0;for(const j of p){const S=j.mode.numCharCountBits(g);if(j.numChars>=1<<S)return 1/0;x+=4+S+j.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?g.push(p.charCodeAt(x)):(g.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=u;t.QrSegment=u})(ku||(ku={}));(t=>{(n=>{const r=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),n.Ecc=r})(t.QrCode||(t.QrCode={}))})(ku||(ku={}));(t=>{(n=>{const r=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),n.Mode=r})(t.QrSegment||(t.QrSegment={}))})(ku||(ku={}));var Od=ku;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var eK={L:Od.QrCode.Ecc.LOW,M:Od.QrCode.Ecc.MEDIUM,Q:Od.QrCode.Ecc.QUARTILE,H:Od.QrCode.Ecc.HIGH},jR=128,SR="L",wR="#FFFFFF",_R="#000000",CR=!1,ER=1,tK=4,nK=0,rK=.1;function AR(t,n=0){const r=[];return t.forEach(function(s,l){let u=null;s.forEach(function(d,m){if(!d&&u!==null){r.push(`M${u+n} ${l+n}h${m-u}v1H${u+n}z`),u=null;return}if(m===s.length-1){if(!d)return;u===null?r.push(`M${m+n},${l+n} h1v1H${m+n}z`):r.push(`M${u+n},${l+n} h${m+1-u}v1H${u+n}z`);return}d&&u===null&&(u=m)})}),r.join("")}function TR(t,n){return t.slice().map((r,s)=>s<n.y||s>=n.y+n.h?r:r.map((l,u)=>u<n.x||u>=n.x+n.w?l:!1))}function iK(t,n,r,s){if(s==null)return null;const l=t.length+r*2,u=Math.floor(n*rK),d=l/n,m=(s.width||u)*d,p=(s.height||u)*d,g=s.x==null?t.length/2-m/2:s.x*d,x=s.y==null?t.length/2-p/2:s.y*d,j=s.opacity==null?1:s.opacity;let S=null;if(s.excavate){let E=Math.floor(g),A=Math.floor(x),T=Math.ceil(m+g-E),z=Math.ceil(p+x-A);S={x:E,y:A,w:T,h:z}}const _=s.crossOrigin;return{x:g,y:x,h:p,w:m,excavation:S,opacity:j,crossOrigin:_}}function sK(t,n){return n!=null?Math.max(Math.floor(n),0):t?tK:nK}function kR({value:t,level:n,minVersion:r,includeMargin:s,marginSize:l,imageSettings:u,size:d,boostLevel:m}){let p=cn.useMemo(()=>{const E=(Array.isArray(t)?t:[t]).reduce((A,T)=>(A.push(...Od.QrSegment.makeSegments(T)),A),[]);return Od.QrCode.encodeSegments(E,eK[n],r,void 0,void 0,m)},[t,n,r,m]);const{cells:g,margin:x,numCells:j,calculatedImageSettings:S}=cn.useMemo(()=>{let _=p.getModules();const E=sK(s,l),A=_.length+E*2,T=iK(_,d,E,u);return{cells:_,margin:E,numCells:A,calculatedImageSettings:T}},[p,d,u,s,l]);return{qrcode:p,margin:x,cells:g,numCells:j,calculatedImageSettings:S}}var aK=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),PR=cn.forwardRef(function(n,r){const s=n,{value:l,size:u=jR,level:d=SR,bgColor:m=wR,fgColor:p=_R,includeMargin:g=CR,minVersion:x=ER,boostLevel:j,marginSize:S,imageSettings:_}=s,A=sj(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=A,z=sj(A,["style"]),M=_?.src,k=cn.useRef(null),O=cn.useRef(null),I=cn.useCallback(pe=>{k.current=pe,typeof r=="function"?r(pe):r&&(r.current=pe)},[r]),[$,G]=cn.useState(!1),{margin:ee,cells:ue,numCells:fe,calculatedImageSettings:X}=kR({value:l,level:d,minVersion:x,boostLevel:j,includeMargin:g,marginSize:S,imageSettings:_,size:u});cn.useEffect(()=>{if(k.current!=null){const pe=k.current,K=pe.getContext("2d");if(!K)return;let Z=ue;const W=O.current,H=X!=null&&W!==null&&W.complete&&W.naturalHeight!==0&&W.naturalWidth!==0;H&&X.excavation!=null&&(Z=TR(ue,X.excavation));const Se=window.devicePixelRatio||1;pe.height=pe.width=u*Se;const B=u/fe*Se;K.scale(B,B),K.fillStyle=m,K.fillRect(0,0,fe,fe),K.fillStyle=p,aK?K.fill(new Path2D(AR(Z,ee))):ue.forEach(function(ie,he){ie.forEach(function(F,P){F&&K.fillRect(P+ee,he+ee,1,1)})}),X&&(K.globalAlpha=X.opacity),H&&K.drawImage(W,X.x+ee,X.y+ee,X.w,X.h)}}),cn.useEffect(()=>{G(!1)},[M]);const me=ij({height:u,width:u},T);let Ee=null;return M!=null&&(Ee=cn.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{G(!0)},ref:O,crossOrigin:X?.crossOrigin})),cn.createElement(cn.Fragment,null,cn.createElement("canvas",ij({style:me,height:u,width:u,ref:I,role:"img"},z)),Ee)});PR.displayName="QRCodeCanvas";var oK=cn.forwardRef(function(n,r){const s=n,{value:l,size:u=jR,level:d=SR,bgColor:m=wR,fgColor:p=_R,includeMargin:g=CR,minVersion:x=ER,boostLevel:j,title:S,marginSize:_,imageSettings:E}=s,A=sj(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:z,numCells:M,calculatedImageSettings:k}=kR({value:l,level:d,minVersion:x,boostLevel:j,includeMargin:g,marginSize:_,imageSettings:E,size:u});let O=z,I=null;E!=null&&k!=null&&(k.excavation!=null&&(O=TR(z,k.excavation)),I=cn.createElement("image",{href:E.src,height:k.h,width:k.w,x:k.x+T,y:k.y+T,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const $=AR(O,T);return cn.createElement("svg",ij({height:u,width:u,viewBox:`0 0 ${M} ${M}`,ref:r,role:"img"},A),!!S&&cn.createElement("title",null,S),cn.createElement("path",{fill:m,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),cn.createElement("path",{fill:p,d:$,shapeRendering:"crispEdges"}),I)});oK.displayName="QRCodeSVG";var MR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vA=cn.createContext&&cn.createContext(MR),lK=["attr","size","title"];function cK(t,n){if(t==null)return{};var r=uK(t,n),s,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)s=u[l],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function uK(t,n){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(n.indexOf(s)>=0)continue;r[s]=t[s]}return r}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},px.apply(this,arguments)}function yA(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,s)}return r}function mx(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yA(Object(r),!0).forEach(function(s){dK(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function dK(t,n,r){return n=hK(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function hK(t){var n=fK(t,"string");return typeof n=="symbol"?n:n+""}function fK(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function RR(t){return t&&t.map((n,r)=>cn.createElement(n.tag,mx({key:r},n.attr),RR(n.child)))}function at(t){return n=>cn.createElement(pK,px({attr:mx({},t.attr)},n),RR(t.child))}function pK(t){var n=r=>{var{attr:s,size:l,title:u}=t,d=cK(t,lK),m=l||r.size||"1em",p;return r.className&&(p=r.className),t.className&&(p=(p?p+" ":"")+t.className),cn.createElement("svg",px({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,d,{className:p,style:mx(mx({color:t.color||r.color},r.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&cn.createElement("title",null,u),t.children)};return vA!==void 0?cn.createElement(vA.Consumer,null,r=>n(r)):n(MR)}function So(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function zR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function mK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function DR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function gK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function xK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function vK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function yK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function bK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function ls(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function c1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function gx(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function u1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function LR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function xx(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function d1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function h1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function bA(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function jK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function aj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Pu(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function _l(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function SK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Lf(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function _i(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function OR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function oj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function bp(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function lj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function wK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Wd(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function f1(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function _K(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function CK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(t)}function vu(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function EK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"},child:[]}]})(t)}function AK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function NR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function Mu(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function jc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function mc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function TK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function kK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function qd(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(t)}function vx(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function IR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function PK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function Bn(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Wa(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function MK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(t)}function gc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function Jx(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function RK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function Fp(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function BR(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function zK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function DK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function LK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function dr(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function OK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function xc(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function cj(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(t)}function NK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function $R(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function jA(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function yx(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(t)}function By(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Qs(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function IK(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function jp(t){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const SA=window.location.origin,BK=()=>{const[t,n]=b.useState([]),[r,s]=b.useState(!1),[l,u]=b.useState(""),[d,m]=b.useState(!1),[p,g]=b.useState(null),x=Mn(),j=b.useRef(null),S=b.useCallback(async T=>{try{s(!0);const z=await St.get("/vehicles");n(Array.isArray(z)?z:[])}catch(z){z.name!=="AbortError"&&(console.error(z),n([]),x({status:"error",title:"Impossible de charger la liste",description:z.message}))}finally{s(!1)}},[x]);b.useEffect(()=>{const T=new AbortController;return S(T.signal),()=>T.abort()},[S]);const _=t.filter(T=>{if(!l.trim())return!0;const z=l.toLowerCase();return[T.parc,T.modele,T.marque,T.immat].filter(Boolean).some(M=>M.toLowerCase().includes(z))}),E=T=>{g(T),m(!0)},A=()=>{const T=j.current?.querySelector("canvas");if(T){const z=T.toDataURL(),M=document.createElement("a");M.href=z,M.download=`qr-${p?.parc||"vehicle"}.png`,M.click()}};return e.jsxs(xe,{p:6,children:[e.jsxs(lr,{justify:"space-between",align:"center",mb:6,children:[e.jsx(De,{children:"Vhicules"}),e.jsx(ne,{as:tr,to:"/dashboard/vehicules/ajouter",leftIcon:e.jsx(Bn,{}),colorScheme:"blue",children:"Ajouter un vhicule"})]}),e.jsx(xe,{mb:6,children:e.jsx(je,{placeholder:"Rechercher par parc, modle, marque ou immatriculation...",value:l,onChange:T=>u(T.target.value),maxW:"400px"})}),r?e.jsx(jn,{py:20,children:e.jsx(Sn,{size:"xl"})}):e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:6,children:_.map(T=>e.jsxs(Ie,{shadow:"md",children:[e.jsx(Ot,{pb:2,children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:T.parc}),e.jsx(nt,{colorScheme:T.etat==="disponible"?"green":"orange",children:T.etat})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsxs(D,{children:[e.jsx("strong",{children:"Modle:"})," ",T.modele||"Non spcifi"]}),e.jsxs(D,{children:[e.jsx("strong",{children:"Marque:"})," ",T.marque||"Non spcifie"]}),T.immat&&e.jsxs(D,{children:[e.jsx("strong",{children:"Immat:"})," ",T.immat]}),e.jsxs(le,{spacing:2,pt:4,w:"100%",children:[e.jsx(ne,{as:tr,to:`/dashboard/vehicules/${T.parc}`,leftIcon:e.jsx(_i,{}),size:"sm",flex:1,children:"Grer"}),e.jsx(ne,{leftIcon:e.jsx(f1,{}),size:"sm",onClick:()=>E(T),children:"QR"})]})]})})]},T.parc))}),_.length===0&&!r&&e.jsx(jn,{py:20,children:e.jsx(D,{color:"gray.500",children:"Aucun vhicule trouv"})}),e.jsxs(kt,{isOpen:d,onClose:()=>m(!1),isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsxs(Mt,{children:["QR Code - ",p?.parc]}),e.jsx($t,{}),e.jsx(Pt,{pb:6,children:e.jsxs(oe,{spacing:4,children:[e.jsx(xe,{ref:j,children:e.jsx(PR,{value:`${SA}/mobile/v/${p?.parc}`,size:200,level:"M"})}),e.jsx(D,{fontSize:"sm",color:"gray.600",textAlign:"center",children:`${SA}/mobile/v/${p?.parc}`}),e.jsx(ne,{onClick:A,colorScheme:"blue",children:"Tlcharger"})]})})]})]})]})},$K=(ma||"https://attractive-kindness-rbe-serveurs.up.railway.app").replace(/\/+$/,""),FK=(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+|\/+$/g,""),bg=()=>(localStorage.getItem("rbe_api_vehicles_path")||`${FK}/vehicles`).replace(/^\/+/,"").replace(/\/+$/,""),VK=()=>(localStorage.getItem("rbe_api_origin")||$K).replace(/\/+$/,""),go=t=>{const n=String(t||"").replace(/^\/+/,""),r=VK(),s=`/${n}`,l=r?`${r}/${n}`:null,u=[s];return l&&u.push(l),u},Kc=async(t,n)=>{let r=null;for(const s of t)try{const l=await fetch(s,n);if(!l.ok){r=new Error(`HTTP ${l.status}`);continue}if(!(l.headers.get("content-type")||"").toLowerCase().includes("application/json")){r=new Error("non-json");continue}return await l.json()}catch(l){r=l}throw r||new Error("fetch failed")};function UK(){const{parc:t}=jx(),[n]=FL(),r=Mn(),s=Ro(),l=n.get("t")||"",{matricule:u,setMatricule:d,token:m}=Ni(),[p,g]=b.useState(l||""),[x,j]=b.useState(null),[S,_]=b.useState([]),[E,A]=b.useState([]),[T,z]=b.useState(!0),[M,k]=b.useState(!1),[O,I]=b.useState(!1),[$,G]=b.useState(!1),[ee,ue]=b.useState(!1),[fe,X]=b.useState(u||""),[me,Ee]=b.useState(!1),[pe,K]=b.useState([]),[Z,W]=b.useState(!1),[H,Se]=b.useState(""),[B,ie]=b.useState([]),[he,F]=b.useState(""),[P,N]=b.useState(""),[re,Le]=b.useState(""),[Oe,Pe]=b.useState(""),[it,ot]=b.useState(""),[Qe,wt]=b.useState(""),[$e,Bt]=b.useState(""),[ye,Ze]=b.useState(null),[Tt,ae]=b.useState(null),ge=`rbe_current_usage_${t}`,[Je,bt]=b.useState(()=>{const qe=localStorage.getItem(ge);return qe?JSON.parse(qe):null}),An=qe=>{bt(qe),qe?localStorage.setItem(ge,JSON.stringify(qe)):localStorage.removeItem(ge)},nr=()=>new Promise(qe=>{if(!("geolocation"in navigator))return qe(null);navigator.geolocation.getCurrentPosition(xt=>qe({lat:xt.coords.latitude,lng:xt.coords.longitude,accuracy:xt.coords.accuracy}),()=>qe(null),{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e4})});b.useEffect(()=>{if(O&&!$){const qe=new Date;Le(qe.toISOString().slice(0,10)),Pe(qe.toTimeString().slice(0,5)),nr().then(Ze)}if(O&&$){const qe=new Date;ot(qe.toISOString().slice(0,10)),wt(qe.toTimeString().slice(0,5)),nr().then(ae)}O||G(!1)},[O,$]);const Fe=async()=>{if(m)try{W(!0);const qe=go(`${(localStorage.getItem("rbe_api_prefix")||"api").replace(/^\/+/,"")}/members?limit=500`),xt=await Kc(qe,{headers:{Authorization:`Bearer ${m}`}});K(Array.isArray(xt?.members)?xt.members:[])}catch{K([])}finally{W(!1)}},et=(qe=p,xt=u)=>{const en={"Content-Type":"application/json"};return qe?en["x-qr-token"]=qe:xt&&(en["x-user-matricule"]=xt),m&&(en.Authorization=`Bearer ${m}`),en};b.useEffect(()=>{let qe=!1;return(async()=>{try{z(!0);const xt=et(p),en=bg(),dn=go(`${en}/${encodeURIComponent(t)}`),Zt=go(`${en}/${encodeURIComponent(t)}/reports`),Rn=go(`${en}/${encodeURIComponent(t)}/usages`),[an,Sr,hr]=await Promise.all([Kc(dn,{headers:xt}),Kc(Zt,{headers:xt}).catch(()=>[]),Kc(Rn,{headers:xt}).catch(()=>[])]);if(qe)return;j(an);const Vr=Array.isArray(Sr)?Sr.map(kn=>({id:kn.id,type:kn.type||"Rapport",date:kn.createdAt||kn.date||new Date().toISOString(),note:kn.description||kn.note||"",createdBy:kn.createdBy||kn.author||""})):[];_(Vr),A(Array.isArray(hr)?hr:[])}catch(xt){console.warn("fetch vehicle failed:",xt),j(null),_([]),A([])}finally{qe||z(!1)}})(),()=>{qe=!0}},[t,p]);const jt=async qe=>{if(qe?.preventDefault?.(),!fe?.trim())return r({status:"warning",title:"Matricule requis"});try{Ee(!0),d(fe.trim()),r({status:"success",title:"Connect",description:fe.trim()}),g(""),setTimeout(()=>{(async()=>{try{z(!0);const xt=et("",fe.trim()),en=bg(),dn=go(`${en}/${encodeURIComponent(t)}`),Zt=go(`${en}/${encodeURIComponent(t)}/reports`),Rn=go(`${en}/${encodeURIComponent(t)}/usages`),[an,Sr,hr]=await Promise.all([Kc(dn,{headers:xt}),Kc(Zt,{headers:xt}).catch(()=>[]),Kc(Rn,{headers:xt}).catch(()=>[])]);j(an);const Vr=Array.isArray(Sr)?Sr.map(kn=>({id:kn.id,type:kn.type||"Rapport",date:kn.createdAt||kn.date||new Date().toISOString(),note:kn.description||kn.note||"",createdBy:kn.createdBy||kn.author||""})):[];_(Vr),A(Array.isArray(hr)?hr:[])}catch{r({status:"error",title:"Accs refus"})}finally{z(!1)}})()},250)}finally{Ee(!1)}},Ye=async qe=>{try{const xt=bg(),en=go(`${xt}/${encodeURIComponent(t)}/reports`),dn=await fetch(en[0],{method:"POST",headers:et(),body:JSON.stringify({description:qe?.note?`${qe.type||"vnement"}: ${qe.note}`:qe?.type||"vnement"})});if(!dn.ok){const an=await dn.json().catch(()=>({error:"err"}));throw new Error(an?.error||dn.statusText||"Erreur")}const Zt=await dn.json(),Rn={id:Zt.id,type:"Rapport",date:Zt.createdAt||new Date().toISOString(),note:Zt.description||"",createdBy:Zt.createdBy||""};return _(an=>[Rn,...an]),r({status:"success",title:"vnement ajout"}),Zt}catch(xt){throw console.error(xt),r({status:"error",title:"Impossible d'ajouter l'vnement",description:String(xt.message)}),xt}},ft=async qe=>{try{const xt=bg(),en=go(`${xt}/${encodeURIComponent(t)}/usages`),dn=await fetch(en[0],{method:"POST",headers:et(),body:JSON.stringify(qe)});if(!dn.ok){const Rn=await dn.json().catch(()=>({error:"err"}));throw new Error(Rn?.error||dn.statusText||"Erreur")}const Zt=await dn.json();return A(Rn=>[Zt,...Rn]),Zt}catch(xt){throw console.error(xt),r({status:"error",title:"Impossible d'ajouter l'usage",description:String(xt.message)}),xt}},Tn=async(qe,xt)=>{try{const en=go(`usages/${encodeURIComponent(qe)}`),dn=await fetch(en[0],{method:"PUT",headers:et(),body:JSON.stringify(xt)});if(!dn.ok){const Rn=await dn.json().catch(()=>({error:"err"}));throw new Error(Rn?.error||dn.statusText||"Erreur")}const Zt=await dn.json();return A(Rn=>Rn.map(an=>an.id===Zt.id?Zt:an)),Zt}catch(en){throw console.error(en),r({status:"error",title:"Impossible de mettre  jour l'usage",description:String(en.message)}),en}};return T?e.jsx(jn,{p:8,children:e.jsx(Sn,{size:"lg"})}):e.jsxs(xe,{p:4,maxW:"720px",mx:"auto",children:[x?e.jsxs(xe,{children:[e.jsx(De,{size:"md",children:x.modele||`Parc ${x.parc}`}),e.jsx(D,{mt:1,opacity:.8,children:x.immat?`${x.immat}  Parc ${x.parc}`:`Parc ${x.parc}`}),e.jsxs(Lo,{spacing:4,mt:6,children:[e.jsx(ne,{colorScheme:"red",onClick:()=>k(!0),children:"Signaler une anomalie"}),!Je&&e.jsx(ne,{colorScheme:"orange",onClick:()=>{G(!1),I(!0)},children:"Dmarrer un pointage"}),Je&&e.jsx(ne,{colorScheme:"green",onClick:()=>{G(!0),I(!0)},children:"Terminer le pointage"}),e.jsx(ne,{colorScheme:"blue",onClick:()=>ue(!0),children:"Ajouter un vnement au vhicule"})]}),e.jsxs(xe,{mt:6,children:[e.jsx(De,{size:"sm",mb:2,children:"Derniers vnements"}),e.jsxs(oe,{spacing:2,align:"stretch",children:[S.length===0&&e.jsx(D,{opacity:.7,children:"Aucun vnement"}),S.map(qe=>e.jsxs(xe,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(D,{fontSize:"sm",children:[e.jsx("b",{children:qe.type}),"  ",new Date(qe.date).toLocaleString()]}),qe.note&&e.jsx(D,{mt:1,fontSize:"sm",children:qe.note}),e.jsxs(D,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",qe.createdBy||""]})]},qe.id))]})]}),e.jsxs(xe,{mt:6,children:[e.jsx(De,{size:"sm",mb:2,children:"Derniers passages"}),e.jsxs(oe,{spacing:2,align:"stretch",children:[E.length===0&&e.jsx(D,{opacity:.7,children:"Aucun passage"}),E.map(qe=>e.jsxs(xe,{p:3,border:"1px solid #eee",borderRadius:"md",children:[e.jsxs(D,{fontSize:"sm",children:[qe.conducteur||"","  ",qe.km?`${qe.km} km`:"","  ",qe.durationMin?`${qe.durationMin} min`:""]}),qe.note&&e.jsx(D,{mt:1,fontSize:"sm",children:qe.note}),e.jsxs(D,{mt:1,fontSize:"xs",opacity:.7,children:["Ajout par ",qe.createdBy||""]})]},qe.id))]})]})]}):e.jsxs(xe,{textAlign:"center",py:8,children:[e.jsx(De,{size:"md",children:"Accs restreint"}),e.jsx(D,{mt:2,opacity:.8,children:"Ce carnet est accessible uniquement via le QR code du vhicule ou aprs authentification."}),e.jsx(xe,{mt:6,as:"form",onSubmit:jt,maxW:"360px",mx:"auto",children:e.jsxs(oe,{spacing:3,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Matricule"}),e.jsx(je,{value:fe,onChange:qe=>X(qe.target.value),placeholder:"ex: w.belaidi"})]}),e.jsxs(le,{children:[e.jsx(ne,{colorScheme:"blue",onClick:jt,isLoading:me,children:"Se connecter"}),e.jsx(ne,{variant:"ghost",onClick:()=>s(-1),children:"Retour"})]})]})}),e.jsx(D,{mt:4,fontSize:"sm",opacity:.8,children:"Astuce : scannez le QR sur le vhicule pour accder sans vous connecter."})]}),e.jsxs(kt,{isOpen:M,onClose:()=>k(!1),isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Signaler une anomalie"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsxs(D,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type d'anomalie"}),e.jsx(je,{id:"anom-type",placeholder:"ex: Frein / Porte / Moteur"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{id:"anom-note",placeholder:"Dcris l'anomalie..."})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>k(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:async()=>{const qe=document.getElementById("anom-type")?.value||"Anomalie",xt=document.getElementById("anom-note")?.value||"";try{await Ye({type:`Anomalie: ${qe}`,note:xt}),k(!1)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(kt,{isOpen:O,onClose:()=>I(!1),isCentered:!0,onOverlayClick:()=>{},children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:$?"Terminer le pointage":"Dmarrer un pointage"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsxs(D,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})," ",x?.immat?` ${x.immat}`:""]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Conducteur"}),e.jsx(je,{id:"pass-conducteur",placeholder:"Nom ou matricule"})]}),!$&&e.jsxs(e.Fragment,{children:[e.jsxs(le,{children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Date d'arrive"}),e.jsx(je,{type:"date",value:re,onChange:qe=>Le(qe.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Heure d'arrive"}),e.jsx(je,{type:"time",value:Oe,onChange:qe=>Pe(qe.target.value)})]})]}),ye&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[" Arrive GPS: ",ye.lat.toFixed(5),",",ye.lng.toFixed(5)," (",Math.round(ye.accuracy),"m)"]})]}),$&&e.jsxs(e.Fragment,{children:[e.jsxs(le,{children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Date de sortie"}),e.jsx(je,{type:"date",value:it,onChange:qe=>ot(qe.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Heure de sortie"}),e.jsx(je,{type:"time",value:Qe,onChange:qe=>wt(qe.target.value)})]})]}),Tt&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[" Sortie GPS: ",Tt.lat.toFixed(5),",",Tt.lng.toFixed(5)," (",Math.round(Tt.accuracy),"m)"]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Membres prsents"}),e.jsx(je,{placeholder:"Rechercher un adhrent (nom, prnom, n)",value:H,onChange:qe=>Se(qe.target.value),onFocus:()=>{pe.length===0&&Fe()}}),e.jsxs(xe,{mt:2,maxH:"180px",overflowY:"auto",border:"1px solid #eee",borderRadius:"md",p:2,children:[Z&&e.jsx(jn,{py:3,children:e.jsx(Sn,{size:"sm"})}),!Z&&pe.filter(qe=>{if(!H.trim())return!0;const xt=H.toLowerCase();return[qe.firstName,qe.lastName,qe.memberNumber,qe.email].filter(Boolean).some(en=>String(en).toLowerCase().includes(xt))}).slice(0,50).map(qe=>{const xt=qe.id,en=B.includes(xt),dn=`${qe.lastName?.toUpperCase()||""} ${qe.firstName||""}${qe.memberNumber?`  ${qe.memberNumber}`:""}`.trim();return e.jsxs(le,{py:1,spacing:3,children:[e.jsx("input",{type:"checkbox",checked:en,onChange:Zt=>{ie(Rn=>Zt.target.checked?[...Rn,xt]:Rn.filter(an=>an!==xt))}}),e.jsx(D,{fontSize:"sm",children:dn})]},xt)}),!Z&&pe.length===0&&e.jsx(D,{fontSize:"sm",opacity:.7,children:"Aucun adhrent charg. Connectez-vous pour voir la liste."})]})]}),e.jsxs(le,{children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Invit - Prnom"}),e.jsx(je,{value:he,onChange:qe=>F(qe.target.value),placeholder:"Prnom invit"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Invit - Nom"}),e.jsx(je,{value:P,onChange:qe=>N(qe.target.value),placeholder:"Nom invit"})]})]}),$&&e.jsxs(J,{children:[e.jsx(Q,{children:"Actions ralises"}),e.jsx(sn,{value:$e,onChange:qe=>Bt(qe.target.value),placeholder:"Dtaillez les actions ralises pendant le passage",rows:4})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>I(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:$?"green":"orange",onClick:async()=>{const qe=document.getElementById("pass-conducteur")?.value||"",en=pe.filter(hr=>B.includes(hr.id)).map(hr=>`${hr.firstName||""} ${hr.lastName||""}`.trim()).filter(Boolean),dn=he||P?`Invit: ${[he,P].filter(Boolean).join(" ")}`:"",Zt=[qe?`Conducteur: ${qe}`:"",...en,dn].filter(Boolean).join("; "),Rn=(hr,Vr)=>{if(!hr&&!Vr)return null;const kn=hr||new Date().toISOString().split("T")[0],cr=Vr||new Date().toTimeString().slice(0,5),[Kr,Ya,Xa]=kn.split("-").map(Number),[Ts,ks]=cr.split(":").map(Number);return new Date(Kr,Ya-1,Xa,Ts,ks,0).toISOString()},an=Rn(re,Oe),Sr=it||Qe?Rn(it,Qe):null;try{if($){if(!Je)throw new Error("Aucun pointage en cours");const hr=Tt?`
Sortie GPS: ${Tt.lat?.toFixed(5)},${Tt.lng?.toFixed(5)} (${Math.round(Tt.accuracy||0)}m)`:"",Vr=$e?`
Actions:
${$e}`:"";await Tn(Je,{endedAt:Sr||new Date().toISOString(),conducteur:qe||null,participants:Zt||null,note:`${Vr}${hr}`.trim()}),An(null),r({status:"success",title:"Pointage termin"})}else{const hr=ye?`
Arrive GPS: ${ye.lat?.toFixed(5)},${ye.lng?.toFixed(5)} (${Math.round(ye.accuracy||0)}m)`:"",Vr=await ft({startedAt:an||new Date().toISOString(),conducteur:qe||null,participants:Zt||null,note:hr||""});An(Vr?.id||null),r({status:"success",title:"Pointage dmarr"})}I(!1),ie([]),F(""),N(""),Se(""),Le(""),Pe(""),ot(""),wt(""),Bt(""),Ze(null),ae(null)}catch{}},children:"Signaler"})]})]})]}),e.jsxs(kt,{isOpen:ee,onClose:()=>ue(!1),isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Ajouter un vnement"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsxs(D,{fontSize:"sm",opacity:.8,children:["Vhicule : ",e.jsx("b",{children:x?.parc})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type"}),e.jsx(je,{id:"evt-type",placeholder:"ex: Rvision"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Note"}),e.jsx(sn,{id:"evt-note",placeholder:"Dtails..."})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>ue(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:async()=>{const qe=document.getElementById("evt-type")?.value||"vnement",xt=document.getElementById("evt-note")?.value||"";try{await Ye({type:qe,note:xt}),ue(!1)}catch{}},children:"Ajouter"})]})]})]})]})}function FR({value:t=[],onChange:n,uploadEndpoint:r,deleteEndpoint:s,authHeader:l}){const u=Mn(),[d,m]=b.useState(!1),p=(S,_)=>{const E=[...t],A=S+_;A<0||A>=E.length||([E[S],E[A]]=[E[A],E[S]],n(E))},g=async S=>{if(!s){n(t.filter(_=>_!==S));return}try{const _=await fetch(s,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify({image:S})});if(!_.ok)throw new Error;const E=await _.json();n(E.gallery||[])}catch{n(t.filter(_=>_!==S))}},x=async S=>{if(!S?.length)return;m(!0);const _=new FormData;[...S].forEach(E=>_.append("images",E)),console.log(" Upload debug:",{endpoint:r,filesCount:S.length,hasAuth:!!l});try{const E=await fetch(r,{method:"POST",headers:{Authorization:l},body:_});if(console.log(" Upload response:",{status:E.status,statusText:E.statusText,headers:Object.fromEntries(E.headers)}),!E.ok){const T=await E.text().catch(()=>"");throw console.error(" Upload failed:",E.status,T),u({status:"error",title:"chec upload",description:`Erreur ${E.status}: ${T||E.statusText}`}),new Error(`HTTP ${E.status}: ${T}`)}const A=await E.json();n(A.gallery||[]),u({status:"success",title:"Images ajoutes"})}catch(E){console.error("Upload error",E),u({status:"error",title:"chec upload",description:E.message||"Erreur rseau"})}finally{m(!1)}},j=S=>!S||S.startsWith("http://")||S.startsWith("https://")||S.startsWith("data:")||S.startsWith("blob:")?S:"https://attractive-kindness-rbe-serveurs.up.railway.app"+S;return e.jsxs(xe,{children:[e.jsx(je,{type:"file",multiple:!0,accept:"image/*",onChange:S=>x(S.target.files),isDisabled:d,mb:3}),t.length===0&&e.jsx(D,{fontSize:"sm",color:"gray.500",mb:2,children:"Aucune image dans la galerie."}),e.jsx(ht,{columns:{base:2,md:4},spacing:3,children:t.map((S,_)=>e.jsxs(xe,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:1,children:[e.jsx(As,{src:j(S),w:"100%",h:"110px",objectFit:"cover",borderRadius:"sm"}),e.jsxs(le,{mt:1,justify:"space-between",children:[e.jsxs(le,{children:[e.jsx(yt,{"aria-label":"Monter",icon:e.jsx(d1,{}),size:"xs",onClick:()=>p(_,-1),isDisabled:_===0}),e.jsx(yt,{"aria-label":"Descendre",icon:e.jsx(u1,{}),size:"xs",onClick:()=>p(_,1),isDisabled:_===t.length-1})]}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"xs",colorScheme:"red",onClick:()=>g(S)})]})]},S+_))})]})}function HK({value:t=[],onChange:n}){const r=(u,d,m)=>{const p=[...t];p[u]={...p[u],[d]:m},n(p)},s=()=>n([...t||[],{label:"",value:""}]),l=u=>{const d=[...t];d.splice(u,1),n(d)};return e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(Q,{mb:0,children:"Caractristiques"}),e.jsx(ne,{size:"xs",leftIcon:e.jsx(Bn,{}),onClick:s,children:"Ajouter"})]}),(t||[]).map((u,d)=>e.jsxs(le,{align:"flex-start",children:[e.jsx(je,{placeholder:"Label",value:u.label,onChange:m=>r(d,"label",m.target.value)}),e.jsx(je,{placeholder:"Valeur",value:u.value,onChange:m=>r(d,"value",m.target.value)}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(OK,{}),size:"sm",onClick:()=>l(d)})]},d))]})}const WK="https://attractive-kindness-rbe-serveurs.up.railway.app";function qK(){const t=Ro(),n=Mn(),[r,s]=b.useState({parc:"",modele:"",marque:"",subtitle:"",etat:"disponible",immat:"",energie:"",miseEnCirculation:"",description:"",history:"",caracteristiques:[],gallery:[],isPublic:!1}),[l,u]=b.useState(!1),d=(p,g)=>s(x=>({...x,[p]:g})),m=async()=>{if(!r.parc.trim()){n({status:"error",title:"Parc requis"});return}u(!0);try{const p=await fetch(`${WK}/vehicles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({parc:r.parc.trim(),modele:r.modele,marque:r.marque,subtitle:r.subtitle,etat:r.etat,immat:r.immat,energie:r.energie,miseEnCirculation:r.miseEnCirculation,description:r.description,history:r.history,caracteristiques:r.caracteristiques,gallery:r.gallery,isPublic:r.isPublic})});if(!p.ok){const x=await p.json();throw new Error(x.error||"Erreur cration")}const g=await p.json();n({status:"success",title:"Vhicule cr !",description:`Le vhicule ${r.parc} a t cr avec succs`}),t(`/dashboard/vehicules/${g.parc}`)}catch(p){console.error(" Erreur cration:",p),n({status:"error",title:"Erreur sauvegarde",description:p.message})}finally{u(!1)}};return e.jsxs(xe,{p:8,children:[e.jsxs(le,{mb:6,children:[e.jsx(ne,{as:"a",href:"/dashboard/vehicules",leftIcon:e.jsx(DR,{}),variant:"outline",children:"Retour"}),e.jsx(De,{children:" Crer un vhicule"})]}),e.jsxs(oe,{align:"stretch",spacing:6,children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Identit du vhicule"}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Numro de parc"}),e.jsx(je,{placeholder:"ex: 920",value:r.parc,onChange:p=>d("parc",p.target.value),fontWeight:"bold"}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Identifiant unique du vhicule"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Marque"}),e.jsx(je,{placeholder:"ex: Mercedes-Benz",value:r.marque,onChange:p=>d("marque",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Modle"}),e.jsx(je,{placeholder:"ex: Citaro",value:r.modele,onChange:p=>d("modele",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Sous-titre"}),e.jsx(je,{placeholder:"ex: Un grand classique",value:r.subtitle,onChange:p=>d("subtitle",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Immatriculation"}),e.jsx(je,{placeholder:"ex: FG-920-RE",value:r.immat,onChange:p=>d("immat",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"tat"}),e.jsx(je,{placeholder:"ex: Disponible, Prserv, En restauration...",value:r.etat,onChange:p=>d("etat",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"nergie"}),e.jsx(je,{placeholder:"ex: Diesel",value:r.energie,onChange:p=>d("energie",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Mise en circulation"}),e.jsx(je,{type:"date",value:r.miseEnCirculation,onChange:p=>d("miseEnCirculation",p.target.value)})]})]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Descriptions"}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{rows:4,placeholder:"Description gnrale du vhicule...",value:r.description,onChange:p=>d("description",p.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Historique"}),e.jsx(sn,{rows:5,placeholder:"Historique, anecdotes, restaurations...",value:r.history,onChange:p=>d("history",p.target.value)})]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Caractristiques techniques"}),e.jsx(HK,{value:r.caracteristiques,onChange:p=>d("caracteristiques",p)})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Galerie photos"}),e.jsx(FR,{value:r.gallery,onChange:p=>d("gallery",p),parc:r.parc||"nouveau"})]})})}),e.jsx(Ie,{bg:"blue.50",children:e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:" Publication"}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:0,flex:1,children:"Afficher sur le site public"}),e.jsx(br,{isChecked:r.isPublic,onChange:p=>d("isPublic",p.target.checked),size:"lg",colorScheme:"green"})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:r.isPublic?" Ce vhicule sera visible sur le site public":" Ce vhicule n'est visible que par les administrateurs"})]})})}),e.jsx(Ln,{}),e.jsxs(le,{spacing:4,justify:"flex-end",children:[e.jsx(ne,{variant:"outline",onClick:()=>t("/dashboard/vehicules"),children:"Annuler"}),e.jsx(ne,{colorScheme:"green",leftIcon:e.jsx(gc,{}),isLoading:l,loadingText:"Cration...",onClick:m,size:"lg",children:"Crer le vhicule"})]})]})]})}const GK=window.location.origin;function ZK({etat:t}){const n={disponible:"green",en_panne:"red",maintenance:"orange",Service:"green",Prserv:"blue","A VENIR":"gray",Restauration:"orange"};return e.jsx(nt,{colorScheme:n[t]||"purple",children:t})}function YK({vehicle:t,parc:n,onChange:r,authHeader:s}){const{isOpen:l,onOpen:u,onClose:d}=It(),m=b.useRef(),[p,g]=b.useState(!1),[x,j]=b.useState(null),[S,_]=b.useState(!1),E=Mn(),A=async O=>{if(!O)return;g(!0);const I=new FormData;I.append("image",O);try{const $=await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${n}/background`,{method:"POST",headers:{Authorization:s},body:I});if(!$.ok)throw new Error("Upload failed");const G=await $.json();r({backgroundImage:G.backgroundImage}),E({status:"success",title:"Image de fond mise  jour"})}catch{E({status:"error",title:"Erreur upload image de fond"})}finally{g(!1)}},T=async()=>{try{await St.put(`/vehicles/${n}`,{backgroundImage:null,backgroundPosition:null}),r({backgroundImage:null,backgroundPosition:null}),E({status:"success",title:"Image de fond supprime"})}catch{E({status:"error",title:"Erreur suppression image de fond"})}},z=async O=>{const I=O.target.getBoundingClientRect(),$=(O.clientX-I.left)/I.width*100,G=(O.clientY-I.top)/I.height*100,ee=`${$.toFixed(1)}% ${G.toFixed(1)}%`;j({x:$,y:G});try{await St.put(`/vehicles/${n}`,{backgroundPosition:ee}),r({backgroundPosition:ee}),E({status:"success",title:"Position focale sauvegarde",description:ee})}catch{E({status:"error",title:"Erreur sauvegarde position"})}},M=t.backgroundImage??null,k=M&&t.backgroundPosition||"center";return e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",cursor:"pointer",onClick:()=>_(!S),children:[e.jsx(De,{size:"md",children:" Image de fond Hero"}),e.jsxs(le,{spacing:2,children:[M&&S&&e.jsx(ne,{leftIcon:e.jsx(dr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:O=>{O.stopPropagation(),T()},children:"Supprimer"}),e.jsx(yt,{icon:S?e.jsx(d1,{}):e.jsx(u1,{}),size:"sm",variant:"ghost","aria-label":S?"Replier":"Dplier"})]})]}),e.jsx(RS,{in:S,animateOpacity:!0,children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Gestion de l'image de fond plein cran pour la page publique"}),e.jsxs(le,{children:[e.jsx(ne,{leftIcon:e.jsx(NK,{}),size:"sm",onClick:O=>{O.stopPropagation(),m.current?.click()},isLoading:p,colorScheme:"blue",children:"Changer le fond"}),M&&e.jsx(ne,{leftIcon:e.jsx(DK,{}),size:"sm",colorScheme:"orange",onClick:O=>{O.stopPropagation(),u()},children:"Position focale"})]})]}),e.jsx(je,{ref:m,type:"file",accept:"image/*",onChange:O=>A(O.target.files[0]),display:"none"}),M&&e.jsxs(xe,{borderRadius:"md",overflow:"hidden",bg:"gray.100",border:"1px solid",borderColor:"gray.200",children:[e.jsx(As,{src:M,alt:"Aperu image de fond",w:"100%",h:"200px",objectFit:"cover",objectPosition:k}),e.jsxs(D,{fontSize:"sm",color:"gray.600",p:2,bg:"gray.50",children:[" Position focale : ",k]})]}),!M&&e.jsxs(xe,{borderRadius:"md",border:"2px dashed",borderColor:"gray.300",p:8,textAlign:"center",bg:"gray.50",children:[e.jsx(D,{color:"gray.500",mb:2,children:"Aucune image de fond dfinie"}),e.jsx(D,{fontSize:"sm",color:"gray.400",children:"La premire image de la galerie sera utilise par dfaut"})]})]})}),e.jsxs(kt,{isOpen:l,onClose:d,size:"4xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Ajuster la position focale"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsx(D,{color:"gray.600",children:"Cliquez sur l'image pour dfinir le point focal qui sera visible sur la page publique"}),M&&e.jsxs(xe,{position:"relative",borderRadius:"md",overflow:"hidden",children:[e.jsx(As,{src:M,alt:"Rglage position focale",w:"100%",h:"400px",objectFit:"cover",cursor:"crosshair",onClick:z}),x&&e.jsx(xe,{position:"absolute",left:`${x.x}%`,top:`${x.y}%`,transform:"translate(-50%, -50%)",w:"20px",h:"20px",borderRadius:"50%",bg:"red.500",border:"2px solid white",boxShadow:"0 0 0 2px red.500",zIndex:1})]}),e.jsxs(D,{fontSize:"sm",color:"gray.500",mb:4,children:[" Position actuelle : ",k]})]})})]})]})]})}function XK(){const{parc:t}=jx(),n=Ro(),r=Mn(),[s,l]=b.useState(!0),[u,d]=b.useState(!1),[m,p]=b.useState(null),[g,x]=b.useState({}),[j,S]=b.useState([]),_={marque:"Mercedes-Benz",modele:"Citaro ",subtitle:"Citaro 1 |  II |  | ",etat:"Prserv",type:"Bus",immat:"FG-920-RE",energie:"Diesel",miseEnCirculation:"2001-07-01",numerosFlotte:"592 / 720 / X / 920",constructeur:"Mercedes-Benz",longueur:"11,95 m",placesAssises:"32",placesDebout:"64",ufr:"1",statut:"Prserv",preservePar:"Association RtroBus Essonne",normeEuro:"Euro II",moteur:"Mercedes-Benz OM906hLA - 279 ch",boiteVitesses:"Automatique ZF5HP-502C",nombrePortes:"2",livree:"Grise",girouette:"Duhamel LED Oranges + Pastilles Vertes",climatisation:"Complte",description:"Ce vhicule est un exemple emblmatique de la gamme Citaro de premire gnration. Mis en service commercial en juillet 2001, il reprsente l'volution technologique des transports urbains du dbut des annes 2000. quip d'une climatisation complte et accessible aux personnes  mobilit rduite.",history:"Le Mercedes-Benz Citaro est un autobus urbain produit par Daimler AG depuis 1997. Ce modle a rvolutionn les transports publics europens avec son design moderne et ses innovations techniques. Notre exemplaire FG-920-RE a t command par Cars Bridet  Wissous pour le rseau du Palladin et mis en service en juillet 2001. Au cours de sa carrire, il a port successivement les numros 592, 720, X, puis 920. Il a assur la desserte Le Palladin jusqu'en aot 2014. Aprs plusieurs annes de service fidle, il est pass brivement par Brtigny en 2018, puis a rejoint Transdev STRAV  Limeil-Brvannes, avant d'tre exploit par Cars Sur. En mai 2025, ce vhicule historique a trouv sa place au sein de la collection de l'association RtroBus Essonne, o il tmoigne de l'volution du transport public francilien au dbut du XXIe sicle.",caracteristiques:[{label:"Numros de flotte",value:"592 / 720 / X / 920"},{label:"Constructeur",value:"Mercedes-Benz"},{label:"Modle",value:"Citaro "},{label:"Immatriculation",value:"FG-920-RE"},{label:"Mise en circulation",value:"juillet 2001"},{label:"Longueur",value:"11,95 m"},{label:"Places assises",value:"32"},{label:"Places debout",value:"64"},{label:"UFR",value:"1"},{label:"Statut",value:"Prserv"},{label:"Prserv par",value:"Association RtroBus Essonne"},{label:"nergie",value:"Diesel"},{label:"Norme Euro",value:"Euro II"},{label:"Moteur",value:"Mercedes-Benz OM906hLA - 279 ch"},{label:"Bote de vitesses",value:"Automatique ZF5HP-502C"},{label:"Nombre de portes",value:"2"},{label:"Livre",value:"Grise"},{label:"Girouette",value:"Duhamel LED Oranges + Pastilles Vertes"},{label:"Climatisation",value:"Complte"}]},E=b.useCallback(async()=>{if(t){l(!0);try{const k=await St.get(`/vehicles/${t}`);p(k);try{const I=await St.get(`/vehicles/${t}/usages`);S(Array.isArray(I)?I:[])}catch{S([])}const O={..._,...k,caracteristiques:k.caracteristiques&&k.caracteristiques.length>0?k.caracteristiques:_.caracteristiques,description:k.description||_.description,history:k.history||_.history};x(O)}catch(k){r({status:"error",title:k.message||"Erreur chargement"}),n("/dashboard/vehicules")}finally{l(!1)}}},[t,r,n]);b.useEffect(()=>{E()},[E]);const A=b.useCallback(()=>{const k=[{label:"Numros de flotte",value:g.numerosFlotte||""},{label:"Constructeur",value:g.constructeur||""},{label:"Modle",value:g.modele||""},{label:"Immatriculation",value:g.immat||""},{label:"Mise en circulation",value:g.miseEnCirculation?"juillet 2001":""},{label:"Longueur",value:g.longueur||""},{label:"Places assises",value:g.placesAssises||""},{label:"Places debout",value:g.placesDebout||""},{label:"UFR",value:g.ufr||""},{label:"Statut",value:g.statut||""},{label:"Prserv par",value:g.preservePar||""},{label:"nergie",value:g.energie||""},{label:"Norme Euro",value:g.normeEuro||""},{label:"Moteur",value:g.moteur||""},{label:"Bote de vitesses",value:g.boiteVitesses||""},{label:"Nombre de portes",value:g.nombrePortes||""},{label:"Livre",value:g.livree||""},{label:"Girouette",value:g.girouette||""},{label:"Climatisation",value:g.climatisation||""}].filter(O=>O.value);x(O=>({...O,caracteristiques:k}))},[g.numerosFlotte,g.constructeur,g.modele,g.immat,g.miseEnCirculation,g.longueur,g.placesAssises,g.placesDebout,g.ufr,g.statut,g.preservePar,g.energie,g.normeEuro,g.moteur,g.boiteVitesses,g.nombrePortes,g.livree,g.girouette,g.climatisation]);b.useEffect(()=>{A()},[A]);const T=async()=>{try{d(!0);const k=g.statut||g.etat;await St.put(`/vehicles/${t}`,{etat:k,marque:g.marque,modele:g.modele,type:g.type,immat:g.immat,energie:g.energie,miseEnCirculation:g.miseEnCirculation,subtitle:g.subtitle,description:g.description,history:g.history,caracteristiques:g.caracteristiques,gallery:g.gallery,backgroundImage:g.backgroundImage,backgroundPosition:g.backgroundPosition,isPublic:g.isPublic!==void 0?g.isPublic:m?.isPublic||!1,numerosFlotte:g.numerosFlotte,constructeur:g.constructeur,longueur:g.longueur,placesAssises:g.placesAssises,placesDebout:g.placesDebout,ufr:g.ufr,statut:g.statut,preservePar:g.preservePar,normeEuro:g.normeEuro,moteur:g.moteur,boiteVitesses:g.boiteVitesses,nombrePortes:g.nombrePortes,livree:g.livree,girouette:g.girouette,climatisation:g.climatisation}),r({status:"success",title:" Sauvegard avec succs",description:"Visible sur la page publique"}),E()}catch{r({status:"error",title:" Erreur sauvegarde"})}finally{d(!1)}},z=k=>{p(O=>({...O,...k})),x(O=>({...O,...k}))},M=()=>{x(k=>({...k,..._,parc:k.parc,id:k.id,createdAt:k.createdAt,updatedAt:k.updatedAt,gallery:k.gallery,backgroundImage:k.backgroundImage,backgroundPosition:k.backgroundPosition})),r({status:"info",title:" Donnes par dfaut restaures",description:"N'oubliez pas de sauvegarder"})};return s?e.jsx(jn,{h:"60vh",children:e.jsx(Sn,{size:"xl"})}):m?(m.marque?`${m.marque}${m.modele}`:m.modele,e.jsxs(xe,{p:8,children:[e.jsxs(lr,{align:"center",justify:"space-between",mb:6,children:[e.jsxs(le,{children:[e.jsx(ne,{leftIcon:e.jsx(DR,{}),variant:"ghost",onClick:()=>n("/dashboard/vehicules"),children:"Retour"}),e.jsxs(De,{size:"lg",children:[" dition vhicule ",m.parc]}),e.jsx(ZK,{etat:m.etat})]}),e.jsxs(le,{children:[e.jsx(ne,{size:"sm",variant:"outline",onClick:M,children:" Donnes par dfaut"}),e.jsx(ne,{leftIcon:e.jsx(OR,{}),colorScheme:"blue",variant:"outline",onClick:()=>window.open(GK+"/vehicles/"+t,"_blank"),children:" Voir la page publique"})]})]}),e.jsxs(oe,{spacing:8,align:"stretch",children:[e.jsx(xe,{bg:"blue.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"blue.200",children:e.jsx(YK,{vehicle:m,parc:t,onChange:z,authHeader:`Bearer ${localStorage.getItem("token")}`})}),e.jsxs(xe,{bg:"gray.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"gray.200",children:[e.jsxs(lr,{justify:"space-between",align:"center",mb:4,children:[e.jsx(De,{size:"md",children:" Informations principales"}),e.jsxs(J,{display:"flex",alignItems:"center",w:"auto",children:[e.jsxs(Q,{htmlFor:"isPublic",mb:"0",mr:3,fontWeight:"bold",children:[g.isPublic?" Visible":" Cach"," sur le site public:"]}),e.jsx(br,{id:"isPublic",isChecked:g.isPublic||!1,onChange:k=>x(O=>({...O,isPublic:k.target.checked})),colorScheme:g.isPublic?"green":"red",size:"lg"})]})]}),e.jsxs(ht,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Parc"}),e.jsx(je,{value:m.parc,isReadOnly:!0,bg:"gray.100"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Numros de flotte"}),e.jsx(je,{value:g.numerosFlotte||"",onChange:k=>x(O=>({...O,numerosFlotte:k.target.value})),placeholder:"592 / 720 / X / 920"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Constructeur"}),e.jsx(je,{value:g.constructeur||"",onChange:k=>x(O=>({...O,constructeur:k.target.value})),placeholder:"Mercedes-Benz"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Modle"}),e.jsx(je,{value:g.modele||"",onChange:k=>x(O=>({...O,modele:k.target.value})),placeholder:"Citaro "})]})]}),e.jsxs(ht,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Immatriculation"}),e.jsx(je,{value:g.immat||"",onChange:k=>x(O=>({...O,immat:k.target.value})),placeholder:"FG-920-RE"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Mise en circulation"}),e.jsx(je,{type:"date",value:g.miseEnCirculation?new Date(g.miseEnCirculation).toISOString().split("T")[0]:"",onChange:k=>x(O=>({...O,miseEnCirculation:k.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Longueur"}),e.jsx(je,{value:g.longueur||"",onChange:k=>x(O=>({...O,longueur:k.target.value})),placeholder:"11,95 m"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Places assises"}),e.jsx(je,{value:g.placesAssises||"",onChange:k=>x(O=>({...O,placesAssises:k.target.value})),placeholder:"32"})]})]}),e.jsxs(ht,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Places debout"}),e.jsx(je,{value:g.placesDebout||"",onChange:k=>x(O=>({...O,placesDebout:k.target.value})),placeholder:"64"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"UFR"}),e.jsx(je,{value:g.ufr||"",onChange:k=>x(O=>({...O,ufr:k.target.value})),placeholder:"1"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Statut"}),e.jsxs(st,{value:g.statut||"",onChange:k=>x(O=>({...O,statut:k.target.value})),children:[e.jsx("option",{value:"Prserv",children:"Prserv"}),e.jsx("option",{value:"Service",children:"Service"}),e.jsx("option",{value:"disponible",children:"Disponible"}),e.jsx("option",{value:"en_panne",children:"En panne"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"A VENIR",children:"A venir"}),e.jsx("option",{value:"Restauration",children:"Restauration"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"nergie"}),e.jsxs(st,{value:g.energie||"",onChange:k=>x(O=>({...O,energie:k.target.value})),children:[e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"lectrique",children:"lectrique"}),e.jsx("option",{value:"Hybride",children:"Hybride"}),e.jsx("option",{value:"GNV",children:"GNV"})]})]})]}),e.jsx(ht,{columns:{base:1,md:1},spacing:4,mb:4,children:e.jsxs(J,{children:[e.jsx(Q,{children:"Prserv par"}),e.jsx(je,{value:g.preservePar||"",onChange:k=>x(O=>({...O,preservePar:k.target.value})),placeholder:"Association RtroBus Essonne"})]})}),e.jsxs(ht,{columns:{base:1,md:2,lg:3},spacing:4,mb:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Norme Euro"}),e.jsx(je,{value:g.normeEuro||"",onChange:k=>x(O=>({...O,normeEuro:k.target.value})),placeholder:"Euro II"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Moteur"}),e.jsx(je,{value:g.moteur||"",onChange:k=>x(O=>({...O,moteur:k.target.value})),placeholder:"Mercedes-Benz OM906hLA - 279 ch"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Bote de vitesses"}),e.jsx(je,{value:g.boiteVitesses||"",onChange:k=>x(O=>({...O,boiteVitesses:k.target.value})),placeholder:"Automatique ZF5HP-502C"})]})]}),e.jsxs(ht,{columns:{base:1,md:2,lg:4},spacing:4,mb:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Nombre de portes"}),e.jsx(je,{value:g.nombrePortes||"",onChange:k=>x(O=>({...O,nombrePortes:k.target.value})),placeholder:"2"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Livre"}),e.jsx(je,{value:g.livree||"",onChange:k=>x(O=>({...O,livree:k.target.value})),placeholder:"Grise"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Girouette"}),e.jsx(je,{value:g.girouette||"",onChange:k=>x(O=>({...O,girouette:k.target.value})),placeholder:"Duhamel LED Oranges + Pastilles Vertes"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Climatisation"}),e.jsx(je,{value:g.climatisation||"",onChange:k=>x(O=>({...O,climatisation:k.target.value})),placeholder:"Complte"})]})]}),e.jsxs(J,{mt:4,children:[e.jsx(Q,{children:"Sous-titre (badges affichs)"}),e.jsx(je,{value:g.subtitle||"",onChange:k=>x(O=>({...O,subtitle:k.target.value})),placeholder:"Citaro 1 |  II |  | "}),e.jsx(D,{fontSize:"sm",color:"gray.600",mt:1,children:'Exemple avec mojis : "Citaro 1 |  II |  | "'})]}),e.jsx(Ie,{mt:6,bg:"blue.50",borderWidth:"2px",borderColor:"blue.200",children:e.jsx(Ne,{children:e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:0,flex:1,children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"bold",children:" Afficher sur le site public"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:m?.isPublic?" Ce vhicule est visible par tous":" Ce vhicule n'est visible que par les administrateurs"})]})}),e.jsx(br,{isChecked:m?.isPublic||!1,onChange:k=>p(O=>({...O,isPublic:k.target.checked})),size:"lg",colorScheme:"green"})]})})}),e.jsx(D,{fontSize:"xs",color:"blue.600",mt:4,fontStyle:"italic",children:" Les caractristiques techniques sont automatiquement mises  jour en fonction des champs ci-dessus"})]}),e.jsxs(xe,{bg:"green.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"green.200",children:[e.jsx(De,{size:"md",mb:4,children:" Textes descriptifs"}),e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:g.description||"",onChange:k=>x(O=>({...O,description:k.target.value})),rows:4,placeholder:"Ce vhicule est un exemple emblmatique..."}),e.jsx(D,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Description" sur la page publique'})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Histoire"}),e.jsx(sn,{value:g.history||"",onChange:k=>x(O=>({...O,history:k.target.value})),rows:6,placeholder:"Le Mercedes-Benz Citaro est un autobus urbain..."}),e.jsx(D,{fontSize:"xs",color:"gray.600",mt:1,children:'Apparat dans la section "Histoire" sur la page publique'})]})]})]}),e.jsxs(xe,{bg:"purple.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"purple.200",children:[e.jsx(De,{size:"md",mb:4,children:" Galerie photos"}),e.jsx(FR,{value:g.gallery||[],onChange:k=>x(O=>({...O,gallery:k})),uploadEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,deleteEndpoint:`https://attractive-kindness-rbe-serveurs.up.railway.app/vehicles/${t}/gallery`,authHeader:`Bearer ${localStorage.getItem("token")}`}),e.jsx(D,{fontSize:"sm",color:"gray.600",mt:2,children:"La premire image peut servir de fond si aucune image de fond spcifique n'est dfinie. Les autres images apparaissent dans le carrousel."})]}),e.jsxs(xe,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(De,{size:"md",mb:4,children:" Carnet de suivi"}),!j?.length&&e.jsx(D,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(oe,{align:"stretch",spacing:3,divider:e.jsx(Ln,{}),mt:j?.length?2:0,children:j.map(k=>e.jsxs(xe,{children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{fontWeight:"bold",children:k.conducteur||""}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:k.startedAt?new Date(k.startedAt).toLocaleString():""})]}),k.participants&&e.jsx(D,{mt:1,fontSize:"sm",children:k.participants}),k.note&&e.jsx(D,{mt:1,fontSize:"sm",color:"gray.700",children:k.note})]},k.id))})]}),e.jsxs(xe,{bg:"orange.50",p:6,borderRadius:"lg",border:"1px solid",borderColor:"orange.200",children:[e.jsx(De,{size:"md",mb:4,children:" Carnet de suivi"}),!j?.length&&e.jsx(D,{color:"gray.600",children:"Aucun passage enregistr pour ce vhicule."}),e.jsx(oe,{align:"stretch",spacing:3,divider:e.jsx(Ln,{}),mt:j?.length?2:0,children:j.map(k=>{const O=k.startedAt?new Date(k.startedAt):null,I=k.endedAt?new Date(k.endedAt):null,$=O&&I?Math.round((I-O)/6e4):null;return e.jsxs(xe,{children:[e.jsxs(le,{justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontWeight:"bold",children:k.conducteur||""}),k.participants&&e.jsx(D,{mt:1,fontSize:"sm",children:k.participants})]}),e.jsxs(oe,{align:"end",spacing:0,children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:O?O.toLocaleString():""}),I&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[" ",I.toLocaleString()," ",$!=null?`(${$} min)`:""]})]})]}),k.note&&e.jsx(D,{mt:2,fontSize:"sm",whiteSpace:"pre-wrap",children:k.note})]},k.id)})})]}),e.jsxs(xe,{textAlign:"center",py:4,children:[e.jsx(ne,{leftIcon:e.jsx(gc,{}),colorScheme:"blue",size:"lg",onClick:T,isLoading:u,loadingText:"Sauvegarde en cours...",children:" Sauvegarder toutes les modifications"}),e.jsx(D,{fontSize:"sm",color:"gray.600",mt:2,children:"Les modifications seront visibles immdiatement sur la page publique"})]})]})]})):null}const sh=({title:t,subtitle:n,breadcrumbs:r=[],children:s,headerActions:l,bgGradient:u,maxW:d="container.xl",titleSize:m="2xl",titleWeight:p="800",headerVariant:g="full"})=>{const x=gr(u||"linear(to-r, rbe.600, rbe.800)","linear(to-r, rbe.700, rbe.900)");return e.jsxs(xe,{minH:"100vh",fontFamily:"Montserrat, system-ui, sans-serif",children:[g==="full"?e.jsxs(xe,{bgGradient:x,color:"white",py:{base:12,md:16},position:"relative",overflow:"hidden",children:[e.jsx(xe,{position:"absolute",inset:0,bgGradient:"radial(circle at 30% 30%, whiteAlpha.200, transparent 50%)",pointerEvents:"none"}),e.jsx(ds,{maxW:d,position:"relative",children:e.jsxs(oe,{spacing:6,align:"stretch",children:[r.length>0&&e.jsx(Ob,{separator:e.jsx(xx,{color:"whiteAlpha.700"}),color:"whiteAlpha.800",fontSize:"sm",children:r.map((j,S)=>e.jsx(Ib,{children:e.jsx(cx,{as:tr,to:j.href,_hover:{color:"white"},children:j.label})},S))}),e.jsxs(oe,{spacing:4,textAlign:"center",children:[e.jsx(De,{as:"h1",size:m,fontWeight:p,letterSpacing:"-0.025em",textShadow:"0 2px 4px rgba(0,0,0,0.1)",children:t}),n&&e.jsx(D,{fontSize:{base:"lg",md:"xl"},opacity:.9,maxW:"2xl",lineHeight:"relaxed",children:n}),l&&e.jsx(xe,{pt:4,children:l})]})]})})]}):e.jsxs(ds,{maxW:d,py:{base:6,md:8},children:[r.length>0&&e.jsx(Ob,{separator:e.jsx(xx,{}),color:gr("gray.600","gray.300"),fontSize:"sm",mb:4,children:r.map((j,S)=>e.jsx(Ib,{children:e.jsx(cx,{as:tr,to:j.href,children:j.label})},S))}),e.jsxs(xe,{bgGradient:x,color:"white",p:{base:6,md:8},borderRadius:"xl",textAlign:"center",boxShadow:"lg",children:[e.jsx(De,{as:"h1",size:m,fontWeight:p,letterSpacing:"-0.02em",children:t}),n&&e.jsx(D,{mt:2,opacity:.9,fontSize:{base:"md",md:"lg"},children:n}),l&&e.jsx(xe,{pt:4,children:l})]})]}),e.jsx(ds,{maxW:d,py:{base:8,md:12},children:s})]})},dl=({title:t,description:n,icon:r,badge:s,children:l,variant:u="modern",color:d="gray",onClick:m,...p})=>{const g=gr("white","gray.800"),x=gr("gray.200","gray.600"),j=gr("0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)");return e.jsxs(Ie,{variant:u,bg:g,borderColor:x,cursor:m?"pointer":"default",onClick:m,_hover:m?{boxShadow:j,transform:"translateY(-4px)",borderColor:`${d}.300`}:{},transition:"all 0.3s ease-out",...p,children:[(t||r||s)&&e.jsx(Ot,{pb:n?3:6,children:e.jsxs(le,{justify:"space-between",align:"start",children:[e.jsxs(le,{spacing:3,flex:1,children:[r&&e.jsx(Kn,{as:r,color:`${d}.600`,boxSize:6,flexShrink:0}),e.jsxs(oe,{align:"start",spacing:1,flex:1,children:[e.jsx(De,{size:"md",color:"gray.700",fontWeight:"600",children:t}),n&&e.jsx(D,{variant:"description",fontSize:"sm",children:n})]})]}),s&&e.jsx(nt,{colorScheme:s.color||d,variant:"subtle",children:s.label})]})}),l&&e.jsx(Ne,{pt:t?0:6,children:l})]})},$y=[{title:"RtroBus",description:"Mcanique, vhicules et maintenance",to:"/dashboard/retrobus",icon:LK,color:"teal"},{title:"Gestion Financire",description:"Recettes, dpenses et oprations programmes",to:"/admin/finance",icon:Pu,color:"rbe"},{title:"Gestion des vnements",description:"Cration, planification et suivi",to:"/dashboard/events-management",icon:ls,color:"green"},{title:"Grer les adhsions",description:"Membres, cotisations et documents",to:"/dashboard/members-management",icon:Qs,color:"blue"},{title:"Gestion des Stocks",description:"Inventaire et matriel de l'association",to:"/dashboard/stock-management",icon:vx,color:"yellow"},{title:"Gestion Newsletter",description:"Abonns et campagnes d'envoi",to:"/dashboard/newsletter",icon:jc,color:"purple"},{title:"RtroPlanning",description:"Calendrier centralis: campagnes, tournes, affectations",to:"/dashboard/retroplanning",icon:ls,color:"orange"},{title:"Gestion du Site",description:"Changelog, contenu et mise  jour",to:"/dashboard/site-management",icon:Wd,color:"pink"},{title:"Retromail",description:"Messagerie interne de l'quipe",to:"/retromail",icon:CK,color:"teal"},{title:"RtroSupport",description:"Tickets: incidents, bugs et amliorations",to:"/dashboard/support",icon:EK,color:"cyan"}];function KK(){const t=gr("blue.50","blue.900"),n=gr("blue.500","blue.300"),{user:r,customPermissions:s}=Ni(),l=r?.role||"MEMBER";let u=$y;return l==="PRESTATAIRE"?u=$y.filter(d=>d.title==="RtroPlanning"||d.title==="RtroSupport"):u=$y.filter(d=>{const p={RtroBus:Zr.VEHICLES,"Gestion Financire":Zr.FINANCE,"Gestion des vnements":Zr.EVENTS,"Grer les adhsions":Zr.MEMBERS,"Gestion des Stocks":Zr.STOCK,"Gestion Newsletter":Zr.NEWSLETTER,RtroPlanning:Zr.RETROPLANNING,"Gestion du Site":Zr.SITE_MANAGEMENT,Retromail:Zr.RETROMAIL,RtroSupport:Zr.RETROSUPPORT}[d.title];return!p||ol(l,p,s)}),e.jsx(sh,{title:"Espace MyRBE",subtitle:"Les outils d'administration RtroBus Essonne",headerVariant:"card",bgGradient:"linear(to-r, blue.500, purple.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"}],children:e.jsxs(oe,{spacing:8,align:"stretch",children:[e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:6,children:u.map(d=>e.jsx(dl,{title:d.title,description:d.description,icon:d.icon,color:d.color,badge:d.badge,as:tr,to:d.to,onClick:()=>{}},d.title))}),e.jsxs(oe,{spacing:6,children:[e.jsx(xe,{bg:t,p:6,borderRadius:"xl",borderLeft:"4px solid",borderLeftColor:n,w:"full",children:e.jsxs(oe,{spacing:3,align:"start",children:[e.jsx(le,{children:e.jsx(D,{fontSize:"lg",fontWeight:"600",color:"blue.700",children:" Guide d'utilisation"})}),e.jsx(D,{color:"blue.600",lineHeight:"relaxed",fontSize:"sm",children:"Toutes ces fonctionnalits sont connectes aux donnes relles de l'association. Les modifications que vous effectuez sont automatiquement sauvegardes et synchronises avec les autres membres de l'quipe."}),e.jsxs(le,{spacing:3,pt:2,children:[e.jsx(ne,{size:"sm",variant:"secondary",colorScheme:"blue",children:"Guide complet"}),e.jsx(ne,{size:"sm",variant:"modern",as:tr,to:"/dashboard/support",children:"Support technique"})]})]})}),e.jsxs(ht,{columns:{base:2,md:4},spacing:4,w:"full",children:[e.jsx(dl,{title:"Uptime",description:"99.9%",color:"green",variant:"modern"}),e.jsx(dl,{title:"Membres actifs",description:"45",color:"blue",variant:"modern"}),e.jsx(dl,{title:"Dernire sync",description:"Il y a 2 min",color:"gray",variant:"modern"}),e.jsx(dl,{title:"Version",description:"v2.1.3",color:"purple",variant:"modern"})]})]})]})})}const cc="https://attractive-kindness-rbe-serveurs.up.railway.app",wA=[{matricule:"w.belaidi",label:"Waiyl Belaidi"},{matricule:"m.ravichandran",label:"Mthusan Ravichandran"}];function _A(t,n){return`pointage:${t}:${n}`}function QK(t){try{const n="rbe:reports:local",r=localStorage.getItem(n),s=r?JSON.parse(r):[];return s.unshift(t),localStorage.setItem(n,JSON.stringify(s)),!0}catch(n){return console.error("saveLocalReport failed",n),!1}}function JK(){const{parc:t}=jx(),n=Mn(),{matricule:r,prenom:s}=Ni(),[l,u]=b.useState(null),[d,m]=b.useState(!0),[p,g]=b.useState(wA),[x,j]=b.useState(""),[S,_]=b.useState([]),[E,A]=b.useState(null),[T,z]=b.useState(!1),[M,k]=b.useState(!1),[O,I]=b.useState(!1),[$,G]=b.useState(""),[ee,ue]=b.useState(""),[fe,X]=b.useState(!1),[me,Ee]=b.useState(""),[pe,K]=b.useState([]),[Z,W]=b.useState(!1),[H,Se]=b.useState(null);b.useEffect(()=>{let Pe=!1;return(async()=>{try{m(!0);const it=await fetch(`${cc}/vehicles/${encodeURIComponent(t)}`);if(!it.ok)throw new Error("Vhicule introuvable");const ot=await it.json();Pe||u(ot)}catch(it){console.error(it),n({status:"error",title:"Impossible de charger le vhicule",description:String(it.message)})}finally{Pe||m(!1)}})(),()=>{Pe=!0}},[t,n]),b.useEffect(()=>{r&&r.trim()?(j(r),p.some(Pe=>Pe.matricule===r)||g(Pe=>[{matricule:r,label:s?`${s} (${r})`:r},...Pe])):x||j(wA[0].matricule)},[r,s]),b.useEffect(()=>{if(!x)return;const Pe=_A(t,x);try{const it=localStorage.getItem(Pe);if(it){const ot=JSON.parse(it);A(ot)}else A(null)}catch(it){console.warn("failed reading pointage from storage",it)}},[t,x]);const B=Pe=>{const it=_A(t,x);if(Pe)try{localStorage.setItem(it,JSON.stringify(Pe))}catch(ot){console.warn("persistActiveLocal failed",ot)}else try{localStorage.removeItem(it)}catch(ot){console.warn("persistActiveLocal remove failed",ot)}},ie=Pe=>{try{return new Date(Pe).toLocaleString()}catch{return Pe}},he=()=>{const Pe=$.trim();if(!Pe)return n({status:"warning",title:"Matricule requis"});if(Pe===x)return G(""),n({status:"info",title:"C'est dj le membre principal"});if(S.includes(Pe))return G(""),n({status:"info",title:"Participant dj ajout"});_(it=>[...it,Pe]),p.some(it=>it.matricule===Pe)||g(it=>[{matricule:Pe,label:Pe},...it]),G(""),n({status:"success",title:"Participant ajout"})},F=Pe=>{_(it=>it.filter(ot=>ot!==Pe))},P=async()=>{z(!0);try{try{if(!(await fetch(`${cc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Le serveur est indisponible  le pointage informatique est dsactiv."}),z(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage informatique est dsactiv."}),z(!1);return}const Pe=[...S],it={conducteur:x||null,participants:Pe,note:"pointage:start",startedAt:new Date().toISOString()},ot=await fetch(`${cc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json","x-user-matricule":x||""},body:JSON.stringify(it)});if(!ot.ok){let $e=null;try{$e=await ot.json()}catch{$e=await ot.text().catch(()=>null)}console.warn("startPointage server error",ot.status,$e),n({status:"error",title:"chec du pointage",description:$e?.error||`Erreur serveur (${ot.status})`}),z(!1);return}const Qe=await ot.json(),wt={id:Qe.id||`local-${Date.now()}`,startedAt:Qe.startedAt||it.startedAt,conducteur:it.conducteur,participants:it.participants||[]};A(wt),B(wt),n({status:"success",title:"Pointage dmarr",description:` ${ie(wt.startedAt)}`}),k(!1)}catch(Pe){console.error(Pe),n({status:"error",title:"chec du pointage",description:String(Pe.message)})}finally{z(!1)}},N=async()=>{if(!E)return;z(!0);const Pe=new Date().toISOString(),it=(ot,Qe)=>{try{const wt="rbe:usages:local",$e=localStorage.getItem(wt),Bt=$e?JSON.parse($e):[],ye={id:`local-end-${Date.now()}`,relatedTo:ot,parc:t,startedAt:Qe||E.startedAt,endedAt:Pe,conducteur:E.conducteur||x,participants:E.participants||S,note:ee||"depointe",createdAt:new Date().toISOString(),synced:!1};return Bt.unshift(ye),localStorage.setItem(wt,JSON.stringify(Bt)),ye}catch(wt){return console.error("saveLocalEnded failed",wt),null}};try{try{if(!(await fetch(`${cc}/health`)).ok){n({status:"error",title:"API indisponible",description:"Impossible de terminer le pointage  serveur indisponible."}),z(!1);return}}catch{n({status:"error",title:"API indisponible",description:"Impossible de joindre le serveur  le pointage ne peut pas tre termin."}),z(!1);return}const ot={endedAt:Pe,note:ee||"depointe",participants:E.participants||S};let Qe=null;try{const ye=await fetch(`${cc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(E.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ot)});if(ye.ok){try{Qe=await ye.json()}catch{Qe=null}B(null),A(null),I(!1),ue(""),n({status:"success",title:"Dpointe",description:`arrt  ${new Date(Pe).toLocaleString()}`})}else{let Ze=null;try{Ze=await ye.json()}catch{Ze=await ye.text().catch(()=>null)}console.warn("depointerWithNote: PATCH failed",ye.status,Ze)}}catch(ye){console.warn("depointerWithNote: PATCH network error",ye)}if(!Qe)try{const ye=await fetch(`${cc}/vehicles/${encodeURIComponent(t)}/usages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conducteur:x||null,note:ee||"pointage:end",relatedTo:E.id,participants:E.participants||S,endedAt:Pe})});if(ye.ok){try{Qe=await ye.json()}catch{Qe=null}B(null),A(null),I(!1),ue(""),n({status:"success",title:"Dpointe (fallback)",description:`arrt  ${new Date(Pe).toLocaleString()}`})}else{let Ze=null;try{Ze=await ye.json()}catch{Ze=await ye.text().catch(()=>null)}console.warn("depointerWithNote: POST fallback failed",ye.status,Ze)}}catch(ye){console.warn("depointerWithNote: POST fallback network error",ye)}if(!Qe){const ye=it(E.id,E.startedAt);B(null),A(null),I(!1),ue(""),n({status:"warning",title:"Dpointe local",description:ye?"Le pointage a t enregistr localement (pas d'API). La fiche peut tre envoye plus tard.":"Le serveur est indisponible et la sauvegarde locale a chou."}),Se({usageId:ye?ye.id:`local-${Date.now()}`,startedAt:ye?.startedAt||E.startedAt,endedAt:ye?.endedAt||Pe,conducteur:E.conducteur||x,participants:E.participants||S}),Ee(ee||""),K([]),X(!0);return}const wt=Qe?.id||E.id,$e=Qe?.startedAt||E.startedAt,Bt=Qe?.endedAt||Pe;Se({usageId:wt,startedAt:$e,endedAt:Bt,conducteur:x,participants:E.participants||S}),Ee(ee||""),K([]),X(!0)}catch(ot){console.error("depointerWithNote: unexpected error",ot),n({status:"error",title:"chec du dpointeur",description:String(ot.message)})}finally{z(!1)}},re=Pe=>{const it=Array.from(Pe.target.files||[]);K(ot=>[...ot,...it]),Pe.target.value=""},Le=Pe=>{K(it=>it.filter((ot,Qe)=>Qe!==Pe))},Oe=async()=>{if(H){W(!0);try{const{usageId:Pe,startedAt:it,endedAt:ot,conducteur:Qe,participants:wt}=H,$e=new FormData;$e.append("description",me||""),$e.append("startedAt",it||""),$e.append("endedAt",ot||""),$e.append("conducteur",Qe||""),$e.append("participants",JSON.stringify(wt||[])),pe.forEach((ye,Ze)=>$e.append("files",ye,ye.name));let Bt=!1;try{const ye=await fetch(`${cc}/vehicles/${encodeURIComponent(t)}/usages/${encodeURIComponent(Pe)}/report`,{method:"POST",body:$e});ye.ok?(Bt=!0,n({status:"success",title:"Fiche enregistre",description:"La fiche a t enregistre sur le serveur."})):console.warn("primary report endpoint failed",ye.status)}catch(ye){console.warn("primary report endpoint error",ye)}if(!Bt)try{const ye=await fetch(`${cc}/vehicles/${encodeURIComponent(t)}/reports`,{method:"POST",body:$e});ye.ok?(Bt=!0,n({status:"success",title:"Fiche enregistre (fallback)",description:"La fiche a t envoye au fallback serveur."})):console.warn("fallback report endpoint failed",ye.status)}catch(ye){console.warn("fallback report endpoint error",ye)}if(!Bt){const ye={id:`local-${Date.now()}`,parc:t,usageId:Pe,startedAt:it,endedAt:ot,conducteur:Qe,participants:wt||[],description:me||"",files:pe.map(Tt=>({name:Tt.name,size:Tt.size,type:Tt.type})),createdAt:new Date().toISOString()},Ze=QK(ye);n(Ze?{status:"warning",title:"Fiche sauvegarde localement",description:"Pas d'API disponible  la fiche est dans votre navigateur."}:{status:"error",title:"chec sauvegarde locale",description:"Impossible de sauvegarder la fiche."})}X(!1),Ee(""),K([]),Se(null)}catch(Pe){console.error(Pe),n({status:"error",title:"Erreur lors de l'envoi de la fiche",description:String(Pe.message)})}finally{W(!1)}}};return d?e.jsx(jn,{p:8,children:e.jsx(Sn,{size:"lg"})}):e.jsxs(ds,{maxW:"4xl",py:10,children:[e.jsx(De,{as:"h1",size:"xl",mb:4,children:"MyRBE  Actions rapides"}),e.jsxs(xe,{mb:4,children:[e.jsxs(D,{fontSize:"md",children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Parc ",t]})]}),e.jsxs(xe,{mb:4,children:[e.jsx(D,{mb:2,children:e.jsx("b",{children:"Initiateur (scan)"})}),e.jsxs(le,{spacing:3,align:"start",children:[e.jsxs(st,{value:x,onChange:Pe=>j(Pe.target.value),maxW:"360px",children:[p.map(Pe=>e.jsxs("option",{value:Pe.matricule,children:[Pe.label," (",Pe.matricule,")"]},Pe.matricule)),r&&!p.some(Pe=>Pe.matricule===r)&&e.jsx("option",{value:r,children:s?`${s} (${r})`:r})]}),e.jsx(xe,{children:e.jsx(je,{placeholder:"Ajouter participant (matricule)",value:$,onChange:Pe=>G(Pe.target.value),maxW:"220px"})}),e.jsx(ne,{size:"sm",onClick:he,children:"Ajouter"})]}),e.jsxs(xe,{mt:3,children:[e.jsx(D,{mb:2,fontSize:"sm",children:"Participants prsents :"}),e.jsxs(fR,{spacing:2,children:[S.length===0&&e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Aucun participant ajout"}),S.map(Pe=>e.jsxs(Au,{size:"sm",borderRadius:"full",variant:"solid",colorScheme:"blue",children:[e.jsx(Tu,{children:Pe}),e.jsx(l1,{onClick:()=>F(Pe)})]},Pe))]})]})]}),e.jsxs(Lo,{direction:{base:"column",md:"row"},spacing:4,mb:4,children:[e.jsx(ne,{colorScheme:"blue",size:"lg",onClick:()=>n({status:"info",title:"Planifier",description:"Fonctionnalit planification  ajouter"}),children:"Planifier une intervention"}),e.jsx(ne,{colorScheme:"red",size:"lg",onClick:()=>n({status:"info",title:"Signaler",description:"Fonctionnalit signalement  ajouter"}),children:"Signaler une anomalie"}),e.jsx(ne,{colorScheme:E?"orange":"green",size:"lg",onClick:()=>{E?I(!0):k(!0)},isLoading:T,children:E?"Dpointer":"Pointer"})]}),e.jsxs(xe,{children:[e.jsxs(D,{fontSize:"sm",color:"gray.700",children:[e.jsx("b",{children:"Initiateur :"})," ",x," ",r===x&&s?`  ${s}`:""]}),E?e.jsxs(D,{fontSize:"sm",color:"gray.700",children:["Point depuis : ",ie(E.startedAt)]}):e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Aucun pointage actif pour ce membre sur ce vhicule."})]}),e.jsxs(kt,{isOpen:M,onClose:()=>k(!1),isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Pointer  dmarrer"}),e.jsx($t,{}),e.jsxs(Pt,{children:[e.jsxs(D,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(D,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(D,{mb:3,children:["Participants : ",S.length?S.join(", "):""]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Confirmer pour crer le pointage (heure actuelle enregistre)."})]}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>k(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"green",onClick:P,isLoading:T,children:"Confirmer"})]})]})]}),e.jsxs(kt,{isOpen:O,onClose:()=>I(!1),isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Dpointer  terminer"}),e.jsx($t,{}),e.jsxs(Pt,{children:[e.jsxs(D,{mb:3,children:["Vhicule : ",e.jsx("b",{children:l?.immat||`Parc ${t}`})]}),e.jsxs(D,{mb:3,children:["Initiateur : ",e.jsx("b",{children:x})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description des activits ralises"}),e.jsx(sn,{value:ee,onChange:Pe=>ue(Pe.target.value),placeholder:"Ex: contrle frein, remplacement ampoule..."})]}),e.jsx(D,{mt:3,fontSize:"sm",color:"gray.500",children:"(Aprs validation, vous pourrez ajouter photos/vidos  la fiche.)"})]}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>I(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"orange",onClick:N,isLoading:T,isDisabled:!ee.trim(),children:"Confirmer dpointer"})]})]})]}),e.jsxs(kt,{isOpen:fe,onClose:()=>X(!1),size:"xl",isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Fiche de pointage  dtails"}),e.jsx($t,{}),e.jsxs(Pt,{children:[e.jsxs(xe,{mb:3,children:[e.jsxs(D,{children:[e.jsx("b",{children:"Vhicule :"})," ",l?.immat||`Parc ${t}`]}),e.jsxs(D,{children:[e.jsx("b",{children:"Initiateur :"})," ",H?.conducteur]}),e.jsxs(D,{children:[e.jsx("b",{children:"Participants :"})," ",(H?.participants||[]).join(", ")||""]}),e.jsxs(D,{children:[e.jsx("b",{children:"Dbut :"})," ",H?ie(H.startedAt):""]}),e.jsxs(D,{children:[e.jsx("b",{children:"Fin :"})," ",H?ie(H.endedAt):""]})]}),e.jsxs(J,{mb:3,children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:me,onChange:Pe=>Ee(Pe.target.value),placeholder:"Dcrivez les actions effectues..."})]}),e.jsxs(J,{mb:3,children:[e.jsx(Q,{children:"Photos / Vidos"}),e.jsx(je,{type:"file",accept:"image/*,video/*",multiple:!0,onChange:re}),pe.length>0&&e.jsx(ht,{columns:{base:2,md:3},spacing:2,mt:3,children:pe.map((Pe,it)=>e.jsxs(xe,{borderRadius:"md",overflow:"hidden",pos:"relative",bg:"gray.50",p:2,children:[Pe.type.startsWith("image/")?e.jsx(As,{src:URL.createObjectURL(Pe),alt:Pe.name,objectFit:"cover",maxH:"140px",w:"100%"}):e.jsxs(xe,{p:2,children:[e.jsx(D,{fontSize:"sm",noOfLines:2,children:Pe.name}),e.jsxs(D,{fontSize:"xs",color:"gray.600",children:[Pe.size/1024|0," KB"]})]}),e.jsx(yt,{"aria-label":"Supprimer",size:"sm",pos:"absolute",top:"6px",right:"6px",onClick:()=>Le(it),icon:e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 6h18"}),e.jsx("path",{d:"M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6"}),e.jsx("path",{d:"M10 11v6"}),e.jsx("path",{d:"M14 11v6"})]})})]},it))})]}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Les fichiers seront envoys au serveur si disponible ; sinon la fiche sera sauvegarde localement."})]}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:()=>X(!1),children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Oe,isLoading:Z,children:"Enregistrer la fiche"})]})]})]})]})}const Jf={getAll:async()=>St.get("/vehicles"),getByParc:async t=>St.get(`/vehicles/${t}`),create:async t=>St.post("/vehicles",t),update:async(t,n)=>St.put(`/vehicles/${t}`,n),delete:async t=>St.delete(`/vehicles/${t}`)},va={getAll:async()=>St.get("/events"),getById:async t=>St.get(`/events/${t}`),create:async t=>St.post("/events",t),update:async(t,n)=>St.put(`/events/${t}`,n),delete:async t=>St.delete(`/events/${t}`),publish:async(t,n)=>St.put(`/events/${t}`,{status:n})},CA="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,""),uj=()=>{const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}},eQ=async t=>{const n=(t.headers.get("content-type")||"").toLowerCase();if(!(n.includes("application/json")||n.includes("+json"))){const r=await t.text().catch(()=>"");throw new Error(`Rponse non-JSON (${t.status}) ${r?.slice(0,200)||""}`)}},dj=(t,n={},r=8e3)=>{const s=new AbortController,l=setTimeout(()=>s.abort(),r);return fetch(t,{...n,signal:s.signal}).finally(()=>clearTimeout(l))},Of=t=>{const n=String(t||"").replace(/^\/+|\/+$/g,"");return CA?`${CA}/${n}`:`/${n}`},hj=["api/members","members","api/v1/members","v1/members"];async function bf(t,n,r){let s=null;for(const l of hj)try{const u=Of(l),d=await dj(u,{method:t,headers:{Accept:"application/json","Content-Type":n instanceof FormData?void 0:"application/json",...uj(),...r||{}},body:n==null?void 0:n instanceof FormData?n:JSON.stringify(n)});if(!d.ok){s=new Error(`HTTP ${d.status}`);continue}return await eQ(d),await d.json()}catch(u){s=u;continue}throw s||new Error("Aucun endpoint membre valide")}const fl={async getAll(){try{const t=await bf("GET");return Array.isArray(t)?{members:t}:Array.isArray(t?.members)?t:Array.isArray(t?.data)?{members:t.data}:{members:[]}}catch{return{members:[]}}},async testConnectivity(){const t=[Of("api/health"),Of("health"),Of(hj[0])];for(const n of t)try{if((await dj(n,{method:"GET",headers:{...uj()}},3e3)).ok)return!0}catch{}return!1},async create(t){const n=await bf("POST",t);return n?.member||n?.data||n},async update(t,n){try{const r=await bf("PATCH",{id:t,...n},{"X-Method-Override":"PATCH"});return r?.member||r?.data||r}catch{const r=await bf("PUT",{id:t,...n});return r?.member||r?.data||r}},async delete(t){const n={id:t};try{const r=await bf("DELETE",n);return r?.ok===!0?r:{ok:!0}}catch(r){for(const s of hj)try{const l=Of(`${s}/${encodeURIComponent(t)}`);if((await dj(l,{method:"DELETE",headers:{...uj()}})).ok)return{ok:!0}}catch{}throw r}}},tQ="rbe:announcements";function nQ(){try{const t=localStorage.getItem(tQ);if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))return[];const r=Date.now();return n.filter(s=>s&&s.active&&(!s.expiresAt||new Date(s.expiresAt).getTime()>r))}catch(t){return console.warn("loadFlashes:",t),[]}}function Fy(){const t=Ni(),[n,r]=b.useState([]),[s,l]=b.useState({vehicles:{total:0,active:0,loading:!0},events:{total:0,upcoming:0,published:0,loading:!0},members:{total:0,active:0,loading:!0}}),[u,d]=b.useState([]),[m,p]=b.useState(!0),[g,x]=b.useState([]),[j,S]=b.useState([]),[_,E]=b.useState(0);Mn();const A=gr("white","gray.800"),T=gr("linear(to-r, blue.500, purple.600)","linear(to-r, blue.600, purple.700)"),z=gr("gray.200","gray.700");b.useEffect(()=>{r(nQ()),M();const X=setInterval(M,300*1e3);return()=>clearInterval(X)},[]);const M=async()=>{console.log(" Chargement des donnes du dashboard..."),O(),I(),$(),G(),ee(),k()},k=async()=>{try{const X="https://attractive-kindness-rbe-serveurs.up.railway.app",me=[`${X}/api/retro-news`,`${X}/retro-news`,"/data/retro-news.json"];for(const Ee of me)try{const pe=await fetch(Ee);if(!pe.ok)continue;const K=await pe.json();S(Array.isArray(K)?K:[]);return}catch(pe){console.warn(`chec chargement depuis ${Ee}:`,pe)}S([])}catch(X){console.error("Erreur chargement RtroActus:",X),S([])}},O=async()=>{try{if(console.log(" Chargement des vhicules..."),!Jf||typeof Jf.getAll!="function"){console.warn("vehiculesAPI non disponible"),l(pe=>({...pe,vehicles:{total:0,active:0,loading:!1}}));return}const X=await Jf.getAll();console.log(" Rponse vhicules:",X);let me=[];X?.data?me=Array.isArray(X.data)?X.data:[X.data]:Array.isArray(X)&&(me=X);const Ee={total:me.length,active:me.filter(pe=>{const K=pe?.statut||pe?.status||pe?.etat||"";return K==="ACTIF"||K==="ACTIVE"||K==="active"||K==="En service"}).length,loading:!1};if(console.log(" Stats vhicules:",Ee),l(pe=>({...pe,vehicles:Ee})),me.length>0){const pe=me.filter(K=>{const Z=new Date(K.createdAt||K.dateCreation||K.created_at),W=new Date(Date.now()-1440*60*1e3);return Z>W});pe.length>0&&d(K=>[{id:`vehicles-${Date.now()}`,type:"vehicle",title:`${pe.length} nouveau(x) vhicule(s) ajout(s)`,time:"Aujourd'hui",icon:xc,color:"blue"},...K.filter(Z=>Z.type!=="vehicle")])}}catch(X){console.error(" Erreur chargement vhicules:",X),l(me=>({...me,vehicles:{total:0,active:0,loading:!1}}))}},I=async()=>{try{if(console.log(" Chargement des vnements..."),!va||typeof va.getAll!="function"){console.warn("eventsAPI non disponible"),l(K=>({...K,events:{total:0,upcoming:0,published:0,loading:!1}}));return}const X=await va.getAll();console.log(" Rponse vnements:",X);let me=[];X?.data?me=Array.isArray(X.data)?X.data:[X.data]:Array.isArray(X)&&(me=X);const Ee=new Date,pe={total:me.length,upcoming:me.filter(K=>{try{const Z=new Date(K?.date||K?.dateEvent||K?.startDate),W=K?.status||K?.statut||"";return Z>Ee&&(W==="PUBLISHED"||W==="published"||W==="Publi")}catch{return!1}}).length,published:me.filter(K=>{const Z=K?.status||K?.statut||"";return Z==="PUBLISHED"||Z==="published"||Z==="Publi"}).length,loading:!1};if(console.log(" Stats vnements:",pe),l(K=>({...K,events:pe})),me.length>0){const K=me.filter(Z=>{const W=new Date(Z.createdAt||Z.dateCreation||Z.created_at),H=new Date(Date.now()-1440*60*1e3);return W>H});K.length>0&&d(Z=>[{id:`events-${Date.now()}`,type:"event",title:`${K.length} nouvel(s) vnement(s) cr(s)`,time:"Aujourd'hui",icon:ls,color:"green"},...Z.filter(W=>W.type!=="event")])}}catch(X){console.error(" Erreur chargement vnements:",X),l(me=>({...me,events:{total:0,upcoming:0,published:0,loading:!1}}))}},$=async()=>{try{if(console.log(" Chargement des membres..."),!fl||typeof fl.getAll!="function"){console.warn("membersAPI non disponible"),l(pe=>({...pe,members:{total:0,active:0,loading:!1}}));return}const X=await fl.getAll();console.log(" Rponse membres:",X);let me=[];X?.members?me=Array.isArray(X.members)?X.members:[X.members]:X?.data?me=Array.isArray(X.data)?X.data:[X.data]:Array.isArray(X)&&(me=X);const Ee={total:me.length,active:me.filter(pe=>{const K=pe?.membershipStatus||pe?.statut||pe?.status||pe?.adhesionStatus||"";return K==="ACTIVE"||K==="active"||K==="Actif"||K===" jour"}).length,loading:!1};if(console.log(" Stats membres:",Ee),l(pe=>({...pe,members:Ee})),me.length>0){const pe=me.filter(K=>{const Z=new Date(K.createdAt||K.dateCreation||K.dateAdhesion||K.created_at),W=new Date(Date.now()-1440*60*1e3);return Z>W});pe.length>0&&d(K=>[{id:`members-${Date.now()}`,type:"member",title:`${pe.length} nouvelle(s) adhsion(s)`,time:"Aujourd'hui",icon:Qs,color:"purple"},...K.filter(Z=>Z.type!=="member")])}}catch(X){console.error(" Erreur chargement membres:",X),l(me=>({...me,members:{total:0,active:0,loading:!1}}))}},G=()=>{const X=[{id:"system-1",type:"system",title:"Dashboard mis  jour",time:" l'instant",icon:So,color:"gray"}];d(me=>me.length>0?me:X)},ee=()=>{x([{title:"Nouveau vhicule",icon:Bn,to:"/dashboard/vehicules",color:"blue"},{title:"Crer vnement",icon:ls,to:"/dashboard/events-management",color:"green"},{title:"Gestion membres",icon:Qs,to:"/dashboard/members-management",color:"purple"},{title:"Finance",icon:Pu,to:"/admin",color:"orange"}])};b.useEffect(()=>{!s.vehicles.loading&&!s.events.loading&&!s.members.loading&&m&&(console.log(" Toutes les donnes sont charges"),p(!1))},[s,m]);const ue=()=>{const X=new Date().getHours();return X<12?"Bonjour":X<17?"Bon aprs-midi":"Bonsoir"},fe=b.useMemo(()=>n.map(X=>({id:X.id,message:X.message,category:X.category||"info",createdAt:X.createdAt})),[n]);return m?e.jsx(ds,{maxW:"container.xl",py:8,children:e.jsxs(oe,{spacing:8,children:[e.jsxs(xe,{bgGradient:T,color:"white",p:8,borderRadius:"xl",textAlign:"center",w:"full",children:[e.jsx(De,{size:"xl",children:"Chargement des donnes..."}),e.jsx(D,{mt:2,opacity:.9,children:"Rcupration des vhicules, vnements et membres"})]}),e.jsx(Sn,{size:"xl",color:"blue.500"})]})}):e.jsxs(ds,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(xe,{bgGradient:T,color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsxs(De,{size:"xl",mb:4,children:[ue(),", ",t?.prenom||t?.email||"Utilisateur"," ! "]}),e.jsx(D,{fontSize:"lg",opacity:.9,children:"Voici un aperu de votre activit RtrobuS Essonne"})]}),e.jsxs(ht,{columns:{base:1,lg:4},spacing:8,children:[e.jsx(Yb,{colSpan:{base:1,lg:3},children:e.jsxs(oe,{spacing:8,align:"stretch",children:[e.jsxs(ht,{columns:{base:2,md:4},spacing:6,children:[e.jsx(Ie,{bg:A,borderColor:z,shadow:"lg",children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{color:"gray.600",children:"Vhicules actifs"}),e.jsx(At,{color:"blue.500",children:e.jsxs(le,{children:[e.jsx(Kn,{as:xc}),s.vehicles.loading?e.jsx(Sn,{size:"sm"}):e.jsxs(D,{children:[s.vehicles.active,"/",s.vehicles.total]})]})}),e.jsx(pc,{value:s.vehicles.total>0?s.vehicles.active/s.vehicles.total*100:0,colorScheme:"blue",size:"sm",mt:2,isIndeterminate:s.vehicles.loading})]})})}),e.jsx(Ie,{bg:A,borderColor:z,shadow:"lg",children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{color:"gray.600",children:"vnements  venir"}),e.jsx(At,{color:"green.500",children:e.jsxs(le,{children:[e.jsx(Kn,{as:ls}),s.events.loading?e.jsx(Sn,{size:"sm"}):e.jsxs(D,{children:[s.events.upcoming,"/",s.events.total]})]})}),e.jsx(pc,{value:s.events.total>0?s.events.upcoming/s.events.total*100:0,colorScheme:"green",size:"sm",mt:2,isIndeterminate:s.events.loading})]})})}),e.jsx(Ie,{bg:A,borderColor:z,shadow:"lg",children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{color:"gray.600",children:"Membres actifs"}),e.jsx(At,{color:"purple.500",children:e.jsxs(le,{children:[e.jsx(Kn,{as:Qs}),s.members.loading?e.jsx(Sn,{size:"sm"}):e.jsxs(D,{children:[s.members.active,"/",s.members.total]})]})}),e.jsx(pc,{value:s.members.total>0?s.members.active/s.members.total*100:0,colorScheme:"purple",size:"sm",mt:2,isIndeterminate:s.members.loading})]})})})]}),e.jsxs(Ie,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",fontWeight:"700",children:"Actions rapides"})}),e.jsx(Ne,{children:e.jsx(ht,{columns:{base:2,md:4},spacing:4,children:g.map(X=>e.jsx(ne,{as:tr,to:X.to,leftIcon:e.jsx(Kn,{as:X.icon}),colorScheme:X.color,variant:"outline",size:"sm",h:"auto",py:4,flexDirection:"column",textAlign:"center",children:X.title},X.title))})})]}),j.length>0&&e.jsxs(Ie,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",fontWeight:"700",children:" Les RtroActus"}),e.jsxs(le,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(LR,{}),size:"sm",variant:"ghost",onClick:()=>E(X=>X===0?j.length-1:X-1),"aria-label":"Actu prcdente",isDisabled:j.length<=1}),e.jsxs(D,{fontSize:"xs",color:"gray.500",children:[_+1," / ",j.length]}),e.jsx(yt,{icon:e.jsx(xx,{}),size:"sm",variant:"ghost",onClick:()=>E(X=>(X+1)%j.length),"aria-label":"Actu suivante",isDisabled:j.length<=1})]})]})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"start",spacing:3,children:[e.jsx(De,{size:"sm",color:"blue.600",children:j[_]?.title||"Sans titre"}),j[_]?.date&&e.jsxs(le,{spacing:2,color:"gray.500",fontSize:"sm",children:[e.jsx(Kn,{as:ls}),e.jsx(D,{children:new Date(j[_].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(D,{fontSize:"sm",color:"gray.700",children:j[_]?.content||""}),j[_]?.imageUrl&&e.jsx(As,{src:j[_].imageUrl,alt:j[_]?.title,maxH:"150px",w:"100%",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsxs(Ie,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",fontWeight:"700",children:"Activit rcente"}),e.jsx(yt,{icon:e.jsx(Wa,{}),size:"sm",variant:"ghost",onClick:M,title:"Actualiser"})]})}),e.jsx(Ne,{children:e.jsx(oe,{spacing:4,align:"stretch",children:u.length===0?e.jsx(D,{color:"gray.500",textAlign:"center",py:4,children:"Aucune activit rcente"}):u.slice(0,5).map(X=>e.jsxs(le,{spacing:4,p:3,bg:"gray.50",borderRadius:"lg",children:[e.jsx(Kn,{as:X.icon,color:`${X.color}.500`}),e.jsxs(oe,{align:"start",spacing:0,flex:1,children:[e.jsx(D,{fontWeight:"600",fontSize:"sm",children:X.title}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:X.time})]}),e.jsx(nt,{colorScheme:X.color,variant:"subtle",children:X.type})]},X.id))})})]})]})}),e.jsx(Yb,{children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(Ie,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",fontWeight:"700",children:"Notifications"}),e.jsx(nt,{colorScheme:"blue",variant:"subtle",children:n.length})]})}),e.jsx(Ne,{children:e.jsx(oe,{spacing:3,align:"stretch",children:fe.length===0?e.jsx(D,{color:"gray.500",fontSize:"sm",textAlign:"center",py:4,children:"Aucune notification"}):fe.slice(0,5).map(X=>e.jsx(xe,{p:3,borderRadius:"lg",bg:"gray.50",children:e.jsxs(le,{justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",spacing:1,flex:1,children:[e.jsx(D,{fontSize:"sm",fontWeight:"600",children:X.message}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:X.createdAt?new Date(X.createdAt).toLocaleDateString("fr-FR"):""})]}),e.jsx(nt,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:X.category})]})},X.id))})})]}),e.jsxs(Ie,{bg:A,borderColor:z,shadow:"lg",children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",fontWeight:"700",children:"Liens utiles"})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsx(ne,{as:tr,to:"/dashboard/myrbe",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(_K,{}),size:"sm",children:"MyRBE"}),e.jsxs(ne,{as:tr,to:"/dashboard/vehicules",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(xc,{}),size:"sm",children:["Vhicules (",s.vehicles.total,")"]}),e.jsxs(ne,{as:tr,to:"/dashboard/events-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(ls,{}),size:"sm",children:["vnements (",s.events.total,")"]}),e.jsxs(ne,{as:tr,to:"/dashboard/members-management",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Qs,{}),size:"sm",children:["Membres (",s.members.total,")"]}),e.jsx(ne,{as:tr,to:"/admin",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(Pu,{}),size:"sm",children:"Finance"}),e.jsx(Ln,{my:1}),e.jsx(ne,{as:tr,to:"/dashboard/api-diagnostics",variant:"ghost",justifyContent:"flex-start",leftIcon:e.jsx(jK,{}),size:"sm",colorScheme:"orange",children:" Diagnostiques API"})]})})]}),e.jsxs(tn,{status:"info",borderRadius:"md",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"bold",fontSize:"sm",children:"APIs disponibles"}),e.jsx(D,{fontSize:"xs",children:"Les donnes sont rcupres en temps rel quand les APIs sont disponibles."})]})]})]})})]})]})}const Sd="https://attractive-kindness-rbe-serveurs.up.railway.app";function Vy(t){return`retromail:read:${t||"anon"}`}function EA(t){return`retromail:released:${t}`}function rQ(){const{matricule:t,prenom:n,isAdmin:r}=Ni(),s=Mn(),[l,u]=b.useState(!0),[d,m]=b.useState([]),[p,g]=b.useState([]),[x,j]=b.useState(null),[S,_]=b.useState("");b.useEffect(()=>{let O=!0;return(async()=>{u(!0);try{const I=await fetch(`${Sd.replace(/\/$/,"")}/retromail/list`);if(!O)return;if(!I.ok)throw new Error(`status ${I.status}`);const $=await I.json();m(Array.isArray($)?$:[])}catch(I){console.warn("retromail list failed",I),m(null)}finally{O&&u(!1)}})(),()=>{O=!1}},[]),b.useEffect(()=>{let O=!0;if(!d||d.length===0){g([]);return}return(async()=>{try{const I=await Promise.all(d.map(async G=>{try{const ee=await fetch(`${Sd.replace(/\/$/,"")}/retromail/${encodeURIComponent(G)}`);if(!ee.ok)return null;const ue=await ee.json();return{filename:G,json:ue}}catch{return null}}));if(!O)return;const $=I.filter(Boolean).sort((G,ee)=>{const ue=new Date(G.json.createdAt||0).getTime();return new Date(ee.json.createdAt||0).getTime()-ue});g($),!x&&$.length>0&&j($[0].filename)}catch(I){console.error(I)}})(),()=>{O=!1}},[d]);const E=O=>{const I=Vy(t);try{const $=localStorage.getItem(I),G=$?JSON.parse($):{};G[O]=Date.now(),localStorage.setItem(I,JSON.stringify(G))}catch{}},A=O=>{try{const I=localStorage.getItem(Vy(t));if(!I)return!1;const $=JSON.parse(I);return!!($&&$[O])}catch{return!1}},T=O=>{try{localStorage.setItem(EA(O),"1"),s({status:"success",title:"Vido libre",description:"Le tlchargement est maintenant autoris localement."}),g(I=>[...I])}catch(I){s({status:"error",title:"Impossible",description:String(I.message)})}},z=O=>localStorage.getItem(EA(O))==="1",M=b.useMemo(()=>{if(!p)return[];const O=(S||"").trim().toLowerCase();return O?p.filter(I=>{const $=I.json||{};return String($.parc||"").toLowerCase().includes(O)||String($.id||"").toLowerCase().includes(O)||String($.description||"").toLowerCase().includes(O)}):p},[p,S]),k=p.find(O=>O.filename===x);return b.useEffect(()=>{x&&(E(x),g(O=>[...O]))},[x]),e.jsxs(xe,{p:6,children:[e.jsx(De,{size:"lg",mb:4,children:"RtroMail"}),e.jsxs(lr,{gap:6,align:"stretch",children:[e.jsxs(xe,{w:{base:"100%",md:"360px"},borderWidth:"1px",borderRadius:"md",p:3,bg:"white",children:[e.jsxs(le,{mb:3,children:[e.jsx(je,{placeholder:"Rechercher par parc / id / texte",value:S,onChange:O=>_(O.target.value)}),e.jsx(ne,{size:"sm",onClick:()=>{_("")},children:"Effacer"})]}),l&&e.jsx(jn,{p:6,children:e.jsx(Sn,{})}),!l&&d===null&&e.jsxs(xe,{p:4,bg:"orange.50",borderRadius:"md",children:[e.jsx(D,{color:"orange.800",fontWeight:"600",children:"API Retromail non disponible"}),e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Aucune liste trouve. Vrifie que le serveur expose ",e.jsx("code",{children:"/retromail/list"}),"."]})]}),!l&&M&&M.length===0&&e.jsx(D,{color:"gray.600",mt:3,children:"Aucun message."}),e.jsx(oe,{align:"stretch",spacing:2,mt:3,children:M.map(O=>{const I=O.json||{},$=I.parc?`Parc ${I.parc}`:`Fiche ${I.id||O.filename}`,G=(I.description||"").slice(0,120),ee=!A(O.filename);return e.jsx(Ie,{size:"sm",onClick:()=>j(O.filename),cursor:"pointer",bg:x===O.filename?"gray.50":"white",children:e.jsx(Ot,{children:e.jsxs(lr,{justify:"space-between",align:"center",children:[e.jsxs(xe,{children:[e.jsxs(D,{fontWeight:"600",children:[$," ",I.id?e.jsx(nt,{ml:2,children:`#${I.id}`}):null]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:G||e.jsx("i",{children:"(Pas de description)"})})]}),e.jsxs(xe,{textAlign:"right",children:[ee?e.jsx(nt,{colorScheme:"red",children:"Nouveau"}):e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Lu"}),e.jsx(D,{fontSize:"xs",color:"gray.400",children:I.createdAt?new Date(I.createdAt).toLocaleString():""})]})]})})},O.filename)})})]}),e.jsx(xe,{flex:"1",borderWidth:"1px",borderRadius:"md",p:4,bg:"white",children:k?e.jsxs(e.Fragment,{children:[e.jsxs(lr,{justify:"space-between",align:"center",mb:3,children:[e.jsxs(xe,{children:[e.jsxs(De,{size:"md",children:["Fiche pointage  ",k.json.parc?`Parc ${k.json.parc}`:k.json.id]}),e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["ID: ",k.json.id||k.filename,"  ",k.json.createdAt?new Date(k.json.createdAt).toLocaleString():""]})]}),e.jsx(xe,{children:e.jsxs(le,{spacing:2,children:[e.jsx(ne,{size:"sm",as:"a",href:`${Sd.replace(/\/$/,"")}/retromail/${encodeURIComponent(k.filename.replace(/\.json$/,"")+".pdf")}`,target:"_blank",rel:"noreferrer",children:"Tlcharger PDF"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:()=>{const O=Vy(t),I=localStorage.getItem(O),$=I?JSON.parse(I):{};$[k.filename]?delete $[k.filename]:$[k.filename]=Date.now(),localStorage.setItem(O,JSON.stringify($)),g(G=>[...G])},children:A(k.filename)?"Marquer non lu":"Marquer lu"})]})})]}),e.jsx(Ln,{mb:3}),e.jsxs(xe,{mb:4,children:[e.jsx(D,{fontWeight:"600",children:"Initiateur :"}),e.jsx(D,{mb:2,children:k.json.conducteur||""}),e.jsx(D,{fontWeight:"600",children:"Participants :"}),e.jsx(D,{mb:2,children:(k.json.participants||[]).join(", ")||""}),e.jsx(D,{fontWeight:"600",children:"Description :"}),e.jsx(D,{mb:3,whiteSpace:"pre-wrap",children:k.json.description||""}),e.jsx(D,{fontWeight:"600",mb:2,children:"Images :"}),(k.json.files||[]).filter(O=>(O.mime||"").startsWith("image/")).length===0?e.jsx(D,{color:"gray.600",mb:2,children:"Aucune image."}):e.jsx(ht,{columns:{base:1,md:3},gap:3,mb:3,children:(k.json.files||[]).filter(O=>(O.mime||"").startsWith("image/")).map((O,I)=>e.jsxs(xe,{borderWidth:"1px",p:2,borderRadius:"md",bg:"gray.50",children:[e.jsx(As,{src:`${Sd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(O.filename)}`,alt:O.originalname||O.filename,objectFit:"cover",maxH:"160px",w:"100%"}),e.jsxs(le,{mt:2,justify:"space-between",children:[e.jsx(D,{fontSize:"sm",noOfLines:1,children:O.originalname||O.filename}),e.jsx(ne,{size:"sm",as:"a",href:`${Sd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(O.filename)}`,target:"_blank",rel:"noreferrer",children:"Ouvrir"})]})]},I))}),e.jsx(D,{fontWeight:"600",mb:2,children:"Vidos (spares)"}),(k.json.files||[]).filter(O=>(O.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(O.originalname||O.filename)).length===0?e.jsx(D,{color:"gray.600",children:"Aucune vido."}):e.jsx(oe,{align:"stretch",spacing:2,mb:3,children:(k.json.files||[]).filter(O=>(O.mime||"").startsWith("video/")||/\.(mp4|mov|avi|mkv)$/i.test(O.originalname||O.filename)).map((O,I)=>{const $=z(O.filename);return e.jsx(xe,{p:3,borderWidth:"1px",borderRadius:"md",children:e.jsxs(lr,{justify:"space-between",align:"center",children:[e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"600",noOfLines:1,children:O.originalname||O.filename}),e.jsxs(D,{fontSize:"sm",color:"gray.500",children:[O.size/1024|0," KB"]}),!$&&e.jsx(D,{fontSize:"xs",color:"orange.600",children:"Tlchargement restreint ( analyser)"})]}),e.jsxs(le,{children:[r&&!$&&e.jsx(ne,{size:"sm",colorScheme:"green",onClick:()=>T(O.filename),children:"Librer le tlchargement"}),e.jsx(ne,{size:"sm",as:"a",href:$?`${Sd.replace(/\/$/,"")}/retromail/uploads/${encodeURIComponent(O.filename)}`:"#",target:"_blank",rel:"noreferrer",isDisabled:!$,children:$?"Tlcharger":"Demand"})]})]})},I)})})]})]}):e.jsx(jn,{p:6,children:e.jsx(D,{color:"gray.600",children:"Slectionne un message  lire."})})})]})]})}const iQ={},sQ=()=>{const[t,n]=b.useState(!1),[r,s]=b.useState(0),[l,u]=b.useState(0),[d,m]=b.useState(null),[p,g]=b.useState(!0),[x,j]=b.useState({balance:0,totalCredits:0,totalDebits:0,monthlyBalance:0,scheduledMonthlyImpact:0,scheduledCount:0}),[S,_]=b.useState([]),[E,A]=b.useState({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),[T,z]=b.useState([]),[M,k]=b.useState({categoryId:"",allocatedAmount:"",notes:""}),[O,I]=b.useState([]),[$,G]=b.useState({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),[ee,ue]=b.useState(null),[fe,X]=b.useState(()=>{const U=new Date;return`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}`}),[me,Ee]=b.useState(""),[pe,K]=b.useState(null),[Z,W]=b.useState([]),[H,Se]=b.useState(!1),[B,ie]=b.useState(""),[he,F]=b.useState(""),[P,N]=b.useState(""),[re,Le]=b.useState([]),[Oe,Pe]=b.useState({scenarios:[],activeScenario:null,projectionMonths:12}),[it,ot]=b.useState(null),[Qe,wt]=b.useState(null),[$e,Bt]=b.useState(null),[ye,Ze]=b.useState({name:"",description:"",projectionMonths:12}),[Tt,ae]=b.useState({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),[ge,Je]=b.useState({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),[bt,An]=b.useState([]),[nr,Fe]=b.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),et=new Date().getFullYear(),[jt,Ye]=b.useState(et),[ft,Tn]=b.useState(null),[qe,xt]=b.useState([]),[en,dn]=b.useState([]),[Zt,Rn]=b.useState(null),[an,Sr]=b.useState({type:"QUOTE",number:"",title:"",date:new Date().toISOString().split("T")[0],amount:"",status:"DRAFT",eventId:""}),{isOpen:hr,onOpen:Vr,onClose:kn}=It(),[cr,Kr]=b.useState(null),{isOpen:Ya,onOpen:Xa,onClose:Ts}=It(),[ks,Ka]=b.useState(null),[ai,Ii]=b.useState(""),{isOpen:Dr,onOpen:Ur,onClose:Gi}=It(),tt=Mn(),{isOpen:pt,onOpen:Cl,onClose:Ca}=It(),{isOpen:ia,onOpen:Qa,onClose:Bi}=It(),{isOpen:pi,onOpen:Ci,onClose:Zi}=It(),{isOpen:wr,onOpen:El,onClose:Ja}=It(),{isOpen:Ps,onOpen:Ei,onClose:Al}=It(),{isOpen:fs,onOpen:eo,onClose:Tl}=It(),{isOpen:Ms,onOpen:Ea,onClose:Ai}=It(),{isOpen:Aa,onOpen:sa,onClose:Yi}=It(),Rs=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173")?iQ?.VITE_API_BASE_URL||"https://attractive-kindness-rbe-serveurs.up.railway.app":"",gn=String(Rs||"").replace(/\/$/,""),zt=U=>`${gn}${U}`,Qn=U=>{const te=String(U||"");return te.startsWith("/api/")?[te,te.replace(/^\/api/,"")]:[te,`/api${te}`]},mi=async(U,te={})=>{const rt=Array.isArray(U)?U:[U];let Nt=null;for(const Fn of rt)try{const hn=await fetch(zt(Fn),te);if(!hn.ok)throw new Error(`${hn.status} ${hn.statusText}`);return(hn.headers.get("content-type")||"").includes("application/json")?await hn.json():{}}catch(hn){Nt=hn}if(Nt)throw Nt;return{}},zs=async(U,te={})=>{const rt=Array.isArray(U)?U:[U];let Nt=null;for(const Fn of rt)try{const hn=await fetch(zt(Fn),{method:"DELETE",headers:te});if(!hn.ok)throw new Error(`${hn.status} ${hn.statusText}`);return!0}catch(hn){Nt=hn}if(Nt)throw Nt;return!1},Ds=()=>{try{const U=localStorage.getItem("rbe:finance:documents");return U?JSON.parse(U):[]}catch{return[]}},Yt=U=>{try{localStorage.setItem("rbe:finance:documents",JSON.stringify(U||[]))}catch{}},$n=async()=>{try{n(!0),await Promise.all([rr(),_r(),Ta(),Qr(),ir(),Ti(),ps(),gi(jt),to()])}catch(U){console.error(" Erreur chargement donnes financires:",U),tt({status:"error",title:"Erreur de chargement",description:"Impossible de charger les donnes financires",duration:4e3,isClosable:!0})}finally{n(!1)}},ps=async()=>{try{const U=Qn("/api/finance/documents"),te=await mi(U,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),rt=Array.isArray(te?.documents)?te.documents:Array.isArray(te?.items)?te.items:Array.isArray(te)?te:[];if(rt.length===0){const Nt=Ds();dn(Nt)}else dn(rt),Yt(rt)}catch{const te=Ds();dn(te)}},rr=async()=>{try{const U=await fetch(zt("/api/finance/balance"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();u(te.balance||0),m(te.lastUpdate),g(te.isLocked!==!1)}else console.warn(" Solde non disponible, utilisation de 0"),u(0)}catch(U){console.error(" Erreur chargement solde:",U),u(0)}},_r=async()=>{try{const U=await fetch(zt("/api/finance/transactions"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();_(te.transactions||[])}else console.warn(" Transactions non disponibles"),_([])}catch(U){console.error(" Erreur chargement transactions:",U),_([])}},Ta=async()=>{try{const U=await fetch(zt("/api/finance/scheduled-operations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();I(te.operations||[])}else console.warn(" Oprations programmes non disponibles"),I([])}catch(U){console.error(" Erreur chargement oprations programmes:",U),I([])}},Ls=async U=>{try{const te=await fetch(zt(`/api/finance/scheduled-operations/${U}/payments`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const rt=await te.json();W(rt.payments||[])}else W([])}catch(te){console.error(" Erreur chargement paiements chance:",te),W([])}},Qr=async()=>{try{const U=await fetch(zt("/api/finance/simulations"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();Pe(rt=>({...rt,scenarios:te.scenarios||[]}))}else console.warn(" Simulations non disponibles"),Pe(te=>({...te,scenarios:[]}))}catch(U){console.error(" Erreur chargement simulations:",U),Pe(te=>({...te,scenarios:[]}))}},ir=async()=>{try{const U=await fetch(zt("/api/finance/balance/history"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();Le(te.history||[])}else console.warn(" Historique non disponible"),Le([])}catch(U){console.error(" Erreur chargement historique:",U),Le([])}},Ti=async()=>{try{const U=await fetch(zt("/api/finance/expense-reports"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();An(te.reports||[])}else An([])}catch(U){console.error(" Erreur chargement notes de frais:",U),An([])}},gi=async U=>{try{const te=await fetch(zt(`/api/finance/reports?year=${encodeURIComponent(U)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const rt=await te.json();Tn(rt)}else Tn(null)}catch(te){console.error(" Erreur chargement rapports:",te),Tn(null)}},ka=async()=>{try{const U=await fetch(zt(`/api/finance/reports/pdf?year=${encodeURIComponent(jt)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!U.ok){tt({status:"error",title:"Export PDF chou"});return}const te=await U.blob(),rt=URL.createObjectURL(te),Nt=document.createElement("a");Nt.href=rt,Nt.download=`rapport-financier-${jt}.pdf`,document.body.appendChild(Nt),Nt.click(),Nt.remove(),URL.revokeObjectURL(rt)}catch(U){console.error(" Export PDF:",U),tt({status:"error",title:"Export PDF chou"})}},to=async()=>{try{const U=await fetch(zt("/api/finance/categories"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const te=await U.json();xt(Array.isArray(te)?te:[])}}catch(U){console.error(" Erreur chargement catgories:",U)}},[Pa,Os]=b.useState(!1),[Ma,no]=b.useState(null),Ns=(Ma?.roles||[]).some(U=>String(U).toUpperCase()==="TRESORIER"),ms=async()=>{try{const U=await fetch(zt("/api/me"),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(U.ok){const te=await U.json();no(te),Os(!0),console.log(" Utilisateur connect:",te.matricule,"- Modification du solde contrle par code")}}catch(U){console.error(" Erreur chargement utilisateur:",U)}},gs=()=>{const U=S.filter(Nn=>Nn.type==="CREDIT").reduce((Nn,Hr)=>Nn+(Hr.amount||0),0),te=S.filter(Nn=>Nn.type==="DEBIT").reduce((Nn,Hr)=>Nn+(Hr.amount||0),0),rt=new Date,Nt=new Date(rt.getFullYear(),rt.getMonth(),1),Fn=new Date(rt.getFullYear(),rt.getMonth()+1,0),hn=S.filter(Nn=>{const Hr=new Date(Nn.date||Nn.createdAt);return Hr>=Nt&&Hr<=Fn}),Jr=hn.filter(Nn=>Nn.type==="CREDIT").reduce((Nn,Hr)=>Nn+(Hr.amount||0),0),xs=hn.filter(Nn=>Nn.type==="DEBIT").reduce((Nn,Hr)=>Nn+(Hr.amount||0),0),vi=Jr-xs,Bs=O.filter(Nn=>Nn.isActive).reduce((Nn,Hr)=>{const Tc=oi(Hr.frequency),ro=Hr.type==="SCHEDULED_CREDIT"?Hr.amount||0:-(Hr.amount||0);return Nn+ro*Tc},0);j({balance:l,totalCredits:U,totalDebits:te,monthlyBalance:vi,scheduledMonthlyImpact:Bs,scheduledCount:O.filter(Nn=>Nn.isActive).length})},$i=({percent:U,color:te="gray"})=>{const rt=typeof U=="number"?Math.max(0,Math.min(1,U)):null,Nt=50,Fn=60,hn=60,Jr=Math.PI,xs=Math.PI*(1-(rt??0)),vi=Fn+Nt*Math.cos(Jr),Bs=hn-Nt*Math.sin(Jr),Nn=Fn+Nt*Math.cos(xs),Hr=hn-Nt*Math.sin(xs),Tc=0,ro=0,vh=`M ${vi} ${Bs} A ${Nt} ${Nt} 0 ${Tc} ${ro} ${Nn} ${Hr}`;return e.jsxs("svg",{viewBox:"0 0 120 70",width:"100%",height:"70",role:"img","aria-label":rt!=null?`${Math.round(rt*100)}%`:"N/A",children:[e.jsx("path",{d:`M ${vi} ${Bs} A ${Nt} ${Nt} 0 0 ${ro} ${Fn+Nt} ${hn}`,stroke:"#E2E8F0",strokeWidth:"10",fill:"none"}),rt!=null&&rt>0&&e.jsx("path",{d:vh,stroke:te,strokeWidth:"10",fill:"none",strokeLinecap:"round"}),e.jsx("text",{x:"60",y:"65",textAnchor:"middle",fontSize:"10",fill:"#4A5568",children:rt!=null?`${Math.round(rt*100)}%`:"N/A"})]})},ct=U=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(U||0),xi=U=>U?new Date(U).toLocaleDateString("fr-FR"):"N/A",Ut=U=>({ADHESION:"Adhsion",MAINTENANCE:"Maintenance",CARBURANT:"Carburant",ASSURANCE:"Assurance",AUTRE:"Autre"})[U]||U,oi=U=>{switch(U){case"SEMI_ANNUAL":return .5;case"ONE_SHOT":return 0;case"WEEKLY":return 4.33;case"QUARTERLY":return 1/3;case"YEARLY":return 1/12;case"MONTHLY":default:return 1}},xn=U=>{switch(U){case"ONE_SHOT":return"Ponctuel";case"SEMI_ANNUAL":return"Semestriel (6 mois)";case"WEEKLY":return"Hebdomadaire";case"QUARTERLY":return"Trimestriel";case"YEARLY":return"Annuel";case"MONTHLY":default:return"Mensuel"}},Tr=async()=>{if(!B||B.length!==4){tt({status:"warning",title:"Code requis",description:"Veuillez saisir le code  4 chiffres (0920)",duration:3e3,isClosable:!0});return}if(B!=="0920"){tt({status:"error",title:"Code incorrect",description:"Le code de scurit n'est pas valide",duration:4e3,isClosable:!0});return}if(!he||isNaN(parseFloat(he))){tt({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide",duration:3e3,isClosable:!0});return}try{n(!0);const U=await fetch(zt("/api/finance/balance/configure"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({code:B,newBalance:parseFloat(he),reason:P?.trim()||`Mise  jour manuelle du solde par ${Ma?.matricule||Ma?.username||"inconnu"} - ${new Date().toLocaleDateString("fr-FR")}`})});if(U.ok){const te=await U.json();u(te.newBalance),ie(""),F(""),N(""),Se(!1),Ca(),tt({status:"success",title:"Solde mis  jour",description:`Nouveau solde: ${ct(te.newBalance)} (diffrence: ${te.difference>=0?"+":""}${ct(te.difference)})`,duration:5e3,isClosable:!0}),await ir(),await rr()}else{const te=await U.text().catch(()=>"");let rt={};try{rt=te?JSON.parse(te):{}}catch{rt={message:te?.slice(0,200)||"Erreur inconnue"}}U.status===403?tt({status:"error",title:"Accs refus",description:"Vous n'avez pas l'autorisation de modifier le solde",duration:5e3,isClosable:!0}):U.status===401?tt({status:"error",title:"Code incorrect",description:"Le code de scurit 0920 est incorrect",duration:4e3,isClosable:!0}):tt({status:"error",title:"Erreur de configuration",description:rt.message||"Erreur serveur",duration:4e3,isClosable:!0})}}catch(U){console.error(" Erreur configuration solde:",U),tt({status:"error",title:"Erreur",description:"Impossible de configurer le solde. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},Xi=async()=>{if(!nr.description||!nr.amount){tt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires"});return}try{n(!0);const U=await fetch(zt("/api/finance/expense-reports"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:nr.description,amount:parseFloat(nr.amount),date:nr.date})});if(U.ok)tt({status:"success",title:"Note de frais ajoute"}),Fe({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),await Ti();else{const te=await U.json().catch(()=>({}));tt({status:"error",title:"Erreur",description:te.message||"Impossible d'ajouter la note de frais"})}}catch(U){console.error(" Erreur cration note de frais:",U),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la note de frais"})}finally{n(!1)}},Ki=async(U,te)=>{try{(await fetch(zt(`/api/finance/expense-reports/${U}`),{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({status:te})})).ok?await Ti():tt({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}catch(rt){console.error(" Erreur MAJ statut note de frais:",rt),tt({status:"error",title:"Erreur",description:"Mise  jour du statut impossible"})}},ki=async U=>{try{(await fetch(zt(`/api/finance/expense-reports/${U}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Note de frais supprime"}),await Ti()):tt({status:"error",title:"Erreur",description:"Suppression impossible"})}catch(te){console.error(" Erreur suppression note de frais:",te),tt({status:"error",title:"Erreur",description:"Suppression impossible"})}},Qi=async()=>{if(!E.type||!E.amount||!E.description){tt({status:"warning",title:"Champs requis",description:"Type, montant et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const U=Qn("/api/finance/transactions"),te=await mi(U,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...E,amount:parseFloat(E.amount)})});if(te){if(T.length>0){const rt=Qn(`/api/finance/transactions/${te.id}/categories`),Nt=T.map(Fn=>({categoryId:Fn.categoryId,allocatedAmount:parseFloat(Fn.allocatedAmount),notes:Fn.notes||null}));await mi(rt,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({allocations:Nt})})}tt({status:"success",title:"Transaction ajoute",description:T.length>0?`Transaction ajoute avec ${T.length} allocation(s)`:"La transaction a t enregistre avec succs",duration:3e3,isClosable:!0}),A({type:"CREDIT",amount:"",description:"",category:"ADHESION",date:new Date().toISOString().split("T")[0]}),z([]),k({categoryId:"",allocatedAmount:"",notes:""}),Bi(),await _r(),await rr()}}catch(U){console.error(" Erreur ajout transaction:",U),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la transaction. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},Is=U=>{Kr({...U}),Vr()},aa=async()=>{if(!(!cr||!cr.id))try{n(!0);const U=Qn(`/api/finance/transactions/${encodeURIComponent(cr.id)}`);await mi(U,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({description:cr.description,category:cr.category,type:cr.type,amount:parseFloat(cr.amount),date:cr.date})}),tt({status:"success",title:"Transaction mise  jour"}),kn(),await _r(),await rr()}catch(U){console.error(" Erreur modification transaction:",U),tt({status:"error",title:"Erreur",description:"Impossible de modifier la transaction"})}finally{n(!1)}},fr=async U=>{try{if(!confirm("Supprimer cette transaction ?"))return;const te=Qn(`/api/finance/transactions/${encodeURIComponent(U)}`);await zs(te,{Authorization:`Bearer ${localStorage.getItem("token")}`}),tt({status:"success",title:"Transaction supprime"}),await _r(),await rr()}catch(te){console.error(" Erreur suppression transaction:",te),tt({status:"error",title:"Erreur",description:"Suppression impossible"})}},Pi=U=>{Ka(U),Ii(U?.documentId||""),Xa()},$o=async()=>{try{if(!ks)return;const U=Qn(`/api/finance/transactions/${encodeURIComponent(ks.id)}`);await mi(U,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({documentId:ai||null})}),_(te=>te.map(rt=>rt.id===ks.id?{...rt,documentId:ai||null}:rt)),Ts(),Ka(null),Ii(""),tt({status:"success",title:"Transaction lie au document"})}catch(U){console.error(" Erreur liaison transaction/document:",U),tt({status:"error",title:"Erreur",description:"Impossible de lier la transaction"})}},se=()=>{Rn(null),Sr({type:"QUOTE",number:"",title:"",date:new Date().toISOString().split("T")[0],amount:"",status:"DRAFT",eventId:""}),Ur()},be=U=>{Rn(U),Sr({type:U.type||"QUOTE",number:U.number||"",title:U.title||"",date:(U.date||new Date().toISOString()).slice(0,10),amount:String(U.amount??""),status:U.status||"DRAFT",eventId:U.eventId||""}),Ur()},Me=async()=>{try{const U=!!Zt?.id,te=Qn(U?`/api/finance/documents/${encodeURIComponent(Zt.id)}`:"/api/finance/documents"),rt={...an,amount:an.amount===""?0:parseFloat(an.amount)},Nt=await mi(te,{method:U?"PUT":"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(rt)});await ps(),Gi(),tt({status:"success",title:U?"Document modifi":"Document cr"})}catch{const te=Zt?.id||`local-${Date.now()}`,rt=Zt?en.map(Nt=>Nt.id===Zt.id?{...Zt,...an,id:te}:Nt):[{id:te,...an},...en];Yt(rt),dn(rt),Gi(),tt({status:"info",title:"Document enregistr en local"})}},ut=async U=>{try{const te=Qn(`/api/finance/documents/${encodeURIComponent(U)}`);await zs(te,{Authorization:`Bearer ${localStorage.getItem("token")}`}),await ps(),tt({status:"success",title:"Document supprim"})}catch{const rt=en.filter(Nt=>Nt.id!==U);Yt(rt),dn(rt),tt({status:"info",title:"Document supprim (local)"})}},un=async()=>{const U=r===2;if(!$.amount||!$.description||!$.nextDate||!U&&!$.type||!U&&!$.frequency){tt({status:"warning",title:"Champs requis",description:"Tous les champs sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const te=await fetch(zt("/api/finance/scheduled-operations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...$,type:U?"SCHEDULED_PAYMENT":$.type,frequency:U?"MONTHLY":$.frequency,amount:parseFloat($.amount),totalAmount:$.totalAmount!==""&&$.totalAmount!==null?parseFloat($.totalAmount):void 0})});if(te.ok)tt({status:"success",title:U?"chancier cr":"Opration programme",description:U?"L'chancier a t cr avec succs":"L'opration a t programme avec succs",duration:3e3,isClosable:!0}),G({type:"SCHEDULED_PAYMENT",amount:"",description:"",frequency:"MONTHLY",nextDate:new Date().toISOString().split("T")[0],totalAmount:""}),Zi(),await Ta();else{const rt=await te.json();tt({status:"error",title:"Erreur",description:rt.message||"Impossible de programmer l'opration",duration:4e3,isClosable:!0})}}catch(te){console.error(" Erreur programmation opration:",te),tt({status:"error",title:"Erreur",description:"Impossible de programmer l'opration. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},wn=async U=>{try{if(!confirm("Supprimer cette opration programme et tous ses paiements ?"))return;const te=await fetch(zt(`/api/finance/scheduled-operations/${U}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok)tt({status:"success",title:"Opration supprime"}),await Ta();else{const rt=await te.json().catch(()=>({}));tt({status:"error",title:"Erreur",description:rt.message||"Suppression impossible"})}}catch(te){console.error(" Erreur suppression opration programme:",te),tt({status:"error",title:"Erreur",description:"Suppression impossible"})}},mt=U=>{ue(U),Ee(U.amount||"");const te=U.nextDate?new Date(U.nextDate):new Date,rt=`${te.getFullYear()}-${String(te.getMonth()+1).padStart(2,"0")}`;X(rt),K(null),Ea()},on=async()=>{if(ee){if(!fe||!/^\d{4}-\d{2}$/.test(fe)){tt({status:"warning",title:"Priode invalide",description:"Format attendu: YYYY-MM"});return}if(!me||isNaN(parseFloat(me))){tt({status:"warning",title:"Montant invalide",description:"Veuillez saisir un montant valide"});return}try{n(!0);const U=new FormData;U.append("period",fe),U.append("amount",String(parseFloat(me))),pe&&U.append("attachment",pe);const te=await fetch(zt(`/api/finance/scheduled-operations/${ee.id}/payments`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:U});if(te.ok)tt({status:"success",title:"Mensualit dclare paye"}),Ai(),await Promise.all([Ta(),_r(),rr()]);else{const rt=await te.json().catch(()=>({}));tt({status:"error",title:"Erreur",description:rt.message||"Dclaration impossible"})}}catch(U){console.error(" Erreur dclaration paiement:",U),tt({status:"error",title:"Erreur",description:"Dclaration impossible"})}finally{n(!1)}}},rn=async U=>{ue(U),await Ls(U.id),sa()};b.useEffect(()=>{(async()=>{await ms(),await $n()})()},[]),b.useEffect(()=>{S.length>=0&&O.length>=0&&gs()},[S,O,l]);const Lr=async()=>{if(!ye.name||!ye.description){tt({status:"warning",title:"Champs requis",description:"Nom et description sont obligatoires",duration:3e3,isClosable:!0});return}try{n(!0);const U=await fetch(zt("/api/finance/simulations"),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(ye)});if(U.ok){const te=await U.json();tt({status:"success",title:"Scnario cr",description:"Vous pouvez maintenant ajouter les recettes et dpenses",duration:4e3,isClosable:!0}),Ze({name:"",description:"",projectionMonths:12}),await Qr(),Ja(),Bt(te.scenario),Ei()}else{const te=await U.json();tt({status:"error",title:"Erreur",description:te.message||"Impossible de crer le scnario",duration:4e3,isClosable:!0})}}catch(U){console.error(" Erreur cration scnario:",U),tt({status:"error",title:"Erreur",description:"Impossible de crer le scnario. Vrifiez votre connexion.",duration:4e3,isClosable:!0})}finally{n(!1)}},vr=async U=>{try{const te=await fetch(zt(`/api/finance/simulations/${U}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const rt=await te.json();Bt(rt.scenario)}else tt({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur chargement dtails scnario:",te),tt({status:"error",title:"Erreur",description:"Impossible de charger les dtails du scnario",duration:4e3,isClosable:!0})}},Ra=async()=>{if(!Tt.description||!Tt.amount){tt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const U=await fetch(zt(`/api/finance/simulations/${$e.id}/income`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...Tt,amount:parseFloat(Tt.amount)})});if(U.ok)tt({status:"success",title:"Recette ajoute",duration:2e3,isClosable:!0}),ae({description:"",amount:"",category:"ADHESION",frequency:"MONTHLY"}),await vr($e.id);else{const te=await U.json();tt({status:"error",title:"Erreur",description:te.message||"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}}catch(U){console.error(" Erreur ajout recette:",U),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la recette",duration:4e3,isClosable:!0})}},za=async()=>{if(!ge.description||!ge.amount){tt({status:"warning",title:"Champs requis",description:"Description et montant sont obligatoires",duration:3e3,isClosable:!0});return}try{const U=await fetch(zt(`/api/finance/simulations/${$e.id}/expense`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({...ge,amount:parseFloat(ge.amount)})});if(U.ok)tt({status:"success",title:"Dpense ajoute",duration:2e3,isClosable:!0}),Je({description:"",amount:"",category:"MAINTENANCE",frequency:"MONTHLY"}),await vr($e.id);else{const te=await U.json();tt({status:"error",title:"Erreur",description:te.message||"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}}catch(U){console.error(" Erreur ajout dpense:",U),tt({status:"error",title:"Erreur",description:"Impossible d'ajouter la dpense",duration:4e3,isClosable:!0})}},Da=async U=>{try{(await fetch(zt(`/api/finance/simulations/income/${U}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Recette supprime",duration:2e3,isClosable:!0}),await vr($e.id)):tt({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur suppression recette:",te),tt({status:"error",title:"Erreur",description:"Impossible de supprimer la recette",duration:4e3,isClosable:!0})}},Fo=async U=>{try{(await fetch(zt(`/api/finance/simulations/expense/${U}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Dpense supprime",duration:2e3,isClosable:!0}),await vr($e.id)):tt({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur suppression dpense:",te),tt({status:"error",title:"Erreur",description:"Impossible de supprimer la dpense",duration:4e3,isClosable:!0})}},Ec=async U=>{try{n(!0);const te=await fetch(zt(`/api/finance/simulations/${U}/run`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(te.ok){const rt=await te.json();wt(rt.simulation),eo()}else{const rt=await te.json();tt({status:"error",title:"Erreur",description:rt.message||"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}}catch(te){console.error(" Erreur excution simulation:",te),tt({status:"error",title:"Erreur",description:"Impossible d'excuter la simulation",duration:4e3,isClosable:!0})}finally{n(!1)}},xh=async U=>{try{(await fetch(zt(`/api/finance/simulations/${U}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok?(tt({status:"success",title:"Scnario supprim",duration:2e3,isClosable:!0}),await Qr()):tt({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}catch(te){console.error(" Erreur suppression scnario:",te),tt({status:"error",title:"Erreur",description:"Impossible de supprimer le scnario",duration:4e3,isClosable:!0})}},Ac=async(U,te="simulation")=>{try{const rt=await fetch(zt(`/api/finance/simulations/${U}/report.pdf`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!rt.ok){tt({status:"error",title:"Export PDF",description:"chec de la gnration du PDF"});return}const Nt=await rt.blob(),Fn=URL.createObjectURL(Nt),hn=document.createElement("a");hn.href=Fn;const Jr=(te||"simulation").replace(/[^a-z0-9-_]+/gi,"_");hn.download=`simulation-${Jr}.pdf`,document.body.appendChild(hn),hn.click(),document.body.removeChild(hn),URL.revokeObjectURL(Fn),tt({status:"success",title:"Export PDF",description:"Tlchargement dmarr"})}catch(rt){console.error(" Erreur export PDF:",rt),tt({status:"error",title:"Export PDF",description:"Erreur lors du tlchargement"})}};return e.jsx(xe,{p:6,children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"lg",color:"blue.600",children:" Gestion Financire"}),e.jsxs(le,{children:[e.jsx(yt,{icon:e.jsx(Wa,{}),onClick:$n,isLoading:t,variant:"outline",size:"sm"}),e.jsx(yt,{icon:e.jsx(Fp,{}),onClick:Cl,variant:"outline",size:"sm",colorScheme:"purple"}),e.jsxs(nt,{colorScheme:x.balance>=0?"green":"red",fontSize:"lg",p:2,borderRadius:"md",cursor:"pointer",onClick:()=>Se(!H),children:[p?e.jsx(Kn,{as:Mu,mr:1}):e.jsx(Kn,{as:cj,mr:1}),"Solde: ",ct(x.balance)]})]})]}),H&&e.jsxs(tn,{status:"warning",borderRadius:"md",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"stretch",spacing:3,flex:1,children:[e.jsx(D,{fontWeight:"bold",children:"Configuration du solde (Code requis)"}),e.jsxs(le,{children:[e.jsxs(le,{children:[e.jsx(D,{fontSize:"sm",children:"Code:"}),e.jsx(le,{children:e.jsxs(nj,{value:B,onChange:ie,type:"number",children:[e.jsx(al,{}),e.jsx(al,{}),e.jsx(al,{}),e.jsx(al,{})]})})]}),e.jsxs(Yn,{value:he,onChange:F,precision:2,step:.01,width:"150px",children:[e.jsx(Xn,{placeholder:"Nouveau solde"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]}),e.jsx(je,{value:P,onChange:U=>N(U.target.value),placeholder:"Motif de rgularisation",width:"280px",size:"sm"}),e.jsx(ne,{size:"sm",colorScheme:"orange",onClick:Tr,isLoading:t,leftIcon:e.jsx(gx,{}),children:"Appliquer"}),e.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>Se(!1),leftIcon:e.jsx(jp,{}),children:"Annuler"})]})]})]}),e.jsxs(ht,{columns:{base:2,md:6},spacing:4,children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Solde Actuel"}),e.jsx(At,{color:x.balance>=0?"green.600":"red.600",children:ct(x.balance)}),d&&e.jsxs(Xs,{fontSize:"xs",children:["MAJ: ",xi(d)]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Recettes Total"}),e.jsx(At,{color:"green.600",children:ct(x.totalCredits)}),e.jsxs(Xs,{children:[e.jsx(Ld,{type:"increase"}),"Entres"]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Dpenses Total"}),e.jsx(At,{color:"red.600",children:ct(x.totalDebits)}),e.jsxs(Xs,{children:[e.jsx(Ld,{type:"decrease"}),"Sorties"]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Ce Mois"}),e.jsx(At,{color:x.monthlyBalance>=0?"green.600":"red.600",children:ct(x.monthlyBalance)}),e.jsxs(Xs,{children:[e.jsx(Ld,{type:x.monthlyBalance>=0?"increase":"decrease"}),"Rsultat mensuel"]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Programm/Mois"}),e.jsx(At,{color:x.scheduledMonthlyImpact>=0?"green.600":"red.600",children:ct(x.scheduledMonthlyImpact)}),e.jsxs(Xs,{children:[x.scheduledCount," oprations"]})]})})})]}),e.jsxs(Oo,{index:r,onChange:s,children:[e.jsxs(No,{children:[e.jsx(pn,{children:" Transactions"}),e.jsx(pn,{children:" Devis & Factures"}),e.jsx(pn,{children:" chanciers"}),e.jsx(pn,{children:" Paiements programms"}),e.jsx(pn,{children:" Notes de frais"}),e.jsx(pn,{children:" Simulations"}),e.jsx(pn,{children:" Rapports"}),e.jsx(pn,{children:" Configuration"})]}),e.jsxs(Io,{children:[e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Transactions"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:Qa,size:"sm",children:"Nouvelle transaction"})]}),t?e.jsxs(xe,{textAlign:"center",p:8,children:[e.jsx(Sn,{size:"lg"}),e.jsx(D,{mt:2,children:"Chargement..."})]}):S.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucune transaction enregistre"]}):e.jsx(Ie,{children:e.jsx(Ne,{p:0,children:e.jsxs(Rr,{variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Description"}),e.jsx(He,{children:"Catgorie"}),e.jsx(He,{children:"Document"}),e.jsx(He,{children:"Type"}),e.jsx(He,{isNumeric:!0,children:"Montant"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:S.map((U,te)=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:xi(U.date||U.createdAt)}),e.jsx(Ve,{children:U.description}),e.jsx(Ve,{children:e.jsx(nt,{size:"sm",variant:"outline",children:Ut(U.category)})}),e.jsx(Ve,{children:(()=>{const rt=en.find(Nt=>Nt.id===U.documentId);return rt?e.jsxs(le,{spacing:2,children:[e.jsx(nt,{colorScheme:rt.type==="INVOICE"?"purple":"gray",children:rt.type==="INVOICE"?"Facture":"Devis"}),e.jsx(D,{fontSize:"sm",children:rt.number||rt.title||rt.id})]}):e.jsx(D,{fontSize:"sm",color:"gray.500",children:""})})()}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:U.type==="CREDIT"?"green":"red",size:"sm",children:U.type==="CREDIT"?"Recette":"Dpense"})}),e.jsx(Ve,{isNumeric:!0,children:e.jsxs(D,{color:U.type==="CREDIT"?"green.600":"red.600",fontWeight:"bold",children:[U.type==="CREDIT"?"+":"-",ct(Math.abs(U.amount))]})}),e.jsx(Ve,{children:e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(qd,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(Lf,{}),onClick:()=>Is(U),children:"Modifier"}),e.jsx(bn,{onClick:()=>Pi(U),children:"Lier  devis/facture"}),e.jsx(bn,{icon:e.jsx(dr,{}),color:"red.500",onClick:()=>fr(U.id),children:"Supprimer"})]})]})})]},U.id||te))})]})})})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Devis & Factures"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"purple",size:"sm",onClick:se,children:"Nouveau document"})]}),t?e.jsxs(xe,{textAlign:"center",p:8,children:[e.jsx(Sn,{size:"lg"}),e.jsx(D,{mt:2,children:"Chargement"})]}):e.jsx(Ie,{children:e.jsx(Ne,{p:0,children:e.jsxs(Rr,{variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Type"}),e.jsx(He,{children:"Numro"}),e.jsx(He,{children:"Titre"}),e.jsx(He,{children:"Date"}),e.jsx(He,{isNumeric:!0,children:"Montant"}),e.jsx(He,{children:"vnement"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:en.map(U=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:e.jsx(nt,{colorScheme:U.type==="INVOICE"?"purple":"gray",children:U.type==="INVOICE"?"Facture":"Devis"})}),e.jsx(Ve,{children:U.number||""}),e.jsx(Ve,{children:U.title||""}),e.jsx(Ve,{children:xi(U.date)}),e.jsx(Ve,{isNumeric:!0,children:ct(Number(U.amount||0))}),e.jsx(Ve,{children:U.eventId?e.jsx(nt,{children:U.eventId}):e.jsx(D,{fontSize:"sm",color:"gray.500",children:""})}),e.jsx(Ve,{children:e.jsx(nt,{variant:"outline",children:U.status||"DRAFT"})}),e.jsx(Ve,{children:e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(qd,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(Lf,{}),onClick:()=>be(U),children:"Modifier"}),e.jsx(bn,{icon:e.jsx(dr,{}),color:"red.500",onClick:()=>ut(U.id),children:"Supprimer"})]})]})})]},U.id))})]})})})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"chanciers"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"purple",onClick:Ci,size:"sm",children:"Nouvel chancier"})]}),t?e.jsxs(xe,{textAlign:"center",p:8,children:[e.jsx(Sn,{size:"lg"}),e.jsx(D,{mt:2,children:"Chargement..."})]}):(()=>{const U=O.filter(te=>te.type==="SCHEDULED_PAYMENT"&&String(te.frequency||"").toUpperCase()==="MONTHLY");return U.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucun chancier (mensualits) enregistr"]}):e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:4,children:U.map((te,rt)=>{const Nt=Number.isFinite(te.totalAmount)&&te.totalAmount>0,Fn=Nt?Math.max(te.totalAmount-(te.remainingTotalAmount||0),0):null,hn=Number.isFinite(te.plannedCountYear)&&te.plannedCountYear>0,Jr=hn?Math.max((te.plannedCountYear||0)-(te.remainingCountYear||0),0):null,xs=hn?Math.max(0,Math.min(1,Jr/te.plannedCountYear)):null,vi=Nt?Math.max(0,Math.min(1,Fn/te.totalAmount)):xs,Bs=vi==null?"gray.400":vi>=.75?"red":vi>=.4?"orange":"red";return e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",noOfLines:2,children:te.description}),e.jsxs(le,{children:[e.jsx(nt,{variant:"outline",children:"Mensuel"}),e.jsx(nt,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Ne,{children:e.jsxs(le,{align:"center",spacing:4,children:[e.jsx(xe,{minW:"120px",w:"120px",children:e.jsx($i,{percent:vi,color:Bs})}),e.jsxs(oe,{align:"start",spacing:1,flex:1,children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(D,{fontWeight:"medium",children:te.nextDate?xi(te.nextDate):""}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(D,{fontWeight:"bold",color:"red.600",children:["- ",ct(Math.abs(te.amount))]}),e.jsxs(le,{spacing:3,children:[e.jsxs(nt,{variant:"subtle",colorScheme:"blue",children:["Payes: ",te.paymentsCount??0]}),Nt&&e.jsxs(nt,{variant:"subtle",children:["Restant total: ",ct(te.remainingTotalAmount||0)]}),!Nt&&hn&&e.jsxs(nt,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",Jr]})]}),te.monthsRemainingTotal&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Mensualits restantes: ",te.monthsRemainingTotal]}),te.estimatedEndDate&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",xi(te.estimatedEndDate)]})]})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(le,{children:[e.jsx(ne,{size:"sm",onClick:()=>mt(te),children:"Dclarer pay"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:()=>rn(te),children:"Voir paiements"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>wn(te.id)})]})})]},te.id||rt)})})})()]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Paiements programms (mensuels)"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"purple",onClick:Ci,size:"sm",children:"Ajouter un prlvement"})]}),t?e.jsxs(xe,{textAlign:"center",p:8,children:[e.jsx(Sn,{size:"lg"}),e.jsx(D,{mt:2,children:"Chargement..."})]}):(()=>{const U=O.filter(te=>te.type==="SCHEDULED_PAYMENT"&&String(te.frequency||"").toUpperCase()==="MONTHLY");return U.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucun paiement mensuel programm"]}):e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:4,children:U.map((te,rt)=>{const Nt=Number.isFinite(te.totalAmount)&&te.totalAmount>0,Fn=Nt?Math.max(te.totalAmount-(te.remainingTotalAmount||0),0):null,hn=Number.isFinite(te.plannedCountYear)&&te.plannedCountYear>0,Jr=hn?Math.max((te.plannedCountYear||0)-(te.remainingCountYear||0),0):null,xs=hn?Math.max(0,Math.min(1,Jr/te.plannedCountYear)):null,vi=Nt?Math.max(0,Math.min(1,Fn/te.totalAmount)):xs,Bs=vi==null?"gray.400":vi>=.75?"red":vi>=.4?"orange":"red";return e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",noOfLines:2,children:te.description}),e.jsxs(le,{children:[e.jsx(nt,{variant:"outline",children:"Mensuel"}),e.jsx(nt,{colorScheme:"red",children:"DPENSE"})]})]})}),e.jsx(Ne,{children:e.jsxs(le,{align:"center",spacing:4,children:[e.jsx(xe,{minW:"120px",w:"120px",children:e.jsx($i,{percent:vi,color:Bs})}),e.jsxs(oe,{align:"start",spacing:1,flex:1,children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Prochaine date"}),e.jsx(D,{fontWeight:"medium",children:te.nextDate?xi(te.nextDate):""}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Mensualit"}),e.jsxs(D,{fontWeight:"bold",color:"red.600",children:["- ",ct(Math.abs(te.amount))]}),e.jsxs(le,{spacing:3,children:[e.jsxs(nt,{variant:"subtle",colorScheme:"blue",children:["Payes: ",te.paymentsCount??0]}),Nt&&e.jsxs(nt,{variant:"subtle",children:["Restant total: ",ct(te.remainingTotalAmount||0)]}),!Nt&&hn&&e.jsxs(nt,{variant:"subtle",colorScheme:"purple",children:["Payes cette anne: ",Jr]})]}),te.estimatedEndDate&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Fin estime: ",xi(te.estimatedEndDate)]})]})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(le,{children:[e.jsx(ne,{size:"sm",onClick:()=>mt(te),children:"Dclarer pay"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:()=>rn(te),children:"Voir paiements"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>wn(te.id)})]})})]},te.id||rt)})})})()]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsx(le,{justify:"space-between",children:e.jsx(De,{size:"md",children:"Notes de frais"})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(le,{spacing:3,align:"end",children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description"}),e.jsx(je,{value:nr.description,onChange:U=>Fe(te=>({...te,description:U.target.value})),placeholder:"Ex: Achat fournitures"})]}),e.jsxs(J,{isRequired:!0,width:"220px",children:[e.jsx(Q,{children:"Montant ()"}),e.jsxs(Yn,{value:nr.amount,onChange:U=>Fe(te=>({...te,amount:U})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),e.jsxs(J,{width:"220px",children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:nr.date,onChange:U=>Fe(te=>({...te,date:U.target.value}))})]}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:Xi,children:"Ajouter"})]})})}),bt.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucune note de frais pour le moment"]}):e.jsx(Ie,{children:e.jsx(Ne,{p:0,children:e.jsxs(Rr,{variant:"simple",size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Description"}),e.jsx(He,{isNumeric:!0,children:"Montant"}),e.jsx(He,{children:"Statut"}),Ns&&e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:bt.map(U=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:xi(U.date||U.createdAt)}),e.jsx(Ve,{children:U.description}),e.jsx(Ve,{isNumeric:!0,children:ct(U.amount)}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:U.status==="PAID"?"green":U.status==="APPROVED"?"blue":U.status==="REJECTED"?"red":"orange",children:U.status})}),Ns&&e.jsx(Ve,{children:e.jsxs(le,{children:[e.jsx(ne,{size:"xs",onClick:()=>Ki(U.id,"APPROVED"),leftIcon:e.jsx(gx,{}),colorScheme:"blue",variant:"outline",children:"Approuver"}),e.jsx(ne,{size:"xs",onClick:()=>Ki(U.id,"PAID"),leftIcon:e.jsx(Pu,{}),colorScheme:"green",variant:"outline",children:"Pay"}),e.jsx(ne,{size:"xs",onClick:()=>Ki(U.id,"REJECTED"),leftIcon:e.jsx(jp,{}),colorScheme:"red",variant:"outline",children:"Rejeter"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>ki(U.id)})]})})]},U.id))})]})})})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Simulations Financires"}),e.jsx(ne,{leftIcon:e.jsx(So,{}),colorScheme:"teal",onClick:El,size:"sm",children:"Nouveau scnario"})]}),Oe.scenarios.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:2,children:[e.jsx(D,{fontWeight:"bold",children:"Aucun scnario de simulation"}),e.jsx(D,{fontSize:"sm",children:"Crez des scnarios pour simuler l'volution de votre trsorerie. tape 1: Crer le contexte, tape 2: Ajouter recettes/dpenses."})]})]}):e.jsx(ht,{columns:{base:1,md:2},spacing:4,children:Oe.scenarios.map(U=>{const te=U.itemsCount>0,rt=U.totalMonthlyIncome-U.totalMonthlyExpenses;return e.jsxs(Ie,{borderWidth:2,borderColor:te?"green.200":"orange.200",children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",children:U.name}),e.jsxs(le,{children:[e.jsx(nt,{colorScheme:te?"green":"orange",size:"sm",children:te?"Complet":"Brouillon"}),e.jsxs(nt,{variant:"outline",size:"sm",children:[U.itemsCount," lment(s)"]})]})]}),e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(qd,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(Lf,{}),onClick:async()=>{await vr(U.id),Ei()},children:"diter"}),e.jsx(bn,{icon:e.jsx(So,{}),onClick:()=>Ec(U.id),isDisabled:!te,children:"Excuter"}),e.jsx(bn,{icon:e.jsx(_l,{}),onClick:()=>Ac(U.id,U.name),isDisabled:!te,children:"Exporter PDF"}),e.jsx(Ln,{}),e.jsx(bn,{icon:e.jsx(dr,{}),color:"red.500",onClick:()=>{confirm("Supprimer ce scnario ?")&&xh(U.id)},children:"Supprimer"})]})]})]})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsx(D,{fontSize:"sm",color:"gray.600",noOfLines:2,children:U.description}),te?e.jsxs(ht,{columns:3,spacing:2,children:[e.jsxs(Ct,{size:"sm",children:[e.jsx(Et,{fontSize:"xs",children:"Revenus"}),e.jsx(At,{fontSize:"sm",color:"green.600",children:ct(U.totalMonthlyIncome)})]}),e.jsxs(Ct,{size:"sm",children:[e.jsx(Et,{fontSize:"xs",children:"Dpenses"}),e.jsx(At,{fontSize:"sm",color:"red.600",children:ct(U.totalMonthlyExpenses)})]}),e.jsxs(Ct,{size:"sm",children:[e.jsx(Et,{fontSize:"xs",children:"Rsultat"}),e.jsx(At,{fontSize:"sm",color:rt>=0?"green.600":"red.600",children:ct(rt)})]})]}):e.jsxs(tn,{status:"warning",size:"sm",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"xs",children:"Ajoutez des recettes et dpenses pour complter le scnario"})]}),e.jsxs(le,{children:[e.jsx(ne,{size:"xs",variant:"outline",leftIcon:e.jsx(Lf,{}),onClick:async()=>{await vr(U.id),Ei()},children:"diter"}),e.jsx(ne,{size:"xs",colorScheme:"teal",leftIcon:e.jsx(So,{}),onClick:()=>Ec(U.id),isDisabled:!te,isLoading:t,children:"Simuler"})]})]})})]},U.id)})})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Rapports Financiers"}),e.jsxs(le,{children:[e.jsxs(J,{width:"150px",children:[e.jsx(Q,{children:"Anne"}),e.jsx(st,{value:jt,onChange:U=>Ye(parseInt(U.target.value,10)),children:[0,1,2,3,4].map(U=>{const te=new Date().getFullYear()-U;return e.jsx("option",{value:te,children:te},te)})})]}),e.jsx(ne,{leftIcon:e.jsx(Wa,{}),onClick:()=>gi(jt),isLoading:t,children:"Actualiser"}),e.jsx(ne,{leftIcon:e.jsx(_l,{}),colorScheme:"purple",onClick:ka,children:"Export PDF"})]})]}),ft?e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(ht,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Total recettes (priode)"}),e.jsx(At,{color:"green.600",children:ct(ft?.totals?.credits||0)})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Total dpenses (priode)"}),e.jsx(At,{color:"red.600",children:ct(ft?.totals?.debits||0)})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Net (priode)"}),e.jsx(At,{color:(ft?.totals?.net||0)>=0?"green.600":"red.600",children:ct(ft?.totals?.net||0)})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Solde actuel"}),e.jsx(At,{children:ct(l)})]})})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Soldes de priode"})}),e.jsx(Ne,{children:e.jsxs(ht,{columns:{base:1,md:3},spacing:4,children:[e.jsxs(Ct,{children:[e.jsx(Et,{children:"Solde d'ouverture"}),e.jsx(At,{children:ct(ft?.balances?.opening||0)})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Solde de clture (calcul)"}),e.jsx(At,{children:ct(ft?.balances?.closing||0)})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Ouverture + Net"}),e.jsx(At,{children:ct(ft?.balances?.closingFromOpeningPlusNet||0)})]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(De,{size:"sm",children:["Par mois (",jt,")"]})}),e.jsx(Ne,{p:0,children:e.jsxs(Rr,{size:"sm",variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Mois"}),e.jsx(He,{isNumeric:!0,children:"Recettes"}),e.jsx(He,{isNumeric:!0,children:"Dpenses"}),e.jsx(He,{isNumeric:!0,children:"Net"})]})}),e.jsx($r,{children:(ft?.monthly||[]).map(U=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:String(U.month).padStart(2,"0")}),e.jsx(Ve,{isNumeric:!0,children:ct(U.credits)}),e.jsx(Ve,{isNumeric:!0,children:ct(U.debits)}),e.jsx(Ve,{isNumeric:!0,children:e.jsx(D,{color:(U.net||0)>=0?"green.600":"red.600",children:ct(U.net)})})]},U.month))})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Par catgorie"})}),e.jsx(Ne,{p:0,children:e.jsxs(Rr,{size:"sm",variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Catgorie"}),e.jsx(He,{isNumeric:!0,children:"Recettes"}),e.jsx(He,{isNumeric:!0,children:"Dpenses"}),e.jsx(He,{isNumeric:!0,children:"Net"})]})}),e.jsx($r,{children:Object.entries(ft?.byCategory||{}).map(([U,te])=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:U}),e.jsx(Ve,{isNumeric:!0,children:ct(te.credits)}),e.jsx(Ve,{isNumeric:!0,children:ct(te.debits)}),e.jsx(Ve,{isNumeric:!0,children:e.jsx(D,{color:(te.net||0)>=0?"green.600":"red.600",children:ct(te.net)})})]},U))})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Transactions rcentes (extrait)"})}),e.jsx(Ne,{p:0,children:e.jsxs(Rr,{size:"sm",variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Description"}),e.jsx(He,{children:"Catgorie"}),e.jsx(He,{isNumeric:!0,children:"Montant"})]})}),e.jsx($r,{children:(ft?.sample||[]).map(U=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:xi(U.date)}),e.jsx(Ve,{children:U.description}),e.jsx(Ve,{children:(U.category||"AUTRE").toUpperCase()}),e.jsx(Ve,{isNumeric:!0,children:e.jsx(D,{color:String(U.type).toUpperCase()==="CREDIT"?"green.600":"red.600",children:ct(U.amount)})})]},`${U.id}-${U.date}`))})]})})]})]}):e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(D,{children:["Aucun rapport disponible pour ",jt,". Essayez d'actualiser."]})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsx(De,{size:"md",children:"Configuration Avance"}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Historique des Modifications de Solde"})}),e.jsx(Ne,{children:re.length===0?e.jsx(D,{color:"gray.500",fontSize:"sm",children:"Aucune modification enregistre"}):e.jsxs(Rr,{variant:"simple",size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Ancien solde"}),e.jsx(He,{children:"Nouveau solde"}),e.jsx(He,{children:"Diffrence"}),e.jsx(He,{children:"Raison"})]})}),e.jsx($r,{children:re.slice(0,10).map((U,te)=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:xi(U.date)}),e.jsx(Ve,{children:ct(U.oldBalance)}),e.jsx(Ve,{children:ct(U.newBalance)}),e.jsx(Ve,{children:e.jsxs(D,{color:U.newBalance-U.oldBalance>=0?"green.600":"red.600",children:[U.newBalance-U.oldBalance>=0?"+":"",ct(U.newBalance-U.oldBalance)]})}),e.jsx(Ve,{fontSize:"sm",children:U.reason})]},te))})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Paramtres de Simulation"})}),e.jsx(Ne,{children:e.jsxs(J,{children:[e.jsx(Q,{children:"Nombre de mois  projeter"}),e.jsxs(Yn,{value:Oe.projectionMonths,onChange:U=>Pe(te=>({...te,projectionMonths:parseInt(U)||12})),min:1,max:60,children:[e.jsx(Xn,{}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]}),e.jsxs(D,{fontSize:"xs",color:"gray.500",mt:1,children:["Entre 1 et 60 mois (actuellement: ",Oe.projectionMonths," mois)"]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Scurit"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(le,{children:[e.jsx(Kn,{as:p?Mu:cj,color:p?"red.500":"green.500"}),e.jsxs(D,{fontSize:"sm",children:["Solde ",p?"verrouill":"dverrouill"," -",p?" Code requis pour modification":" Modification libre"]})]}),e.jsxs(tn,{status:"warning",size:"sm",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"xs",children:"Le code de scurit  4 chiffres est requis pour toute modification directe du solde. Contactez l'administrateur systme si vous avez oubli le code."})]})]})})]})]})})]})]}),e.jsxs(kt,{isOpen:hr,onClose:kn,isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Modifier la transaction"}),e.jsx($t,{}),e.jsx(Pt,{children:cr&&e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(je,{value:cr.description||"",onChange:U=>Kr(te=>({...te,description:U.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Catgorie"}),e.jsxs(st,{value:cr.category||"ADHESION",onChange:U=>Kr(te=>({...te,category:U.target.value})),children:[e.jsx("option",{value:"ADHESION",children:"Adhsion"}),e.jsx("option",{value:"EVENEMENT",children:"vnement"}),e.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),e.jsx("option",{value:"CARBURANT",children:"Carburant"}),e.jsx("option",{value:"AUTRE",children:"Autre"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type"}),e.jsxs(st,{value:cr.type||"CREDIT",onChange:U=>Kr(te=>({...te,type:U.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Montant"}),e.jsxs(Yn,{value:cr.amount,onChange:U=>Kr(te=>({...te,amount:U})),precision:2,step:.5,children:[e.jsx(Xn,{}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:(cr.date||"").slice(0,10),onChange:U=>Kr(te=>({...te,date:U.target.value}))})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:kn,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:aa,children:"Enregistrer"})]})]})]}),e.jsxs(kt,{isOpen:Ya,onClose:Ts,isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Lier  un devis/une facture"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsx(oe,{spacing:3,align:"stretch",children:e.jsxs(J,{children:[e.jsx(Q,{children:"Document"}),e.jsx(st,{placeholder:"Slectionner un document",value:ai,onChange:U=>Ii(U.target.value),children:en.map(U=>e.jsxs("option",{value:U.id,children:[U.type==="INVOICE"?"Facture":"Devis","  ",U.number||U.title||U.id,"  ",ct(Number(U.amount||0))]},U.id))})]})})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:Ts,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:$o,children:"Lier"})]})]})]}),e.jsxs(kt,{isOpen:Dr,onClose:Gi,isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:Zt?"Modifier le document":"Nouveau document"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsxs(le,{children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Type"}),e.jsxs(st,{value:an.type,onChange:U=>Sr(te=>({...te,type:U.target.value})),children:[e.jsx("option",{value:"QUOTE",children:"Devis"}),e.jsx("option",{value:"INVOICE",children:"Facture"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:an.date,onChange:U=>Sr(te=>({...te,date:U.target.value}))})]})]}),e.jsxs(le,{children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Numro"}),e.jsx(je,{value:an.number,onChange:U=>Sr(te=>({...te,number:U.target.value})),placeholder:"ex: 2025-INV-001"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Montant"}),e.jsxs(Yn,{value:an.amount,onChange:U=>Sr(te=>({...te,amount:U})),precision:2,step:.5,children:[e.jsx(Xn,{}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{value:an.title,onChange:U=>Sr(te=>({...te,title:U.target.value})),placeholder:"Objet du document"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Statut"}),e.jsxs(st,{value:an.status,onChange:U=>Sr(te=>({...te,status:U.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"SENT",children:"Envoy"}),e.jsx("option",{value:"PAID",children:"Pay"}),e.jsx("option",{value:"CANCELLED",children:"Annul"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"vnement (optionnel)"}),e.jsx(je,{value:an.eventId,onChange:U=>Sr(te=>({...te,eventId:U.target.value})),placeholder:"ID d'vnement"})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",onClick:Gi,children:"Annuler"}),e.jsx(ne,{colorScheme:"purple",onClick:Me,children:Zt?"Enregistrer":"Crer"})]})]})]}),e.jsxs(kt,{isOpen:pt,onClose:Ca,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Configuration Rapide"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"sm",children:"Configuration scurise du solde de base. Un code  4 chiffres est requis."})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Code de scurit (4 chiffres)"}),e.jsx(le,{children:e.jsxs(nj,{value:B,onChange:ie,type:"number",children:[e.jsx(al,{}),e.jsx(al,{}),e.jsx(al,{}),e.jsx(al,{})]})})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nouveau solde ()"}),e.jsxs(Yn,{value:he,onChange:F,precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"Entrez le nouveau solde"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),he&&!isNaN(parseFloat(he))&&e.jsxs(tn,{status:parseFloat(he)>=l?"success":"warning",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontSize:"sm",fontWeight:"bold",children:"Aperu de la modification"}),e.jsxs(D,{fontSize:"sm",children:["Solde actuel: ",ct(l)]}),e.jsxs(D,{fontSize:"sm",children:["Nouveau solde: ",ct(parseFloat(he))]}),e.jsxs(D,{fontSize:"sm",color:parseFloat(he)-l>=0?"green.600":"red.600",children:["Diffrence: ",parseFloat(he)-l>=0?"+":"",ct(parseFloat(he)-l)]})]})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Ca,children:"Annuler"}),e.jsx(ne,{colorScheme:"orange",onClick:Tr,isLoading:t,leftIcon:e.jsx(gc,{}),children:"Configurer le solde"})]})]})]}),e.jsxs(kt,{isOpen:Ms,onClose:Ai,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Dclarer une mensualit paye"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Priode"}),e.jsx(je,{type:"month",value:fe,onChange:U=>X(U.target.value)})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Montant ()"}),e.jsxs(Yn,{value:me,onChange:U=>Ee(U),precision:2,step:.01,children:[e.jsx(Xn,{}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Attestation / Photo"}),e.jsx(je,{type:"file",accept:"image/*,application/pdf",onChange:U=>K(U.target.files?.[0]||null)}),e.jsx(D,{fontSize:"xs",color:"gray.500",mt:1,children:"Pice justificative obligatoire"})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Ai,children:"Annuler"}),e.jsx(ne,{colorScheme:"green",onClick:on,isLoading:t,children:"Dclarer"})]})]})]}),e.jsxs(kt,{isOpen:Aa,onClose:Yi,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsxs(Mt,{children:["Paiements  ",ee?.description]}),e.jsx($t,{}),e.jsx(Pt,{children:Z.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucun paiement enregistr"]}):e.jsxs(Rr,{size:"sm",variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Priode"}),e.jsx(He,{children:"Pay le"}),e.jsx(He,{isNumeric:!0,children:"Montant"}),e.jsx(He,{children:"Justificatif"})]})}),e.jsx($r,{children:Z.map(U=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:U.period}),e.jsx(Ve,{children:xi(U.paidAt)}),e.jsx(Ve,{isNumeric:!0,children:ct(U.amount)}),e.jsx(Ve,{children:U.attachment?.dataUrl?e.jsx(QS,{href:U.attachment.dataUrl,target:"_blank",color:"blue.600",children:"Ouvrir"}):e.jsx(D,{fontSize:"xs",color:"gray.500",children:"N/A"})})]},U.id))})]})}),e.jsx(Gt,{children:e.jsx(ne,{onClick:Yi,children:"Fermer"})})]})]}),e.jsxs(kt,{isOpen:ia,onClose:Bi,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Mt,{children:"Nouvelle Transaction"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:6,children:[e.jsxs(oe,{spacing:4,width:"full",children:[e.jsx(De,{size:"sm",children:"Informations de la transaction"}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Type"}),e.jsxs(st,{value:E.type,onChange:U=>A(te=>({...te,type:U.target.value})),children:[e.jsx("option",{value:"CREDIT",children:"Recette"}),e.jsx("option",{value:"DEBIT",children:"Dpense"})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Montant ()"}),e.jsxs(Yn,{value:E.amount,onChange:U=>A(te=>({...te,amount:U})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description"}),e.jsx(je,{value:E.description,onChange:U=>A(te=>({...te,description:U.target.value})),placeholder:"Description de la transaction"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:E.date,onChange:U=>A(te=>({...te,date:U.target.value}))})]})]}),e.jsx(Ln,{}),e.jsxs(oe,{spacing:3,width:"full",children:[e.jsx(De,{size:"sm",children:"Allouer par catgorie"}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Vous pouvez diviser ce montant entre plusieurs catgories (ex: 100 gasoil + 13 assurance)"}),T.length>0&&e.jsxs(xe,{width:"full",children:[e.jsx(D,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Allocations actuelles:"}),e.jsx(oe,{spacing:2,align:"stretch",children:T.map((U,te)=>e.jsxs(le,{p:2,borderRadius:"md",bg:gr("gray.100","gray.600"),justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:0,children:[e.jsxs(le,{children:[e.jsx(xe,{w:3,h:3,borderRadius:"full",bg:U.category?.color}),e.jsx(D,{fontWeight:"bold",children:U.category?.name})]}),U.notes&&e.jsx(D,{fontSize:"xs",color:"gray.500",children:U.notes})]}),e.jsxs(le,{children:[e.jsx(D,{fontWeight:"bold",children:ct(U.allocatedAmount)}),e.jsx(yt,{size:"sm",icon:e.jsx(dr,{}),colorScheme:"red",variant:"ghost",onClick:()=>{z(T.filter((rt,Nt)=>Nt!==te))}})]})]},te))}),e.jsxs(D,{fontSize:"xs",color:"gray.500",mt:2,children:["Total allou: ",ct(T.reduce((U,te)=>U+(parseFloat(te.allocatedAmount)||0),0))," / ",ct(parseFloat(E.amount)||0)]})]}),e.jsx(Ie,{width:"full",children:e.jsx(Ne,{children:e.jsxs(oe,{spacing:3,children:[e.jsx(De,{size:"xs",children:"Ajouter une allocation"}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Catgorie"}),e.jsxs(st,{value:M.categoryId,onChange:U=>k({...M,categoryId:U.target.value}),size:"sm",children:[e.jsx("option",{value:"",children:"Slectionner une catgorie"}),qe.map(U=>e.jsx("option",{value:U.id,children:U.name},U.id))]})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Montant ()"}),e.jsxs(Yn,{value:M.allocatedAmount,onChange:U=>k({...M,allocatedAmount:U}),precision:2,step:.01,size:"sm",children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Notes (optionnel)"}),e.jsx(sn,{value:M.notes,onChange:U=>k({...M,notes:U.target.value}),placeholder:"ex: gasoil station Shell",rows:2,size:"sm"})]}),e.jsxs(ne,{colorScheme:"blue",width:"full",size:"sm",onClick:()=>{if(!M.categoryId||!M.allocatedAmount){tt({status:"error",title:"Remplissez catgorie et montant"});return}const U=qe.find(te=>te.id===M.categoryId);z([...T,{categoryId:M.categoryId,category:U,allocatedAmount:parseFloat(M.allocatedAmount),notes:M.notes}]),k({categoryId:"",allocatedAmount:"",notes:""})},children:[e.jsx(Bn,{})," Ajouter l'allocation"]})]})})})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Bi,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:()=>{if(!E.type||!E.amount||!E.description){tt({status:"error",title:"Remplissez les champs obligatoires"});return}Qi()},isLoading:t,children:"Ajouter"})]})]})]}),e.jsxs(kt,{isOpen:pi,onClose:Zi,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:r===2?"Nouvel chancier":"Nouvelle Opration Programme"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[r!==2&&e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Type"}),e.jsxs(st,{value:$.type,onChange:U=>G(te=>({...te,type:U.target.value})),children:[e.jsx("option",{value:"SCHEDULED_PAYMENT",children:"Paiement programm"}),e.jsx("option",{value:"SCHEDULED_CREDIT",children:"Crdit programm"})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:r===2?"Mensualit ( / mois)":"Montant ()"}),e.jsxs(Yn,{value:$.amount,onChange:U=>G(te=>({...te,amount:U})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"0.00"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description"}),e.jsx(je,{value:$.description,onChange:U=>G(te=>({...te,description:U.target.value})),placeholder:"Description de l'opration"})]}),r!==2&&e.jsxs(J,{children:[e.jsx(Q,{children:"Frquence"}),e.jsxs(st,{value:$.frequency,onChange:U=>G(te=>({...te,frequency:U.target.value})),children:[e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"WEEKLY",children:"Hebdomadaire"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Prochaine excution"}),e.jsx(je,{type:"date",value:$.nextDate,onChange:U=>G(te=>({...te,nextDate:U.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:r===2?"Montant total (optionnel)":"Total  amortir (optionnel)"}),e.jsxs(Yn,{value:$.totalAmount,onChange:U=>G(te=>({...te,totalAmount:U})),precision:2,step:.01,children:[e.jsx(Xn,{placeholder:"Ex: 4000.00"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Permet de calculer le nombre de mensualits restantes et la date de fin estime."})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Zi,children:"Annuler"}),e.jsx(ne,{colorScheme:"purple",onClick:un,isLoading:t,children:r===2?"Crer lchancier":"Programmer"})]})]})]}),e.jsxs(kt,{isOpen:wr,onClose:Ja,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Nouveau Scnario de Simulation"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontSize:"sm",fontWeight:"bold",children:"tape 1: Contexte du scnario"}),e.jsx(D,{fontSize:"xs",children:"Dfinissez le nom et la description. Vous pourrez ajouter les recettes et dpenses dans l'tape suivante."})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom du scnario"}),e.jsx(je,{value:ye.name,onChange:U=>Ze(te=>({...te,name:U.target.value})),placeholder:"ex: Scnario optimiste 2024"})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:ye.description,onChange:U=>Ze(te=>({...te,description:U.target.value})),placeholder:"Dcrivez les hypothses et le contexte de ce scnario...",rows:4})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Priode de projection (mois)"}),e.jsxs(Yn,{value:ye.projectionMonths,onChange:U=>Ze(te=>({...te,projectionMonths:parseInt(U)||12})),min:1,max:60,children:[e.jsx(Xn,{}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]}),e.jsx(D,{fontSize:"xs",color:"gray.500",mt:1,children:"Entre 1 et 60 mois"})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Ja,children:"Annuler"}),e.jsx(ne,{colorScheme:"teal",onClick:Lr,isLoading:t,leftIcon:e.jsx(So,{}),children:"Crer le scnario"})]})]})]}),e.jsxs(kt,{isOpen:Ps,onClose:Al,size:"6xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:e.jsxs(le,{children:[e.jsxs(D,{children:["dition: ",$e?.name]}),e.jsx(nt,{colorScheme:"blue",variant:"outline",children:"tape 2: Recettes & Dpenses"})]})}),e.jsx($t,{}),e.jsxs(Pt,{children:[$e&&e.jsxs(Sa,{templateColumns:"1fr 1fr",gap:6,children:[e.jsx(oe,{align:"stretch",spacing:4,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(De,{size:"sm",color:"green.600",children:[" Recettes (",$e.incomeItems?.length||0,")"]})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:3,children:[e.jsxs(le,{width:"100%",children:[e.jsx(je,{placeholder:"Description",size:"sm",value:Tt.description,onChange:U=>ae(te=>({...te,description:U.target.value}))}),e.jsx(Yn,{size:"sm",width:"120px",value:Tt.amount,onChange:U=>ae(te=>({...te,amount:U})),children:e.jsx(Xn,{placeholder:"Montant"})}),e.jsxs(st,{size:"sm",width:"120px",value:Tt.frequency,onChange:U=>ae(te=>({...te,frequency:U.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(yt,{icon:e.jsx(Bn,{}),size:"sm",colorScheme:"green",onClick:Ra})]}),e.jsx(oe,{width:"100%",spacing:2,children:$e.incomeItems?.map((U,te)=>e.jsxs(le,{width:"100%",justify:"space-between",p:2,bg:"green.50",borderRadius:"md",children:[e.jsxs(oe,{align:"start",spacing:0,flex:1,children:[e.jsx(D,{fontSize:"sm",fontWeight:"bold",children:U.description}),e.jsxs(D,{fontSize:"xs",color:"gray.600",children:[ct(U.amount)," - ",xn(U.frequency)]})]}),e.jsx(yt,{icon:e.jsx(dr,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Da(U.id)})]},U.id))}),e.jsx(xe,{width:"100%",p:2,bg:"green.100",borderRadius:"md",children:e.jsxs(D,{fontSize:"sm",fontWeight:"bold",color:"green.700",children:["Total mensuel: ",ct($e.totalMonthlyIncome||0)]})})]})})]})}),e.jsx(oe,{align:"stretch",spacing:4,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(De,{size:"sm",color:"red.600",children:[" Dpenses (",$e.expenseItems?.length||0,")"]})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:3,children:[e.jsxs(le,{width:"100%",children:[e.jsx(je,{placeholder:"Description",size:"sm",value:ge.description,onChange:U=>Je(te=>({...te,description:U.target.value}))}),e.jsx(Yn,{size:"sm",width:"120px",value:ge.amount,onChange:U=>Je(te=>({...te,amount:U})),children:e.jsx(Xn,{placeholder:"Montant"})}),e.jsxs(st,{size:"sm",width:"120px",value:ge.frequency,onChange:U=>Je(te=>({...te,frequency:U.target.value})),children:[e.jsx("option",{value:"ONE_SHOT",children:"Ponctuel"}),e.jsx("option",{value:"SEMI_ANNUAL",children:"Semestriel (6 mois)"}),e.jsx("option",{value:"MONTHLY",children:"Mensuel"}),e.jsx("option",{value:"QUARTERLY",children:"Trimestriel"}),e.jsx("option",{value:"YEARLY",children:"Annuel"})]}),e.jsx(yt,{icon:e.jsx(Bn,{}),size:"sm",colorScheme:"red",onClick:za})]}),e.jsx(oe,{width:"100%",spacing:2,children:$e.expenseItems?.map((U,te)=>e.jsxs(le,{width:"100%",justify:"space-between",p:2,bg:"red.50",borderRadius:"md",children:[e.jsxs(oe,{align:"start",spacing:0,flex:1,children:[e.jsx(D,{fontSize:"sm",fontWeight:"bold",children:U.description}),e.jsxs(D,{fontSize:"xs",color:"gray.600",children:[ct(U.amount)," - ",xn(U.frequency)]})]}),e.jsx(yt,{icon:e.jsx(dr,{}),size:"xs",variant:"ghost",colorScheme:"red",onClick:()=>Fo(U.id)})]},U.id))}),e.jsx(xe,{width:"100%",p:2,bg:"red.100",borderRadius:"md",children:e.jsxs(D,{fontSize:"sm",fontWeight:"bold",color:"red.700",children:["Total mensuel: ",ct($e.totalMonthlyExpenses||0)]})})]})})]})})]}),$e&&e.jsx(Ie,{mt:4,children:e.jsx(Ne,{children:e.jsxs(ht,{columns:4,spacing:4,children:[e.jsxs(Ct,{children:[e.jsx(Et,{children:"Recettes/mois"}),e.jsx(At,{color:"green.600",children:ct($e.totalMonthlyIncome||0)})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Dpenses/mois"}),e.jsx(At,{color:"red.600",children:ct($e.totalMonthlyExpenses||0)})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Rsultat/mois"}),e.jsx(At,{color:$e.monthlyNet>=0?"green.600":"red.600",children:ct($e.monthlyNet||0)})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"lments"}),e.jsx(At,{children:($e.incomeItems?.length||0)+($e.expenseItems?.length||0)})]})]})})}),e.jsxs(J,{children:[e.jsx(Q,{children:"Motif de rgularisation"}),e.jsx(je,{value:P,onChange:U=>N(U.target.value),placeholder:"Ex: Correction comptable, ajustement bancaire, etc."})]})]}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:Al,children:"Fermer"}),e.jsx(ne,{colorScheme:"teal",onClick:()=>Ec($e?.id),isLoading:t,leftIcon:e.jsx(So,{}),isDisabled:!$e||$e.itemsCount===0,children:"Excuter la simulation"})]})]})]}),e.jsxs(kt,{isOpen:fs,onClose:Tl,size:"6xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:e.jsxs(le,{children:[e.jsxs(D,{children:["Rsultats: ",Qe?.scenarioName]}),e.jsx(nt,{colorScheme:Qe?.summary?.isPositive?"green":"red",children:Qe?.summary?.isPositive?"Positif":"Dficitaire"})]})}),e.jsx($t,{}),e.jsx(Pt,{children:Qe&&e.jsxs(oe,{spacing:6,children:[e.jsxs(ht,{columns:4,spacing:4,width:"100%",children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Solde initial"}),e.jsx(At,{children:ct(Qe.startingBalance)})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Solde final"}),e.jsx(At,{color:Qe.finalBalance>=0?"green.600":"red.600",children:ct(Qe.finalBalance)})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"volution totale"}),e.jsxs(At,{color:Qe.totalChange>=0?"green.600":"red.600",children:[e.jsx(Ld,{type:Qe.totalChange>=0?"increase":"decrease"}),ct(Math.abs(Qe.totalChange))]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Rsultat/mois"}),e.jsx(At,{color:Qe.monthlyNet>=0?"green.600":"red.600",children:ct(Qe.monthlyNet)})]})})})]}),e.jsxs(Ie,{width:"100%",children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"volution mensuelle"})}),e.jsxs(Ne,{children:[e.jsx(xe,{overflowX:"auto",children:e.jsxs(Rr,{variant:"simple",size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Mois"}),e.jsx(He,{children:"Solde dbut"}),e.jsx(He,{isNumeric:!0,children:"Recettes"}),e.jsx(He,{isNumeric:!0,children:"Dpenses"}),e.jsx(He,{isNumeric:!0,children:"Rsultat"}),e.jsx(He,{isNumeric:!0,children:"Solde fin"})]})}),e.jsx($r,{children:Qe.projection.slice(0,12).map(U=>e.jsxs(Qt,{children:[e.jsxs(Ve,{children:["Mois ",U.month]}),e.jsx(Ve,{children:ct(U.startBalance)}),e.jsxs(Ve,{isNumeric:!0,color:"green.600",children:["+",ct(U.income)]}),e.jsxs(Ve,{isNumeric:!0,color:"red.600",children:["-",ct(U.expenses)]}),e.jsxs(Ve,{isNumeric:!0,color:U.net>=0?"green.600":"red.600",children:[U.net>=0?"+":"",ct(U.net)]}),e.jsx(Ve,{isNumeric:!0,fontWeight:"bold",color:U.endBalance>=0?"green.600":"red.600",children:ct(U.endBalance)})]},U.month))})]})}),Qe.projection.length>12&&e.jsxs(D,{fontSize:"sm",color:"gray.500",mt:2,textAlign:"center",children:["... et ",Qe.projection.length-12," mois supplmentaires"]})]})]}),Qe.summary.breakEvenMonth&&e.jsxs(tn,{status:"warning",width:"100%",children:[e.jsx(nn,{}),e.jsxs(D,{children:["Attention: Le solde devient ngatif au mois ",Qe.summary.breakEvenMonth]})]})]})}),e.jsx(Gt,{children:e.jsx(ne,{onClick:Tl,children:"Fermer"})})]})]})]})})},Uy={public_open_access:{name:"Ouvert au Public",icon:Wd,color:"green",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"vnement ouvert au public, accs libre sans inscription"},public_with_registration:{name:"Public avec Inscription",icon:Qs,color:"blue",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:15,childPrice:8,maxParticipants:100,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"vnement public avec inscription ouverte directement au public"},private_outing:{name:"Sortie Prive",icon:oj,color:"yellow",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Sortie visible publiquement mais rserve (pas d'inscription possible)"},public_contact_required:{name:"Contact Association Requis",icon:oj,color:"orange",defaults:{isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:30,registrationDeadline:"",registrationMethod:"none",status:"PUBLISHED"},description:"Visible par tous mais inscription uniquement en contactant l'association"},members_only:{name:"Adhrents Seulement",icon:Mu,color:"purple",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:50,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED"},description:"Rserv aux adhrents, non visible sur le site public"},private_internal:{name:"vnement Interne",icon:Mu,color:"red",defaults:{isVisible:!1,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"none",status:"DRAFT"},description:"vnement interne, compltement priv"},public_pdf_form:{name:"Formulaire PDF Public",icon:_l,color:"teal",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!1,adultPrice:12,childPrice:6,maxParticipants:null,registrationDeadline:"",registrationMethod:"pdf",status:"PUBLISHED"},description:"vnement public avec formulaire PDF  tlcharger"},parade_classic_vehicles:{name:" Dfil Anciennes",icon:xc,color:"red",defaults:{isVisible:!0,allowPublicRegistration:!0,requiresRegistration:!0,isFree:!0,adultPrice:null,childPrice:null,maxParticipants:null,registrationDeadline:"",registrationMethod:"internal",status:"PUBLISHED",registrationType:"parade_vehicles"},description:"Dfil de vhicules anciens - Inscription avec nom, vhicule et club"}},aQ=()=>{const[t,n]=b.useState([]),[r,s]=b.useState([]),[l,u]=b.useState(!1),[d,m]=b.useState(!1),[p,g]=b.useState("cards"),[x,j]=b.useState(""),S=Mn(),{isOpen:_,onOpen:E,onClose:A}=It(),[T,z]=b.useState(null),[M,k]=b.useState(null),[O,I]=b.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),$=async()=>{const P=localStorage.getItem("token");if(console.log(" Testing API connection..."),console.log("Token exists:",!!P),!P){S({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const N=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`}});if(console.log("GET /events status:",N.status),N.ok){const re=await N.json();console.log(" GET API works, events:",re.length),n(Array.isArray(re)?re:[]),console.log(" Testing POST with minimal data...");const Le={id:`test-${Date.now()}`,title:"Test Event",date:"2025-12-31",status:"DRAFT"},Oe=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(Le)});if(console.log("POST /events status:",Oe.status),Oe.ok){const Pe=await Oe.json();console.log(" POST works, created:",Pe),await fetch(`https://refreshing-adaptation-rbe-serveurs.up.railway.app/events/${Le.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${P}`}}),S({status:"success",title:"API entirement fonctionnelle",description:"GET et POST fonctionnent correctement"})}else{const Pe=await Oe.text();console.log(" POST error:",Oe.status,Pe),S({status:"error",title:`Erreur POST ${Oe.status}`,description:Pe})}}else{const re=await N.text();console.log(" GET error:",N.status,re),S({status:"error",title:`Erreur GET ${N.status}`,description:re})}}catch(N){console.error("Network error:",N),S({status:"error",title:"Erreur rseau",description:N.message})}},G=b.useCallback(async()=>{try{u(!0);const P=localStorage.getItem("token");if(!P){S({status:"warning",title:"Session expire",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}try{const re=P.split(".");if(re.length!==3)throw new Error("Format de token invalide");const Le=JSON.parse(atob(re[1])),Oe=Math.floor(Date.now()/1e3);if(Le.exp&&Le.exp<Oe)throw new Error("Token expir")}catch(re){console.error("Token invalide:",re),localStorage.removeItem("token"),localStorage.removeItem("user"),S({status:"error",title:"Session invalide",description:"Veuillez vous reconnecter."}),window.location.href="/login";return}const N=await va.getAll();n(Array.isArray(N)?N:[])}catch(P){if(console.error("Erreur events API:",P),P.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login";return}P.message.includes("400")?S({status:"error",title:"Erreur 400 - Bad Request",description:"Problme avec la requte. Cliquez sur 'Tester API' pour diagnostiquer."}):S({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements."}),n([])}finally{u(!1)}},[S]),ee=b.useCallback(async()=>{try{const P=await Jf.getAll();s(Array.isArray(P)?P:[])}catch(P){console.error(P),s([])}},[]);b.useEffect(()=>{G(),ee()},[G,ee]);const ue=()=>{I({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),j("")},fe=P=>{const N=Uy[P];N&&(I(re=>({...re,...N.defaults,eventType:P,title:re.title,date:re.date,time:re.time,location:re.location,description:re.description,vehicleId:re.vehicleId})),j(P),S({status:"info",title:"Template appliqu",description:N.description}))},X=()=>{z(null),ue(),E()},me=P=>{z(P);let N={};try{N=P.extras?JSON.parse(P.extras):{}}catch(re){console.log("Impossible de parser extras:",re)}I({title:P.title||"",date:P.date||"",time:P.time||"",location:P.location||"",description:P.description||"",adultPrice:P.adultPrice||"",childPrice:P.childPrice||"",helloAssoUrl:P.helloAssoUrl||"",vehicleId:P.vehicleId||"",status:P.status||"DRAFT",isVisible:N.isVisible!==!1,allowPublicRegistration:N.allowPublicRegistration||!1,requiresRegistration:N.requiresRegistration||!!P.helloAssoUrl,isFree:N.isFree!==!1,maxParticipants:N.maxParticipants||"",registrationDeadline:N.registrationDeadline||"",registrationMethod:N.registrationMethod||(P.helloAssoUrl?"helloasso":"none"),pdfUrl:N.pdfUrl||"",eventType:N.eventType||"public_info_only"}),j(N.eventType||""),E()},Ee=(P,N)=>{const re=P.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,30),Le=N.replace(/-/g,""),Oe=Math.random().toString(36).substring(2,6);return`${re}-${Le}-${Oe}`},pe=async()=>{if(!O.title.trim()){S({status:"warning",title:"Le titre est requis"});return}if(!O.date){S({status:"warning",title:"La date est requise"});return}try{m(!0);const P={title:O.title.trim(),date:O.date,time:O.time||null,location:O.location.trim()||null,description:O.description.trim()||null,adultPrice:O.adultPrice?parseFloat(O.adultPrice):null,childPrice:O.childPrice?parseFloat(O.childPrice):null,helloAssoUrl:O.helloAssoUrl.trim()||null,vehicleId:O.vehicleId||null,status:O.status,extras:{isVisible:O.isVisible,allowPublicRegistration:O.allowPublicRegistration,requiresRegistration:O.requiresRegistration,isFree:O.isFree,maxParticipants:O.maxParticipants?parseInt(O.maxParticipants):null,registrationDeadline:O.registrationDeadline||null,registrationMethod:O.registrationMethod,pdfUrl:O.pdfUrl||null,eventType:O.eventType}};T||(P.id=Ee(O.title,O.date),console.log(" Generated ID:",P.id)),console.log(" Saving event data:",P),T?(await va.update(T.id,P),S({status:"success",title:"vnement modifi avec succs"})):(await va.create(P),S({status:"success",title:"vnement cr avec succs"})),await G(),A(),ue()}catch(P){console.error("Save error:",P),P.message.includes("409")||P.message.includes("ID dj utilis")?S({status:"error",title:"ID dj utilis",description:"Un vnement avec ce nom et cette date existe dj. Modifiez le titre ou la date."}):P.message.includes("400")?(console.log("Dtails erreur 400 - Data envoye:",eventData),S({status:"error",title:"Erreur 400 - Donnes invalides",description:"Vrifiez la console pour voir les donnes envoyes."})):S({status:"error",title:"Erreur lors de la sauvegarde",description:P.message})}finally{m(!1)}},K=async P=>{if(confirm(`tes-vous sr de vouloir supprimer l'vnement "${P.title}" ?`))try{await va.delete(P.id),S({status:"success",title:"vnement supprim"}),await G()}catch(N){S({status:"error",title:"Erreur lors de la suppression",description:N.message})}},Z=async P=>{const N=P.status==="PUBLISHED"?"DRAFT":"PUBLISHED";try{console.log(" Toggling status from",P.status,"to",N),await va.update(P.id,{status:N}),S({status:"success",title:`vnement ${N==="PUBLISHED"?"publi":"dpubli"}`}),await G()}catch(re){console.error("Erreur toggle publish:",re),S({status:"error",title:"Erreur lors de la publication",description:re.message})}},W=P=>P==="PUBLISHED"?e.jsx(nt,{colorScheme:"green",children:"Publi"}):e.jsx(nt,{colorScheme:"gray",children:"Brouillon"}),H=P=>{try{const re=(P.extras?JSON.parse(P.extras):{}).eventType||"public_info_only",Le=Uy[re];if(Le)return e.jsxs(nt,{colorScheme:Le.color,variant:"subtle",children:[e.jsx(Kn,{as:Le.icon,mr:1}),Le.name]})}catch(N){console.log("Error parsing event extras:",N)}return e.jsx(nt,{colorScheme:"gray",children:"Standard"})},Se=P=>{try{const N=P.extras?JSON.parse(P.extras):{};return console.log(` Internal - Event "${P.title}" extras:`,N),N.isVisible?N.requiresRegistration?N.requiresRegistration&&!N.allowPublicRegistration?e.jsx(ne,{size:"sm",leftIcon:e.jsx(oj,{}),colorScheme:"orange",variant:"outline",isDisabled:!0,children:"Contact requis"}):N.requiresRegistration&&N.allowPublicRegistration?e.jsx(ne,{size:"sm",leftIcon:e.jsx(Qs,{}),colorScheme:"blue",variant:"solid",isDisabled:!0,children:"Inscription publique"}):e.jsx(ne,{size:"sm",leftIcon:e.jsx(Wd,{}),colorScheme:"gray",variant:"outline",isDisabled:!0,children:"Indtermin"}):e.jsx(ne,{size:"sm",leftIcon:e.jsx(Wd,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Ouvert au public"}):e.jsx(ne,{size:"sm",leftIcon:e.jsx(Mu,{}),colorScheme:"red",variant:"solid",isDisabled:!0,children:"Priv/Interne"})}catch(N){return console.log(`Error parsing extras for ${P.title}:`,N),e.jsx(ne,{size:"sm",leftIcon:e.jsx(Wd,{}),colorScheme:"green",variant:"outline",isDisabled:!0,children:"Legacy (ouvert)"})}},B=P=>{const N=r.find(re=>re.parc===P);return N?`${N.parc} - ${N.modele}`:"Aucun vhicule"},ie=t.find(P=>P.id===M);ie&&r.find(P=>P.parc===ie.vehicleId);const he=()=>e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(P=>e.jsxs(Ie,{shadow:"md",position:"relative",children:[e.jsx(Ot,{pb:2,children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsxs(le,{justify:"space-between",w:"100%",children:[e.jsx(De,{size:"md",noOfLines:2,flex:1,children:P.title}),Se(P)]}),e.jsxs(le,{spacing:2,wrap:"wrap",children:[W(P.status),H(P)]})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsxs(le,{children:[e.jsx(ls,{}),e.jsxs(D,{fontSize:"sm",children:[P.date," ",P.time&&` ${P.time}`]})]}),P.location&&e.jsxs(le,{children:[e.jsx(mc,{}),e.jsx(D,{fontSize:"sm",children:P.location})]}),P.vehicleId&&e.jsxs(D,{fontSize:"sm",children:[" ",B(P.vehicleId)]}),P.description&&e.jsx(D,{fontSize:"sm",color:"gray.600",noOfLines:3,children:P.description}),(P.adultPrice||P.childPrice)&&e.jsxs(le,{spacing:4,children:[P.adultPrice&&e.jsxs(D,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Adulte: ",P.adultPrice,""]}),P.childPrice&&e.jsxs(D,{fontSize:"sm",fontWeight:"bold",color:"green.600",children:["Enfant: ",P.childPrice,""]})]}),e.jsxs(le,{spacing:2,pt:4,w:"100%",wrap:"wrap",children:[e.jsx(ne,{leftIcon:e.jsx(_i,{}),size:"sm",onClick:()=>me(P),children:"Modifier"}),e.jsx(ne,{leftIcon:e.jsx(bp,{}),size:"sm",colorScheme:P.status==="PUBLISHED"?"red":"green",onClick:()=>Z(P),children:P.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(ne,{leftIcon:e.jsx(dr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>K(P),children:"Supprimer"})]})]})})]},P.id))}),F=()=>e.jsx(xe,{overflowX:"auto",children:e.jsxs(Rr,{variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Titre"}),e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Type"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:t.map(P=>e.jsxs(Qt,{bg:P.id===M?"blue.50":void 0,cursor:"pointer",onClick:()=>k(P.id===M?null:P.id),_hover:{bg:"gray.50"},children:[e.jsx(Ve,{fontWeight:"semibold",children:P.title}),e.jsxs(Ve,{children:[P.date," ",P.time&&` ${P.time}`]}),e.jsx(Ve,{children:H(P)}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:1,children:[W(P.status),Se(P)]})}),e.jsx(Ve,{children:e.jsxs(le,{spacing:1,children:[e.jsx(ne,{size:"sm",onClick:N=>{N.stopPropagation(),me(P)},children:"diter"}),e.jsx(ne,{size:"sm",colorScheme:P.status==="PUBLISHED"?"red":"green",onClick:N=>{N.stopPropagation(),Z(P)},children:P.status==="PUBLISHED"?"Dpublier":"Publier"}),e.jsx(ne,{size:"sm",colorScheme:"red",variant:"outline",onClick:N=>{N.stopPropagation(),K(P)},children:"Supprimer"})]})})]},P.id))})]})});return e.jsxs(xe,{p:6,children:[e.jsxs(lr,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{children:" Cration des vnements"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(le,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(_i,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:$,children:"Tester API"}),e.jsx(ne,{leftIcon:p==="cards"?e.jsx(NR,{}):e.jsx(f1,{}),size:"sm",variant:"outline",onClick:()=>g(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:X,children:"Nouvel vnement"})]})]}),l?e.jsx(jn,{py:20,children:e.jsx(Sn,{size:"xl"})}):t.length===0?e.jsx(jn,{py:20,children:e.jsxs(oe,{spacing:4,children:[e.jsx(D,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsxs(le,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(_i,{}),colorScheme:"purple",variant:"outline",onClick:$,children:"Tester API"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:X,children:"Crer le premier vnement"})]})]})}):p==="cards"?e.jsx(he,{}):e.jsx(F,{}),e.jsxs(kt,{isOpen:_,onClose:A,size:"6xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Mt,{children:T?"Modifier l'vnement":"Nouvel vnement"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(Oo,{children:[e.jsxs(No,{children:[e.jsx(pn,{children:" Informations de base"}),e.jsx(pn,{children:" Configuration"}),e.jsx(pn,{children:" Templates"})]}),e.jsxs(Io,{children:[e.jsx(mn,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{value:O.title,onChange:P=>I(N=>({...N,title:P.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(le,{w:"100%",spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:O.date,onChange:P=>I(N=>({...N,date:P.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Heure"}),e.jsx(je,{type:"time",value:O.time,onChange:P=>I(N=>({...N,time:P.target.value}))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Lieu"}),e.jsx(je,{value:O.location,onChange:P=>I(N=>({...N,location:P.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Vhicule participant"}),e.jsx(st,{value:O.vehicleId,onChange:P=>I(N=>({...N,vehicleId:P.target.value})),placeholder:"Slectionner un vhicule (optionnel)",children:r.map(P=>e.jsxs("option",{value:P.parc,children:[P.parc," - ",P.modele," (",P.marque,")"]},P.parc))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:O.description,onChange:P=>I(N=>({...N,description:P.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:6,children:[e.jsxs(xe,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(De,{size:"sm",mb:3,children:" Visibilit"}),e.jsxs(J,{children:[e.jsxs(le,{children:[e.jsx(br,{isChecked:O.isVisible,onChange:P=>I(N=>({...N,isVisible:P.target.checked}))}),e.jsx(Q,{mb:0,children:"Visible sur le site public"})]}),e.jsxs(tn,{status:O.isVisible?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"sm",children:O.isVisible?" L'vnement apparatra sur la page Events du site externe":" vnement priv, visible seulement dans l'interface interne"})]})]})]}),e.jsxs(xe,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(De,{size:"sm",mb:3,children:" Gestion des inscriptions"}),e.jsxs(oe,{spacing:4,align:"start",children:[e.jsxs(J,{children:[e.jsxs(le,{children:[e.jsx(br,{isChecked:O.requiresRegistration,onChange:P=>I(N=>({...N,requiresRegistration:P.target.checked}))}),e.jsx(Q,{mb:0,children:"Inscription requise pour participer"})]}),e.jsxs(tn,{status:O.requiresRegistration?"info":"success",mt:2,borderRadius:"md",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"sm",children:O.requiresRegistration?" Une inscription sera ncessaire pour participer  cet vnement":" Bouton 'Ouvert au public' - Aucune inscription ncessaire"})]})]}),O.requiresRegistration&&e.jsxs(J,{children:[e.jsxs(le,{children:[e.jsx(br,{isChecked:O.allowPublicRegistration,onChange:P=>I(N=>({...N,allowPublicRegistration:P.target.checked}))}),e.jsx(Q,{mb:0,children:"Le public peut s'inscrire directement"})]}),e.jsxs(tn,{status:O.allowPublicRegistration?"success":"warning",mt:2,borderRadius:"md",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"sm",children:O.allowPublicRegistration?" Bouton d'inscription disponible sur le site externe":" Bouton 'Contacter l'association' - Inscription via contact uniquement"})]})]})]})]}),e.jsxs(xe,{w:"100%",p:4,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:[e.jsx(De,{size:"sm",mb:3,children:" Tarification"}),e.jsxs(oe,{spacing:3,align:"start",children:[e.jsx(J,{children:e.jsxs(le,{children:[e.jsx(br,{isChecked:O.isFree,onChange:P=>I(N=>({...N,isFree:P.target.checked,adultPrice:P.target.checked?"":N.adultPrice,childPrice:P.target.checked?"":N.childPrice}))}),e.jsx(Q,{mb:0,children:"vnement gratuit"})]})}),!O.isFree&&e.jsxs(le,{w:"100%",spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Prix adulte ()"}),e.jsx(je,{type:"number",step:"0.01",value:O.adultPrice,onChange:P=>I(N=>({...N,adultPrice:P.target.value})),placeholder:"15.00"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Prix enfant ()"}),e.jsx(je,{type:"number",step:"0.01",value:O.childPrice,onChange:P=>I(N=>({...N,childPrice:P.target.value})),placeholder:"8.00"})]})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Statut de publication"}),e.jsxs(st,{value:O.status,onChange:P=>I(N=>({...N,status:P.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"})]})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,children:[e.jsx(D,{fontSize:"lg",fontWeight:"bold",mb:4,children:" Choisissez un template pour configurer rapidement votre vnement"}),e.jsx(ht,{columns:{base:1,md:2},spacing:4,w:"100%",children:Object.entries(Uy).map(([P,N])=>e.jsx(Ie,{cursor:"pointer",onClick:()=>fe(P),bg:x===P?`${N.color}.50`:"white",borderColor:x===P?`${N.color}.200`:"gray.200",borderWidth:"2px",_hover:{borderColor:`${N.color}.300`},children:e.jsx(Ne,{children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsxs(le,{children:[e.jsx(Kn,{as:N.icon,color:`${N.color}.500`}),e.jsx(D,{fontWeight:"bold",color:`${N.color}.700`,children:N.name})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:N.description}),x===P&&e.jsx(nt,{colorScheme:N.color,children:"Slectionn"})]})})},P))}),x&&e.jsxs(tn,{status:"info",borderRadius:"md",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"bold",children:"Template appliqu"}),e.jsx(D,{fontSize:"sm",children:`Vous pouvez maintenant personnaliser les paramtres dans l'onglet "Configuration"`})]})]})]})})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:()=>{A(),ue()},children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:pe,isLoading:d,children:T?"Modifier":"Crer"})]})]})]})]})},oQ=t=>{const n={DRAFT:{cs:"gray",label:"Brouillon"},PUBLISHED:{cs:"green",label:"Publi"},ARCHIVED:{cs:"orange",label:"Archiv"}},r=n[t]??n.DRAFT;return e.jsx(nt,{colorScheme:r.cs,children:r.label})},lQ=t=>{if(!t)return"Date non dfinie";try{return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}};function cQ(){const t=Mn(),[n,r]=b.useState([]),[s,l]=b.useState(!0),[u,d]=b.useState(""),[m,p]=b.useState("ALL"),[g,x]=b.useState(null),[j,S]=b.useState([]),[_,E]=b.useState([]),[A,T]=b.useState({revenue:0,expenses:0,profit:0,capacity:0,occupancy:0,rate:0,breakdown:null}),[z,M]=b.useState({url:"",org:"",event:""}),{isOpen:k,onOpen:O,onClose:I}=It(),[$,G]=b.useState(!1);b.useEffect(()=>{(async()=>{l(!0);try{const N=await va.getAll();r(Array.isArray(N)?N:[])}catch{t({status:"error",title:"Erreur",description:"Impossible de charger les vnements"})}finally{l(!1)}})()},[t]);const ee=b.useMemo(()=>{const N=u.trim().toLowerCase();return(n||[]).filter(re=>{const Le=re.title?.toLowerCase().includes(N)||re.location?.toLowerCase().includes(N),Oe=m==="ALL"||re.status===m;return Le&&Oe})},[n,u,m]),ue=b.useMemo(()=>{const N=n.length,re=n.filter(Oe=>Oe.status==="PUBLISHED").length,Le=n.filter(Oe=>Oe.status==="PUBLISHED"&&new Date(Oe.date)>new Date).length;return{total:N,published:re,upcoming:Le,totalParticipants:0,totalRevenue:0}},[n]),fe=N=>{x(N),S([]),E([{id:1,name:"Trajet principal",vehicle:N.vehicleId||"Bus",capacity:45,stops:[{name:"Dpart",time:"09:00",address:""},{name:N.location||"Arrive",time:"10:00",address:N.location||""}]}]),M({url:N.helloAssoUrl||"",org:N.helloAssoOrg||"",event:N.helloAssoEvent||""}),O()},X=N=>{if(!N?.name||!N?.email){t({status:"warning",title:"Nom et email requis"});return}const re=_.reduce((Oe,Pe)=>Oe+(Pe.capacity||0),0),Le=j.filter(Oe=>Oe.status==="confirmed").length;if(N.status==="confirmed"&&Le>=re){t({status:"error",title:"Capacit atteinte"});return}S(Oe=>[...Oe,{id:Date.now(),type:"adult",status:"pending",...N}])},me=(N,re)=>{S(Le=>Le.map(Oe=>Oe.id===N?{...Oe,...re}:Oe))},Ee=N=>S(re=>re.filter(Le=>Le.id!==N)),pe=()=>{E(N=>[...N,{id:Date.now(),name:"Nouveau trajet",vehicle:"",capacity:0,stops:[]}])},K=(N,re)=>{const Le=parseInt(re||0,10);E(Oe=>Oe.map(Pe=>Pe.id===N?{...Pe,capacity:Le}:Pe))},Z=b.useMemo(()=>{if(!g)return null;const N=parseFloat(g.adultPrice||0),re=parseFloat(g.childPrice||0),Le=j.filter(ye=>ye.status==="confirmed"),Oe=Le.filter(ye=>ye.type==="adult").length,Pe=Le.filter(ye=>ye.type==="child").length,it=Math.round(Oe*N+Pe*re),ot=_.reduce((ye,Ze)=>ye+(Ze.capacity||0),0),Qe=Le.length,wt=ot>0?Math.round(Qe/ot*100):0,$e=Math.round(it*.25+ot*2+Qe*3),Bt=it-$e;return{revenue:it,expenses:$e,profit:Bt,capacity:ot,occupancy:Qe,rate:wt,breakdown:{adult:{price:N,count:Oe,total:N*Oe},child:{price:re,count:Pe,total:re*Pe},expenseLines:[{label:"Base (25%)",amount:Math.round(it*.25)},{label:`Capacit (${ot})`,amount:Math.round(ot*2)},{label:`Participants (${Qe})`,amount:Math.round(Qe*3)}]}}},[g,j,_]);b.useEffect(()=>{Z&&T(Z)},[Z]);const W=async()=>{G(!0);try{t({status:"success",title:"Modifications sauvegardes"})}catch{t({status:"error",title:"Erreur de sauvegarde"})}finally{G(!1)}},[H,Se]=b.useState({type:"recette",description:"",amount:0,category:""}),[B,ie]=b.useState(!1),[he,F]=b.useState([]),P=async()=>{if(g){ie(!0);try{const N={id:Date.now(),...H,date:new Date};F(re=>[...re,N]),Se({type:"recette",description:"",amount:0,category:""}),t({status:"success",title:"Transaction ajoute"})}catch{t({status:"error",title:"Erreur d'ajout de transaction"})}finally{ie(!1)}}};return e.jsxs(ds,{maxW:"7xl",py:6,children:[e.jsxs(oe,{align:"start",spacing:6,mb:8,children:[e.jsxs(le,{w:"100%",justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"lg",children:" Gestion des vnements"}),e.jsx(D,{color:"gray.600",children:"Administration des vnements, participants et finances"})]}),e.jsxs(le,{children:[e.jsx(ne,{as:tr,to:"/dashboard/evenements",leftIcon:e.jsx(Bn,{}),colorScheme:"blue",variant:"outline",children:"Crer un vnement"}),e.jsx(ne,{leftIcon:e.jsx(Wa,{}),onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})]}),e.jsxs(ht,{columns:{base:2,md:5},spacing:4,w:"100%",children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Total"}),e.jsx(At,{color:"blue.500",children:ue.total})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Publis"}),e.jsx(At,{color:"green.500",children:ue.published})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:" venir"}),e.jsx(At,{color:"orange.500",children:ue.upcoming})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Participants"}),e.jsx(At,{color:"purple.500",children:ue.totalParticipants})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Revenus"}),e.jsxs(At,{color:"green.600",children:[ue.totalRevenue,""]})]})})})]})]}),e.jsx(Ie,{mb:6,children:e.jsx(Ne,{children:e.jsxs(le,{spacing:4,children:[e.jsxs(_u,{maxW:"320px",children:[e.jsx(Cu,{pointerEvents:"none",children:e.jsx(Jx,{})}),e.jsx(je,{placeholder:"Rechercher un vnement...",value:u,onChange:N=>d(N.target.value)})]}),e.jsxs(st,{maxW:"220px",value:m,onChange:N=>p(N.target.value),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),e.jsx("option",{value:"PUBLISHED",children:"Publis"}),e.jsx("option",{value:"DRAFT",children:"Brouillons"}),e.jsx("option",{value:"ARCHIVED",children:"Archivs"})]})]})})}),s?e.jsx(jn,{py:20,children:e.jsx(Sn,{size:"xl"})}):ee.length===0?e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsx(jn,{py:16,children:e.jsxs(oe,{spacing:4,children:[e.jsx(D,{color:"gray.500",children:"Aucun vnement trouv"}),e.jsx(ne,{as:tr,to:"/dashboard/evenements",leftIcon:e.jsx(Bn,{}),colorScheme:"blue",children:"Crer le premier"})]})})})}):e.jsx(Ie,{children:e.jsx(Ne,{p:0,children:e.jsxs(Rr,{variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"vnement"}),e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:ee.map(N=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"semibold",children:N.title}),N.location&&e.jsxs(le,{fontSize:"sm",color:"gray.600",children:[e.jsx(mc,{}),e.jsx(D,{children:N.location})]}),N.vehicleId&&e.jsxs(le,{fontSize:"sm",color:"blue.600",children:[e.jsx(xc,{}),e.jsx(D,{children:N.vehicleId})]})]})}),e.jsxs(Ve,{children:[lQ(N.date),N.time?e.jsx(D,{fontSize:"sm",color:"gray.600",children:N.time}):null]}),e.jsx(Ve,{children:oQ(N.status)}),e.jsx(Ve,{children:e.jsxs(le,{spacing:1,children:[e.jsx(qi,{label:"Gestion complte",children:e.jsx(yt,{"aria-label":"Grer",icon:e.jsx(bp,{}),size:"sm",variant:"ghost",onClick:()=>fe(N)})}),e.jsx(qi,{label:"Modifier l'vnement",children:e.jsx(yt,{as:tr,to:"/dashboard/evenements","aria-label":"Modifier",icon:e.jsx(_i,{}),size:"sm",variant:"ghost"})}),e.jsx(qi,{label:"Exporter ( venir)",children:e.jsx(yt,{"aria-label":"Exporter",icon:e.jsx(_l,{}),size:"sm",variant:"ghost",onClick:()=>t({status:"info",title:"Bientt disponible"})})})]})})]},N.id))})]})})}),e.jsxs(kt,{isOpen:k,onClose:I,size:"6xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",children:[e.jsx(Mt,{children:e.jsxs(le,{children:[e.jsx(bp,{}),e.jsxs(D,{ml:2,children:["Gestion : ",g?.title]})]})}),e.jsx($t,{}),e.jsx(Pt,{overflow:"auto",children:e.jsxs(Oo,{children:[e.jsxs(No,{children:[e.jsx(pn,{children:" Participants"}),e.jsx(pn,{children:" Trajets"}),e.jsx(pn,{children:" Finances"}),e.jsx(pn,{children:" HelloAsso"})]}),e.jsxs(Io,{children:[e.jsx(mn,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(De,{size:"md",children:["Participants (",j.length,")"]}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",size:"sm",onClick:()=>X({name:"Nouveau participant",email:`user${Date.now()}@mail.com`,type:"adult",status:"pending"}),children:"Ajouter vite (dmo)"})]}),j.length===0?e.jsx(jn,{py:8,children:e.jsx(D,{color:"gray.500",children:"Aucun participant"})}):e.jsxs(Rr,{size:"sm",variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Nom"}),e.jsx(He,{children:"Email"}),e.jsx(He,{children:"Type"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{})]})}),e.jsx($r,{children:j.map(N=>e.jsxs(Qt,{children:[e.jsx(Ve,{fontWeight:"bold",children:N.name}),e.jsx(Ve,{children:N.email}),e.jsx(Ve,{children:e.jsxs(st,{size:"sm",value:N.type,onChange:re=>me(N.id,{type:re.target.value}),children:[e.jsx("option",{value:"adult",children:"Adulte"}),e.jsx("option",{value:"child",children:"Enfant"})]})}),e.jsx(Ve,{children:e.jsxs(st,{size:"sm",value:N.status,onChange:re=>me(N.id,{status:re.target.value}),children:[e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"confirmed",children:"Confirm"}),e.jsx("option",{value:"cancelled",children:"Annul"})]})}),e.jsx(Ve,{isNumeric:!0,children:e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>Ee(N.id)})})]},N.id))})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"md",children:"Trajets"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),size:"sm",colorScheme:"blue",onClick:pe,children:"Ajouter un trajet"})]}),e.jsx(Ie,{bg:"blue.50",borderLeft:"4px solid",borderLeftColor:"blue.400",children:e.jsx(Ne,{children:e.jsxs(le,{spacing:8,children:[e.jsxs(Ct,{children:[e.jsx(Et,{children:"Capacit totale"}),e.jsxs(At,{color:"blue.600",children:[A.capacity," places"]})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Confirms"}),e.jsx(At,{color:"green.600",children:A.occupancy})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Taux d'occupation"}),e.jsxs(At,{color:"purple.600",children:[A.rate,"%"]})]})]})})}),e.jsx(ht,{columns:{base:1,lg:2},spacing:4,children:_.map(N=>e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:N.name}),N.vehicle&&e.jsx(nt,{colorScheme:"blue",children:N.vehicle})]})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(le,{children:[e.jsx(Qs,{}),e.jsx(D,{fontSize:"sm",children:"Capacit:"}),e.jsxs(Yn,{size:"sm",min:0,max:200,value:N.capacity||0,onChange:re=>K(N.id,re),w:"90px",children:[e.jsx(Xn,{}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"places"})]}),e.jsxs(le,{spacing:3,children:[e.jsxs(D,{fontSize:"sm",fontWeight:"bold",children:[A.occupancy," / ",N.capacity||0]}),e.jsx(pc,{value:(N.capacity||0)>0?Math.min(100,Math.round(A.occupancy/N.capacity*100)):0,size:"sm",colorScheme:(N.capacity||0)>0&&A.occupancy/(N.capacity||1)>.9?"red":(N.capacity||0)>0&&A.occupancy/(N.capacity||1)>.75?"orange":"green",flex:1})]}),e.jsx(xe,{fontSize:"sm",color:"gray.600",children:N.stops?.length?e.jsx("ul",{style:{marginLeft:"1rem"},children:N.stops.map((re,Le)=>e.jsxs("li",{children:[re.time?`${re.time}  `:"",re.name]},Le))}):e.jsx(D,{children:"Aucun arrt"})})]})})]},N.id))})]})}),e.jsx(mn,{children:e.jsxs(oe,{align:"stretch",spacing:6,children:[e.jsx(De,{size:"md",children:"Finances"}),e.jsxs(ht,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Revenus"}),e.jsxs(At,{color:"green.500",children:[A.revenue,""]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Dpenses"}),e.jsxs(At,{color:"red.500",children:[A.expenses,""]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Bnfice"}),e.jsxs(At,{color:A.profit>=0?"green.500":"red.500",children:[A.profit,""]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Taux d'occupation"}),e.jsxs(At,{color:"blue.500",children:[A.rate,"%"]}),e.jsxs(D,{fontSize:"xs",color:"gray.600",children:[A.occupancy," / ",A.capacity," places"]})]})})})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Revenus"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(D,{children:["Adulte (",A.breakdown?.adult.count,")"]}),e.jsxs(D,{fontWeight:"bold",children:[Math.round(A.breakdown?.adult.total||0),""]})]}),e.jsxs(le,{justify:"space-between",children:[e.jsxs(D,{children:["Enfant (",A.breakdown?.child.count,")"]}),e.jsxs(D,{fontWeight:"bold",children:[Math.round(A.breakdown?.child.total||0),""]})]}),e.jsx(Ln,{}),e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{fontWeight:"bold",children:"Total"}),e.jsxs(D,{fontWeight:"bold",color:"green.500",children:[A.revenue,""]})]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Dpenses"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[A.breakdown?.expenseLines?.map((N,re)=>e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{fontSize:"sm",children:N.label}),e.jsxs(D,{fontWeight:"bold",children:[N.amount,""]})]},re)),e.jsx(Ln,{}),e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{fontWeight:"bold",children:"Total"}),e.jsxs(D,{fontWeight:"bold",color:"red.500",children:[A.expenses,""]})]})]})})]})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:"Configuration HelloAsso"}),e.jsxs(J,{children:[e.jsx(Q,{children:"URL de l'vnement"}),e.jsx(je,{placeholder:"https://www.helloasso.com/associations/.../evenements/...",value:z.url,onChange:N=>M(re=>({...re,url:N.target.value}))}),e.jsx(D,{fontSize:"xs",color:"gray.500",mt:1,children:"Optionnel : on peut parser plus tard"})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Organisation"}),e.jsx(je,{value:z.org,onChange:N=>M(re=>({...re,org:N.target.value})),placeholder:"nom-organisation"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"vnement"}),e.jsx(je,{value:z.event,onChange:N=>M(re=>({...re,event:N.target.value})),placeholder:"nom-evenement"})]})]}),e.jsx(ne,{leftIcon:e.jsx(gc,{}),onClick:()=>t({status:"success",title:"Paramtres enregistrs"}),colorScheme:"blue",children:"Sauvegarder"}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:"Participants HelloAsso"}),e.jsx(nt,{colorScheme:"gray",children:"Non synchronis"})]})}),e.jsxs(Ne,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"La synchronisation sera ajoute ultrieurement."}),e.jsxs(xe,{mt:3,children:[e.jsxs(ux,{fontSize:"xs",children:["org: ",z.org||"-"]}),"  ",e.jsxs(ux,{fontSize:"xs",children:["event: ",z.event||"-"]})]})]})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(De,{size:"md",children:"Transactions lies  lvnement"}),e.jsxs(le,{children:[e.jsxs(st,{maxW:"160px",value:H.type,onChange:N=>Se(re=>({...re,type:N.target.value})),children:[e.jsx("option",{value:"recette",children:"Recette"}),e.jsx("option",{value:"depense",children:"Dpense"})]}),e.jsx(je,{placeholder:"Description",value:H.description,onChange:N=>Se(re=>({...re,description:N.target.value}))}),e.jsxs(Yn,{maxW:"160px",value:H.amount,min:0,precision:2,step:1,onChange:(N,re)=>Se(Le=>({...Le,amount:Number.isFinite(re)?re:0})),children:[e.jsx(Xn,{placeholder:"Montant"}),e.jsxs(ss,{children:[e.jsx(os,{}),e.jsx(as,{})]})]}),e.jsxs(st,{maxW:"220px",placeholder:"Catgorie",value:H.category,onChange:N=>Se(re=>({...re,category:N.target.value})),children:[e.jsx("option",{value:"evenements",children:"vnements"}),e.jsx("option",{value:"carburant",children:"Carburant"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"materiel",children:"Matriel"}),e.jsx("option",{value:"autres",children:"Autres"})]}),e.jsx(ne,{leftIcon:e.jsx(gc,{}),colorScheme:"blue",onClick:P,children:"Ajouter"})]}),e.jsx(Ie,{children:e.jsx(Ne,{p:0,children:B?e.jsx(jn,{py:8,children:e.jsx(Sn,{})}):he.length===0?e.jsx(jn,{py:10,children:e.jsx(D,{color:"gray.500",children:"Aucune transaction lie"})}):e.jsxs(Rr,{size:"sm",variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Type"}),e.jsx(He,{children:"Description"}),e.jsx(He,{children:"Catgorie"}),e.jsx(He,{isNumeric:!0,children:"Montant"})]})}),e.jsx($r,{children:he.map(N=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:N.date?new Date(N.date).toLocaleDateString("fr-FR"):"-"}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:N.type==="recette"?"green":"red",children:N.type==="recette"?"Recette":"Dpense"})}),e.jsx(Ve,{children:N.description}),e.jsx(Ve,{children:e.jsx(nt,{variant:"subtle",children:N.category||"-"})}),e.jsx(Ve,{isNumeric:!0,children:e.jsx(D,{fontWeight:"bold",color:N.type==="recette"?"green.500":"red.500",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(N.amount||0)})})]},N.id))})]})})})]})})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:I,children:"Fermer"}),e.jsx(ne,{colorScheme:"blue",leftIcon:e.jsx(gc,{}),onClick:W,isLoading:$,children:"Sauvegarder"})]})]})]})]})}function VR(t,n){const r=b.useRef(n);b.useEffect(function(){n!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),n!=null&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}const uQ=1;function dQ(t){return Object.freeze({__version:uQ,map:t})}function UR(t,n){return Object.freeze({...t,...n})}const p1=b.createContext(null);function ev(){const t=b.use(p1);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function HR(t){function n(r,s){const{instance:l,context:u}=t(r).current;b.useImperativeHandle(s,()=>l);const{children:d}=r;return d==null?null:cn.createElement(p1,{value:u},d)}return b.forwardRef(n)}function hQ(t){function n(r,s){const[l,u]=b.useState(!1),{instance:d}=t(r,u).current;b.useImperativeHandle(s,()=>d),b.useEffect(function(){l&&d.update()},[d,l,r.children]);const m=d._contentNode;return m?Ej.createPortal(r.children,m):null}return b.forwardRef(n)}function fQ(t){function n(r,s){const{instance:l}=t(r).current;return b.useImperativeHandle(s,()=>l),null}return b.forwardRef(n)}function m1(t,n){const r=b.useRef(void 0);b.useEffect(function(){return n!=null&&t.instance.on(n),r.current=n,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,n])}function tv(t,n){const r=t.pane??n.pane;return r?{...t,pane:r}:t}function pQ(t,n){return function(s,l){const u=ev(),d=t(tv(s,u),u);return VR(u.map,s.attribution),m1(d.current,s.eventHandlers),n(d.current,u,s,l),d}}var Nf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var mQ=Nf.exports,AA;function gQ(){return AA||(AA=1,(function(t,n){(function(r,s){s(n)})(mQ,(function(r){var s="1.9.4";function l(o){var h,v,C,R;for(v=1,C=arguments.length;v<C;v++){R=arguments[v];for(h in R)o[h]=R[h]}return o}var u=Object.create||(function(){function o(){}return function(h){return o.prototype=h,new o}})();function d(o,h){var v=Array.prototype.slice;if(o.bind)return o.bind.apply(o,v.call(arguments,1));var C=v.call(arguments,2);return function(){return o.apply(h,C.length?C.concat(v.call(arguments)):arguments)}}var m=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++m),o._leaflet_id}function g(o,h,v){var C,R,q,ce;return ce=function(){C=!1,R&&(q.apply(v,R),R=!1)},q=function(){C?R=arguments:(o.apply(v,arguments),setTimeout(ce,h),C=!0)},q}function x(o,h,v){var C=h[1],R=h[0],q=C-R;return o===C&&v?o:((o-R)%q+q)%q+R}function j(){return!1}function S(o,h){if(h===!1)return o;var v=Math.pow(10,h===void 0?6:h);return Math.round(o*v)/v}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function E(o){return _(o).split(/\s+/)}function A(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var v in h)o.options[v]=h[v];return o.options}function T(o,h,v){var C=[];for(var R in o)C.push(encodeURIComponent(v?R.toUpperCase():R)+"="+encodeURIComponent(o[R]));return(!h||h.indexOf("?")===-1?"?":"&")+C.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function M(o,h){return o.replace(z,function(v,C){var R=h[C];if(R===void 0)throw new Error("No value provided for variable "+v);return typeof R=="function"&&(R=R(h)),R})}var k=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function O(o,h){for(var v=0;v<o.length;v++)if(o[v]===h)return v;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var G=0;function ee(o){var h=+new Date,v=Math.max(0,16-(h-G));return G=h+v,window.setTimeout(o,v)}var ue=window.requestAnimationFrame||$("RequestAnimationFrame")||ee,fe=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function X(o,h,v){if(v&&ue===ee)o.call(h);else return ue.call(window,d(o,h))}function me(o){o&&fe.call(window,o)}var Ee={__proto__:null,extend:l,create:u,bind:d,get lastId(){return m},stamp:p,throttle:g,wrapNum:x,falseFn:j,formatNum:S,trim:_,splitWords:E,setOptions:A,getParamString:T,template:M,isArray:k,indexOf:O,emptyImageUrl:I,requestFn:ue,cancelFn:fe,requestAnimFrame:X,cancelAnimFrame:me};function pe(){}pe.extend=function(o){var h=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=h.__super__=this.prototype,C=u(v);C.constructor=h,h.prototype=C;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(h[R]=this[R]);return o.statics&&l(h,o.statics),o.includes&&(K(o.includes),l.apply(null,[C].concat(o.includes))),l(C,o),delete C.statics,delete C.includes,C.options&&(C.options=v.options?u(v.options):{},l(C.options,o.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var q=0,ce=C._initHooks.length;q<ce;q++)C._initHooks[q].call(this)}},h},pe.include=function(o){var h=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},pe.mergeOptions=function(o){return l(this.prototype.options,o),this},pe.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),v=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function K(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=k(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(o,h,v){if(typeof o=="object")for(var C in o)this._on(C,o[C],h);else{o=E(o);for(var R=0,q=o.length;R<q;R++)this._on(o[R],h,v)}return this},off:function(o,h,v){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var C in o)this._off(C,o[C],h);else{o=E(o);for(var R=arguments.length===1,q=0,ce=o.length;q<ce;q++)R?this._off(o[q]):this._off(o[q],h,v)}return this},_on:function(o,h,v,C){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,v)===!1){v===this&&(v=void 0);var R={fn:h,ctx:v};C&&(R.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(R)}},_off:function(o,h,v){var C,R,q;if(this._events&&(C=this._events[o],!!C)){if(arguments.length===1){if(this._firingCount)for(R=0,q=C.length;R<q;R++)C[R].fn=j;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var ce=this._listens(o,h,v);if(ce!==!1){var Ce=C[ce];this._firingCount&&(Ce.fn=j,this._events[o]=C=C.slice()),C.splice(ce,1)}}},fire:function(o,h,v){if(!this.listens(o,v))return this;var C=l({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var R=this._events[o];if(R){this._firingCount=this._firingCount+1||1;for(var q=0,ce=R.length;q<ce;q++){var Ce=R[q],ze=Ce.fn;Ce.once&&this.off(o,ze,Ce.ctx),ze.call(Ce.ctx||this,C)}this._firingCount--}}return v&&this._propagateEvent(C),this},listens:function(o,h,v,C){typeof o!="string"&&console.warn('"string" type argument expected');var R=h;typeof h!="function"&&(C=!!h,R=void 0,v=void 0);var q=this._events&&this._events[o];if(q&&q.length&&this._listens(o,R,v)!==!1)return!0;if(C){for(var ce in this._eventParents)if(this._eventParents[ce].listens(o,h,v,C))return!0}return!1},_listens:function(o,h,v){if(!this._events)return!1;var C=this._events[o]||[];if(!h)return!!C.length;v===this&&(v=void 0);for(var R=0,q=C.length;R<q;R++)if(C[R].fn===h&&C[R].ctx===v)return R;return!1},once:function(o,h,v){if(typeof o=="object")for(var C in o)this._on(C,o[C],h,!0);else{o=E(o);for(var R=0,q=o.length;R<q;R++)this._on(o[R],h,v,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var W=pe.extend(Z);function H(o,h,v){this.x=v?Math.round(o):o,this.y=v?Math.round(h):h}var Se=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(o){return this.clone()._add(B(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(B(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new H(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new H(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(o){o=B(o);var h=o.x-this.x,v=o.y-this.y;return Math.sqrt(h*h+v*v)},equals:function(o){return o=B(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=B(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function B(o,h,v){return o instanceof H?o:k(o)?new H(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new H(o.x,o.y):new H(o,h,v)}function ie(o,h){if(o)for(var v=h?[o,h]:o,C=0,R=v.length;C<R;C++)this.extend(v[C])}ie.prototype={extend:function(o){var h,v;if(!o)return this;if(o instanceof H||typeof o[0]=="number"||"x"in o)h=v=B(o);else if(o=he(o),h=o.min,v=o.max,!h||!v)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=v.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(o){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,v;return typeof o[0]=="number"||o instanceof H?o=B(o):o=he(o),o instanceof ie?(h=o.min,v=o.max):h=v=o,h.x>=this.min.x&&v.x<=this.max.x&&h.y>=this.min.y&&v.y<=this.max.y},intersects:function(o){o=he(o);var h=this.min,v=this.max,C=o.min,R=o.max,q=R.x>=h.x&&C.x<=v.x,ce=R.y>=h.y&&C.y<=v.y;return q&&ce},overlaps:function(o){o=he(o);var h=this.min,v=this.max,C=o.min,R=o.max,q=R.x>h.x&&C.x<v.x,ce=R.y>h.y&&C.y<v.y;return q&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,v=this.max,C=Math.abs(h.x-v.x)*o,R=Math.abs(h.y-v.y)*o;return he(B(h.x-C,h.y-R),B(v.x+C,v.y+R))},equals:function(o){return o?(o=he(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function he(o,h){return!o||o instanceof ie?o:new ie(o,h)}function F(o,h){if(o)for(var v=h?[o,h]:o,C=0,R=v.length;C<R;C++)this.extend(v[C])}F.prototype={extend:function(o){var h=this._southWest,v=this._northEast,C,R;if(o instanceof N)C=o,R=o;else if(o instanceof F){if(C=o._southWest,R=o._northEast,!C||!R)return this}else return o?this.extend(re(o)||P(o)):this;return!h&&!v?(this._southWest=new N(C.lat,C.lng),this._northEast=new N(R.lat,R.lng)):(h.lat=Math.min(C.lat,h.lat),h.lng=Math.min(C.lng,h.lng),v.lat=Math.max(R.lat,v.lat),v.lng=Math.max(R.lng,v.lng)),this},pad:function(o){var h=this._southWest,v=this._northEast,C=Math.abs(h.lat-v.lat)*o,R=Math.abs(h.lng-v.lng)*o;return new F(new N(h.lat-C,h.lng-R),new N(v.lat+C,v.lng+R))},getCenter:function(){return new N((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new N(this.getNorth(),this.getWest())},getSouthEast:function(){return new N(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof N||"lat"in o?o=re(o):o=P(o);var h=this._southWest,v=this._northEast,C,R;return o instanceof F?(C=o.getSouthWest(),R=o.getNorthEast()):C=R=o,C.lat>=h.lat&&R.lat<=v.lat&&C.lng>=h.lng&&R.lng<=v.lng},intersects:function(o){o=P(o);var h=this._southWest,v=this._northEast,C=o.getSouthWest(),R=o.getNorthEast(),q=R.lat>=h.lat&&C.lat<=v.lat,ce=R.lng>=h.lng&&C.lng<=v.lng;return q&&ce},overlaps:function(o){o=P(o);var h=this._southWest,v=this._northEast,C=o.getSouthWest(),R=o.getNorthEast(),q=R.lat>h.lat&&C.lat<v.lat,ce=R.lng>h.lng&&C.lng<v.lng;return q&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=P(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function P(o,h){return o instanceof F?o:new F(o,h)}function N(o,h,v){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,v!==void 0&&(this.alt=+v)}N.prototype={equals:function(o,h){if(!o)return!1;o=re(o);var v=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return v<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+S(this.lat,o)+", "+S(this.lng,o)+")"},distanceTo:function(o){return Oe.distance(this,re(o))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,v=h/Math.cos(Math.PI/180*this.lat);return P([this.lat-h,this.lng-v],[this.lat+h,this.lng+v])},clone:function(){return new N(this.lat,this.lng,this.alt)}};function re(o,h,v){return o instanceof N?o:k(o)&&typeof o[0]!="object"?o.length===3?new N(o[0],o[1],o[2]):o.length===2?new N(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new N(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new N(o,h,v)}var Le={latLngToPoint:function(o,h){var v=this.projection.project(o),C=this.scale(h);return this.transformation._transform(v,C)},pointToLatLng:function(o,h){var v=this.scale(h),C=this.transformation.untransform(o,v);return this.projection.unproject(C)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,v=this.scale(o),C=this.transformation.transform(h.min,v),R=this.transformation.transform(h.max,v);return new ie(C,R)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?x(o.lng,this.wrapLng,!0):o.lng,v=this.wrapLat?x(o.lat,this.wrapLat,!0):o.lat,C=o.alt;return new N(v,h,C)},wrapLatLngBounds:function(o){var h=o.getCenter(),v=this.wrapLatLng(h),C=h.lat-v.lat,R=h.lng-v.lng;if(C===0&&R===0)return o;var q=o.getSouthWest(),ce=o.getNorthEast(),Ce=new N(q.lat-C,q.lng-R),ze=new N(ce.lat-C,ce.lng-R);return new F(Ce,ze)}},Oe=l({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var v=Math.PI/180,C=o.lat*v,R=h.lat*v,q=Math.sin((h.lat-o.lat)*v/2),ce=Math.sin((h.lng-o.lng)*v/2),Ce=q*q+Math.cos(C)*Math.cos(R)*ce*ce,ze=2*Math.atan2(Math.sqrt(Ce),Math.sqrt(1-Ce));return this.R*ze}}),Pe=6378137,it={R:Pe,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,v=this.MAX_LATITUDE,C=Math.max(Math.min(v,o.lat),-v),R=Math.sin(C*h);return new H(this.R*o.lng*h,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(o){var h=180/Math.PI;return new N((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:(function(){var o=Pe*Math.PI;return new ie([-o,-o],[o,o])})()};function ot(o,h,v,C){if(k(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=v,this._d=C}ot.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new H((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Qe(o,h,v,C){return new ot(o,h,v,C)}var wt=l({},Oe,{code:"EPSG:3857",projection:it,transformation:(function(){var o=.5/(Math.PI*it.R);return Qe(o,.5,-o,.5)})()}),$e=l({},wt,{code:"EPSG:900913"});function Bt(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ye(o,h){var v="",C,R,q,ce,Ce,ze;for(C=0,q=o.length;C<q;C++){for(Ce=o[C],R=0,ce=Ce.length;R<ce;R++)ze=Ce[R],v+=(R?"L":"M")+ze.x+" "+ze.y;v+=h?pt.svg?"z":"x":""}return v||"M0 0"}var Ze=document.documentElement.style,Tt="ActiveXObject"in window,ae=Tt&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),Je=tt("webkit"),bt=tt("android"),An=tt("android 2")||tt("android 3"),nr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=bt&&tt("Google")&&nr<537&&!("AudioNode"in window),et=!!window.opera,jt=!ge&&tt("chrome"),Ye=tt("gecko")&&!Je&&!et&&!Tt,ft=!jt&&tt("safari"),Tn=tt("phantom"),qe="OTransition"in Ze,xt=navigator.platform.indexOf("Win")===0,en=Tt&&"transition"in Ze,dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!An,Zt="MozPerspective"in Ze,Rn=!window.L_DISABLE_3D&&(en||dn||Zt)&&!qe&&!Tn,an=typeof orientation<"u"||tt("mobile"),Sr=an&&Je,hr=an&&dn,Vr=!window.PointerEvent&&window.MSPointerEvent,kn=!!(window.PointerEvent||Vr),cr="ontouchstart"in window||!!window.TouchEvent,Kr=!window.L_NO_TOUCH&&(cr||kn),Ya=an&&et,Xa=an&&Ye,Ts=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ks=(function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",j,h),window.removeEventListener("testPassiveEventSupport",j,h)}catch{}return o})(),Ka=(function(){return!!document.createElement("canvas").getContext})(),ai=!!(document.createElementNS&&Bt("svg").createSVGRect),Ii=!!ai&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Dr=!ai&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),Ur=navigator.platform.indexOf("Mac")===0,Gi=navigator.platform.indexOf("Linux")===0;function tt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var pt={ie:Tt,ielt9:ae,edge:ge,webkit:Je,android:bt,android23:An,androidStock:Fe,opera:et,chrome:jt,gecko:Ye,safari:ft,phantom:Tn,opera12:qe,win:xt,ie3d:en,webkit3d:dn,gecko3d:Zt,any3d:Rn,mobile:an,mobileWebkit:Sr,mobileWebkit3d:hr,msPointer:Vr,pointer:kn,touch:Kr,touchNative:cr,mobileOpera:Ya,mobileGecko:Xa,retina:Ts,passiveEvents:ks,canvas:Ka,svg:ai,vml:Dr,inlineSvg:Ii,mac:Ur,linux:Gi},Cl=pt.msPointer?"MSPointerDown":"pointerdown",Ca=pt.msPointer?"MSPointerMove":"pointermove",ia=pt.msPointer?"MSPointerUp":"pointerup",Qa=pt.msPointer?"MSPointerCancel":"pointercancel",Bi={touchstart:Cl,touchmove:Ca,touchend:ia,touchcancel:Qa},pi={touchstart:eo,touchmove:fs,touchend:fs,touchcancel:fs},Ci={},Zi=!1;function wr(o,h,v){return h==="touchstart"&&Al(),pi[h]?(v=pi[h].bind(this,v),o.addEventListener(Bi[h],v,!1),v):(console.warn("wrong event specified:",h),j)}function El(o,h,v){if(!Bi[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(Bi[h],v,!1)}function Ja(o){Ci[o.pointerId]=o}function Ps(o){Ci[o.pointerId]&&(Ci[o.pointerId]=o)}function Ei(o){delete Ci[o.pointerId]}function Al(){Zi||(document.addEventListener(Cl,Ja,!0),document.addEventListener(Ca,Ps,!0),document.addEventListener(ia,Ei,!0),document.addEventListener(Qa,Ei,!0),Zi=!0)}function fs(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var v in Ci)h.touches.push(Ci[v]);h.changedTouches=[h],o(h)}}function eo(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&fr(h),fs(o,h)}function Tl(o){var h={},v,C;for(C in o)v=o[C],h[C]=v&&v.bind?v.bind(o):v;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Ms=200;function Ea(o,h){o.addEventListener("dblclick",h);var v=0,C;function R(q){if(q.detail!==1){C=q.detail;return}if(!(q.pointerType==="mouse"||q.sourceCapabilities&&!q.sourceCapabilities.firesTouchEvents)){var ce=$o(q);if(!(ce.some(function(ze){return ze instanceof HTMLLabelElement&&ze.attributes.for})&&!ce.some(function(ze){return ze instanceof HTMLInputElement||ze instanceof HTMLSelectElement}))){var Ce=Date.now();Ce-v<=Ms?(C++,C===2&&h(Tl(q))):C=1,v=Ce}}}return o.addEventListener("click",R),{dblclick:h,simDblclick:R}}function Ai(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Aa=Ls(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sa=Ls(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yi=sa==="webkitTransition"||sa==="OTransition"?sa+"End":"transitionend";function Bo(o){return typeof o=="string"?document.getElementById(o):o}function Rs(o,h){var v=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!v||v==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(o,null);v=C?C[h]:null}return v==="auto"?null:v}function gn(o,h,v){var C=document.createElement(o);return C.className=h||"",v&&v.appendChild(C),C}function zt(o){var h=o.parentNode;h&&h.removeChild(o)}function Qn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function mi(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function zs(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Ds(o,h){if(o.classList!==void 0)return o.classList.contains(h);var v=rr(o);return v.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(v)}function Yt(o,h){if(o.classList!==void 0)for(var v=E(h),C=0,R=v.length;C<R;C++)o.classList.add(v[C]);else if(!Ds(o,h)){var q=rr(o);ps(o,(q?q+" ":"")+h)}}function $n(o,h){o.classList!==void 0?o.classList.remove(h):ps(o,_((" "+rr(o)+" ").replace(" "+h+" "," ")))}function ps(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function rr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function _r(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&Ta(o,h)}function Ta(o,h){var v=!1,C="DXImageTransform.Microsoft.Alpha";try{v=o.filters.item(C)}catch{if(h===1)return}h=Math.round(h*100),v?(v.Enabled=h!==100,v.Opacity=h):o.style.filter+=" progid:"+C+"(opacity="+h+")"}function Ls(o){for(var h=document.documentElement.style,v=0;v<o.length;v++)if(o[v]in h)return o[v];return!1}function Qr(o,h,v){var C=h||new H(0,0);o.style[Aa]=(pt.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(v?" scale("+v+")":"")}function ir(o,h){o._leaflet_pos=h,pt.any3d?Qr(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function Ti(o){return o._leaflet_pos||new H(0,0)}var gi,ka,to;if("onselectstart"in document)gi=function(){Ut(window,"selectstart",fr)},ka=function(){xn(window,"selectstart",fr)};else{var Pa=Ls(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gi=function(){if(Pa){var o=document.documentElement.style;to=o[Pa],o[Pa]="none"}},ka=function(){Pa&&(document.documentElement.style[Pa]=to,to=void 0)}}function Os(){Ut(window,"dragstart",fr)}function Ma(){xn(window,"dragstart",fr)}var no,Ns;function ms(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(gs(),no=o,Ns=o.style.outlineStyle,o.style.outlineStyle="none",Ut(window,"keydown",gs))}function gs(){no&&(no.style.outlineStyle=Ns,no=void 0,Ns=void 0,xn(window,"keydown",gs))}function $i(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ct(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var xi={__proto__:null,TRANSFORM:Aa,TRANSITION:sa,TRANSITION_END:Yi,get:Bo,getStyle:Rs,create:gn,remove:zt,empty:Qn,toFront:mi,toBack:zs,hasClass:Ds,addClass:Yt,removeClass:$n,setClass:ps,getClass:rr,setOpacity:_r,testProp:Ls,setTransform:Qr,setPosition:ir,getPosition:Ti,get disableTextSelection(){return gi},get enableTextSelection(){return ka},disableImageDrag:Os,enableImageDrag:Ma,preventOutline:ms,restoreOutline:gs,getSizedParentNode:$i,getScale:ct};function Ut(o,h,v,C){if(h&&typeof h=="object")for(var R in h)Ki(o,R,h[R],v);else{h=E(h);for(var q=0,ce=h.length;q<ce;q++)Ki(o,h[q],v,C)}return this}var oi="_leaflet_events";function xn(o,h,v,C){if(arguments.length===1)Tr(o),delete o[oi];else if(h&&typeof h=="object")for(var R in h)ki(o,R,h[R],v);else if(h=E(h),arguments.length===2)Tr(o,function(Ce){return O(h,Ce)!==-1});else for(var q=0,ce=h.length;q<ce;q++)ki(o,h[q],v,C);return this}function Tr(o,h){for(var v in o[oi]){var C=v.split(/\d/)[0];(!h||h(C))&&ki(o,C,null,null,v)}}var Xi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ki(o,h,v,C){var R=h+p(v)+(C?"_"+p(C):"");if(o[oi]&&o[oi][R])return this;var q=function(Ce){return v.call(C||o,Ce||window.event)},ce=q;!pt.touchNative&&pt.pointer&&h.indexOf("touch")===0?q=wr(o,h,q):pt.touch&&h==="dblclick"?q=Ea(o,q):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Xi[h]||h,q,pt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(q=function(Ce){Ce=Ce||window.event,ut(o,Ce)&&ce(Ce)},o.addEventListener(Xi[h],q,!1)):o.addEventListener(h,ce,!1):o.attachEvent("on"+h,q),o[oi]=o[oi]||{},o[oi][R]=q}function ki(o,h,v,C,R){R=R||h+p(v)+(C?"_"+p(C):"");var q=o[oi]&&o[oi][R];if(!q)return this;!pt.touchNative&&pt.pointer&&h.indexOf("touch")===0?El(o,h,q):pt.touch&&h==="dblclick"?Ai(o,q):"removeEventListener"in o?o.removeEventListener(Xi[h]||h,q,!1):o.detachEvent("on"+h,q),o[oi][R]=null}function Qi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Is(o){return Ki(o,"wheel",Qi),this}function aa(o){return Ut(o,"mousedown touchstart dblclick contextmenu",Qi),o._leaflet_disable_click=!0,this}function fr(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Pi(o){return fr(o),Qi(o),this}function $o(o){if(o.composedPath)return o.composedPath();for(var h=[],v=o.target;v;)h.push(v),v=v.parentNode;return h}function se(o,h){if(!h)return new H(o.clientX,o.clientY);var v=ct(h),C=v.boundingClientRect;return new H((o.clientX-C.left)/v.x-h.clientLeft,(o.clientY-C.top)/v.y-h.clientTop)}var be=pt.linux&&pt.chrome?window.devicePixelRatio:pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Me(o){return pt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/be:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ut(o,h){var v=h.relatedTarget;if(!v)return!0;try{for(;v&&v!==o;)v=v.parentNode}catch{return!1}return v!==o}var un={__proto__:null,on:Ut,off:xn,stopPropagation:Qi,disableScrollPropagation:Is,disableClickPropagation:aa,preventDefault:fr,stop:Pi,getPropagationPath:$o,getMousePosition:se,getWheelDelta:Me,isExternalTarget:ut,addListener:Ut,removeListener:xn},wn=W.extend({run:function(o,h,v,C){this.stop(),this._el=o,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Ti(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,v=this._duration*1e3;h<v?this._runFrame(this._easeOut(h/v),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var v=this._startPos.add(this._offset.multiplyBy(o));h&&v._round(),ir(this._el,v),this.fire("step")},_complete:function(){me(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),mt=W.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=A(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(re(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sa&&pt.any3d&&!pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,Yi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,v){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(re(o),h,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=l({animate:v.animate},v.zoom),v.pan=l({animate:v.animate,duration:v.duration},v.pan));var C=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,v.zoom):this._tryAnimatedPan(o,v.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,v.pan&&v.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,v){var C=this.getZoomScale(h),R=this.getSize().divideBy(2),q=o instanceof H?o:this.latLngToContainerPoint(o),ce=q.subtract(R).multiplyBy(1-1/C),Ce=this.containerPointToLatLng(R.add(ce));return this.setView(Ce,h,{zoom:v})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():P(o);var v=B(h.paddingTopLeft||h.padding||[0,0]),C=B(h.paddingBottomRight||h.padding||[0,0]),R=this.getBoundsZoom(o,!1,v.add(C));if(R=typeof h.maxZoom=="number"?Math.min(h.maxZoom,R):R,R===1/0)return{center:o.getCenter(),zoom:R};var q=C.subtract(v).divideBy(2),ce=this.project(o.getSouthWest(),R),Ce=this.project(o.getNorthEast(),R),ze=this.unproject(ce.add(Ce).divideBy(2).add(q),R);return{center:ze,zoom:R}},fitBounds:function(o,h){if(o=P(o),!o.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(o,h);return this.setView(v.center,v.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=B(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Yt(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,v,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,v){if(v=v||{},v.animate===!1||!pt.any3d)return this.setView(o,h,v);this._stop();var C=this.project(this.getCenter()),R=this.project(o),q=this.getSize(),ce=this._zoom;o=re(o),h=h===void 0?ce:h;var Ce=Math.max(q.x,q.y),ze=Ce*this.getZoomScale(ce,h),Xe=R.distanceTo(C)||1,dt=1.42,gt=dt*dt;function _t(Cr){var ca=Cr?-1:1,Na=Cr?ze:Ce,oo=ze*ze-Ce*Ce+ca*gt*gt*Xe*Xe,Ia=2*Na*gt*Xe,$c=oo/Ia,Zu=Math.sqrt($c*$c+1)-$c,Fc=Zu<1e-9?-18:Math.log(Zu);return Fc}function Kt(Cr){return(Math.exp(Cr)-Math.exp(-Cr))/2}function pr(Cr){return(Math.exp(Cr)+Math.exp(-Cr))/2}function kr(Cr){return Kt(Cr)/pr(Cr)}var bi=_t(0);function vs(Cr){return Ce*(pr(bi)/pr(bi+dt*Cr))}function nm(Cr){return Ce*(pr(bi)*kr(bi+dt*Cr)-Kt(bi))/gt}function rm(Cr){return 1-Math.pow(1-Cr,1.5)}var Bc=Date.now(),Bl=(_t(1)-bi)/dt,im=v.duration?1e3*v.duration:1e3*Bl*.8;function $l(){var Cr=(Date.now()-Bc)/im,ca=rm(Cr)*Bl;Cr<=1?(this._flyToFrame=X($l,this),this._move(this.unproject(C.add(R.subtract(C).multiplyBy(nm(ca)/Xe)),ce),this.getScaleZoom(Ce/vs(ca),ce),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),$l.call(this),this},flyToBounds:function(o,h){var v=this._getBoundsCenterZoom(o,h);return this.flyTo(v.center,v.zoom,h)},setMaxBounds:function(o){return o=P(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var v=this.getCenter(),C=this._limitCenter(v,this._zoom,P(o));return v.equals(C)||this.panTo(C,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var v=B(h.paddingTopLeft||h.padding||[0,0]),C=B(h.paddingBottomRight||h.padding||[0,0]),R=this.project(this.getCenter()),q=this.project(o),ce=this.getPixelBounds(),Ce=he([ce.min.add(v),ce.max.subtract(C)]),ze=Ce.getSize();if(!Ce.contains(q)){this._enforcingBounds=!0;var Xe=q.subtract(Ce.getCenter()),dt=Ce.extend(q).getSize().subtract(ze);R.x+=Xe.x<0?-dt.x:dt.x,R.y+=Xe.y<0?-dt.y:dt.y,this.panTo(this.unproject(R),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),C=h.divideBy(2).round(),R=v.divideBy(2).round(),q=C.subtract(R);return!q.x&&!q.y?this:(o.animate&&o.pan?this.panBy(q):(o.pan&&this._rawPanBy(q),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=d(this._handleGeolocationResponse,this),v=d(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,v,o):navigator.geolocation.getCurrentPosition(h,v,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,v=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,v=o.coords.longitude,C=new N(h,v),R=C.toBounds(o.coords.accuracy*2),q=this._locateOptions;if(q.setView){var ce=this.getBoundsZoom(R);this.setView(C,q.maxZoom?Math.min(ce,q.maxZoom):ce)}var Ce={latlng:C,bounds:R,timestamp:o.timestamp};for(var ze in o.coords)typeof o.coords[ze]=="number"&&(Ce[ze]=o.coords[ze]);this.fire("locationfound",Ce)}},addHandler:function(o,h){if(!h)return this;var v=this[o]=new h(this);return this._handlers.push(v),this.options[o]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(me(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)zt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var v="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),C=gn("div",v,h||this._mapPane);return o&&(this._panes[o]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),v=this.unproject(o.getTopRight());return new F(h,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,v){o=P(o),v=B(v||[0,0]);var C=this.getZoom()||0,R=this.getMinZoom(),q=this.getMaxZoom(),ce=o.getNorthWest(),Ce=o.getSouthEast(),ze=this.getSize().subtract(v),Xe=he(this.project(Ce,C),this.project(ce,C)).getSize(),dt=pt.any3d?this.options.zoomSnap:1,gt=ze.x/Xe.x,_t=ze.y/Xe.y,Kt=h?Math.max(gt,_t):Math.min(gt,_t);return C=this.getScaleZoom(Kt,C),dt&&(C=Math.round(C/(dt/100))*(dt/100),C=h?Math.ceil(C/dt)*dt:Math.floor(C/dt)*dt),Math.max(R,Math.min(q,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var v=this._getTopLeftPoint(o,h);return new ie(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var v=this.options.crs;return h=h===void 0?this._zoom:h,v.scale(o)/v.scale(h)},getScaleZoom:function(o,h){var v=this.options.crs;h=h===void 0?this._zoom:h;var C=v.zoom(o*v.scale(h));return isNaN(C)?1/0:C},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(re(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(B(o),h)},layerPointToLatLng:function(o){var h=B(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(re(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(re(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(P(o))},distance:function(o,h){return this.options.crs.distance(re(o),re(h))},containerPointToLayerPoint:function(o){return B(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return B(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(B(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(o)))},mouseEventToContainerPoint:function(o){return se(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Bo(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&pt.any3d,Yt(o,"leaflet-container"+(pt.touch?" leaflet-touch":"")+(pt.retina?" leaflet-retina":"")+(pt.ielt9?" leaflet-oldie":"")+(pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Rs(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ir(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Yt(o.markerPane,"leaflet-zoom-hide"),Yt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,v){ir(this._mapPane,new H(0,0));var C=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var R=this._zoom!==h;this._moveStart(R,v)._move(o,h)._moveEnd(R),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,v,C){h===void 0&&(h=this._zoom);var R=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),C?v&&v.pinch&&this.fire("zoom",v):((R||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return me(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ir(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var h=o?xn:Ut;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),pt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){me(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var v=[],C,R=h==="mouseout"||h==="mouseover",q=o.target||o.srcElement,ce=!1;q;){if(C=this._targets[p(q)],C&&(h==="click"||h==="preclick")&&this._draggableMoved(C)){ce=!0;break}if(C&&C.listens(h,!0)&&(R&&!ut(q,o)||(v.push(C),R))||q===this._container)break;q=q.parentNode}return!v.length&&!ce&&!R&&this.listens(h,!0)&&(v=[this]),v},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var v=o.type;v==="mousedown"&&ms(h),this._fireDOMEvent(o,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,v){if(o.type==="click"){var C=l({},o);C.type="preclick",this._fireDOMEvent(C,C.type,v)}var R=this._findEventTargets(o,h);if(v){for(var q=[],ce=0;ce<v.length;ce++)v[ce].listens(h,!0)&&q.push(v[ce]);R=q.concat(R)}if(R.length){h==="contextmenu"&&fr(o);var Ce=R[0],ze={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Xe=Ce.getLatLng&&(!Ce._radius||Ce._radius<=10);ze.containerPoint=Xe?this.latLngToContainerPoint(Ce.getLatLng()):this.mouseEventToContainerPoint(o),ze.layerPoint=this.containerPointToLayerPoint(ze.containerPoint),ze.latlng=Xe?Ce.getLatLng():this.layerPointToLatLng(ze.layerPoint)}for(ce=0;ce<R.length;ce++)if(R[ce].fire(h,ze,!0),ze.originalEvent._stopped||R[ce].options.bubblingMouseEvents===!1&&O(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return Ti(this._mapPane)||new H(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var v=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var v=this.getSize()._divideBy(2);return this.project(o,h)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,v){var C=this._getNewPixelOrigin(v,h);return this.project(o,h)._subtract(C)},_latLngBoundsToNewLayerBounds:function(o,h,v){var C=this._getNewPixelOrigin(v,h);return he([this.project(o.getSouthWest(),h)._subtract(C),this.project(o.getNorthWest(),h)._subtract(C),this.project(o.getSouthEast(),h)._subtract(C),this.project(o.getNorthEast(),h)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,v){if(!v)return o;var C=this.project(o,h),R=this.getSize().divideBy(2),q=new ie(C.subtract(R),C.add(R)),ce=this._getBoundsOffset(q,v,h);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?o:this.unproject(C.add(ce),h)},_limitOffset:function(o,h){if(!h)return o;var v=this.getPixelBounds(),C=new ie(v.min.add(o),v.max.add(o));return o.add(this._getBoundsOffset(C,h))},_getBoundsOffset:function(o,h,v){var C=he(this.project(h.getNorthEast(),v),this.project(h.getSouthWest(),v)),R=C.min.subtract(o.min),q=C.max.subtract(o.max),ce=this._rebound(R.x,-q.x),Ce=this._rebound(R.y,-q.y);return new H(ce,Ce)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),v=this.getMaxZoom(),C=pt.any3d?this.options.zoomSnap:1;return C&&(o=Math.round(o/C)*C),Math.max(h,Math.min(v,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$n(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var v=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,h),!0)},_createAnimProxy:function(){var o=this._proxy=gn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var v=Aa,C=this._proxy.style[v];Qr(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),C===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Qr(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(h),R=this._getCenterOffset(o)._divideBy(1-1/C);return v.animate!==!0&&!this.getSize().contains(R)?!1:(X(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,v,C){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$n(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function on(o,h){return new mt(o,h)}var rn=pe.extend({options:{position:"topright"},initialize:function(o){A(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),v=this.getPosition(),C=o._controlCorners[v];return Yt(h,"leaflet-control"),v.indexOf("bottom")!==-1?C.insertBefore(h,C.firstChild):C.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Lr=function(o){return new rn(o)};mt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",v=this._controlContainer=gn("div",h+"control-container",this._container);function C(R,q){var ce=h+R+" "+h+q;o[R+q]=gn("div",ce,v)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)zt(this._controlCorners[o]);zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vr=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,v,C){return v<C?-1:C<v?1:0}},initialize:function(o,h,v){A(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in o)this._addLayer(o[C],C);for(C in h)this._addLayer(h[C],C,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return rn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):$n(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $n(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=gn("div",o),v=this.options.collapsed;h.setAttribute("aria-haspopup",!0),aa(h),Is(h);var C=this._section=gn("section",o+"-list");v&&(this._map.on("click",this.collapse,this),Ut(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=gn("a",o+"-toggle",h);R.href="#",R.title="Layers",R.setAttribute("role","button"),Ut(R,{keydown:function(q){q.keyCode===13&&this._expandSafely()},click:function(q){fr(q),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=gn("div",o+"-base",C),this._separator=gn("div",o+"-separator",C),this._overlaysList=gn("div",o+"-overlays",C),h.appendChild(C)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,v){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:v}),this.options.sortLayers&&this._layers.sort(d(function(C,R){return this.options.sortFunction(C.layer,R.layer,C.name,R.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qn(this._baseLayersList),Qn(this._overlaysList),this._layerControlInputs=[];var o,h,v,C,R=0;for(v=0;v<this._layers.length;v++)C=this._layers[v],this._addItem(C),h=h||C.overlay,o=o||!C.overlay,R+=C.overlay?0:1;return this.options.hideSingleBase&&(o=o&&R>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(p(o.target)),v=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;v&&this._map.fire(v,h)},_createRadioElement:function(o,h){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=v,C.firstChild},_addItem:function(o){var h=document.createElement("label"),v=this._map.hasLayer(o.layer),C;o.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=v):C=this._createRadioElement("leaflet-base-layers_"+p(this),v),this._layerControlInputs.push(C),C.layerId=p(o.layer),Ut(C,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+o.name;var q=document.createElement("span");h.appendChild(q),q.appendChild(C),q.appendChild(R);var ce=o.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,v,C=[],R=[];this._handlingClick=!0;for(var q=o.length-1;q>=0;q--)h=o[q],v=this._getLayer(h.layerId).layer,h.checked?C.push(v):h.checked||R.push(v);for(q=0;q<R.length;q++)this._map.hasLayer(R[q])&&this._map.removeLayer(R[q]);for(q=0;q<C.length;q++)this._map.hasLayer(C[q])||this._map.addLayer(C[q]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,v,C=this._map.getZoom(),R=o.length-1;R>=0;R--)h=o[R],v=this._getLayer(h.layerId).layer,h.disabled=v.options.minZoom!==void 0&&C<v.options.minZoom||v.options.maxZoom!==void 0&&C>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ut(o,"click",fr),this.expand();var h=this;setTimeout(function(){xn(o,"click",fr),h._preventClick=!1})}}),Ra=function(o,h,v){return new vr(o,h,v)},za=rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",v=gn("div",h+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,h+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,h+"-out",v,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,v,C,R){var q=gn("a",v,C);return q.innerHTML=o,q.href="#",q.title=h,q.setAttribute("role","button"),q.setAttribute("aria-label",h),aa(q),Ut(q,"click",Pi),Ut(q,"click",R,this),Ut(q,"click",this._refocusOnMap,this),q},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";$n(this._zoomInButton,h),$n(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Yt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Yt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});mt.mergeOptions({zoomControl:!0}),mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new za,this.addControl(this.zoomControl))});var Da=function(o){return new za(o)},Fo=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",v=gn("div",h),C=this.options;return this._addScales(C,h+"-line",v),o.on(C.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),v},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,v){o.metric&&(this._mScale=gn("div",h,v)),o.imperial&&(this._iScale=gn("div",h,v))},_update:function(){var o=this._map,h=o.getSize().y/2,v=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(v)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),v=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,v,h/o)},_updateImperial:function(o){var h=o*3.2808399,v,C,R;h>5280?(v=h/5280,C=this._getRoundNum(v),this._updateScale(this._iScale,C+" mi",C/v)):(R=this._getRoundNum(h),this._updateScale(this._iScale,R+" ft",R/h))},_updateScale:function(o,h,v){o.style.width=Math.round(this.options.maxWidth*v)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),v=o/h;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,h*v}}),Ec=function(o){return new Fo(o)},xh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ac=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pt.inlineSvg?xh+" ":"")+"Leaflet</a>"},initialize:function(o){A(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=gn("div","leaflet-control-attribution"),aa(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var v=[];this.options.prefix&&v.push(this.options.prefix),o.length&&v.push(o.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});mt.mergeOptions({attributionControl:!0}),mt.addInitHook(function(){this.options.attributionControl&&new Ac().addTo(this)});var U=function(o){return new Ac(o)};rn.Layers=vr,rn.Zoom=za,rn.Scale=Fo,rn.Attribution=Ac,Lr.layers=Ra,Lr.zoom=Da,Lr.scale=Ec,Lr.attribution=U;var te=pe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});te.addTo=function(o,h){return o.addHandler(h,this),this};var rt={Events:Z},Nt=pt.touch?"touchstart mousedown":"mousedown",Fn=W.extend({options:{clickTolerance:3},initialize:function(o,h,v,C){A(this,C),this._element=o,this._dragStartTarget=h||o,this._preventOutline=v},enable:function(){this._enabled||(Ut(this._dragStartTarget,Nt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fn._dragging===this&&this.finishDrag(!0),xn(this._dragStartTarget,Nt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ds(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Fn._dragging===this&&this.finishDrag();return}if(!(Fn._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Fn._dragging=this,this._preventOutline&&ms(this._element),Os(),gi(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,v=$i(this._element);this._startPoint=new H(h.clientX,h.clientY),this._startPos=Ti(this._element),this._parentScale=ct(v);var C=o.type==="mousedown";Ut(document,C?"mousemove":"touchmove",this._onMove,this),Ut(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,v=new H(h.clientX,h.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,fr(o),this._moved||(this.fire("dragstart"),this._moved=!0,Yt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ir(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){$n(document.body,"leaflet-dragging"),this._lastTarget&&($n(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xn(document,"mousemove touchmove",this._onMove,this),xn(document,"mouseup touchend touchcancel",this._onUp,this),Ma(),ka();var h=this._moved&&this._moving;this._moving=!1,Fn._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function hn(o,h,v){var C,R=[1,4,2,8],q,ce,Ce,ze,Xe,dt,gt,_t;for(q=0,dt=o.length;q<dt;q++)o[q]._code=Vo(o[q],h);for(Ce=0;Ce<4;Ce++){for(gt=R[Ce],C=[],q=0,dt=o.length,ce=dt-1;q<dt;ce=q++)ze=o[q],Xe=o[ce],ze._code&gt?Xe._code&gt||(_t=Nu(Xe,ze,gt,h,v),_t._code=Vo(_t,h),C.push(_t)):(Xe._code&gt&&(_t=Nu(Xe,ze,gt,h,v),_t._code=Vo(_t,h),C.push(_t)),C.push(ze));o=C}return o}function Jr(o,h){var v,C,R,q,ce,Ce,ze,Xe,dt;if(!o||o.length===0)throw new Error("latlngs not passed");yi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var gt=re([0,0]),_t=P(o),Kt=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());Kt<1700&&(gt=xs(o));var pr=o.length,kr=[];for(v=0;v<pr;v++){var bi=re(o[v]);kr.push(h.project(re([bi.lat-gt.lat,bi.lng-gt.lng])))}for(Ce=ze=Xe=0,v=0,C=pr-1;v<pr;C=v++)R=kr[v],q=kr[C],ce=R.y*q.x-q.y*R.x,ze+=(R.x+q.x)*ce,Xe+=(R.y+q.y)*ce,Ce+=ce*3;Ce===0?dt=kr[0]:dt=[ze/Ce,Xe/Ce];var vs=h.unproject(B(dt));return re([vs.lat+gt.lat,vs.lng+gt.lng])}function xs(o){for(var h=0,v=0,C=0,R=0;R<o.length;R++){var q=re(o[R]);h+=q.lat,v+=q.lng,C++}return re([h/C,v/C])}var vi={__proto__:null,clipPolygon:hn,polygonCenter:Jr,centroid:xs};function Bs(o,h){if(!h||!o.length)return o.slice();var v=h*h;return o=vh(o,v),o=Tc(o,v),o}function Nn(o,h,v){return Math.sqrt(Uo(o,h,v,!0))}function Hr(o,h,v){return Uo(o,h,v)}function Tc(o,h){var v=o.length,C=typeof Uint8Array<"u"?Uint8Array:Array,R=new C(v);R[0]=R[v-1]=1,ro(o,R,h,0,v-1);var q,ce=[];for(q=0;q<v;q++)R[q]&&ce.push(o[q]);return ce}function ro(o,h,v,C,R){var q=0,ce,Ce,ze;for(Ce=C+1;Ce<=R-1;Ce++)ze=Uo(o[Ce],o[C],o[R],!0),ze>q&&(ce=Ce,q=ze);q>v&&(h[ce]=1,ro(o,h,v,C,ce),ro(o,h,v,ce,R))}function vh(o,h){for(var v=[o[0]],C=1,R=0,q=o.length;C<q;C++)iv(o[C],o[R])>h&&(v.push(o[C]),R=C);return R<q-1&&v.push(o[q-1]),v}var Up;function Hp(o,h,v,C,R){var q=C?Up:Vo(o,v),ce=Vo(h,v),Ce,ze,Xe;for(Up=ce;;){if(!(q|ce))return[o,h];if(q&ce)return!1;Ce=q||ce,ze=Nu(o,h,Ce,v,R),Xe=Vo(ze,v),Ce===q?(o=ze,q=Xe):(h=ze,ce=Xe)}}function Nu(o,h,v,C,R){var q=h.x-o.x,ce=h.y-o.y,Ce=C.min,ze=C.max,Xe,dt;return v&8?(Xe=o.x+q*(ze.y-o.y)/ce,dt=ze.y):v&4?(Xe=o.x+q*(Ce.y-o.y)/ce,dt=Ce.y):v&2?(Xe=ze.x,dt=o.y+ce*(ze.x-o.x)/q):v&1&&(Xe=Ce.x,dt=o.y+ce*(Ce.x-o.x)/q),new H(Xe,dt,R)}function Vo(o,h){var v=0;return o.x<h.min.x?v|=1:o.x>h.max.x&&(v|=2),o.y<h.min.y?v|=4:o.y>h.max.y&&(v|=8),v}function iv(o,h){var v=h.x-o.x,C=h.y-o.y;return v*v+C*C}function Uo(o,h,v,C){var R=h.x,q=h.y,ce=v.x-R,Ce=v.y-q,ze=ce*ce+Ce*Ce,Xe;return ze>0&&(Xe=((o.x-R)*ce+(o.y-q)*Ce)/ze,Xe>1?(R=v.x,q=v.y):Xe>0&&(R+=ce*Xe,q+=Ce*Xe)),ce=o.x-R,Ce=o.y-q,C?ce*ce+Ce*Ce:new H(R,q)}function yi(o){return!k(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Wp(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(o)}function yh(o,h){var v,C,R,q,ce,Ce,ze,Xe;if(!o||o.length===0)throw new Error("latlngs not passed");yi(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var dt=re([0,0]),gt=P(o),_t=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());_t<1700&&(dt=xs(o));var Kt=o.length,pr=[];for(v=0;v<Kt;v++){var kr=re(o[v]);pr.push(h.project(re([kr.lat-dt.lat,kr.lng-dt.lng])))}for(v=0,C=0;v<Kt-1;v++)C+=pr[v].distanceTo(pr[v+1])/2;if(C===0)Xe=pr[0];else for(v=0,q=0;v<Kt-1;v++)if(ce=pr[v],Ce=pr[v+1],R=ce.distanceTo(Ce),q+=R,q>C){ze=(q-C)/R,Xe=[Ce.x-ze*(Ce.x-ce.x),Ce.y-ze*(Ce.y-ce.y)];break}var bi=h.unproject(B(Xe));return re([bi.lat+dt.lat,bi.lng+dt.lng])}var qp={__proto__:null,simplify:Bs,pointToSegmentDistance:Nn,closestPointOnSegment:Hr,clipSegment:Hp,_getEdgeIntersection:Nu,_getBitCode:Vo,_sqClosestPointOnSegment:Uo,isFlat:yi,_flat:Wp,polylineCenter:yh},Iu={project:function(o){return new H(o.lng,o.lat)},unproject:function(o){return new N(o.y,o.x)},bounds:new ie([-180,-90],[180,90])},Bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,v=this.R,C=o.lat*h,R=this.R_MINOR/v,q=Math.sqrt(1-R*R),ce=q*Math.sin(C),Ce=Math.tan(Math.PI/4-C/2)/Math.pow((1-ce)/(1+ce),q/2);return C=-v*Math.log(Math.max(Ce,1e-10)),new H(o.lng*h*v,C)},unproject:function(o){for(var h=180/Math.PI,v=this.R,C=this.R_MINOR/v,R=Math.sqrt(1-C*C),q=Math.exp(-o.y/v),ce=Math.PI/2-2*Math.atan(q),Ce=0,ze=.1,Xe;Ce<15&&Math.abs(ze)>1e-7;Ce++)Xe=R*Math.sin(ce),Xe=Math.pow((1-Xe)/(1+Xe),R/2),ze=Math.PI/2-2*Math.atan(q*Xe)-ce,ce+=ze;return new N(ce*h,o.x*h/v)}},Gp={__proto__:null,LonLat:Iu,Mercator:Bu,SphericalMercator:it},kl=l({},Oe,{code:"EPSG:3395",projection:Bu,transformation:(function(){var o=.5/(Math.PI*Bu.R);return Qe(o,.5,-o,.5)})()}),Zp=l({},Oe,{code:"EPSG:4326",projection:Iu,transformation:Qe(1/180,1,-1/180,.5)}),sv=l({},Le,{projection:Iu,transformation:Qe(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var v=h.lng-o.lng,C=h.lat-o.lat;return Math.sqrt(v*v+C*C)},infinite:!0});Le.Earth=Oe,Le.EPSG3395=kl,Le.EPSG3857=wt,Le.EPSG900913=$e,Le.EPSG4326=Zp,Le.Simple=sv;var $s=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var v=this.getEvents();h.on(v,this),this.once("remove",function(){h.off(v,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});mt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=p(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,h){for(var v in this._layers)o.call(h,this._layers[v]);return this},_addLayers:function(o){o=o?k(o)?o:[o]:[];for(var h=0,v=o.length;h<v;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=p(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,v=this._getZoomSpan();for(var C in this._zoomBoundLayers){var R=this._zoomBoundLayers[C].options;o=R.minZoom===void 0?o:Math.min(o,R.minZoom),h=R.maxZoom===void 0?h:Math.max(h,R.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ho=$s.extend({initialize:function(o,h){A(this,h),this._layers={};var v,C;if(o)for(v=0,C=o.length;v<C;v++)this.addLayer(o[v])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),v,C;for(v in this._layers)C=this._layers[v],C[o]&&C[o].apply(C,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var v in this._layers)o.call(h,this._layers[v]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),Yp=function(o,h){return new Ho(o,h)},Ji=Ho.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ho.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ho.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new F;for(var h in this._layers){var v=this._layers[h];o.extend(v.getBounds?v.getBounds():v.getLatLng())}return o}}),kc=function(o,h){return new Ji(o,h)},Pl=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){A(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var v=this._getIconUrl(o);if(!v){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(v,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(C,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(o,h){var v=this.options,C=v[h+"Size"];typeof C=="number"&&(C=[C,C]);var R=B(C),q=B(h==="shadow"&&v.shadowAnchor||v.iconAnchor||R&&R.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(v.className||""),q&&(o.style.marginLeft=-q.x+"px",o.style.marginTop=-q.y+"px"),R&&(o.style.width=R.x+"px",o.style.height=R.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return pt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function $u(o){return new Pl(o)}var Ml=Pl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ml.imagePath!="string"&&(Ml.imagePath=this._detectIconPath()),(this.options.imagePath||Ml.imagePath)+Pl.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(v,C,R){var q=C.exec(v);return q&&q[R]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=gn("div","leaflet-default-icon-path",document.body),h=Rs(o,"background-image")||Rs(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),bh=te.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Fn(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Yt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$n(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,v=h._map,C=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,q=Ti(h._icon),ce=v.getPixelBounds(),Ce=v.getPixelOrigin(),ze=he(ce.min._subtract(Ce).add(R),ce.max._subtract(Ce).subtract(R));if(!ze.contains(q)){var Xe=B((Math.max(ze.max.x,q.x)-ze.max.x)/(ce.max.x-ze.max.x)-(Math.min(ze.min.x,q.x)-ze.min.x)/(ce.min.x-ze.min.x),(Math.max(ze.max.y,q.y)-ze.max.y)/(ce.max.y-ze.max.y)-(Math.min(ze.min.y,q.y)-ze.min.y)/(ce.min.y-ze.min.y)).multiplyBy(C);v.panBy(Xe,{animate:!1}),this._draggable._newPos._add(Xe),this._draggable._startPos._add(Xe),ir(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=X(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(me(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,v=h._shadow,C=Ti(h._icon),R=h._map.layerPointToLatLng(C);v&&ir(v,C),h._latlng=R,o.latlng=R,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){me(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Rl=$s.extend({options:{icon:new Ml,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){A(this,h),this._latlng=re(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=re(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=o.icon.createIcon(this._icon),C=!1;v!==this._icon&&(this._icon&&this._removeIcon(),C=!0,o.title&&(v.title=o.title),v.tagName==="IMG"&&(v.alt=o.alt||"")),Yt(v,h),o.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(v,"focus",this._panOnFocus,this);var R=o.icon.createShadow(this._shadow),q=!1;R!==this._shadow&&(this._removeShadow(),q=!0),R&&(Yt(R,h),R.alt=""),this._shadow=R,o.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&q&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xn(this._icon,"focus",this._panOnFocus,this),zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&zt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ir(this._icon,o),this._shadow&&ir(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bh)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bh(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&_r(this._icon,o),this._shadow&&_r(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,v=h.iconSize?B(h.iconSize):B(0,0),C=h.iconAnchor?B(h.iconAnchor):B(0,0);o.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:v.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jh(o,h){return new Rl(o,h)}var La=$s.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return A(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pc=La.extend({options:{fill:!0,radius:10},initialize:function(o,h){A(this,h),this._latlng=re(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=re(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return La.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,v=this._clickTolerance(),C=[o+v,h+v];this._pxBounds=new ie(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xp(o,h){return new Pc(o,h)}var Sh=Pc.extend({initialize:function(o,h,v){if(typeof h=="number"&&(h=l({},v,{radius:h})),A(this,h),this._latlng=re(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:La.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,v=this._map,C=v.options.crs;if(C.distance===Oe.distance){var R=Math.PI/180,q=this._mRadius/Oe.R/R,ce=v.project([h+q,o]),Ce=v.project([h-q,o]),ze=ce.add(Ce).divideBy(2),Xe=v.unproject(ze).lat,dt=Math.acos((Math.cos(q*R)-Math.sin(h*R)*Math.sin(Xe*R))/(Math.cos(h*R)*Math.cos(Xe*R)))/R;(isNaN(dt)||dt===0)&&(dt=q/Math.cos(Math.PI/180*h)),this._point=ze.subtract(v.getPixelOrigin()),this._radius=isNaN(dt)?0:ze.x-v.project([Xe,o-dt]).x,this._radiusY=ze.y-ce.y}else{var gt=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(gt).x}this._updateBounds()}});function av(o,h,v){return new Sh(o,h,v)}var Oa=La.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){A(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,v=null,C=Uo,R,q,ce=0,Ce=this._parts.length;ce<Ce;ce++)for(var ze=this._parts[ce],Xe=1,dt=ze.length;Xe<dt;Xe++){R=ze[Xe-1],q=ze[Xe];var gt=C(o,R,q,!0);gt<h&&(h=gt,v=C(o,R,q))}return v&&(v.distance=Math.sqrt(h)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=re(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new F,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],v=yi(o),C=0,R=o.length;C<R;C++)v?(h[C]=re(o[C]),this._bounds.extend(h[C])):h[C]=this._convertLatLngs(o[C]);return h},_project:function(){var o=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new H(o,o);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,v){var C=o[0]instanceof N,R=o.length,q,ce;if(C){for(ce=[],q=0;q<R;q++)ce[q]=this._map.latLngToLayerPoint(o[q]),v.extend(ce[q]);h.push(ce)}else for(q=0;q<R;q++)this._projectLatlngs(o[q],h,v)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,v,C,R,q,ce,Ce,ze;for(v=0,R=0,q=this._rings.length;v<q;v++)for(ze=this._rings[v],C=0,ce=ze.length;C<ce-1;C++)Ce=Hp(ze[C],ze[C+1],o,C,!0),Ce&&(h[R]=h[R]||[],h[R].push(Ce[0]),(Ce[1]!==ze[C+1]||C===ce-2)&&(h[R].push(Ce[1]),R++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,v=0,C=o.length;v<C;v++)o[v]=Bs(o[v],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var v,C,R,q,ce,Ce,ze=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(v=0,q=this._parts.length;v<q;v++)for(Ce=this._parts[v],C=0,ce=Ce.length,R=ce-1;C<ce;R=C++)if(!(!h&&C===0)&&Nn(o,Ce[R],Ce[C])<=ze)return!0;return!1}});function ov(o,h){return new Oa(o,h)}Oa._flat=Wp;var zl=Oa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Oa.prototype._convertLatLngs.call(this,o),v=h.length;return v>=2&&h[0]instanceof N&&h[0].equals(h[v-1])&&h.pop(),h},_setLatLngs:function(o){Oa.prototype._setLatLngs.call(this,o),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,v=new H(h,h);if(o=new ie(o.min.subtract(v),o.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,R=this._rings.length,q;C<R;C++)q=hn(this._rings[C],o,!0),q.length&&this._parts.push(q)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,v,C,R,q,ce,Ce,ze,Xe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(q=0,ze=this._parts.length;q<ze;q++)for(v=this._parts[q],ce=0,Xe=v.length,Ce=Xe-1;ce<Xe;Ce=ce++)C=v[ce],R=v[Ce],C.y>o.y!=R.y>o.y&&o.x<(R.x-C.x)*(o.y-C.y)/(R.y-C.y)+C.x&&(h=!h);return h||Oa.prototype._containsPoint.call(this,o,!0)}});function es(o,h){return new zl(o,h)}var ts=Ji.extend({initialize:function(o,h){A(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=k(o)?o:o.features,v,C,R;if(h){for(v=0,C=h.length;v<C;v++)R=h[v],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var q=this.options;if(q.filter&&!q.filter(o))return this;var ce=Mc(o,q);return ce?(ce.feature=Dl(o),ce.defaultOptions=ce.options,this.resetStyle(ce),q.onEachFeature&&q.onEachFeature(o,ce),this.addLayer(ce)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function Mc(o,h){var v=o.type==="Feature"?o.geometry:o,C=v?v.coordinates:null,R=[],q=h&&h.pointToLayer,ce=h&&h.coordsToLatLng||Fu,Ce,ze,Xe,dt;if(!C&&!v)return null;switch(v.type){case"Point":return Ce=ce(C),wh(q,o,Ce,h);case"MultiPoint":for(Xe=0,dt=C.length;Xe<dt;Xe++)Ce=ce(C[Xe]),R.push(wh(q,o,Ce,h));return new Ji(R);case"LineString":case"MultiLineString":return ze=Rc(C,v.type==="LineString"?0:1,ce),new Oa(ze,h);case"Polygon":case"MultiPolygon":return ze=Rc(C,v.type==="Polygon"?1:2,ce),new zl(ze,h);case"GeometryCollection":for(Xe=0,dt=v.geometries.length;Xe<dt;Xe++){var gt=Mc({geometry:v.geometries[Xe],type:"Feature",properties:o.properties},h);gt&&R.push(gt)}return new Ji(R);case"FeatureCollection":for(Xe=0,dt=v.features.length;Xe<dt;Xe++){var _t=Mc(v.features[Xe],h);_t&&R.push(_t)}return new Ji(R);default:throw new Error("Invalid GeoJSON object.")}}function wh(o,h,v,C){return o?o(h,v):new Rl(v,C&&C.markersInheritOptions&&C)}function Fu(o){return new N(o[1],o[0],o[2])}function Rc(o,h,v){for(var C=[],R=0,q=o.length,ce;R<q;R++)ce=h?Rc(o[R],h-1,v):(v||Fu)(o[R]),C.push(ce);return C}function zc(o,h){return o=re(o),o.alt!==void 0?[S(o.lng,h),S(o.lat,h),S(o.alt,h)]:[S(o.lng,h),S(o.lat,h)]}function Vu(o,h,v,C){for(var R=[],q=0,ce=o.length;q<ce;q++)R.push(h?Vu(o[q],yi(o[q])?0:h-1,v,C):zc(o[q],C));return!h&&v&&R.length>0&&R.push(R[0].slice()),R}function Fs(o,h){return o.feature?l({},o.feature,{geometry:h}):Dl(h)}function Dl(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Wo={toGeoJSON:function(o){return Fs(this,{type:"Point",coordinates:zc(this.getLatLng(),o)})}};Rl.include(Wo),Sh.include(Wo),Pc.include(Wo),Oa.include({toGeoJSON:function(o){var h=!yi(this._latlngs),v=Vu(this._latlngs,h?1:0,!1,o);return Fs(this,{type:(h?"Multi":"")+"LineString",coordinates:v})}}),zl.include({toGeoJSON:function(o){var h=!yi(this._latlngs),v=h&&!yi(this._latlngs[0]),C=Vu(this._latlngs,v?2:h?1:0,!0,o);return h||(C=[C]),Fs(this,{type:(v?"Multi":"")+"Polygon",coordinates:C})}}),Ho.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(v){h.push(v.toGeoJSON(o).geometry.coordinates)}),Fs(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var v=h==="GeometryCollection",C=[];return this.eachLayer(function(R){if(R.toGeoJSON){var q=R.toGeoJSON(o);if(v)C.push(q.geometry);else{var ce=Dl(q);ce.type==="FeatureCollection"?C.push.apply(C,ce.features):C.push(ce)}}}),v?Fs(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Uu(o,h){return new ts(o,h)}var Kp=Uu,oa=$s.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,v){this._url=o,this._bounds=P(h),A(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&mi(this._image),this},bringToBack:function(){return this._map&&zs(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=P(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:gn("img");if(Yt(h,"leaflet-image-layer"),this._zoomAnimated&&Yt(h,"leaflet-zoom-animated"),this.options.className&&Yt(h,this.options.className),h.onselectstart=j,h.onmousemove=j,h.onload=d(this.fire,this,"load"),h.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Qr(this._image,v,h)},_reset:function(){var o=this._image,h=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=h.getSize();ir(o,h.min),o.style.width=v.x+"px",o.style.height=v.y+"px"},_updateOpacity:function(){_r(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Ll=function(o,h,v){return new oa(o,h,v)},Hu=oa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:gn("video");if(Yt(h,"leaflet-image-layer"),this._zoomAnimated&&Yt(h,"leaflet-zoom-animated"),this.options.className&&Yt(h,this.options.className),h.onselectstart=j,h.onmousemove=j,h.onloadeddata=d(this.fire,this,"load"),o){for(var v=h.getElementsByTagName("source"),C=[],R=0;R<v.length;R++)C.push(v[R].src);this._url=v.length>0?C:[h.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var q=0;q<this._url.length;q++){var ce=gn("source");ce.src=this._url[q],h.appendChild(ce)}}});function Qp(o,h,v){return new Hu(o,h,v)}var io=oa.extend({_initImage:function(){var o=this._image=this._url;Yt(o,"leaflet-image-layer"),this._zoomAnimated&&Yt(o,"leaflet-zoom-animated"),this.options.className&&Yt(o,this.options.className),o.onselectstart=j,o.onmousemove=j}});function Jp(o,h,v){return new io(o,h,v)}var Vs=$s.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof N||k(o))?(this._latlng=re(o),A(this,h)):(A(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&_r(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&_r(this._container,1),this.bringToFront(),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(_r(this._container,0),this._removeTimeout=setTimeout(d(zt,void 0,this._container),200)):zt(this._container),this.options.interactive&&($n(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=re(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mi(this._container),this},bringToBack:function(){return this._map&&zs(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Ji){h=null;var v=this._source._layers;for(var C in v)if(v[C]._map){h=v[C];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=B(this.options.offset),v=this._getAnchor();this._zoomAnimated?ir(this._container,o.add(v)):h=h.add(o).add(v);var C=this._containerBottom=-h.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=C+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});mt.include({_initOverlay:function(o,h,v,C){var R=h;return R instanceof o||(R=new o(C).setContent(h)),v&&R.setLatLng(v),R}}),$s.include({_initOverlay:function(o,h,v,C){var R=v;return R instanceof o?(A(R,C),R._source=this):(R=h&&!C?h:new o(C,this),R.setContent(v)),R}});var Dc=Vs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Vs.prototype.openOn.call(this,o)},onAdd:function(o){Vs.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof La||this._source.on("preclick",Qi))},onRemove:function(o){Vs.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof La||this._source.off("preclick",Qi))},getEvents:function(){var o=Vs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=gn("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=gn("div",o+"-content-wrapper",h);if(this._contentNode=gn("div",o+"-content",v),aa(h),Is(this._contentNode),Ut(h,"contextmenu",Qi),this._tipContainer=gn("div",o+"-tip-container",h),this._tip=gn("div",o+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=gn("a",o+"-close-button",h);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(C,"click",function(R){fr(R),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var v=o.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),h.width=v+1+"px",h.whiteSpace="",h.height="";var C=o.offsetHeight,R=this.options.maxHeight,q="leaflet-popup-scrolled";R&&C>R?(h.height=R+"px",Yt(o,q)):$n(o,q),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),v=this._getAnchor();ir(this._container,h.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(Rs(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+h,C=this._containerWidth,R=new H(this._containerLeft,-v-this._containerBottom);R._add(Ti(this._container));var q=o.layerPointToContainerPoint(R),ce=B(this.options.autoPanPadding),Ce=B(this.options.autoPanPaddingTopLeft||ce),ze=B(this.options.autoPanPaddingBottomRight||ce),Xe=o.getSize(),dt=0,gt=0;q.x+C+ze.x>Xe.x&&(dt=q.x+C-Xe.x+ze.x),q.x-dt-Ce.x<0&&(dt=q.x-Ce.x),q.y+v+ze.y>Xe.y&&(gt=q.y+v-Xe.y+ze.y),q.y-gt-Ce.y<0&&(gt=q.y-Ce.y),(dt||gt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([dt,gt]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),lv=function(o,h){return new Dc(o,h)};mt.mergeOptions({closePopupOnClick:!0}),mt.include({openPopup:function(o,h,v){return this._initOverlay(Dc,o,h,v).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),$s.include({bindPopup:function(o,h){return this._popup=this._initOverlay(Dc,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ji||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Pi(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof La)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Wu=Vs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Vs.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Vs.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Vs.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gn("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,v,C=this._map,R=this._container,q=C.latLngToContainerPoint(C.getCenter()),ce=C.layerPointToContainerPoint(o),Ce=this.options.direction,ze=R.offsetWidth,Xe=R.offsetHeight,dt=B(this.options.offset),gt=this._getAnchor();Ce==="top"?(h=ze/2,v=Xe):Ce==="bottom"?(h=ze/2,v=0):Ce==="center"?(h=ze/2,v=Xe/2):Ce==="right"?(h=0,v=Xe/2):Ce==="left"?(h=ze,v=Xe/2):ce.x<q.x?(Ce="right",h=0,v=Xe/2):(Ce="left",h=ze+(dt.x+gt.x)*2,v=Xe/2),o=o.subtract(B(h,v,!0)).add(dt).add(gt),$n(R,"leaflet-tooltip-right"),$n(R,"leaflet-tooltip-left"),$n(R,"leaflet-tooltip-top"),$n(R,"leaflet-tooltip-bottom"),Yt(R,"leaflet-tooltip-"+Ce),ir(R,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&_r(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cv=function(o,h){return new Wu(o,h)};mt.include({openTooltip:function(o,h,v){return this._initOverlay(Wu,o,h,v).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),$s.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wu,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[h](v),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ji||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Ut(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ut(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,v,C;this._tooltip.options.sticky&&o.originalEvent&&(v=this._map.mouseEventToContainerPoint(o.originalEvent),C=this._map.containerPointToLayerPoint(v),h=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(h)}});var _h=Pl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Qn(h),h.appendChild(v.html)):h.innerHTML=v.html!==!1?v.html:"",v.bgPos){var C=B(v.bgPos);h.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function em(o){return new _h(o)}Pl.Default=Ml;var qo=$s.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){A(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),zt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof H?o:new H(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,v=-o(-1/0,1/0),C=0,R=h.length,q;C<R;C++)q=h[C].style.zIndex,h[C]!==this._container&&q&&(v=o(v,+q));isFinite(v)&&(this.options.zIndex=v+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pt.ielt9){_r(this._container,this.options.opacity);var o=+new Date,h=!1,v=!1;for(var C in this._tiles){var R=this._tiles[C];if(!(!R.current||!R.loaded)){var q=Math.min(1,(o-R.loaded)/200);_r(R.el,q),q<1?h=!0:(R.active?v=!0:this._onOpaqueTile(R),R.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),h&&(me(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=gn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===o?(this._levels[v].el.style.zIndex=h-Math.abs(o-v),this._onUpdateLevel(v)):(zt(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var C=this._levels[o],R=this._map;return C||(C=this._levels[o]={},C.el=gn("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=h,C.origin=R.project(R.unproject(R.getPixelOrigin()),o).round(),C.zoom=o,this._setZoomTransform(C,R.getCenter(),R.getZoom()),j(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var o,h,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var C=h.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)zt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,v,C){var R=Math.floor(o/2),q=Math.floor(h/2),ce=v-1,Ce=new H(+R,+q);Ce.z=+ce;var ze=this._tileCoordsToKey(Ce),Xe=this._tiles[ze];return Xe&&Xe.active?(Xe.retain=!0,!0):(Xe&&Xe.loaded&&(Xe.retain=!0),ce>C?this._retainParent(R,q,ce,C):!1)},_retainChildren:function(o,h,v,C){for(var R=2*o;R<2*o+2;R++)for(var q=2*h;q<2*h+2;q++){var ce=new H(R,q);ce.z=v+1;var Ce=this._tileCoordsToKey(ce),ze=this._tiles[Ce];if(ze&&ze.active){ze.retain=!0;continue}else ze&&ze.loaded&&(ze.retain=!0);v+1<C&&this._retainChildren(R,q,v+1,C)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,v,C){var R=Math.round(h);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var q=this.options.updateWhenZooming&&R!==this._tileZoom;(!C||q)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(o),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var v in this._levels)this._setZoomTransform(this._levels[v],o,h)},_setZoomTransform:function(o,h,v){var C=this._map.getZoomScale(v,o.zoom),R=o.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(h,v)).round();pt.any3d?Qr(o.el,R,C):ir(o.el,R)},_resetGrid:function(){var o=this._map,h=o.options.crs,v=this._tileSize=this.getTileSize(),C=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],C).x/v.x),Math.ceil(o.project([0,h.wrapLng[1]],C).x/v.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],C).y/v.x),Math.ceil(o.project([h.wrapLat[1],0],C).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,v=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),C=h.getZoomScale(v,this._tileZoom),R=h.project(o,this._tileZoom).floor(),q=h.getSize().divideBy(C*2);return new ie(R.subtract(q),R.add(q))},_update:function(o){var h=this._map;if(h){var v=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(o),R=this._pxBoundsToTileRange(C),q=R.getCenter(),ce=[],Ce=this.options.keepBuffer,ze=new ie(R.getBottomLeft().subtract([Ce,-Ce]),R.getTopRight().add([Ce,-Ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Xe in this._tiles){var dt=this._tiles[Xe].coords;(dt.z!==this._tileZoom||!ze.contains(new H(dt.x,dt.y)))&&(this._tiles[Xe].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(o,v);return}for(var gt=R.min.y;gt<=R.max.y;gt++)for(var _t=R.min.x;_t<=R.max.x;_t++){var Kt=new H(_t,gt);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var pr=this._tiles[this._tileCoordsToKey(Kt)];pr?pr.current=!0:ce.push(Kt)}}if(ce.sort(function(bi,vs){return bi.distanceTo(q)-vs.distanceTo(q)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kr=document.createDocumentFragment();for(_t=0;_t<ce.length;_t++)this._addTile(ce[_t],kr);this._level.el.appendChild(kr)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var v=this._globalTileRange;if(!h.wrapLng&&(o.x<v.min.x||o.x>v.max.x)||!h.wrapLat&&(o.y<v.min.y||o.y>v.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(o);return P(this.options.bounds).overlaps(C)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,v=this.getTileSize(),C=o.scaleBy(v),R=C.add(v),q=h.unproject(C,o.z),ce=h.unproject(R,o.z);return[q,ce]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),v=new F(h[0],h[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),v=new H(+h[0],+h[1]);return v.z=+h[2],v},_removeTile:function(o){var h=this._tiles[o];h&&(zt(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Yt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=j,o.onmousemove=j,pt.ielt9&&this.options.opacity<1&&_r(o,this.options.opacity)},_addTile:function(o,h){var v=this._getTilePos(o),C=this._tileCoordsToKey(o),R=this.createTile(this._wrapCoords(o),d(this._tileReady,this,o));this._initTile(R),this.createTile.length<2&&X(d(this._tileReady,this,o,null,R)),ir(R,v),this._tiles[C]={el:R,coords:o,current:!0},h.appendChild(R),this.fire("tileloadstart",{tile:R,coords:o})},_tileReady:function(o,h,v){h&&this.fire("tileerror",{error:h,tile:v,coords:o});var C=this._tileCoordsToKey(o);v=this._tiles[C],v&&(v.loaded=+new Date,this._map._fadeAnimated?(_r(v.el,0),me(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),h||(Yt(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pt.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new H(this._wrapX?x(o.x,this._wrapX):o.x,this._wrapY?x(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ie(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Us(o){return new qo(o)}var Go=qo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=A(this,h),h.detectRetina&&pt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var v=document.createElement("img");return Ut(v,"load",d(this._tileOnLoad,this,h,v)),Ut(v,"error",d(this._tileOnError,this,h,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(o),v},getTileUrl:function(o){var h={r:pt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=v),h["-y"]=v}return M(this._url,l(h,this.options))},_tileOnLoad:function(o,h){pt.ielt9?setTimeout(d(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,v){var C=this.options.errorTileUrl;C&&h.getAttribute("src")!==C&&(h.src=C),o(v,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,v=this.options.zoomReverse,C=this.options.zoomOffset;return v&&(o=h-o),o+C},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=j,h.onerror=j,!h.complete)){h.src=I;var v=this._tiles[o].coords;zt(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:v})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",I),qo.prototype._removeTile.call(this,o)},_tileReady:function(o,h,v){if(!(!this._map||v&&v.getAttribute("src")===I))return qo.prototype._tileReady.call(this,o,h,v)}});function ns(o,h){return new Go(o,h)}var rs=Go.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var v=l({},this.defaultWmsParams);for(var C in h)C in this.options||(v[C]=h[C]);h=A(this,h);var R=h.detectRetina&&pt.retina?2:1,q=this.getTileSize();v.width=q.x*R,v.height=q.y*R,this.wmsParams=v},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Go.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),v=this._crs,C=he(v.project(h[0]),v.project(h[1])),R=C.min,q=C.max,ce=(this._wmsVersion>=1.3&&this._crs===Zp?[R.y,R.x,q.y,q.x]:[R.x,R.y,q.x,q.y]).join(","),Ce=Go.prototype.getTileUrl.call(this,o);return Ce+T(this.wmsParams,Ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(o,h){return l(this.wmsParams,o),h||this.redraw(),this}});function Ol(o,h){return new rs(o,h)}Go.WMS=rs,ns.wms=Ol;var Hs=$s.extend({options:{padding:.1},initialize:function(o){A(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var v=this._map.getZoomScale(h,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,h),q=C.multiplyBy(-v).add(R).subtract(this._map._getNewPixelOrigin(o,h));pt.any3d?Qr(this._container,q,v):ir(this._container,q)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),v=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ie(v,v.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lc=Hs.extend({options:{tolerance:0},getEvents:function(){var o=Hs.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ut(o,"mousemove",this._onMouseMove,this),Ut(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){me(this._redrawRequest),delete this._ctx,zt(this._container),xn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hs.prototype._update.call(this);var o=this._bounds,h=this._container,v=o.getSize(),C=pt.retina?2:1;ir(h,o.min),h.width=C*v.x,h.height=C*v.y,h.style.width=v.x+"px",h.style.height=v.y+"px",pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Hs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,v=h.next,C=h.prev;v?v.prev=C:this._drawLast=C,C?C.next=v:this._drawFirst=v,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),v=[],C,R;for(R=0;R<h.length;R++){if(C=Number(h[R]),isNaN(C))return;v.push(C)}o.options._dashArray=v}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var v=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)o=C.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var v,C,R,q,ce=o._parts,Ce=ce.length,ze=this._ctx;if(Ce){for(ze.beginPath(),v=0;v<Ce;v++){for(C=0,R=ce[v].length;C<R;C++)q=ce[v][C],ze[C?"lineTo":"moveTo"](q.x,q.y);h&&ze.closePath()}this._fillStroke(ze,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,v=this._ctx,C=Math.max(Math.round(o._radius),1),R=(Math.max(Math.round(o._radiusY),1)||C)/C;R!==1&&(v.save(),v.scale(1,R)),v.beginPath(),v.arc(h.x,h.y/R,C,0,Math.PI*2,!1),R!==1&&v.restore(),this._fillStroke(v,o)}},_fillStroke:function(o,h){var v=h.options;v.fill&&(o.globalAlpha=v.fillOpacity,o.fillStyle=v.fillColor||v.color,o.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=v.opacity,o.lineWidth=v.weight,o.strokeStyle=v.color,o.lineCap=v.lineCap,o.lineJoin=v.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),v,C,R=this._drawFirst;R;R=R.next)v=R.layer,v.options.interactive&&v._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(v))&&(C=v);this._fireEvent(C?[C]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&($n(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var v,C,R=this._drawFirst;R;R=R.next)v=R.layer,v.options.interactive&&v._containsPoint(h)&&(C=v);C!==this._hoveredLayer&&(this._handleMouseOut(o),C&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([C],o,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,v){this._map._fireDOMEvent(h,v||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var v=h.next,C=h.prev;if(v)v.prev=C;else return;C?C.next=v:v&&(this._drawFirst=v),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var v=h.next,C=h.prev;if(C)C.next=v;else return;v?v.prev=C:C&&(this._drawLast=C),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Oc(o){return pt.canvas?new Lc(o):null}var Zo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Nl={_initContainer:function(){this._container=gn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hs.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Zo("shape");Yt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Zo("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;zt(h),o.removeInteractiveTarget(h),delete this._layers[p(o)]},_updateStyle:function(o){var h=o._stroke,v=o._fill,C=o.options,R=o._container;R.stroked=!!C.stroke,R.filled=!!C.fill,C.stroke?(h||(h=o._stroke=Zo("stroke")),R.appendChild(h),h.weight=C.weight+"px",h.color=C.color,h.opacity=C.opacity,C.dashArray?h.dashStyle=k(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=C.lineCap.replace("butt","flat"),h.joinstyle=C.lineJoin):h&&(R.removeChild(h),o._stroke=null),C.fill?(v||(v=o._fill=Zo("fill")),R.appendChild(v),v.color=C.fillColor||C.color,v.opacity=C.fillOpacity):v&&(R.removeChild(v),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),v=Math.round(o._radius),C=Math.round(o._radiusY||v);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+v+","+C+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){mi(o._container)},_bringToBack:function(o){zs(o._container)}},Nc=pt.vml?Zo:Bt,so=Hs.extend({_initContainer:function(){this._container=Nc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){zt(this._container),xn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hs.prototype._update.call(this);var o=this._bounds,h=o.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,v.setAttribute("width",h.x),v.setAttribute("height",h.y)),ir(v,o.min),v.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Nc("path");o.options.className&&Yt(h,o.options.className),o.options.interactive&&Yt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){zt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,v=o.options;h&&(v.stroke?(h.setAttribute("stroke",v.color),h.setAttribute("stroke-opacity",v.opacity),h.setAttribute("stroke-width",v.weight),h.setAttribute("stroke-linecap",v.lineCap),h.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?h.setAttribute("stroke-dasharray",v.dashArray):h.removeAttribute("stroke-dasharray"),v.dashOffset?h.setAttribute("stroke-dashoffset",v.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),v.fill?(h.setAttribute("fill",v.fillColor||v.color),h.setAttribute("fill-opacity",v.fillOpacity),h.setAttribute("fill-rule",v.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,ye(o._parts,h))},_updateCircle:function(o){var h=o._point,v=Math.max(Math.round(o._radius),1),C=Math.max(Math.round(o._radiusY),1)||v,R="a"+v+","+C+" 0 1,0 ",q=o._empty()?"M0 0":"M"+(h.x-v)+","+h.y+R+v*2+",0 "+R+-v*2+",0 ";this._setPath(o,q)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){mi(o._path)},_bringToBack:function(o){zs(o._path)}});pt.vml&&so.include(Nl);function Yo(o){return pt.svg||pt.vml?new so(o):null}mt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Oc(o)||Yo(o)}});var tm=zl.extend({initialize:function(o,h){zl.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=P(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function is(o,h){return new tm(o,h)}so.create=Nc,so.pointsToPath=ye,ts.geometryToLayer=Mc,ts.coordsToLatLng=Fu,ts.coordsToLatLngs=Rc,ts.latLngToCoords=zc,ts.latLngsToCoords=Vu,ts.getFeature=Fs,ts.asFeature=Dl,mt.mergeOptions({boxZoom:!0});var qu=te.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gi(),Os(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ut(document,{contextmenu:Pi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=gn("div","leaflet-zoom-box",this._container),Yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ie(this._point,this._startPoint),v=h.getSize();ir(this._box,h.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(zt(this._box),$n(this._container,"leaflet-crosshair")),ka(),Ma(),xn(document,{contextmenu:Pi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var h=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mt.addInitHook("addHandler","boxZoom",qu),mt.mergeOptions({doubleClickZoom:!0});var la=te.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,v=h.getZoom(),C=h.options.zoomDelta,R=o.originalEvent.shiftKey?v-C:v+C;h.options.doubleClickZoom==="center"?h.setZoom(R):h.setZoomAround(o.containerPoint,R)}});mt.addInitHook("addHandler","doubleClickZoom",la),mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ch=te.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Fn(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$n(this._map._container,"leaflet-grab"),$n(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=P(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),v=this._initialWorldOffset,C=this._draggable._newPos.x,R=(C-h+v)%o+h-v,q=(C+h+v)%o-h-v,ce=Math.abs(R+v)<Math.abs(q+v)?R:q;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(o){var h=this._map,v=h.options,C=!v.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),C)h.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),q=(this._lastTime-this._times[0])/1e3,ce=v.easeLinearity,Ce=R.multiplyBy(ce/q),ze=Ce.distanceTo([0,0]),Xe=Math.min(v.inertiaMaxSpeed,ze),dt=Ce.multiplyBy(Xe/ze),gt=Xe/(v.inertiaDeceleration*ce),_t=dt.multiplyBy(-gt/2).round();!_t.x&&!_t.y?h.fire("moveend"):(_t=h._limitOffset(_t,h.options.maxBounds),X(function(){h.panBy(_t,{duration:gt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});mt.addInitHook("addHandler","dragging",Ch),mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ic=te.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ut(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,v=o.scrollTop||h.scrollTop,C=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(C,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},v=this.keyCodes,C,R;for(C=0,R=v.left.length;C<R;C++)h[v.left[C]]=[-1*o,0];for(C=0,R=v.right.length;C<R;C++)h[v.right[C]]=[o,0];for(C=0,R=v.down.length;C<R;C++)h[v.down[C]]=[0,o];for(C=0,R=v.up.length;C<R;C++)h[v.up[C]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},v=this.keyCodes,C,R;for(C=0,R=v.zoomIn.length;C<R;C++)h[v.zoomIn[C]]=o;for(C=0,R=v.zoomOut.length;C<R;C++)h[v.zoomOut[C]]=-o},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,v=this._map,C;if(h in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(C=this._panKeys[h],o.shiftKey&&(C=B(C).multiplyBy(3)),v.options.maxBounds&&(C=v._limitOffset(B(C),v.options.maxBounds)),v.options.worldCopyJump){var R=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(C)));v.panTo(R)}else v.panBy(C)}else if(h in this._zoomKeys)v.setZoom(v.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Pi(o)}}});mt.addInitHook("addHandler","keyboard",Ic),mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ao=te.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=Me(o),v=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var C=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),C),Pi(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),v=this._map.options.zoomSnap||0;o._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,q=v?Math.ceil(R/v)*v:R,ce=o._limitZoom(h+(this._delta>0?q:-q))-h;this._delta=0,this._startTime=null,ce&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+ce):o.setZoomAround(this._lastMousePos,h+ce))}});mt.addInitHook("addHandler","scrollWheelZoom",ao);var Eh=600;mt.mergeOptions({tapHold:pt.touchNative&&pt.safari&&pt.mobile,tapTolerance:15});var Gu=te.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new H(h.clientX,h.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",fr),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Eh),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){xn(document,"touchend",fr),xn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),xn(document,"touchend touchcancel contextmenu",this._cancel,this),xn(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new H(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var v=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});v._simulated=!0,h.target.dispatchEvent(v)}});mt.addInitHook("addHandler","tapHold",Gu),mt.mergeOptions({touchZoom:pt.touch,bounceAtZoomLimits:!0});var Xo=te.extend({addHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$n(this._map._container,"leaflet-touch-zoom"),xn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var v=h.mouseEventToContainerPoint(o.touches[0]),C=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(v.add(C)._divideBy(2))),this._startDist=v.distanceTo(C),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),fr(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,v=h.mouseEventToContainerPoint(o.touches[0]),C=h.mouseEventToContainerPoint(o.touches[1]),R=v.distanceTo(C)/this._startDist;if(this._zoom=h.getScaleZoom(R,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&R<1||this._zoom>h.getMaxZoom()&&R>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var q=v._add(C)._divideBy(2)._subtract(this._centerPoint);if(R===1&&q.x===0&&q.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(q),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),me(this._animRequest);var ce=d(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(ce,this,!0),fr(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,me(this._animRequest),xn(document,"touchmove",this._onTouchMove,this),xn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mt.addInitHook("addHandler","touchZoom",Xo),mt.BoxZoom=qu,mt.DoubleClickZoom=la,mt.Drag=Ch,mt.Keyboard=Ic,mt.ScrollWheelZoom=ao,mt.TapHold=Gu,mt.TouchZoom=Xo,r.Bounds=ie,r.Browser=pt,r.CRS=Le,r.Canvas=Lc,r.Circle=Sh,r.CircleMarker=Pc,r.Class=pe,r.Control=rn,r.DivIcon=_h,r.DivOverlay=Vs,r.DomEvent=un,r.DomUtil=xi,r.Draggable=Fn,r.Evented=W,r.FeatureGroup=Ji,r.GeoJSON=ts,r.GridLayer=qo,r.Handler=te,r.Icon=Pl,r.ImageOverlay=oa,r.LatLng=N,r.LatLngBounds=F,r.Layer=$s,r.LayerGroup=Ho,r.LineUtil=qp,r.Map=mt,r.Marker=Rl,r.Mixin=rt,r.Path=La,r.Point=H,r.PolyUtil=vi,r.Polygon=zl,r.Polyline=Oa,r.Popup=Dc,r.PosAnimation=wn,r.Projection=Gp,r.Rectangle=tm,r.Renderer=Hs,r.SVG=so,r.SVGOverlay=io,r.TileLayer=Go,r.Tooltip=Wu,r.Transformation=ot,r.Util=Ee,r.VideoOverlay=Hu,r.bind=d,r.bounds=he,r.canvas=Oc,r.circle=av,r.circleMarker=Xp,r.control=Lr,r.divIcon=em,r.extend=l,r.featureGroup=kc,r.geoJSON=Uu,r.geoJson=Kp,r.gridLayer=Us,r.icon=$u,r.imageOverlay=Ll,r.latLng=re,r.latLngBounds=P,r.layerGroup=Yp,r.map=on,r.marker=jh,r.point=B,r.polygon=es,r.polyline=ov,r.popup=lv,r.rectangle=is,r.setOptions=A,r.stamp=p,r.svg=Yo,r.svgOverlay=Jp,r.tileLayer=ns,r.tooltip=cv,r.transformation=Qe,r.version=s,r.videoOverlay=Qp;var Il=window.L;r.noConflict=function(){return window.L=Il,this},window.L=r}))})(Nf,Nf.exports)),Nf.exports}var ph=gQ();const mh=Sp(ph);function nv(t,n,r){return Object.freeze({instance:t,context:n,container:r})}function rv(t,n){return n==null?function(s,l){const u=b.useRef(void 0);return u.current||(u.current=t(s,l)),u}:function(s,l){const u=b.useRef(void 0);u.current||(u.current=t(s,l));const d=b.useRef(s),{instance:m}=u.current;return b.useEffect(function(){d.current!==s&&(n(m,s,d.current),d.current=s)},[m,s,n]),u}}function WR(t,n){b.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function qR(t){return function(r){const s=ev(),l=t(tv(r,s),s);return VR(s.map,r.attribution),m1(l.current,r.eventHandlers),WR(l.current,s),l}}function xQ(t,n){const r=b.useRef(void 0);b.useEffect(function(){if(n.pathOptions!==r.current){const l=n.pathOptions??{};t.instance.setStyle(l),r.current=l}},[t,n])}function vQ(t){return function(r){const s=ev(),l=t(tv(r,s),s);return m1(l.current,r.eventHandlers),WR(l.current,s),xQ(l.current,r),l}}function yQ(t,n){const r=rv(t,n),s=qR(r);return HR(s)}function bQ(t,n){const r=rv(t),s=pQ(r,n);return hQ(s)}function jQ(t,n){const r=rv(t,n),s=vQ(r);return HR(s)}function SQ(t,n){const r=rv(t,n),s=qR(r);return fQ(s)}function wQ(t,n,r){const{opacity:s,zIndex:l}=n;s!=null&&s!==r.opacity&&t.setOpacity(s),l!=null&&l!==r.zIndex&&t.setZIndex(l)}function _Q(){return ev().map}function CQ({bounds:t,boundsOptions:n,center:r,children:s,className:l,id:u,placeholder:d,style:m,whenReady:p,zoom:g,...x},j){const[S]=b.useState({className:l,id:u,style:m}),[_,E]=b.useState(null),A=b.useRef(void 0);b.useImperativeHandle(j,()=>_?.map??null,[_]);const T=b.useCallback(M=>{if(M!==null&&!A.current){const k=new ph.Map(M,x);A.current=k,r!=null&&g!=null?k.setView(r,g):t!=null&&k.fitBounds(t,n),p!=null&&k.whenReady(p),E(dQ(k))}},[]);b.useEffect(()=>()=>{_?.map.remove()},[_]);const z=_?cn.createElement(p1,{value:_},s):d??null;return cn.createElement("div",{...S,ref:T},z)}const EQ=b.forwardRef(CQ),AQ=yQ(function({position:n,...r},s){const l=new ph.Marker(n,r);return nv(l,UR(s,{overlayContainer:l}))},function(n,r,s){r.position!==s.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==s.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==s.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==s.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==s.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),TQ=jQ(function({positions:n,...r},s){const l=new ph.Polyline(n,r);return nv(l,UR(s,{overlayContainer:l}))},function(n,r,s){r.positions!==s.positions&&n.setLatLngs(r.positions)}),kQ=bQ(function(n,r){const s=new ph.Popup(n,r.overlayContainer);return nv(s,r)},function(n,r,{position:s},l){b.useEffect(function(){const{instance:d}=n;function m(g){g.popup===d&&(d.update(),l(!0))}function p(g){g.popup===d&&l(!1)}return r.map.on({popupopen:m,popupclose:p}),r.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:m,popupclose:p}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[n,r,l,s])}),PQ=SQ(function({url:n,...r},s){const l=new ph.TileLayer(n,tv(r,s));return nv(l,s)},function(n,r,s){wQ(n,r,s);const{url:l}=r;l!=null&&l!==s.url&&n.setUrl(l)});delete mh.Icon.Default.prototype._getIconUrl;mh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const MQ=mh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),RQ=mh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),zQ=mh.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});function DQ({waypoints:t}){const n=_Q();return b.useEffect(()=>{if(t&&t.length>0){const r=t.map(l=>[l.lat,l.lng]),s=mh.latLngBounds(r);n.fitBounds(s,{padding:[50,50]})}},[t,n]),null}function LQ({route:t}){if(!t||!t.waypoints||t.waypoints.length===0)return e.jsx(xe,{p:4,bg:"gray.50",borderRadius:"md",textAlign:"center",color:"gray.500",children:"Pas de waypoints  afficher"});const n=t.waypoints.sort((s,l)=>s.order-l.order),r=n.map(s=>[s.lat,s.lng]);return e.jsx(xe,{borderRadius:"md",overflow:"hidden",boxShadow:"md",h:"500px",children:e.jsxs(EQ,{center:[n[0].lat,n[0].lng],zoom:10,style:{height:"100%",width:"100%"},children:[e.jsx(PQ,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e.jsx(TQ,{positions:r,color:"purple",weight:4,opacity:.8,dashArray:"5, 5"}),n.map((s,l)=>e.jsx(AQ,{position:[s.lat,s.lng],icon:l===0?MQ:l===n.length-1?RQ:zQ,children:e.jsx(kQ,{children:e.jsxs("div",{style:{fontSize:"12px",minWidth:"150px"},children:[e.jsx("strong",{children:s.name}),e.jsx("br",{}),"Lat: ",s.lat.toFixed(4),", Lng: ",s.lng.toFixed(4),e.jsx("br",{}),s.stopTime>0&&e.jsxs("span",{children:["Arrt: ",s.stopTime," min",e.jsx("br",{})]}),e.jsxs("small",{children:["Point ",l+1,"/",n.length]})]})})},s.order)),e.jsx(DQ,{waypoints:n})]})})}function OQ(){const{isOpen:t,onOpen:n,onClose:r}=It(),s=Mn(),[l,u]=b.useState([]),[d,m]=b.useState(!1),[p,g]=b.useState("routes"),[x,j]=b.useState(null),[S,_]=b.useState({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),[E,A]=b.useState({name:"",lat:"",lng:"",stopTime:0}),T="https://attractive-kindness-rbe-serveurs.up.railway.app";b.useEffect(()=>{t&&z()},[t]);const z=async()=>{m(!0);try{const G=await fetch(`${T}/routes`);if(!G.ok)throw new Error("Erreur chargement");const ee=await G.json();u(ee)}catch(G){s({title:"Erreur",description:G.message,status:"error"})}finally{m(!1)}},M=()=>{if(!E.name||!E.lat||!E.lng){s({title:"Erreur",description:"Remplissez tous les champs",status:"error"});return}_(G=>({...G,waypoints:[...G.waypoints,{...E,lat:parseFloat(E.lat),lng:parseFloat(E.lng),stopTime:parseInt(E.stopTime||0),order:G.waypoints.length}]})),A({name:"",lat:"",lng:"",stopTime:0})},k=G=>{_(ee=>({...ee,waypoints:ee.waypoints.filter((ue,fe)=>fe!==G)}))},O=async()=>{if(!S.name||S.waypoints.length<2){s({title:"Erreur",description:"Nom + 2+ waypoints requis",status:"error"});return}try{if(!(await fetch(`${T}/routes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).ok)throw new Error("Erreur cration");s({title:"Succs",description:"Itinraire cr!",status:"success"}),_({name:"",description:"",waypoints:[],difficulty:"NORMAL",season:"SUMMER",maxLength:null,maxHeight:null,maxWeight:null}),g("routes"),z()}catch(G){s({title:"Erreur",description:G.message,status:"error"})}},I=async G=>{if(window.confirm("Confirmer suppression?"))try{if(!(await fetch(`${T}/routes/${G}`,{method:"DELETE"})).ok)throw new Error("Erreur");s({title:"Supprime",status:"success"}),z()}catch(ee){s({title:"Erreur",description:ee.message,status:"error"})}},$=G=>{const ee=G.totalDistance||0,ue=G.estimatedTime||0,fe=Math.floor(ue/60),X=ue%60;return{distance:ee,time:`${fe}h${X}m`}};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onClick:n,leftIcon:e.jsx(mc,{}),colorScheme:"purple",size:"md",w:"100%",children:" RtroGPS - Traage d'itinraires"}),e.jsxs(kt,{isOpen:t,onClose:r,size:"5xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",display:"flex",flexDirection:"column",children:[e.jsx(Mt,{children:e.jsxs(le,{spacing:3,children:[e.jsx(Kn,{as:mc,color:"purple.500",boxSize:6}),e.jsxs(xe,{children:[e.jsx(De,{size:"lg",children:"RtroGPS - Gestion des itinraires"}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Crez et tracez les tournes"})]})]})}),e.jsx($t,{}),e.jsx(Pt,{overflow:"auto",flex:1,pb:4,children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{spacing:0,borderBottom:"2px solid",borderColor:"gray.200",children:[e.jsxs(ne,{variant:p==="routes"?"solid":"ghost",colorScheme:p==="routes"?"purple":"gray",onClick:()=>g("routes"),leftIcon:e.jsx(mc,{}),children:["Itinraires (",l.length,")"]}),e.jsx(ne,{variant:p==="create"?"solid":"ghost",colorScheme:p==="create"?"green":"gray",onClick:()=>g("create"),leftIcon:e.jsx(Bn,{}),children:"Crer"})]}),p==="routes"&&e.jsx(oe,{spacing:4,align:"stretch",children:d?e.jsx(jn,{p:8,children:e.jsx(Sn,{})}):l.length===0?e.jsx(jn,{p:8,bg:"gray.50",borderRadius:"md",children:e.jsx(D,{color:"gray.500",children:"Aucun itinraire cr"})}):e.jsxs(Rr,{size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{bg:"gray.100",children:[e.jsx(He,{children:"Nom"}),e.jsx(He,{children:"Distance"}),e.jsx(He,{children:"Temps"}),e.jsx(He,{children:"Points"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:l.map(G=>{const ee=$(G);return e.jsxs(Qt,{_hover:{bg:"gray.50"},children:[e.jsx(Ve,{fontWeight:"bold",children:G.name}),e.jsxs(Ve,{children:[ee.distance," km"]}),e.jsx(Ve,{children:ee.time}),e.jsx(Ve,{textAlign:"center",children:G.waypoints?.length||0}),e.jsx(Ve,{children:e.jsxs(le,{spacing:1,children:[e.jsx(qi,{label:"Dtails",children:e.jsx(yt,{icon:e.jsx(So,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>j(G)})}),e.jsx(qi,{label:"Supprimer",children:e.jsx(yt,{icon:e.jsx(dr,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>I(G.id)})})]})})]},G.id)})})]})}),p==="create"&&e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Nom de l'itinraire"}),e.jsx(je,{placeholder:"ex: Tourne Essonne Sud",value:S.name,onChange:G=>_(ee=>({...ee,name:G.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{placeholder:"Dtails du parcours...",value:S.description,onChange:G=>_(ee=>({...ee,description:G.target.value})),rows:2})]}),e.jsxs(ht,{columns:3,gap:3,children:[e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Longueur max (m)"}),e.jsx(Yn,{value:S.maxLength||"",onChange:G=>_(ee=>({...ee,maxLength:G?parseFloat(G):null})),children:e.jsx(Xn,{placeholder:"12.5"})})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Hauteur max (m)"}),e.jsx(Yn,{value:S.maxHeight||"",onChange:G=>_(ee=>({...ee,maxHeight:G?parseFloat(G):null})),children:e.jsx(Xn,{placeholder:"3.8"})})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Poids max (t)"}),e.jsx(Yn,{value:S.maxWeight||"",onChange:G=>_(ee=>({...ee,maxWeight:G?parseFloat(G):null})),children:e.jsx(Xn,{placeholder:"13"})})]})]}),e.jsx(Ln,{}),e.jsx(De,{size:"sm",children:" Points de passage"}),e.jsxs(le,{spacing:2,align:"flex-end",children:[e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Nom"}),e.jsx(je,{placeholder:"ex: Dpart",value:E.name,onChange:G=>A(ee=>({...ee,name:G.target.value})),size:"sm"})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Lat"}),e.jsx(je,{placeholder:"48.8566",value:E.lat,onChange:G=>A(ee=>({...ee,lat:G.target.value})),size:"sm"})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Lng"}),e.jsx(je,{placeholder:"2.3522",value:E.lng,onChange:G=>A(ee=>({...ee,lng:G.target.value})),size:"sm"})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"sm",children:"Arrt (min)"}),e.jsx(Yn,{value:E.stopTime,onChange:G=>A(ee=>({...ee,stopTime:G})),size:"sm",children:e.jsx(Xn,{})})]}),e.jsx(ne,{onClick:M,colorScheme:"green",size:"sm",leftIcon:e.jsx(Bn,{}),children:"Ajouter"})]}),S.waypoints.length>0&&e.jsxs(xe,{p:3,bg:"gray.50",borderRadius:"md",maxH:"200px",overflow:"auto",children:[e.jsxs(D,{fontWeight:"bold",mb:2,children:["Waypoints (",S.waypoints.length,"):"]}),S.waypoints.map((G,ee)=>e.jsxs(le,{p:2,bg:"white",borderRadius:"md",mb:1,justify:"space-between",children:[e.jsxs(D,{fontSize:"sm",children:[ee+1,". ",e.jsx("strong",{children:G.name})," - ",G.lat.toFixed(4),", ",G.lng.toFixed(4)," (+",G.stopTime,"min)"]}),e.jsx(ne,{size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>k(ee),children:""})]},ee))]}),e.jsx(ne,{colorScheme:"purple",size:"lg",w:"100%",onClick:O,isDisabled:!S.name||S.waypoints.length<2,children:" Crer l'itinraire"})]}),x&&e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(xe,{p:4,bg:"blue.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"blue.500",children:[e.jsxs(le,{justify:"space-between",mb:3,children:[e.jsx(De,{size:"md",children:x.name}),e.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>j(null),children:""})]}),e.jsxs(oe,{align:"start",spacing:2,fontSize:"sm",children:[e.jsxs(D,{children:[e.jsx("strong",{children:"Description:"})," ",x.description||"N/A"]}),e.jsxs(D,{children:[e.jsx("strong",{children:"Points:"})," ",x.waypoints?.length||0]}),e.jsxs(D,{children:[e.jsx("strong",{children:"Distance:"})," ",$(x).distance," km"]}),e.jsxs(D,{children:[e.jsx("strong",{children:"Temps:"})," ",$(x).time]}),x.maxLength&&e.jsxs(nt,{children:["L max: ",x.maxLength,"m"]}),x.maxHeight&&e.jsxs(nt,{children:["H max: ",x.maxHeight,"m"]}),x.maxWeight&&e.jsxs(nt,{children:["P max: ",x.maxWeight,"t"]})]})]}),e.jsxs(xe,{children:[e.jsxs(le,{spacing:2,mb:3,children:[e.jsx(Kn,{as:TK,color:"purple.500"}),e.jsx(De,{size:"sm",children:"Visualisation de l'itinraire"})]}),e.jsx(LQ,{route:x})]}),e.jsx(ne,{colorScheme:"gray",size:"sm",w:"100%",onClick:()=>j(null),children:"Fermer la vue dtails"})]})]})}),e.jsx(Gt,{children:e.jsx(ne,{colorScheme:"gray",variant:"outline",onClick:r,children:"Fermer"})})]})]})]})}function NQ(){const[t,n]=b.useState(0);return gr("gray.50","gray.900"),e.jsx(sh,{title:"Gestion des vnements",subtitle:"Crez, planifiez et suivez les tournes RtroBus",headerVariant:"card",bgGradient:"linear(to-r, green.500, teal.600)",titleSize:"xl",titleWeight:"700",breadcrumbs:[{label:"Dashboard",href:"/dashboard/home"},{label:"MyRBE",href:"/dashboard/myrbe"},{label:"vnements",href:"/dashboard/events-management"}],children:e.jsx(xe,{children:e.jsxs(Oo,{index:t,onChange:n,variant:"enclosed",colorScheme:"green",children:[e.jsxs(No,{borderBottom:"2px solid",borderColor:"green.200",children:[e.jsx(pn,{_selected:{color:"white",bg:"green.500"},children:e.jsxs(le,{spacing:2,children:[e.jsx(ls,{}),e.jsx("span",{children:"Gestion des vnements"})]})}),e.jsx(pn,{_selected:{color:"white",bg:"teal.500"},children:e.jsxs(le,{spacing:2,children:[e.jsx(h1,{}),e.jsx("span",{children:"Planification"})]})}),e.jsx(pn,{_selected:{color:"white",bg:"purple.500"},children:e.jsxs(le,{spacing:2,children:[e.jsx(mc,{}),e.jsx("span",{children:"RtroGPS"})]})})]}),e.jsxs(Io,{children:[e.jsx(mn,{p:0,pt:6,children:e.jsx(cQ,{})}),e.jsx(mn,{children:e.jsx(oe,{spacing:6,align:"stretch",children:e.jsxs(xe,{p:6,bg:"teal.50",borderRadius:"lg",borderLeft:"4px solid",borderColor:"teal.500",children:[e.jsx(De,{size:"md",mb:2,children:" Vue Calendrier"}),e.jsx("p",{children:"Bientt disponible : calendrier interactif de vos tournes et vnements."})]})})}),e.jsx(mn,{children:e.jsx(oe,{spacing:6,align:"stretch",children:e.jsx(OQ,{})})})]})]})})})}const IQ=({value:t,onChange:n,isRequired:r=!1})=>{const[s,l]=b.useState([]),[u,d]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("token"),x=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/vehicles",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(x.ok){const j=await x.json();l(j)}}catch(g){console.error("Erreur lors du chargement des vhicules:",g)}finally{d(!1)}})()},[]);const m=s.find(p=>p.parc===t);return e.jsxs(xe,{children:[e.jsxs(Q,{children:["Vhicule participant ",r&&e.jsx(D,{as:"span",color:"red.500",children:"*"})]}),u?e.jsxs(lr,{align:"center",justify:"center",py:4,children:[e.jsx(Sn,{size:"sm",mr:2}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Chargement des vhicules..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(st,{placeholder:"Slectionner un vhicule (optionnel)",value:t,onChange:p=>n(p.target.value),bg:"white",children:s.map(p=>e.jsxs("option",{value:p.parc,children:[p.marque," ",p.modele," - ",p.parc,p.immat&&` (${p.immat})`]},p.parc))}),m&&e.jsxs(xe,{mt:3,p:3,bg:"blue.50",borderRadius:"md",border:"1px solid",borderColor:"blue.200",children:[e.jsxs(lr,{align:"center",children:[m.gallery&&m.gallery[0]&&e.jsx(As,{src:`https://refreshing-adaptation-rbe-serveurs.up.railway.app${m.gallery[0]}`,alt:`${m.marque} ${m.modele}`,boxSize:"60px",objectFit:"cover",borderRadius:"md",mr:3}),e.jsxs(xe,{flex:1,children:[e.jsxs(D,{fontWeight:"bold",color:"blue.700",children:[m.marque," ",m.modele]}),e.jsxs(le,{spacing:2,mt:1,children:[e.jsx(nt,{colorScheme:"blue",fontSize:"xs",children:m.parc}),m.immat&&e.jsx(nt,{colorScheme:"green",fontSize:"xs",children:m.immat}),m.miseEnCirculation&&e.jsx(nt,{colorScheme:"orange",fontSize:"xs",children:new Date(m.miseEnCirculation).getFullYear()})]}),m.subtitle&&e.jsx(D,{fontSize:"sm",color:"gray.600",mt:1,children:m.subtitle})]})]}),e.jsxs(oe,{spacing:2,align:"start",mt:3,children:[e.jsx(D,{fontSize:"xs",color:"blue.600",fontStyle:"italic",fontWeight:"semibold",children:" Ce vhicule sera mis en avant sur sa page individuelle avec une banderole spciale pour cet vnement"}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Les visiteurs verront une banderole thmatique adapte au type d'vnement sur la page de ce vhicule."})]})]})]}),e.jsx(D,{fontSize:"xs",color:"gray.500",mt:2,children:"Slectionnez un vhicule pour qu'il soit associ  cet vnement. Une banderole apparatra sur sa page pour informer les visiteurs de sa participation."})]})},Hy={public_info_only:{name:"Information publique",color:"blue",description:"vnement d'information sans inscription",defaults:{isVisible:!0,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"public_info_only"}},paid_event:{name:"vnement payant",color:"green",description:"vnement avec tarifs et inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!1,registrationMethod:"helloasso",eventType:"paid_event"}},free_registration:{name:"Inscription gratuite",color:"purple",description:"vnement gratuit avec inscription",defaults:{isVisible:!0,requiresRegistration:!0,allowPublicRegistration:!0,isFree:!0,registrationMethod:"internal",eventType:"free_registration"}},internal_only:{name:"vnement interne",color:"orange",description:"vnement rserv aux membres",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"internal_only"}},maintenance:{name:"Maintenance/Atelier",color:"red",description:"Activit de maintenance ou atelier technique",defaults:{isVisible:!1,requiresRegistration:!1,allowPublicRegistration:!1,isFree:!0,registrationMethod:"none",eventType:"maintenance"}}};function BQ(){const[t,n]=b.useState([]),[r,s]=b.useState([]),[l,u]=b.useState(!0),[d,m]=b.useState(!1),[p,g]=b.useState("cards"),[x,j]=b.useState(""),{isOpen:S,onOpen:_,onClose:E}=It(),[A,T]=b.useState(null),[z,M]=b.useState({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),k=Mn(),O=b.useCallback(async()=>{try{u(!0);const K=await va.getAll();n(Array.isArray(K)?K:[])}catch(K){console.error(K),k({status:"error",title:"Erreur de chargement",description:"Impossible de charger les vnements"}),n([])}finally{u(!1)}},[k]),I=b.useCallback(async()=>{try{const K=await Jf.getAll();s(Array.isArray(K)?K:[])}catch(K){console.error(K),s([])}},[]);b.useEffect(()=>{O(),I()},[O,I]);const $=()=>{M({title:"",date:"",time:"",location:"",description:"",adultPrice:"",childPrice:"",helloAssoUrl:"",vehicleId:"",status:"DRAFT",isVisible:!0,allowPublicRegistration:!1,requiresRegistration:!1,isFree:!0,maxParticipants:"",registrationDeadline:"",registrationMethod:"none",pdfUrl:"",eventType:"public_info_only"}),j(""),T(null)},G=K=>{const Z=Hy[K];Z&&(M(W=>({...W,...Z.defaults,eventType:K})),j(K),k({status:"info",title:"Template appliqu",description:Z.description}))},ee=()=>{T(null),$(),_()},ue=K=>{T(K);let Z={};try{Z=K.extras?JSON.parse(K.extras):{}}catch(W){console.log("Impossible de parser extras:",W)}M({title:K.title||"",date:K.date?K.date.split("T")[0]:"",time:K.time||"",location:K.location||"",description:K.description||"",adultPrice:K.adultPrice?K.adultPrice.toString():"",childPrice:K.childPrice?K.childPrice.toString():"",helloAssoUrl:K.helloAssoUrl||"",vehicleId:K.vehicleId||"",status:K.status||"DRAFT",isVisible:Z.isVisible!==void 0?Z.isVisible:!0,allowPublicRegistration:Z.allowPublicRegistration||!1,requiresRegistration:Z.requiresRegistration||!1,isFree:Z.isFree!==void 0?Z.isFree:!0,maxParticipants:Z.maxParticipants?Z.maxParticipants.toString():"",registrationDeadline:Z.registrationDeadline||"",registrationMethod:Z.registrationMethod||"none",pdfUrl:Z.pdfUrl||"",eventType:Z.eventType||"public_info_only"}),j(Z.eventType||""),_()},fe=async()=>{if(!z.title.trim()||!z.date){k({status:"error",title:"Champs requis",description:"Le titre et la date sont obligatoires"});return}try{m(!0);const K={title:z.title.trim(),date:z.date,time:z.time||null,location:z.location.trim()||null,description:z.description.trim()||null,adultPrice:z.adultPrice?parseFloat(z.adultPrice):null,childPrice:z.childPrice?parseFloat(z.childPrice):null,helloAssoUrl:z.helloAssoUrl.trim()||null,vehicleId:z.vehicleId||null,status:z.status,extras:JSON.stringify({isVisible:z.isVisible,allowPublicRegistration:z.allowPublicRegistration,requiresRegistration:z.requiresRegistration,isFree:z.isFree,maxParticipants:z.maxParticipants?parseInt(z.maxParticipants):null,registrationDeadline:z.registrationDeadline||null,registrationMethod:z.registrationMethod,pdfUrl:z.pdfUrl||null,eventType:z.eventType})};if(A)await va.update(A.id,K),k({status:"success",title:"vnement modifi",description:"Les modifications ont t sauvegardes"});else{const Z=z.title.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"").substring(0,20)+new Date().getFullYear();await va.create({id:Z,...K}),k({status:"success",title:"vnement cr",description:"Le nouvel vnement a t cr avec succs"})}O(),E(),$()}catch(K){console.error(K),k({status:"error",title:"Erreur de sauvegarde",description:"Impossible de sauvegarder l'vnement"})}finally{m(!1)}},X=async()=>{const K=localStorage.getItem("token");if(console.log(" Testing API connection..."),!K){k({status:"error",title:"Pas de token",description:"Veuillez vous reconnecter"});return}try{const Z=await fetch("https://refreshing-adaptation-rbe-serveurs.up.railway.app/events",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});Z.ok?k({status:"success",title:"API fonctionnelle",description:"La connexion API fonctionne"}):k({status:"error",title:"Erreur API",description:`Status: ${Z.status}`})}catch(Z){k({status:"error",title:"Erreur rseau",description:Z.message})}},me=K=>{const Z={DRAFT:{colorScheme:"gray",label:"Brouillon"},PUBLISHED:{colorScheme:"green",label:"Publi"},ARCHIVED:{colorScheme:"orange",label:"Archiv"}},W=Z[K]||Z.DRAFT;return e.jsx(nt,{colorScheme:W.colorScheme,children:W.label})},Ee=K=>{const Z=typeof K.extras=="string"?JSON.parse(K.extras||"{}"):K.extras||{},W=Hy[Z.eventType];return W?e.jsx(nt,{colorScheme:W.color,variant:"outline",children:W.name}):null},pe=K=>{const Z=r.find(W=>W.parc===K);return Z?`${Z.parc} - ${Z.modele}`:"Aucun vhicule"};return e.jsxs(xe,{p:6,children:[e.jsxs(lr,{justify:"space-between",align:"center",mb:6,children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{children:" Cration des vnements"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Crez et configurez de nouveaux vnements pour l'association"})]}),e.jsxs(le,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(_i,{}),size:"sm",colorScheme:"purple",variant:"outline",onClick:X,children:"Tester API"}),e.jsx(ne,{leftIcon:p==="cards"?e.jsx(NR,{}):e.jsx(f1,{}),size:"sm",variant:"outline",onClick:()=>g(p==="cards"?"table":"cards"),children:p==="cards"?"Vue tableau":"Vue cartes"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:ee,children:"Nouvel vnement"})]})]}),l?e.jsx(jn,{py:20,children:e.jsx(Sn,{size:"xl"})}):t.length===0?e.jsx(jn,{py:20,children:e.jsxs(oe,{spacing:4,children:[e.jsx(D,{color:"gray.500",fontSize:"lg",children:"Aucun vnement trouv"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:ee,children:"Crer le premier vnement"})]})}):e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:6,children:t.map(K=>e.jsxs(Ie,{shadow:"md",position:"relative",children:[e.jsx(Ot,{pb:2,children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsx(le,{justify:"space-between",w:"100%",children:e.jsx(De,{size:"md",noOfLines:2,flex:1,children:K.title})}),e.jsxs(le,{spacing:2,wrap:"wrap",children:[me(K.status),Ee(K)]})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsxs(le,{children:[e.jsx(ls,{}),e.jsxs(D,{fontSize:"sm",children:[K.date," ",K.time&&` ${K.time}`]})]}),K.location&&e.jsxs(le,{children:[e.jsx(mc,{}),e.jsx(D,{fontSize:"sm",children:K.location})]}),K.vehicleId&&e.jsxs(le,{children:[e.jsx(D,{fontSize:"sm",children:""}),e.jsx(D,{fontSize:"sm",fontWeight:"semibold",color:"blue.600",children:pe(K.vehicleId)})]}),K.description&&e.jsx(D,{fontSize:"sm",color:"gray.600",noOfLines:3,children:K.description}),e.jsx(ne,{size:"sm",colorScheme:"blue",variant:"outline",onClick:()=>ue(K),w:"100%",children:"Modifier"})]})})]},K.id))}),e.jsxs(kt,{isOpen:S,onClose:E,size:"6xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:A?"Modifier l'vnement":"Crer un nouvel vnement"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(Oo,{children:[e.jsxs(No,{children:[e.jsx(pn,{children:"Informations de base"}),e.jsx(pn,{children:"Configuration"}),e.jsx(pn,{children:"Inscription & Prix"})]}),e.jsxs(Io,{children:[e.jsx(mn,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:2,children:"Dmarrage rapide :"}),e.jsx(le,{spacing:2,wrap:"wrap",children:Object.entries(Hy).map(([K,Z])=>e.jsx(ne,{size:"sm",colorScheme:Z.color,variant:x===K?"solid":"outline",onClick:()=>G(K),children:Z.name},K))})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{value:z.title,onChange:K=>M(Z=>({...Z,title:K.target.value})),placeholder:"Nom de l'vnement"})]}),e.jsxs(le,{w:"100%",spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:z.date,onChange:K=>M(Z=>({...Z,date:K.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Heure"}),e.jsx(je,{type:"time",value:z.time,onChange:K=>M(Z=>({...Z,time:K.target.value}))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Lieu"}),e.jsx(je,{value:z.location,onChange:K=>M(Z=>({...Z,location:K.target.value})),placeholder:"Lieu de l'vnement"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Vhicule assign"}),e.jsx(IQ,{vehicles:r,value:z.vehicleId,onChange:K=>M(Z=>({...Z,vehicleId:K}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:z.description,onChange:K=>M(Z=>({...Z,description:K.target.value})),placeholder:"Description de l'vnement",rows:4})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Statut"}),e.jsxs(st,{value:z.status,onChange:K=>M(Z=>({...Z,status:K.target.value})),children:[e.jsx("option",{value:"DRAFT",children:"Brouillon"}),e.jsx("option",{value:"PUBLISHED",children:"Publi"}),e.jsx("option",{value:"ARCHIVED",children:"Archiv"})]})]}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:"0",children:"Visible sur le site public"}),e.jsx(br,{isChecked:z.isVisible,onChange:K=>M(Z=>({...Z,isVisible:K.target.checked}))})]}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:"0",children:"Inscription requise"}),e.jsx(br,{isChecked:z.requiresRegistration,onChange:K=>M(Z=>({...Z,requiresRegistration:K.target.checked}))})]}),z.requiresRegistration&&e.jsxs(J,{children:[e.jsx(Q,{children:"Mthode d'inscription"}),e.jsxs(st,{value:z.registrationMethod,onChange:K=>M(Z=>({...Z,registrationMethod:K.target.value})),children:[e.jsx("option",{value:"none",children:"Aucune"}),e.jsx("option",{value:"helloasso",children:"HelloAsso"}),e.jsx("option",{value:"pdf",children:"Formulaire PDF"}),e.jsx("option",{value:"internal",children:"Systme interne"})]})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:"0",children:"vnement gratuit"}),e.jsx(br,{isChecked:z.isFree,onChange:K=>M(Z=>({...Z,isFree:K.target.checked}))})]}),!z.isFree&&e.jsxs(le,{w:"100%",spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Prix adulte ()"}),e.jsx(je,{type:"number",step:"0.01",value:z.adultPrice,onChange:K=>M(Z=>({...Z,adultPrice:K.target.value})),placeholder:"0.00"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Prix enfant ()"}),e.jsx(je,{type:"number",step:"0.01",value:z.childPrice,onChange:K=>M(Z=>({...Z,childPrice:K.target.value})),placeholder:"0.00"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Nombre maximum de participants"}),e.jsx(je,{type:"number",value:z.maxParticipants,onChange:K=>M(Z=>({...Z,maxParticipants:K.target.value})),placeholder:"Illimit"})]}),z.registrationMethod==="helloasso"&&e.jsxs(J,{children:[e.jsx(Q,{children:"URL HelloAsso"}),e.jsx(je,{value:z.helloAssoUrl,onChange:K=>M(Z=>({...Z,helloAssoUrl:K.target.value})),placeholder:"https://www.helloasso.com/..."})]}),z.registrationMethod==="pdf"&&e.jsxs(J,{children:[e.jsx(Q,{children:"URL du formulaire PDF"}),e.jsx(je,{value:z.pdfUrl,onChange:K=>M(Z=>({...Z,pdfUrl:K.target.value})),placeholder:"https://exemple.com/formulaire.pdf"})]})]})})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:()=>{E(),$()},children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:fe,isLoading:d,children:A?"Modifier":"Crer"})]})]})]})]})}function $Q(){return e.jsxs(xe,{p:6,bg:"green.100",minH:"100vh",children:[e.jsx(De,{color:"green.800",mb:4,children:" TEST - Gestion des vnements"}),e.jsx(D,{color:"green.700",mb:4,children:"Si vous voyez cette page, la redirection depuis MyRBE fonctionne !"}),e.jsx(ne,{as:tr,to:"/dashboard/myrbe",colorScheme:"green",children:"Retour  MyRBE"})]})}function Wy(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function FQ(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function VQ(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function GR(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function TA(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function kA(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function UQ(t){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function PA(t){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function HQ(t){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function ZR(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function YR(t){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function g1(t,{preferUpperLast:n=!0}={}){if(!t)return"Utilisateur";const r=t.firstName||t.prenom||t.given_name||"",s=t.lastName||t.nom||t.family_name||"",l=t.username||t.matricule||"",u=t.email||"",d=[];return n&&s&&d.push(String(s).toUpperCase()),r&&d.push(r),d.length?d.join(" ").trim():s||r?[r,s].filter(Boolean).join(" ").trim():l||u||"Utilisateur"}function x1(t){if(!t)return"Adhrent";const n=t.firstName||"",r=t.lastName||"",s=t.memberNumber||"",l=t.email||"",d=[r?String(r).toUpperCase():"",n].filter(Boolean).join(" ").trim()||l||s||"Adhrent";return s?`${d} - #${s}`:d}const If={async getAll(t){const n=await fetch("/api/email-templates",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error(`Failed to fetch templates: ${n.statusText}`);return n.json()},async getById(t,n){const r=await fetch(`/api/email-templates/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error(`Failed to fetch template: ${r.statusText}`);return r.json()},async create(t,n){const r=await fetch("/api/email-templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to create template")}return r.json()},async update(t,n,r){const s=await fetch(`/api/email-templates/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!s.ok){const l=await s.json();throw new Error(l.error||"Failed to update template")}return s.json()},async delete(t,n){const r=await fetch(`/api/email-templates/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to delete template")}return r.json()},async preview(t,n,r){const s=await fetch(`/api/email-templates/preview/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!s.ok){const l=await s.json();throw new Error(l.error||"Failed to preview template")}return s.json()}};function WQ({isOpen:t,onClose:n,template:r,onSave:s,isLoading:l}){const[u,d]=b.useState({name:"",subject:"",body:"",description:"",variables:"",active:!0});b.useEffect(()=>{d(r||{name:"",subject:"",body:"",description:"",variables:"",active:!0})},[r,t]);const m=g=>{const{name:x,value:j,checked:S,type:_}=g.target;d(E=>({...E,[x]:_==="checkbox"?S:j}))},p=()=>{if(!u.name.trim()||!u.subject.trim()||!u.body.trim()){alert("Name, subject, and body are required");return}s(u)};return e.jsxs(kt,{isOpen:t,onClose:n,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:r?.id?"Edit Template":"Create New Template"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(Lo,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Template Name (unique, lowercase)"}),e.jsx(je,{name:"name",value:u.name,onChange:m,placeholder:"e.g., ticket_created",isDisabled:!!r?.id}),e.jsx(Wg,{children:"Use lowercase letters, numbers, and underscores. Cannot be changed after creation."})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Subject (supports variables)"}),e.jsx(je,{name:"subject",value:u.subject,onChange:m,placeholder:"New ticket: {{ticket.id}}"}),e.jsx(Wg,{children:"Use double curly braces for variables, e.g.: ticket.id, creator.name"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Body (supports variables)"}),e.jsx(sn,{name:"body",value:u.body,onChange:m,placeholder:"Enter email body...",minH:"200px"}),e.jsx(Wg,{children:"Use double curly braces for variables. Supports plain text."})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{name:"description",value:u.description,onChange:m,placeholder:"Describe when and how this template is used...",minH:"80px"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Available Variables (comma-separated, for documentation)"}),e.jsx(sn,{name:"variables",value:u.variables,onChange:m,placeholder:"ticket.id, ticket.title, creator.name, creator.email",minH:"60px"})]}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{htmlFor:"active",mb:"0",children:"Active"}),e.jsx(br,{id:"active",name:"active",isChecked:u.active,onChange:m,ml:4})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:n,children:"Cancel"}),e.jsxs(ne,{colorScheme:"blue",onClick:p,isLoading:l,children:[r?.id?"Update":"Create"," Template"]})]})]})]})}function qQ({isOpen:t,onClose:n,template:r,token:s}){const[l,u]=b.useState(`{
  "ticket": {
    "id": "T-001",
    "title": "Test ticket"
  },
  "creator": {
    "name": "John Doe",
    "email": "john@example.com"
  }
}`),[d,m]=b.useState(null),[p,g]=b.useState(!1),[x,j]=b.useState(null),S=Mn(),_=async()=>{try{g(!0),j(null);const E=JSON.parse(l),A=await If.preview(r.name,E,s);m(A.preview)}catch(E){j(E.message),S({title:"Error",description:E.message,status:"error",duration:3})}finally{g(!1)}};return e.jsxs(kt,{isOpen:t,onClose:n,size:"2xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsxs(Mt,{children:["Preview Template: ",r?.name]}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(Lo,{spacing:4,children:[e.jsxs(xe,{children:[e.jsx(Q,{children:"Test Data (JSON)"}),e.jsx(sn,{value:l,onChange:E=>u(E.target.value),fontFamily:"monospace",fontSize:"xs",minH:"150px"})]}),e.jsx(ne,{onClick:_,colorScheme:"blue",isLoading:p,children:"Generate Preview"}),x&&e.jsxs(xe,{p:3,bg:"red.50",borderRadius:"md",color:"red.800",children:["Error: ",x]}),d&&e.jsxs(oe,{align:"start",spacing:3,p:3,bg:"gray.50",borderRadius:"md",children:[e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Subject:"}),e.jsx(D,{fontFamily:"monospace",fontSize:"sm",children:d.subject})]}),e.jsx(Ln,{}),e.jsxs(xe,{w:"100%",children:[e.jsx(D,{fontWeight:"bold",fontSize:"sm",color:"gray.600",children:"Body:"}),e.jsx(xe,{p:3,bg:"white",borderRadius:"md",border:"1px solid",borderColor:"gray.200",fontSize:"sm",whiteSpace:"pre-wrap",fontFamily:"monospace",children:d.body})]})]})]})}),e.jsx(Gt,{children:e.jsx(ne,{colorScheme:"blue",onClick:n,children:"Close"})})]})]})}function GQ({token:t}){const[n,r]=b.useState([]),[s,l]=b.useState(!1),[u,d]=b.useState(null),[m,p]=b.useState(null),[g,x]=b.useState(null),{isOpen:j,onOpen:S,onClose:_}=It(),{isOpen:E,onOpen:A,onClose:T}=It(),z=Mn();b.useEffect(()=>{M()},[t]);const M=async()=>{try{l(!0),d(null);const ee=await If.getAll(t);r(ee.templates||[])}catch(ee){d(ee.message),z({title:"Error loading templates",description:ee.message,status:"error",duration:3})}finally{l(!1)}},k=()=>{p(null),S()},O=ee=>{p(ee),S()},I=ee=>{x(ee),A()},$=async ee=>{if(confirm(`Are you sure you want to delete template "${ee.name}"?`))try{await If.delete(ee.id,t),z({title:"Template deleted",status:"success",duration:2}),M()}catch(ue){z({title:"Error deleting template",description:ue.message,status:"error",duration:3})}},G=async ee=>{try{m?.id?(await If.update(m.id,ee,t),z({title:"Template updated",status:"success",duration:2})):(await If.create(ee,t),z({title:"Template created",status:"success",duration:2})),_(),M()}catch(ue){z({title:"Error saving template",description:ue.message,status:"error",duration:3})}};return e.jsxs(xe,{p:6,children:[e.jsxs(lr,{justify:"space-between",align:"center",mb:6,children:[e.jsx(De,{size:"lg",children:"Email Templates"}),e.jsx(ne,{leftIcon:e.jsx(dX,{}),colorScheme:"green",onClick:k,children:"Create Template"})]}),u&&e.jsx(xe,{p:4,mb:6,bg:"red.50",borderRadius:"md",color:"red.800",children:u}),s?e.jsx(lr,{justify:"center",py:12,children:e.jsx(Sn,{size:"lg"})}):n.length===0?e.jsx(Ie,{children:e.jsx(Ne,{textAlign:"center",py:12,children:e.jsx(D,{color:"gray.500",children:"No templates yet. Create your first one!"})})}):e.jsx(Sa,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:n.map(ee=>e.jsxs(Ie,{children:[e.jsx(Ot,{pb:2,children:e.jsx(lr,{justify:"space-between",align:"start",children:e.jsxs(oe,{align:"start",spacing:1,flex:1,children:[e.jsx(De,{size:"md",children:ee.name}),e.jsx(nt,{colorScheme:ee.active?"green":"gray",children:ee.active?"Active":"Inactive"})]})})}),e.jsx(Ln,{}),e.jsx(Ne,{children:e.jsxs(Lo,{spacing:3,children:[e.jsxs(xe,{children:[e.jsx(D,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Subject:"}),e.jsx(D,{fontSize:"sm",noOfLines:2,children:ee.subject})]}),ee.description&&e.jsxs(xe,{children:[e.jsx(D,{fontSize:"xs",color:"gray.600",fontWeight:"bold",children:"Description:"}),e.jsx(D,{fontSize:"sm",noOfLines:2,children:ee.description})]}),e.jsxs(le,{spacing:2,pt:2,children:[e.jsx(qi,{label:"Preview",children:e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"blue",onClick:()=>I(ee),children:e.jsx(mR,{})})}),e.jsx(qi,{label:"Edit",children:e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"orange",onClick:()=>O(ee),children:e.jsx(pX,{})})}),e.jsx(qi,{label:"Delete",children:e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>$(ee),children:e.jsx(fX,{})})})]})]})})]},ee.id))}),e.jsx(WQ,{isOpen:j,onClose:_,template:m,onSave:G,isLoading:s}),g&&e.jsx(qQ,{isOpen:E,onClose:T,template:g,token:t})]})}function ZQ(){const t=Mn(),{user:n,refreshPermissions:r}=Ni(),[s,l]=b.useState([]),[u,d]=b.useState(!0),[m,p]=b.useState(null),[g,x]=b.useState({}),[j,S]=b.useState({}),[_,E]=b.useState(!1),[A,T]=b.useState(""),{isOpen:z,onOpen:M,onClose:k}=It();b.useEffect(()=>{O()},[]);const O=async()=>{try{d(!0);const X=await St.get("/api/member-permissions/available");x(X);const me=await St.get("/api/site-users");l(Array.isArray(me)?me:me.users||[])}catch(X){console.error("Erreur chargement donnes:",X),t({title:"Erreur",description:"Impossible de charger les donnes",status:"error",duration:3e3})}finally{d(!1)}},I=async X=>{try{p(X);const Ee=(await St.get(`/api/member-permissions/${X.id}`)).customPermissions||{},pe={};for(const[K,Z]of Object.entries(Ee))g[K]?pe[K]=Z:console.warn(`  Filtered out invalid permission key: ${K}`);S(pe),M()}catch(me){console.error("Erreur chargement permissions utilisateur:",me),t({title:"Erreur",description:"Impossible de charger les permissions",status:"error",duration:3e3})}},$=X=>{S(me=>({...me,[X]:!me[X]}))},G=async()=>{if(m)try{E(!0);const X={};for(const[me,Ee]of Object.entries(j))g[me]?X[me]=Ee:console.warn(`  Skipping invalid permission key: ${me}`);await St.put(`/api/member-permissions/${m.id}`,{permissions:X}),t({title:"Succs",description:"Les permissions ont t mises  jour",status:"success",duration:3e3}),n?.id===m.id&&await r(),O(),k()}catch(X){console.error("Erreur sauvegarde permissions:",X);const me=X?.response?.data?.message||X?.response?.data?.error||"Erreur lors de la sauvegarde",Ee=X?.response?.data?.invalid;t({title:"Erreur",description:me+(Ee?`

Permissions invalides: ${Ee.join(", ")}`:""),status:"error",duration:5e3,isClosable:!0}),Ee&&console.error(" Backend rejected invalid permission keys:",Ee)}finally{E(!1)}},ee=async()=>{if(m)try{E(!0),await St.post(`/api/member-permissions/${m.id}/reset`),t({title:"Succs",description:"Les permissions ont t rinitialises aux permissions du rle",status:"success",duration:3e3}),n?.id===m.id&&await r(),O(),k()}catch(X){console.error("Erreur rinitialisation permissions:",X),t({title:"Erreur",description:"Erreur lors de la rinitialisation",status:"error",duration:3e3})}finally{E(!1)}},ue=s.filter(X=>X.username?.toLowerCase().includes(A.toLowerCase())||X.email?.toLowerCase().includes(A.toLowerCase())||X.firstName?.toLowerCase().includes(A.toLowerCase())||X.lastName?.toLowerCase().includes(A.toLowerCase())),fe={Vhicules:Object.entries(g).filter(([X])=>X.startsWith("vehicles:")),vnements:Object.entries(g).filter(([X])=>X.startsWith("events:")),Finances:Object.entries(g).filter(([X])=>X.startsWith("finance:")),Membres:Object.entries(g).filter(([X])=>X.startsWith("members:")),Stocks:Object.entries(g).filter(([X])=>X.startsWith("stock:")),Communications:Object.entries(g).filter(([X])=>X.startsWith("newsletter:")||X.startsWith("retromail:")),RtroPlanning:Object.entries(g).filter(([X])=>X.startsWith("retroplanning:")),RtroSupport:Object.entries(g).filter(([X])=>X.startsWith("retrosupport:")),MyRBE:Object.entries(g).filter(([X])=>X.startsWith("myrbe:")),Administration:Object.entries(g).filter(([X])=>X.startsWith("admin:"))};return u?e.jsx(jn,{py:8,children:e.jsxs(oe,{children:[e.jsx(Sn,{size:"lg"}),e.jsx(D,{children:"Chargement des donnes..."})]})}):e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(xe,{children:[e.jsx(De,{size:"lg",mb:2,children:" Permissions par Membre"}),e.jsx(D,{color:"gray.600",children:"Grez les permissions individuelles de chaque utilisateur du site"})]}),e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontSize:"sm",fontWeight:"bold",children:"Comment a marche?"}),e.jsx(D,{fontSize:"xs",children:" Les permissions de base dpendent du rle de l'utilisateur"}),e.jsx(D,{fontSize:"xs",children:" Vous pouvez ajouter/retirer des permissions individuelles"}),e.jsx(D,{fontSize:"xs",children:' Cliquez sur "Rinitialiser" pour revenir aux permissions du rle'})]})]}),e.jsx(je,{placeholder:"Rechercher un utilisateur...",value:A,onChange:X=>T(X.target.value),size:"sm"}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Utilisateurs"})}),e.jsxs(Ne,{overflowX:"auto",children:[e.jsxs(Rr,{size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Nom"}),e.jsx(He,{children:"Email"}),e.jsx(He,{children:"Rle"}),e.jsx(He,{children:"Permissions personnalises"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:ue.map(X=>{const me=Object.keys(j).length>0;return e.jsxs(Qt,{children:[e.jsxs(Ve,{children:[e.jsxs(D,{fontWeight:"medium",fontSize:"sm",children:[X.firstName," ",X.lastName]}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:X.username})]}),e.jsx(Ve,{fontSize:"sm",children:X.email}),e.jsx(Ve,{children:e.jsx(nt,{size:"sm",children:X.role})}),e.jsx(Ve,{children:me&&e.jsx(nt,{colorScheme:"blue",size:"sm",children:"Personnalises"})}),e.jsx(Ve,{children:e.jsx(ne,{size:"sm",leftIcon:e.jsx(_i,{}),onClick:()=>I(X),colorScheme:"blue",variant:"outline",children:"Grer"})})]},X.id)})})]}),ue.length===0&&e.jsx(D,{color:"gray.500",textAlign:"center",py:4,children:"Aucun utilisateur trouv"})]})]}),e.jsxs(kt,{isOpen:z,onClose:k,size:"2xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsxs(Mt,{children:["Permissions de ",m?.firstName," ",m?.lastName]}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsxs(tn,{status:"info",fontSize:"sm",children:[e.jsx(nn,{}),"Rle actuel: ",e.jsx("strong",{children:m?.role})]}),Object.entries(fe).map(([X,me])=>me.length>0&&e.jsxs(xe,{children:[e.jsxs(De,{size:"sm",mb:3,children:[" ",X]}),e.jsx(Sa,{templateColumns:"repeat(2, 1fr)",gap:3,pl:4,children:me.map(([Ee,pe])=>e.jsxs(le,{spacing:2,children:[e.jsx(mu,{isChecked:!!j[Ee],onChange:()=>$(Ee)}),e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",children:pe}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:Ee})]})]},Ee))}),e.jsx(Ln,{my:3})]},X))]})}),e.jsx(Gt,{children:e.jsxs(le,{spacing:3,children:[e.jsx(ne,{variant:"outline",onClick:ee,isLoading:_,leftIcon:e.jsx(MK,{}),children:"Rinitialiser"}),e.jsx(ne,{variant:"ghost",onClick:k,children:"Annuler"}),e.jsx(ne,{colorScheme:"green",onClick:G,isLoading:_,leftIcon:e.jsx(gc,{}),children:"Sauvegarder"})]})})]})]})]})}var gh={};const ni={siteUsers:["api/site-users","site-users"],members:["api/members","members"],siteConfig:["api/site-config","site-config"],changelog:["api/changelog","changelog"],retroNews:["api/retro-news","retro-news"],notifications:["api/notifications","notifications"]},ou=()=>"api/site-users",fj=()=>"api/members",jf=()=>"api/site-config",jg=()=>"api/changelog",lu=()=>gh.VITE_API_URL||"",pj=()=>gh.VITE_API_URL||"",Sf=()=>gh.VITE_API_URL||"",Sg=()=>gh.VITE_API_URL||"",YQ=()=>gh.VITE_API_URL||"",ep=t=>String(t||"").trim().replace(/^\/+|\/+$/g,""),XQ=()=>{const t=gh.VITE_API_PREFIX||"";return ep(t)},ri=(t,n,r="",s)=>{const l=ep(r),u=XQ(),d=new Set;typeof window<"u"&&window.location?.origin&&window.location.origin.replace(/\/+$/,"");const m=g=>{const x=[ep(g)];l&&x.push(l);const j=x.filter(Boolean).join("/");j&&d.add(j)},p=g=>{if(!u)return;const x=ep(g);x.startsWith(`${u}/`)||m(`${u}/${x}`)};return n&&m(n),t.forEach(g=>p(g)),t.forEach(g=>m(g)),Array.from(d)},Vp=async(t,n,r)=>{Array.isArray(t)||(t=[t]);const s=[];for(const l of t)try{const u=ep(l);if(!u)continue;const d=u.startsWith("/")?u:`/${u}`;let m;return n==="GET"?m=await St.get(d):n==="POST"?m=await St.post(d,r):n==="PUT"?m=await St.put(d,r):n==="PATCH"?m=await St.patch(d,r):n==="DELETE"&&(m=await St.delete(d)),console.log(` Success with URL: ${d}`),{data:m,headers:{},url:d}}catch(u){s.push(`${l}: ${u.message}`),console.log(` Failed URL ${l}: ${u.message}`)}throw new Error(`All URLs failed: ${s.join(" | ")}`)},pl=async t=>Vp(t,"GET"),v1=async(t,n)=>Vp(t,"POST",n),Bf=async(t,n)=>Vp(t,"PUT",n),KQ=async(t,n)=>Vp(t,"PATCH",n),XR=async t=>Vp(t,"DELETE");function QQ(){const[t,n]=b.useState([]),[r,s]=b.useState([]),[l,u]=b.useState(!0),[d,m]=b.useState(""),[p,g]=b.useState("ALL"),[x,j]=b.useState("ALL"),[S,_]=b.useState(null),[E,A]=b.useState({}),[T,z]=b.useState([]),[M,k]=b.useState(0),{isOpen:O,onOpen:I,onClose:$}=It(),{isOpen:G,onOpen:ee,onClose:ue}=It(),fe=Mn(),X=gr("white","gray.800");b.useEffect(()=>{me(),Ee(),pe(),K()},[]);const me=async()=>{try{u(!0);const P=(await pl(ri(ni.siteUsers,ou(),"",lu()))).data;n(Array.isArray(P)?P:P?.users||[])}catch(F){console.error("Erreur chargement utilisateurs:",F),fe({title:"Erreur API",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}finally{u(!1)}},Ee=async()=>{try{const P=(await pl(ri(ni.members,fj(),"",pj()),{params:{status:"ACTIVE"}})).data;s(Array.isArray(P)?P:P?.members||[])}catch(F){console.error("Erreur chargement membres:",F),fe({title:"Erreur API",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},pe=async()=>{try{const F=await pl(ri(ni.siteUsers,ou(),"stats",lu()));A(F.data||{})}catch(F){if(console.error("Erreur chargement stats:",F),Array.isArray(t)&&t.length>0){const P=t.length,N=t.filter(Pe=>Pe.isActive).length,re=t.filter(Pe=>!!Pe.linkedMember).length,Le=Date.now()-1440*60*1e3,Oe=t.filter(Pe=>Pe.lastLoginAt&&new Date(Pe.lastLoginAt).getTime()>=Le).length;A({totalUsers:P,activeUsers:N,linkedUsers:re,recentLogins:Oe}),fe({title:"Stats calcules localement",description:"Endpoint /site-users/stats indisponible, valeurs estimes  partir des utilisateurs chargs.",status:"info",duration:4e3})}else fe({title:"Erreur API",description:`${F.message}${F.urlsTried?`  Test: ${F.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3})}},K=async()=>{try{const P=(await pl(ri(ni.retroNews,"","",YQ()))).data||[];z(Array.isArray(P)?P:[])}catch(F){console.error("Erreur chargement RtroNews:",F),z([])}},Z=()=>{me(),Ee(),pe()},W=t.filter(F=>{const P=F.username?.toLowerCase().includes(d.toLowerCase())||F.email?.toLowerCase().includes(d.toLowerCase())||F.firstName?.toLowerCase().includes(d.toLowerCase())||F.lastName?.toLowerCase().includes(d.toLowerCase()),N=p==="ALL"||F.role===p,re=x==="ALL"||x==="ACTIVE"&&F.isActive||x==="INACTIVE"&&!F.isActive;return P&&N&&re});return e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"md",children:" Gestion des Accs Sites"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Gestion des comptes d'accs aux sites interne et externe"})]}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:I,children:"Crer un accs"})]}),e.jsxs(ht,{columns:{base:2,md:3},spacing:4,children:[e.jsx(Ie,{bg:X,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Total accs"}),e.jsx(At,{color:"blue.500",children:E.totalUsers||0})]})})}),e.jsx(Ie,{bg:X,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Lis aux adhsions"}),e.jsx(At,{color:"purple.500",children:E.linkedUsers||0})]})})}),e.jsx(Ie,{bg:X,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Connexions 24h"}),e.jsx(At,{color:"orange.500",children:E.recentLogins||0})]})})})]}),T.length>0&&e.jsxs(Ie,{bg:X,children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",children:[e.jsx(De,{size:"sm",children:" RtroNews"}),e.jsxs(le,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(LR,{}),size:"sm",onClick:()=>k(F=>F===0?T.length-1:F-1),"aria-label":"News prcdente",isDisabled:T.length<=1}),e.jsxs(D,{fontSize:"xs",color:"gray.500",children:[M+1," / ",T.length]}),e.jsx(yt,{icon:e.jsx(xx,{}),size:"sm",onClick:()=>k(F=>(F+1)%T.length),"aria-label":"News suivante",isDisabled:T.length<=1})]})]})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsx(De,{size:"md",children:T[M]?.title||"Sans titre"}),T[M]?.date&&e.jsx(D,{fontSize:"sm",color:"gray.500",children:new Date(T[M].date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(D,{children:T[M]?.content||""}),T[M]?.imageUrl&&e.jsx(As,{src:T[M].imageUrl,alt:T[M]?.title,maxH:"200px",objectFit:"cover",borderRadius:"md"})]})})]}),e.jsx(Ie,{bg:X,children:e.jsx(Ne,{children:e.jsxs(le,{spacing:4,children:[e.jsxs(_u,{flex:1,children:[e.jsx(Cu,{children:e.jsx(Jx,{})}),e.jsx(je,{placeholder:"Rechercher par nom, email ou identifiant...",value:d,onChange:F=>m(F.target.value)})]}),e.jsxs(st,{value:p,onChange:F=>g(F.target.value),maxW:"220px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"})]}),e.jsxs(st,{value:x,onChange:F=>j(F.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"INACTIVE",children:"Inactif"})]}),e.jsx(ne,{leftIcon:e.jsx(Wa,{}),onClick:me,size:"sm",children:"Actualiser"})]})})}),l?e.jsx(jn,{py:8,children:e.jsxs(oe,{spacing:4,children:[e.jsx(Sn,{size:"lg"}),e.jsx(D,{children:"Chargement des accs..."})]})}):e.jsx(Ie,{bg:X,children:e.jsxs(Ne,{children:[e.jsxs(Rr,{size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Utilisateur"}),e.jsx(He,{children:"Matricule"}),e.jsx(He,{children:"Rle"}),e.jsx(He,{children:"Accs"}),e.jsx(He,{children:"Adhsion lie"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Dernire connexion"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:W.map(F=>e.jsx(JQ,{user:F,onEdit:()=>H(F),onToggleStatus:()=>Se(F),onLink:()=>B(F),onViewLogs:()=>ie(F),onDelete:()=>he(F)},F.id))})]}),W.length===0&&e.jsxs(tn,{status:"info",mt:4,children:[e.jsx(nn,{}),"Aucun utilisateur trouv avec ces critres"]})]})}),e.jsx(eJ,{isOpen:O,onClose:()=>{$(),_(null)},members:r,user:S,onUserSaved:Z}),e.jsx(tJ,{isOpen:G,onClose:ue,user:S,members:r,onLinked:Z})]});function H(F){_(F),I()}async function Se(F){try{await KQ(ri(ni.siteUsers,ou(),`${F.id}`,lu()),{isActive:!F.isActive}),fe({title:"Succs",description:`Accs ${F.isActive?"dsactiv":"activ"}`,status:"success",duration:3e3}),Z()}catch(P){console.error(P),fe({title:"Erreur",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}function B(F){_(F),ee()}function ie(F){fe({title:"Info",description:`Affichage des logs pour ${F.username}  venir`,status:"info",duration:3e3})}async function he(F){if(window.confirm(`Supprimer dfinitivement l'accs de ${g1(F)} (${F.username}) ?`))try{await XR(ri(ni.siteUsers,ou(),`${F.id}`,lu())),fe({title:"Accs supprim",description:`L'utilisateur ${F.username} a t supprim`,status:"success",duration:3e3}),Z()}catch(P){console.error(P),fe({title:"Erreur",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"error",duration:4e3})}}}function JQ({user:t,onEdit:n,onToggleStatus:r,onLink:s,onViewLogs:l,onDelete:u}){const d={PRESIDENT:"Prsident",VICE_PRESIDENT:"Vice-Prsident",TRESORIER:"Trsorier",SECRETAIRE_GENERAL:"Secrtaire Gnral",MEMBER:"Membre"},m=p=>({PRESIDENT:"red",VICE_PRESIDENT:"pink",TRESORIER:"green",SECRETAIRE_GENERAL:"purple",MEMBER:"blue"})[p]||"gray";return e.jsxs(Qt,{children:[e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontWeight:"medium",fontSize:"sm",children:g1(t)}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:t.email})]})}),e.jsx(Ve,{children:e.jsx(D,{fontFamily:"mono",fontSize:"sm",children:t.username})}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:m(t.role),size:"sm",children:d[t.role]||t.role})}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:1,children:[t.hasInternalAccess&&e.jsx(nt,{colorScheme:"blue",size:"xs",children:"Interne"}),t.hasExternalAccess&&e.jsx(nt,{colorScheme:"green",size:"xs",children:"Externe"})]})}),e.jsx(Ve,{children:t.linkedMember?e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",color:"green.600",children:x1(t.linkedMember)}),t.linkedMember.memberNumber&&e.jsxs(D,{fontSize:"xs",color:"gray.500",children:["#",t.linkedMember.memberNumber]})]}):e.jsxs(ne,{size:"xs",variant:"outline",onClick:s,children:[e.jsx(AK,{style:{marginRight:"4px"}}),"Fusionner"]})}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:t.isActive?"green":"red",size:"sm",children:t.isActive?"Actif":"Inactif"})}),e.jsx(Ve,{children:e.jsx(D,{fontSize:"xs",children:t.lastLoginAt?new Date(t.lastLoginAt).toLocaleDateString("fr-FR"):"Jamais"})}),e.jsx(Ve,{children:e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(Fp,{}),size:"sm",variant:"ghost"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(_i,{}),onClick:n,children:"Modifier"}),e.jsx(bn,{icon:e.jsx(So,{}),onClick:l,children:"Logs de connexion"}),e.jsx(bn,{icon:t.isActive?e.jsx(Mu,{}):e.jsx(cj,{}),onClick:r,color:t.isActive?"red.500":"green.500",children:t.isActive?"Dsactiver":"Activer"}),e.jsx(bn,{icon:e.jsx(dr,{}),onClick:u,color:"red.600",children:"Supprimer"})]})]})})]})}function eJ({isOpen:t,onClose:n,members:r,onUserSaved:s,user:l}){const u=!!l,[d,m]=b.useState({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""}),[p,g]=b.useState(!1),x=Mn();b.useEffect(()=>{m(u?{username:l?.username||"",firstName:l?.firstName||"",lastName:l?.lastName||"",email:l?.email||"",role:l?.role||"MEMBER",hasInternalAccess:!!l?.hasInternalAccess,hasExternalAccess:!!l?.hasExternalAccess,linkedMemberId:l?.linkedMember?.id||"",generatePassword:!1,customPassword:""}:{username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""})},[u,l,t]);const j=async()=>{try{g(!0);const S={username:d.username,firstName:d.firstName,lastName:d.lastName,email:d.email,role:d.role,hasInternalAccess:d.hasInternalAccess,hasExternalAccess:d.hasExternalAccess,linkedMemberId:d.linkedMemberId||null};if(u)d.customPassword?.trim()&&(S.password=d.customPassword.trim()),await Bf(ri(ni.siteUsers,ou(),`${l.id}`,lu()),S),x({title:"Accs mis  jour",description:"L'utilisateur a t mis  jour avec succs",status:"success",duration:3e3});else{S.generatePassword=!!d.generatePassword,!d.generatePassword&&d.customPassword&&(S.customPassword=d.customPassword);const E=(await v1(ri(ni.siteUsers,ou(),"",lu()),S)).data;x({title:"Accs cr",description:E?.temporaryPassword?`Mot de passe temporaire: ${E.temporaryPassword}`:"L'utilisateur a t cr avec succs",status:"success",duration:E?.temporaryPassword?1e4:5e3,isClosable:!0})}s?.(),n(),m({username:"",firstName:"",lastName:"",email:"",role:"MEMBER",hasInternalAccess:!0,hasExternalAccess:!1,linkedMemberId:"",generatePassword:!0,customPassword:""})}catch(S){console.error(S),x({title:"Erreur",description:`${S?.response?.data?.message||S.message}${S.urlsTried?`  Test: ${S.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{g(!1)}};return e.jsxs(kt,{isOpen:t,onClose:n,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:u?" Modifier un accs aux sites":" Crer un accs aux sites"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsx(D,{fontSize:"sm",children:u?"Mettez  jour le profil d'accs. Le matricule est l'identifiant utilis sur le site.":"Crez un compte d'accs aux sites. Le matricule est l'identifiant utilis sur le site."})]}),e.jsxs(ht,{columns:2,spacing:4,w:"full",children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Prnom"}),e.jsx(je,{value:d.firstName,onChange:S=>m(_=>({..._,firstName:S.target.value})),placeholder:"Prnom"})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:d.lastName,onChange:S=>m(_=>({..._,lastName:S.target.value})),placeholder:"Nom"})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Matricule (identifiant de connexion)"}),e.jsx(je,{value:d.username,onChange:S=>m(_=>({..._,username:S.target.value})),placeholder:"Ex: w.belaidi"}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Format recommand: premire lettre du prnom + point + nom"})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Email"}),e.jsx(je,{type:"email",value:d.email,onChange:S=>m(_=>({..._,email:S.target.value})),placeholder:"email@example.com"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Rle"}),e.jsxs(st,{value:d.role,onChange:S=>m(_=>({..._,role:S.target.value})),children:[e.jsx("option",{value:"PRESIDENT",children:"Prsident"}),e.jsx("option",{value:"VICE_PRESIDENT",children:"Vice-Prsident"}),e.jsx("option",{value:"TRESORIER",children:"Trsorier"}),e.jsx("option",{value:"SECRETAIRE_GENERAL",children:"Secrtaire Gnral"}),e.jsx("option",{value:"MEMBER",children:"Membre"}),e.jsx("option",{value:"PRESTATAIRE",children:"Prestataire"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Lier  une adhsion existante (optionnel)"}),e.jsxs(st,{value:d.linkedMemberId,onChange:S=>m(_=>({..._,linkedMemberId:S.target.value})),children:[e.jsx("option",{value:"",children:"Aucune liaison"}),r.map(S=>e.jsx("option",{value:S.id,children:x1(S)},S.id))]})]}),e.jsx(Ln,{}),e.jsxs(oe,{align:"start",spacing:3,w:"full",children:[e.jsx(D,{fontWeight:"medium",children:"Autorisations d'accs"}),e.jsxs(le,{w:"full",justify:"space-between",children:[e.jsx(D,{fontSize:"sm",children:"Accs site interne"}),e.jsx(br,{isChecked:d.hasInternalAccess,onChange:S=>m(_=>({..._,hasInternalAccess:S.target.checked}))})]}),e.jsxs(le,{w:"full",justify:"space-between",children:[e.jsx(D,{fontSize:"sm",children:"Accs site externe"}),e.jsx(br,{isChecked:d.hasExternalAccess,onChange:S=>m(_=>({..._,hasExternalAccess:S.target.checked}))})]})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(Ln,{}),e.jsxs(oe,{align:"start",spacing:3,w:"full",children:[e.jsx(D,{fontWeight:"medium",children:"Mot de passe"}),e.jsxs(le,{w:"full",justify:"space-between",children:[e.jsx(D,{fontSize:"sm",children:"Gnrer automatiquement"}),e.jsx(br,{isChecked:d.generatePassword,onChange:S=>m(_=>({..._,generatePassword:S.target.checked}))})]}),!d.generatePassword&&e.jsxs(J,{children:[e.jsx(Q,{children:"Mot de passe personnalis"}),e.jsx(je,{type:"password",value:d.customPassword,onChange:S=>m(_=>({..._,customPassword:S.target.value})),placeholder:"Minimum 6 caractres"})]})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(Ln,{}),e.jsxs(oe,{align:"start",spacing:3,w:"full",children:[e.jsx(D,{fontWeight:"medium",children:"Changer le mot de passe (optionnel)"}),e.jsxs(J,{children:[e.jsx(Q,{children:"Nouveau mot de passe"}),e.jsx(je,{type:"password",value:d.customPassword,onChange:S=>m(_=>({..._,customPassword:S.target.value})),placeholder:"Laissez vide pour ne pas changer"})]})]})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:j,isLoading:p,loadingText:u?"Enregistrement...":"Cration...",children:u?"Enregistrer":"Crer l'accs"})]})]})]})}function tJ({isOpen:t,onClose:n,user:r,members:s,onLinked:l}){const[u,d]=b.useState(""),[m,p]=b.useState(!1),[g,x]=b.useState(s||[]),j=Mn();b.useEffect(()=>{t&&(async()=>{try{const A=(await pl(ri(ni.members,fj(),"",pj()))).data,T=Array.isArray(A)?A:A?.members||[];x(T)}catch{console.warn("Chargement membres (fusion) chou, utilisation des props existantes"),x(s||[])}})()},[t]);const S=async()=>{if(!u){j({title:"Erreur",description:"Veuillez slectionner un membre",status:"error",duration:3e3});return}try{p(!0),await v1(ri(ni.siteUsers,ou(),`${r.id}/link-member`,lu()),{memberId:u}),j({title:"Liaison cre",description:"Accs li  l'adhsion. L'utilisateur verra la page Mon Adhsion aprs actualisation ou reconnexion.",status:"success",duration:5e3}),l?.(),n(),d("")}catch(_){j({title:"Erreur",description:`${_?.response?.data?.message||_.message}${_.urlsTried?`  Test: ${_.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}finally{p(!1)}};return e.jsxs(kt,{isOpen:t,onClose:n,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Fusionner avec une adhsion"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(D,{fontSize:"sm",children:["Fusionner l'accs de ",e.jsx("strong",{children:g1(r)})," avec une adhsion existante."]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Slectionner une adhsion"}),e.jsx(st,{value:u,onChange:_=>d(_.target.value),placeholder:"Choisir un membre...",children:(g||[]).filter(_=>!_.hasLinkedAccess).map(_=>e.jsxs("option",{value:_.id,children:[x1(_),_.email?` (${_.email})`:""]},_.id))}),e.jsx(D,{fontSize:"xs",color:"gray.500",mt:2,children:"Seuls les membres sans accs dj li sont affichs"})]}),e.jsx(le,{w:"full",justify:"flex-end",children:e.jsx(ne,{size:"sm",variant:"outline",onClick:async()=>{try{const E=(await pl(ri(ni.members,fj(),"",pj()))).data;x(Array.isArray(E)?E:E?.members||[]),j({title:"Liste mise  jour",status:"success",duration:2e3})}catch(_){j({title:"Erreur rafrachissement",description:_.message,status:"error",duration:3e3})}},children:"Actualiser"})})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:n,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:S,isLoading:m,loadingText:"Fusion...",children:"Fusionner"})]})]})]})}function nJ(){const t=gr("white","gray.800"),[n,r]=b.useState([]),[s,l]=b.useState(!0),[u,d]=b.useState(null),[m,p]=b.useState({title:"",version:"",date:"",entryType:"update",changes:[{tag:"update",text:""}]}),[g,x]=b.useState(localStorage.getItem("rbe_site_helloasso_url")||"https://www.helloasso.com/associations/retrobus-essonne"),{isOpen:j,onOpen:S,onClose:_}=It(),{isOpen:E,onOpen:A,onClose:T}=It(),{isOpen:z,onOpen:M,onClose:k}=It(),O=Mn(),I=async()=>{try{l(!0);const N=(await pl(ri(ni.changelog,jg(),"",Sg()))).data;Array.isArray(N)?r(N):N&&Array.isArray(N.entries)?r(N.entries):N&&Array.isArray(N.items)?r(N.items):(console.warn("Rponse inattendue de l'API:",N),r([]))}catch(P){console.error("Erreur lors du chargement des changelogs:",P),r([]),O({title:"Erreur",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}finally{l(!1)}};b.useEffect(()=>{I()},[]);const[$,G]=b.useState({headerBgFocalX:50,headerBgFocalY:50,headerBgSize:"cover",logoWidth:44}),ee=async()=>{try{const N=(await pl(ri(ni.siteConfig,jf(),"",Sf())))?.data||{};G(re=>({...re,headerBgFocalX:Number.isFinite(N.headerBgFocalX)?N.headerBgFocalX:re.headerBgFocalX,headerBgFocalY:Number.isFinite(N.headerBgFocalY)?N.headerBgFocalY:re.headerBgFocalY,headerBgSize:N.headerBgSize||re.headerBgSize,logoWidth:Number.isFinite(N.logoWidth)?N.logoWidth:re.logoWidth}))}catch(P){console.warn("Chargement site-config (header) chou:",P?.message||P)}};b.useEffect(()=>{E&&ee()},[E]);const ue=async()=>{try{const P={headerBgFocalX:$.headerBgFocalX,headerBgFocalY:$.headerBgFocalY,headerBgSize:$.headerBgSize,logoWidth:$.logoWidth};await Bf(ri(ni.siteConfig,jf(),"",Sf()),P),O({title:"Configuration du header mise  jour",status:"success",duration:2500}),T()}catch(P){O({title:"Erreur sauvegarde Header",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},fe=async()=>{try{if(!g||!/^https?:\/\//i.test(g)){O({title:"Lien invalide",description:"Fournissez une URL complte commenant par http(s)://",status:"error",duration:3e3});return}localStorage.setItem("rbe_site_helloasso_url",g);const P=ri(ni.siteConfig,jf(),"",Sf()),N=await Bf(P,{helloAssoUrl:g});return O({title:"Lien mis  jour",description:'Le bouton "Soutenir" utilisera le nouveau lien.',status:"success",duration:3e3}),N}catch(P){console.error("Erreur sauvegarde HelloAsso:",P),O({title:"Erreur",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"error",duration:6e3})}},X=async()=>{try{const P=ri(ni.siteConfig,jf(),"",Sf()),re=(await pl(P))?.data||{};O({title:"Config dtecte",description:`helloAssoUrl=${re.helloAssoUrl||"non dfini"}`,status:"success",duration:3e3})}catch(P){O({title:"Config indisponible",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"warning",duration:5e3})}},me=()=>{p({title:"",version:"",date:new Date().toISOString().split("T")[0],entryType:"update",changes:[{tag:"update",text:""}]}),d(null)},Ee=()=>{me(),S()},pe=P=>{d(P);let N=[{tag:"update",text:""}];if(P.changes){if(Array.isArray(P.changes))P.changes.length>0&&(N=P.changes.map(re=>typeof re=="string"?{tag:"update",text:re.replace(/^([\p{Emoji_Presentation}\p{Extended_Pictographic}]\s*)/u,"").trim()}:{tag:re.tag||"update",text:re.text||""}));else if(typeof P.changes=="string")try{const re=JSON.parse(P.changes);N=Array.isArray(re)?re.map(Le=>typeof Le=="string"?{tag:"update",text:Le}:Le):[{tag:"update",text:String(P.changes)}]}catch{console.warn("Impossible de parser changes:",P.changes),N=[{tag:"update",text:P.changes}]}}else P.description&&typeof P.description=="string"&&(N=P.description.split(/\n|\r\n/).map(re=>({tag:"update",text:re.replace(/^\s*/,"")})));p({title:P.title||"",version:P.version||"",date:P.date?P.date.split("T")[0]:new Date().toISOString().split("T")[0],entryType:P.type||"update",changes:N}),S()},K=()=>{p(P=>({...P,changes:[...P.changes,{tag:"update",text:""}]}))},Z=P=>{m.changes.length>1&&p(N=>({...N,changes:N.changes.filter((re,Le)=>Le!==P)}))},W=(P,N)=>{p(re=>({...re,changes:re.changes.map((Le,Oe)=>Oe===P?{...Le,text:N}:Le)}))},H=(P,N)=>{p(re=>({...re,changes:re.changes.map((Le,Oe)=>Oe===P?{...Le,tag:N}:Le)}))},Se=[{key:"feature",label:"Fonctionnalit",emoji:""},{key:"fix",label:"Correction",emoji:""},{key:"update",label:"Mise  jour",emoji:""},{key:"security",label:"Scurit",emoji:""},{key:"perf",label:"Performance",emoji:""},{key:"ui",label:"Interface",emoji:""},{key:"content",label:"Contenu",emoji:""},{key:"deps",label:"Dpendances",emoji:""},{key:"docs",label:"Documentation",emoji:""}],B=P=>Se.find(N=>N.key===P)?.emoji||"",ie=async()=>{try{if(!m.title.trim()||!m.version.trim()){O({title:"Erreur de validation",description:"Le titre et la version sont requis",status:"error",duration:3e3,isClosable:!0});return}const P=(m.changes||[]).filter(Oe=>Oe&&String(Oe.text||"").trim()!==""),N=P.map(Oe=>`${B(Oe.tag)} ${Oe.text.trim()}`),re=N.join(`
`),Le={title:m.title.trim(),version:m.version.trim(),date:m.date,type:m.entryType||"update",changes:P,changesText:N,description:re};u?(await Bf(ri(ni.changelog,jg(),`${u.id}`,Sg()),Le),O({title:"Succs",description:"Changelog mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await v1(ri(ni.changelog,jg(),"",Sg()),Le),O({title:"Succs",description:"Changelog cr avec succs",status:"success",duration:3e3,isClosable:!0})),I(),_();try{m.version?.trim()&&(await Bf(ri(ni.siteConfig,jf(),"",Sf()),{siteVersion:m.version.trim()}),O({title:"Version du site mise  jour",description:`v${m.version.trim()}`,status:"success",duration:2500}))}catch(Oe){console.warn("MJ siteVersion choue:",Oe),O({title:"Version non synchronise",description:"Impossible de mettre  jour la version du site.",status:"warning",duration:3500})}}catch(P){console.error("Erreur lors de la sauvegarde:",P),O({title:"Erreur",description:`${P.message}${P.urlsTried?`  Test: ${P.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},he=async P=>{if(window.confirm("tes-vous sr de vouloir supprimer ce changelog ?"))try{await XR(ri(ni.changelog,jg(),`${P}`,Sg())),O({title:"Succs",description:"Changelog supprim avec succs",status:"success",duration:3e3,isClosable:!0}),I()}catch(N){console.error("Erreur lors de la suppression:",N),O({title:"Erreur",description:`${N.message}${N.urlsTried?`  Test: ${N.urlsTried.join(", ")}`:""}`,status:"error",duration:5e3,isClosable:!0})}},F=P=>{if(!P)return null;let N=[];if(Array.isArray(P))N=P;else if(typeof P=="string")try{const re=JSON.parse(P);N=Array.isArray(re)?re:[P]}catch{N=[P]}return N.map((re,Le)=>e.jsxs(D,{fontSize:"sm",children:[" ",re]},Le))};return s?e.jsx(jn,{minH:"400px",children:e.jsxs(oe,{children:[e.jsx(Sn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(D,{children:"Chargement des changelogs..."})]})}):e.jsx(ds,{maxW:"container.xl",py:8,children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(De,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(Wd,{style:{marginRight:"12px"}}),"Gestion du Site Web"]}),e.jsxs(Oo,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(No,{children:[e.jsx(pn,{children:" Changelog & Versions"}),e.jsx(pn,{children:" Accs aux Sites"}),e.jsx(pn,{children:" Configuration"}),e.jsx(pn,{children:" Permissions des Rles"})]}),e.jsxs(Io,{children:[e.jsxs(mn,{children:[e.jsxs(lr,{mb:6,align:"center",children:[e.jsx(De,{size:"lg",children:"Gestion du Site"}),e.jsx(yp,{}),e.jsx(ne,{leftIcon:e.jsx(ZR,{}),colorScheme:"blue",onClick:Ee,children:"Nouveau Changelog"})]}),e.jsx(oe,{spacing:4,align:"stretch",children:n.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucun changelog trouv. Crez le premier !"]}):n.map(P=>e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(lr,{align:"center",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"md",children:P.title}),e.jsxs(le,{children:[e.jsxs(nt,{colorScheme:"blue",children:["v",P.version]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:P.date?new Date(P.date).toLocaleDateString("fr-FR"):"Date inconnue"})]})]}),e.jsx(yp,{}),e.jsxs(le,{children:[e.jsx(yt,{icon:e.jsx(GR,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>pe(P),"aria-label":"Modifier"}),e.jsx(yt,{icon:e.jsx(YR,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>he(P.id),"aria-label":"Supprimer"})]})]})}),e.jsx(Ne,{pt:0,children:e.jsx(oe,{align:"start",spacing:2,children:Array.isArray(P.changes)&&P.changes.length>0?P.changes.map((N,re)=>e.jsx(D,{fontSize:"sm",children:typeof N=="string"?N:`${B(N.tag)} ${N.text}`},re)):F(P.changesText||P.description||[])})})]},P.id))})]}),e.jsx(mn,{children:e.jsx(QQ,{})}),e.jsx(mn,{children:e.jsxs(ht,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(Ie,{bg:t,children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:" Pages et contenu"})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsx(ne,{leftIcon:e.jsx(_i,{}),size:"sm",variant:"outline",onClick:A,children:"Modifier le Header"}),e.jsx(ne,{leftIcon:e.jsx(_i,{}),size:"sm",variant:"outline",children:"Grer les vnements"}),e.jsx(ne,{leftIcon:e.jsx(_i,{}),size:"sm",variant:"outline",children:'Mettre  jour " propos"'}),e.jsx(Ln,{my:2}),e.jsx(De,{size:"xs",children:`Bouton "Soutenir l'association" (Navbar externe)`}),e.jsx(D,{fontSize:"xs",color:"gray.600",children:"Configure le lien HelloAsso utilis sur la navbar du site public."}),e.jsxs(le,{children:[e.jsx(je,{value:g,onChange:P=>x(P.target.value),placeholder:"https://www.helloasso.com/associations/retrobus-essonne"}),e.jsx(ne,{size:"sm",colorScheme:"blue",onClick:fe,children:"Enregistrer"}),e.jsx(ne,{size:"sm",variant:"outline",onClick:X,children:"Tester"})]})]})})]}),e.jsxs(Ie,{bg:t,children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:" Configuration"})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsx(ne,{leftIcon:e.jsx(bK,{}),size:"sm",variant:"outline",children:"Notifications Flash"}),e.jsx(ne,{leftIcon:e.jsx(jc,{}),size:"sm",variant:"outline",children:"Configuration Newsletter"}),e.jsx(ne,{leftIcon:e.jsx(Fp,{}),size:"sm",variant:"outline",children:"Paramtres gnraux"}),e.jsx(Ln,{my:2}),e.jsx(ne,{leftIcon:e.jsx(jc,{}),size:"sm",variant:"outline",colorScheme:"purple",onClick:M,children:" Grer les templates d'email"})]})})]})]})}),e.jsx(mn,{children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(xe,{children:[e.jsx(De,{size:"lg",mb:2,children:" Gestion des Permissions par Membre"}),e.jsx(D,{color:"gray.600",children:"Dfinissez les autorisations individuelles de chaque utilisateur du site"})]}),e.jsx(ZQ,{})]})})]})]}),e.jsxs(kt,{isOpen:z,onClose:k,size:"4xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Gestion des Templates d'Email"}),e.jsx($t,{}),e.jsx(Pt,{maxH:"80vh",overflowY:"auto",children:e.jsx(GQ,{token:localStorage.getItem("token")})})]})]}),e.jsxs(kt,{isOpen:E,onClose:T,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Modifier le Header"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Image de fond"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(tn,{status:"info",fontSize:"sm",children:[e.jsx(nn,{}),"Pour modifier l'image : ditez manuellement ",e.jsx("strong",{children:"externe/public/assets/header.jpg"})]}),e.jsx(le,{children:e.jsxs(J,{maxW:"220px",children:[e.jsx(Q,{children:"Taille d'affichage"}),e.jsxs(st,{value:$.headerBgSize,onChange:P=>G(N=>({...N,headerBgSize:P.target.value})),children:[e.jsx("option",{value:"cover",children:"Cover (remplit tout)"}),e.jsx("option",{value:"contain",children:"Contain (contient tout)"})]})]})}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:2,children:"Point focal (cliquez/glissez pour ajuster)"}),e.jsx(xe,{position:"relative",borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"gray.200",w:"100%",h:"180px",style:{backgroundImage:`url(/assets/header.jpg?t=${Date.now()})`,backgroundSize:$.headerBgSize||"cover",backgroundPosition:`${$.headerBgFocalX}% ${$.headerBgFocalY}%`},onMouseDown:P=>{const N=P.currentTarget.getBoundingClientRect(),re=(P.clientX-N.left)/N.width*100,Le=(P.clientY-N.top)/N.height*100;G(Oe=>({...Oe,headerBgFocalX:Math.round(re),headerBgFocalY:Math.round(Le)}))},onMouseMove:P=>{if(P.buttons!==1)return;const N=P.currentTarget.getBoundingClientRect(),re=(P.clientX-N.left)/N.width*100,Le=(P.clientY-N.top)/N.height*100;G(Oe=>({...Oe,headerBgFocalX:Math.round(Math.max(0,Math.min(100,re))),headerBgFocalY:Math.round(Math.max(0,Math.min(100,Le)))}))},children:e.jsx(xe,{position:"absolute",left:`calc(${$.headerBgFocalX}% - 6px)`,top:`calc(${$.headerBgFocalY}% - 6px)`,w:"12px",h:"12px",borderRadius:"full",bg:"var(--rbe-red)",border:"2px solid white",boxShadow:"sm",pointerEvents:"none"})}),e.jsx(le,{mt:2,fontSize:"xs",color:"gray.500",children:e.jsxs(D,{children:["Position: ",$.headerBgFocalX,"% , ",$.headerBgFocalY,"%"]})})]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Logo"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(tn,{status:"info",fontSize:"sm",children:[e.jsx(nn,{}),"Pour modifier le logo : ditez manuellement les fichiers dans ",e.jsx("strong",{children:"externe/src/assets/"})]}),e.jsx(le,{children:e.jsxs(J,{maxW:"240px",children:[e.jsx(Q,{children:"Hauteur du logo (px)"}),e.jsx(je,{type:"number",min:24,max:240,value:$.logoWidth,onChange:P=>G(N=>({...N,logoWidth:parseInt(P.target.value||"44",10)}))})]})})]})})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:T,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:ue,children:"Enregistrer"})]})]})]}),e.jsxs(kt,{isOpen:j,onClose:_,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:u?" Modifier un changelog":" Nouveau changelog"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{value:m.title,onChange:P=>p(N=>({...N,title:P.target.value})),placeholder:"Ex: Amliorations sur la page d'accueil"})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Version"}),e.jsx(je,{value:m.version,onChange:P=>p(N=>({...N,version:P.target.value})),placeholder:"Ex: 1.3.0"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date"}),e.jsx(je,{type:"date",value:m.date,onChange:P=>p(N=>({...N,date:P.target.value}))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type de publication"}),e.jsxs(st,{value:m.entryType,onChange:P=>p(N=>({...N,entryType:P.target.value})),children:[e.jsx("option",{value:"feature",children:"Fonctionnalit "}),e.jsx("option",{value:"fix",children:"Correction "}),e.jsx("option",{value:"update",children:"Mise  jour "}),e.jsx("option",{value:"security",children:"Scurit "})]})]}),e.jsxs(oe,{align:"stretch",spacing:2,children:[e.jsx(Q,{children:"Changements"}),m.changes.map((P,N)=>e.jsxs(le,{align:"start",children:[e.jsx(st,{maxW:"180px",value:P.tag,onChange:re=>H(N,re.target.value),children:Se.map(re=>e.jsxs("option",{value:re.key,children:[re.emoji," ",re.label]},re.key))}),e.jsx(je,{value:P.text,onChange:re=>W(N,re.target.value),placeholder:` Entre ${N+1}`}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>Z(N)})]},N)),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),onClick:K,size:"sm",alignSelf:"flex-start",children:"Ajouter une ligne"})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:_,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:ie,children:u?"Enregistrer":"Crer"})]})]})]})]})})}const qy={getByMember:t=>St.get(`/api/documents/member/${t}`),delete:t=>St.delete(`/api/documents/${t}`),updateStatus:(t,n)=>St.put(`/api/documents/${t}/status`,n),getExpiring:(t=60)=>St.get(`/api/documents/expiring?days=${t}`)},wg={getAll:()=>St.get("/newsletter"),create:t=>St.post("/newsletter",t),delete:t=>St.delete(`/newsletter/${t}`),updateStatus:(t,n)=>St.put(`/newsletter/${t}/status`,{status:n}),getStats:()=>St.get("/newsletter/stats"),export:(t="csv")=>St.get(`/newsletter/export?format=${t}`),campaigns:{getAll:t=>St.get("/newsletter/campaigns",{params:t}),getById:t=>St.get(`/newsletter/campaigns/${t}`),create:t=>St.post("/newsletter/campaigns",t),update:(t,n)=>St.put(`/newsletter/campaigns/${t}`,n),delete:t=>St.delete(`/newsletter/campaigns/${t}`),preview:t=>St.get(`/newsletter/campaigns/${t}/preview`),sendTest:(t,n)=>St.post(`/newsletter/campaigns/${t}/test`,{email:n}),prepare:t=>St.post(`/newsletter/campaigns/${t}/prepare`),send:t=>St.post(`/newsletter/campaigns/${t}/send`),getStats:t=>St.get(`/newsletter/campaigns/${t}/stats`)}},Gy={PIECES_DETACHEES:"Pices dtaches",CONSOMMABLES:"Consommables",OUTILLAGE:"Outillage",EQUIPEMENT:"quipement",DOCUMENTATION:"Documentation",MERCHANDISING:"Merchandising",FOURNITURES:"Fournitures",SECURITE:"Scurit",GENERAL:"Gnral"},Zy={PIECE:"Pice",KG:"Kg",LITRE:"Litre",METRE:"Mtre",PAQUET:"Paquet",BOITE:"Bote",ROULEAU:"Rouleau",SET:"Set",AUTRE:"Autre"},MA={AVAILABLE:"Disponible",LOW_STOCK:"Stock bas",OUT_OF_STOCK:"Rupture",DISCONTINUED:"Discontinu",RESERVED:"Rserv"},rJ={AVAILABLE:"green",LOW_STOCK:"orange",OUT_OF_STOCK:"red",DISCONTINUED:"gray",RESERVED:"blue"};function iJ(){const[t,n]=b.useState([]),[r,s]=b.useState({}),[l,u]=b.useState(!0),[d,m]=b.useState({search:"",category:"ALL",status:"ALL",lowStock:!1}),[p,g]=b.useState(null),[x,j]=b.useState({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),[S,_]=b.useState({type:"IN",quantity:1,reason:"",notes:""}),[E,A]=b.useState(null),T=Mn(),{isOpen:z,onOpen:M,onClose:k}=It(),{isOpen:O,onOpen:I,onClose:$}=It(),{isOpen:G,onOpen:ee,onClose:ue}=It();b.useEffect(()=>{fe(),X()},[d]);const fe=async()=>{try{u(!0);const B=new URLSearchParams;d.search&&B.append("search",d.search),d.category!=="ALL"&&B.append("category",d.category),d.status!=="ALL"&&B.append("status",d.status),d.lowStock&&B.append("lowStock","true");const ie=await St.get(`/api/stocks?${B.toString()}`),he=ie?.stocks??(Array.isArray(ie)?ie:[]);n(he)}catch(B){console.error("Erreur lors du chargement des stocks:",B),n([]),T({title:"Stocks indisponibles",description:"LAPI des stocks nest pas encore prte ou a renvoy une erreur",status:"warning",duration:3e3})}finally{u(!1)}},X=async()=>{try{const B=await St.get("/api/stocks/stats");s(B||{})}catch(B){console.error("Erreur lors du chargement des statistiques:",B),s({})}},me=()=>{g(null),j({reference:"",name:"",description:"",category:"GENERAL",subcategory:"",quantity:0,minQuantity:0,unit:"PIECE",location:"",supplier:"",purchasePrice:"",salePrice:"",notes:""}),M()},Ee=B=>{g(B),j({reference:B.reference||"",name:B.name||"",description:B.description||"",category:B.category||"GENERAL",subcategory:B.subcategory||"",quantity:B.quantity||0,minQuantity:B.minQuantity||0,unit:B.unit||"PIECE",location:B.location||"",supplier:B.supplier||"",purchasePrice:B.purchasePrice||"",salePrice:B.salePrice||"",notes:B.notes||""}),M()},pe=async()=>{try{const B=p?"put":"post",ie=p?`/api/stocks/${p.id}`:"/api/stocks";await St[B](ie,x),T({title:"Succs",description:`Article ${p?"modifi":"cr"} avec succs`,status:"success",duration:3e3}),k(),fe(),X()}catch(B){console.error("Erreur lors de la sauvegarde:",B),T({title:"Erreur",description:"Impossible de sauvegarder l'article",status:"error",duration:3e3})}},K=async()=>{if(E)try{await St.delete(`/api/stocks/${E.id}`),T({title:"Succs",description:"Article supprim avec succs",status:"success",duration:3e3}),ue(),A(null),fe(),X()}catch(B){console.error("Erreur lors de la suppression:",B),T({title:"Erreur",description:"Impossible de supprimer l'article",status:"error",duration:3e3})}},Z=async()=>{if(E)try{await St.post(`/api/stocks/${E.id}/movement`,S),T({title:"Succs",description:"Mouvement enregistr avec succs",status:"success",duration:3e3}),$(),_({type:"IN",quantity:1,reason:"",notes:""}),fe(),X()}catch(B){console.error("Erreur lors du mouvement:",B),T({title:"Erreur",description:B.response?.data?.error||"Impossible d'enregistrer le mouvement",status:"error",duration:3e3})}},W=B=>{A(B),_({type:"IN",quantity:1,reason:"",notes:""}),I()},H=B=>{A(B),ee()},Se={totalItems:r.totalItems||0,totalQuantity:r.totalQuantity||0,lowStockCount:r.lowStockCount||0,outOfStockCount:r.outOfStockCount||0};return e.jsxs(xe,{p:6,children:[e.jsxs(lr,{align:"center",mb:6,children:[e.jsx(De,{size:"lg",color:"teal.600",children:"Gestion des Stocks"}),e.jsx(yp,{}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"teal",onClick:me,children:"Nouvel article"})]}),e.jsxs(ht,{columns:{base:1,md:4},spacing:4,mb:6,children:[e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Articles totaux"}),e.jsx(At,{children:Se.totalItems}),e.jsxs(Xs,{children:[e.jsx(vx,{style:{display:"inline",marginRight:"4px"}}),"Articles rfrencs"]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Quantit totale"}),e.jsx(At,{children:Se.totalQuantity}),e.jsxs(Xs,{children:[e.jsx(yK,{style:{display:"inline",marginRight:"4px"}}),"Units en stock"]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Stock bas"}),e.jsx(At,{color:"orange.500",children:Se.lowStockCount}),e.jsxs(Xs,{children:[e.jsx(mK,{style:{display:"inline",marginRight:"4px"}})," rapprovisionner"]})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Ruptures"}),e.jsx(At,{color:"red.500",children:Se.outOfStockCount}),e.jsxs(Xs,{children:[e.jsx(Wa,{style:{display:"inline",marginRight:"4px"}}),"Stock puis"]})]})})})]}),e.jsx(Ie,{mb:6,children:e.jsx(Ne,{children:e.jsxs(le,{spacing:4,wrap:"wrap",children:[e.jsx(je,{placeholder:"Rechercher...",value:d.search,onChange:B=>m(ie=>({...ie,search:B.target.value})),maxW:"300px"}),e.jsxs(st,{value:d.category,onChange:B=>m(ie=>({...ie,category:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Toutes catgories"}),Object.entries(Gy).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))]}),e.jsxs(st,{value:d.status,onChange:B=>m(ie=>({...ie,status:B.target.value})),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(MA).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))]}),e.jsx(ne,{variant:d.lowStock?"solid":"outline",colorScheme:"orange",onClick:()=>m(B=>({...B,lowStock:!B.lowStock})),children:"Stock bas uniquement"})]})})}),e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsxs(Rr,{variant:"simple",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Rfrence"}),e.jsx(He,{children:"Nom"}),e.jsx(He,{children:"Catgorie"}),e.jsx(He,{children:"Quantit"}),e.jsx(He,{children:"Unit"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Emplacement"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:l?e.jsx(Qt,{children:e.jsx(Ve,{colSpan:8,textAlign:"center",children:"Chargement..."})}):t.length===0?e.jsx(Qt,{children:e.jsx(Ve,{colSpan:8,textAlign:"center",children:"Aucun article trouv"})}):t.map(B=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:B.reference||"-"}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"medium",children:B.name}),B.description&&e.jsx(D,{fontSize:"sm",color:"gray.600",noOfLines:1,children:B.description})]})}),e.jsx(Ve,{children:Gy[B.category]}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{color:B.quantity<=B.minQuantity?"red.500":"inherit",fontWeight:B.quantity<=B.minQuantity?"bold":"normal",children:B.quantity}),B.minQuantity>0&&e.jsxs(D,{fontSize:"xs",color:"gray.500",children:["Min: ",B.minQuantity]})]})}),e.jsx(Ve,{children:Zy[B.unit]}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:rJ[B.status],children:MA[B.status]})}),e.jsx(Ve,{children:B.location||"-"}),e.jsx(Ve,{children:e.jsxs(le,{spacing:2,children:[e.jsx(yt,{icon:e.jsx(SK,{}),size:"sm",variant:"outline",onClick:()=>Ee(B),"aria-label":"Modifier"}),e.jsx(yt,{icon:e.jsx(gK,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:()=>W(B),"aria-label":"Mouvement de stock"}),e.jsx(yt,{icon:e.jsx(dr,{}),size:"sm",colorScheme:"red",variant:"outline",onClick:()=>H(B),"aria-label":"Supprimer"})]})})]},B.id))})]})})}),e.jsxs(kt,{isOpen:z,onClose:k,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:p?"Modifier l'article":"Nouvel article"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(le,{spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Rfrence"}),e.jsx(je,{value:x.reference,onChange:B=>j(ie=>({...ie,reference:B.target.value})),placeholder:"REF-001"})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:x.name,onChange:B=>j(ie=>({...ie,name:B.target.value})),placeholder:"Nom de l'article"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:x.description,onChange:B=>j(ie=>({...ie,description:B.target.value})),placeholder:"Description dtaille"})]}),e.jsxs(le,{spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Catgorie"}),e.jsx(st,{value:x.category,onChange:B=>j(ie=>({...ie,category:B.target.value})),children:Object.entries(Gy).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Sous-catgorie"}),e.jsx(je,{value:x.subcategory,onChange:B=>j(ie=>({...ie,subcategory:B.target.value})),placeholder:"Sous-catgorie"})]})]}),e.jsxs(le,{spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Quantit"}),e.jsx(Yn,{value:x.quantity,onChange:B=>j(ie=>({...ie,quantity:parseInt(B)||0})),children:e.jsx(Xn,{})})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Quantit minimale"}),e.jsx(Yn,{value:x.minQuantity,onChange:B=>j(ie=>({...ie,minQuantity:parseInt(B)||0})),children:e.jsx(Xn,{})})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Unit"}),e.jsx(st,{value:x.unit,onChange:B=>j(ie=>({...ie,unit:B.target.value})),children:Object.entries(Zy).map(([B,ie])=>e.jsx("option",{value:B,children:ie},B))})]})]}),e.jsxs(le,{spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Emplacement"}),e.jsx(je,{value:x.location,onChange:B=>j(ie=>({...ie,location:B.target.value})),placeholder:"tagre A1, Atelier..."})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Fournisseur"}),e.jsx(je,{value:x.supplier,onChange:B=>j(ie=>({...ie,supplier:B.target.value})),placeholder:"Nom du fournisseur"})]})]}),e.jsxs(le,{spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Prix d'achat ()"}),e.jsx(Yn,{value:x.purchasePrice,onChange:B=>j(ie=>({...ie,purchasePrice:B})),precision:2,children:e.jsx(Xn,{})})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Prix de vente ()"}),e.jsx(Yn,{value:x.salePrice,onChange:B=>j(ie=>({...ie,salePrice:B})),precision:2,children:e.jsx(Xn,{})})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes"}),e.jsx(sn,{value:x.notes,onChange:B=>j(ie=>({...ie,notes:B.target.value})),placeholder:"Notes diverses"})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:k,children:"Annuler"}),e.jsx(ne,{colorScheme:"teal",onClick:pe,children:p?"Modifier":"Crer"})]})]})]}),e.jsxs(kt,{isOpen:O,onClose:$,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsxs(Mt,{children:["Mouvement de stock - ",E?.name]}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Type de mouvement"}),e.jsxs(st,{value:S.type,onChange:B=>_(ie=>({...ie,type:B.target.value})),children:[e.jsx("option",{value:"IN",children:"Entre (IN)"}),e.jsx("option",{value:"OUT",children:"Sortie (OUT)"}),e.jsx("option",{value:"ADJUSTMENT",children:"Correction (ADJUSTMENT)"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Quantit"}),e.jsx(Yn,{value:S.quantity,onChange:B=>_(ie=>({...ie,quantity:parseInt(B)||1})),children:e.jsx(Xn,{})}),E&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Stock actuel: ",E.quantity," ",Zy[E.unit]]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Raison"}),e.jsx(je,{value:S.reason,onChange:B=>_(ie=>({...ie,reason:B.target.value})),placeholder:"Achat, utilisation, correction..."})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes"}),e.jsx(sn,{value:S.notes,onChange:B=>_(ie=>({...ie,notes:B.target.value})),placeholder:"Notes sur ce mouvement"})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:$,children:"Annuler"}),e.jsx(ne,{colorScheme:"teal",onClick:Z,children:"Enregistrer"})]})]})]}),e.jsx(KZ,{isOpen:G,onClose:ue,leastDestructiveRef:cn.useRef(),children:e.jsx(Rt,{children:e.jsxs(QZ,{children:[e.jsx(Mt,{children:"Confirmer la suppression"}),e.jsxs(Pt,{children:[`tes-vous sr de vouloir supprimer l'article "`,E?.name,'" ? Cette action est irrversible.']}),e.jsxs(Gt,{children:[e.jsx(ne,{onClick:ue,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:K,ml:3,children:"Supprimer"})]})]})})})]})}const Yy={info:{label:"Information",color:"blue",icon:HQ},warning:{label:"Attention",color:"orange",icon:TA},success:{label:"Succs",color:"green",icon:FQ},error:{label:"Erreur",color:"red",icon:TA}};function sJ(){const[t,n]=b.useState([]),[r,s]=b.useState(!0),[l,u]=b.useState(null),[d,m]=b.useState({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),{isOpen:p,onOpen:g,onClose:x}=It(),j=Mn(),S=gr("white","gray.700"),_=gr("gray.200","gray.600"),E=async()=>{try{s(!0);const $=await St.get("/flashes");$.data&&Array.isArray($.data)?n($.data):(console.warn("Rponse inattendue de l'API:",$.data),n([]))}catch($){console.error("Erreur lors du chargement des flashs:",$),n([]),j({title:"Erreur",description:"Impossible de charger les flashs",status:"error",duration:3e3,isClosable:!0})}finally{s(!1)}};b.useEffect(()=>{E()},[]);const A=()=>{m({content:"",type:"info",active:!0,showOnExternal:!1,expiresAt:""}),u(null)},T=()=>{A(),g()},z=$=>{u($),m({content:$.content||"",type:$.type||"info",active:$.active!==void 0?$.active:!0,showOnExternal:$.showOnExternal||!1,expiresAt:$.expiresAt?new Date($.expiresAt).toISOString().slice(0,16):""}),g()},M=async()=>{try{if(!d.content.trim()){j({title:"Erreur de validation",description:"Le contenu du flash est requis",status:"error",duration:3e3,isClosable:!0});return}const $={...d,expiresAt:d.expiresAt||null};l?(await St.put(`/flashes/${l.id}`,$),j({title:"Succs",description:"Flash mis  jour avec succs",status:"success",duration:3e3,isClosable:!0})):(await St.post("/flashes",$),j({title:"Succs",description:"Flash cr avec succs",status:"success",duration:3e3,isClosable:!0})),E(),x()}catch($){console.error("Erreur lors de la sauvegarde:",$),j({title:"Erreur",description:"Impossible de sauvegarder le flash",status:"error",duration:3e3,isClosable:!0})}},k=async $=>{try{await St.patch(`/flashes/${$.id}/toggle`),j({title:"Succs",description:`Flash ${$.active?"dsactiv":"activ"}`,status:"success",duration:2e3,isClosable:!0}),E()}catch(G){console.error("Erreur lors du toggle:",G),j({title:"Erreur",description:"Impossible de modifier le statut",status:"error",duration:3e3,isClosable:!0})}},O=async $=>{if(window.confirm("tes-vous sr de vouloir supprimer ce flash ?"))try{await St.delete(`/flashes/${$}`),j({title:"Succs",description:"Flash supprim avec succs",status:"success",duration:3e3,isClosable:!0}),E()}catch(G){console.error("Erreur lors de la suppression:",G),j({title:"Erreur",description:"Impossible de supprimer le flash",status:"error",duration:3e3,isClosable:!0})}},I=$=>$.expiresAt?new Date($.expiresAt)<new Date:!1;return r?e.jsx(jn,{minH:"400px",children:e.jsxs(oe,{children:[e.jsx(Sn,{size:"xl",color:"var(--rbe-red)"}),e.jsx(D,{children:"Chargement des flashs..."})]})}):e.jsxs(xe,{p:6,children:[e.jsxs(lr,{mb:6,align:"center",children:[e.jsxs(le,{spacing:3,children:[e.jsx(Wy,{color:"var(--rbe-red)",size:24}),e.jsx(De,{size:"lg",children:"Gestion des Flashs Info"})]}),e.jsx(yp,{}),e.jsx(ne,{leftIcon:e.jsx(ZR,{}),colorScheme:"blue",onClick:T,children:"Nouveau Flash"})]}),e.jsxs(Sa,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,mb:6,children:[e.jsx(Ie,{bg:S,borderWidth:1,borderColor:_,children:e.jsx(Ne,{children:e.jsxs(le,{children:[e.jsx(Wy,{color:"blue"}),e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Total"}),e.jsx(D,{fontSize:"2xl",fontWeight:"bold",children:t.length})]})]})})}),e.jsx(Ie,{bg:S,borderWidth:1,borderColor:_,children:e.jsx(Ne,{children:e.jsxs(le,{children:[e.jsx(PA,{color:"green"}),e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Actifs"}),e.jsx(D,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:t.filter($=>$.active&&!I($)).length})]})]})})}),e.jsx(Ie,{bg:S,borderWidth:1,borderColor:_,children:e.jsx(Ne,{children:e.jsxs(le,{children:[e.jsx(kA,{color:"purple"}),e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Sur l'externe"}),e.jsx(D,{fontSize:"2xl",fontWeight:"bold",color:"purple.500",children:t.filter($=>$.showOnExternal&&$.active&&!I($)).length})]})]})})}),e.jsx(Ie,{bg:S,borderWidth:1,borderColor:_,children:e.jsx(Ne,{children:e.jsxs(le,{children:[e.jsx(VQ,{color:"orange"}),e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Expirs"}),e.jsx(D,{fontSize:"2xl",fontWeight:"bold",color:"orange.500",children:t.filter($=>I($)).length})]})]})})})]}),e.jsx(oe,{spacing:4,align:"stretch",children:t.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucun flash trouv. Crez le premier !"]}):t.map($=>{const G=Yy[$.type]||Yy.info,ee=G.icon,ue=I($);return e.jsxs(Ie,{bg:S,borderWidth:1,borderColor:$.active&&!ue?`${G.color}.200`:"gray.300",opacity:$.active&&!ue?1:.6,children:[e.jsx(Ot,{children:e.jsxs(lr,{align:"center",children:[e.jsxs(le,{spacing:3,flex:1,children:[e.jsx(ee,{color:`var(--chakra-colors-${G.color}-500)`}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsxs(le,{spacing:2,children:[e.jsx(nt,{colorScheme:G.color,children:G.label}),$.active?e.jsx(nt,{colorScheme:"green",children:"Actif"}):e.jsx(nt,{colorScheme:"gray",children:"Inactif"}),$.showOnExternal&&e.jsx(nt,{colorScheme:"purple",leftIcon:e.jsx(kA,{}),children:"Externe"}),ue&&e.jsx(nt,{colorScheme:"red",children:"Expir"})]}),e.jsxs(D,{fontSize:"sm",color:"gray.600",children:["Cr le ",new Date($.createdAt).toLocaleDateString("fr-FR"),$.expiresAt&&e.jsxs(e.Fragment,{children:["  Expire le ",new Date($.expiresAt).toLocaleDateString("fr-FR")]})]})]})]}),e.jsxs(le,{spacing:1,children:[e.jsx(qi,{label:$.active?"Dsactiver":"Activer",children:e.jsx(yt,{icon:$.active?e.jsx(UQ,{}):e.jsx(PA,{}),size:"sm",colorScheme:$.active?"orange":"green",variant:"ghost",onClick:()=>k($)})}),e.jsx(qi,{label:"Modifier",children:e.jsx(yt,{icon:e.jsx(GR,{}),size:"sm",colorScheme:"blue",variant:"ghost",onClick:()=>z($)})}),e.jsx(qi,{label:"Supprimer",children:e.jsx(yt,{icon:e.jsx(YR,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>O($.id)})})]})]})}),e.jsx(Ne,{pt:0,children:e.jsx(D,{children:$.content})})]},$.id)})}),e.jsxs(kt,{isOpen:p,onClose:x,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:e.jsxs(le,{children:[e.jsx(Wy,{}),e.jsx(D,{children:l?"Modifier le flash":"Nouveau flash"})]})}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Type"}),e.jsx(st,{value:d.type,onChange:$=>m(G=>({...G,type:$.target.value})),children:Object.entries(Yy).map(([$,G])=>e.jsx("option",{value:$,children:G.label},$))})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Contenu du message"}),e.jsx(sn,{value:d.content,onChange:$=>m(G=>({...G,content:$.target.value})),placeholder:"Message  afficher...",rows:4})]}),e.jsxs(Sa,{templateColumns:"1fr 1fr",gap:4,width:"100%",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Statut"}),e.jsxs(le,{children:[e.jsx(br,{isChecked:d.active,onChange:$=>m(G=>({...G,active:$.target.checked}))}),e.jsx(D,{children:d.active?"Actif":"Inactif"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Afficher sur l'externe"}),e.jsxs(le,{children:[e.jsx(br,{isChecked:d.showOnExternal,onChange:$=>m(G=>({...G,showOnExternal:$.target.checked}))}),e.jsx(D,{children:d.showOnExternal?"Oui":"Non"})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date d'expiration (optionnelle)"}),e.jsx(je,{type:"datetime-local",value:d.expiresAt,onChange:$=>m(G=>({...G,expiresAt:$.target.value}))}),e.jsx(D,{fontSize:"sm",color:"gray.500",mt:1,children:"Laissez vide pour un flash permanent"})]}),d.showOnExternal&&e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Ce flash sera visible sur le site public externe"]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:M,children:l?"Mettre  jour":"Crer"})]})]})]})]})}const Qc="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),aJ={PENDING:{label:"En attente",color:"yellow",progress:25},ACTIVE:{label:"Actif",color:"green",progress:100},EXPIRED:{label:"Expir",color:"red",progress:0},SUSPENDED:{label:"Suspendu",color:"orange",progress:50}},Xy={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},Ky={CASH:"Espces",CHECK:"Chque",BANK_TRANSFER:"Virement",CARD:"Carte bancaire",PAYPAL:"PayPal",HELLOASSO:"HelloAsso"};function oJ(){const{user:t,member:n,memberLoading:r,memberError:s,memberApiBase:l,refreshMember:u}=Ni(),[d,m]=b.useState(null),[p,g]=b.useState(!0),[x,j]=b.useState(null),[S,_]=b.useState(null),[E,A]=b.useState(!1),[T,z]=b.useState({}),[M,k]=b.useState([]),[O,I]=b.useState(!1),[$,G]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{isOpen:ee,onOpen:ue,onClose:fe}=It(),{isOpen:X,onOpen:me,onClose:Ee}=It(),{isOpen:pe,onOpen:K,onClose:Z}=It(),[W,H]=b.useState({reason:"",notes:"",pv:null,resignation:null}),[Se,B]=b.useState(!1),[ie,he]=b.useState([]),[F,P]=b.useState(""),N=Mn();b.useEffect(()=>{u()},[]),b.useEffect(()=>{m(n||null),g(r),j(s),_(l||null)},[n,r,s,l]),b.useEffect(()=>{d&&d.id?Pe():k([])},[d?.id]);const re=async()=>{await u(!0)},Le=()=>{A(!0),z({...d})},Oe=async()=>{try{if(!T.firstName||!T.lastName)throw new Error("Prnom et nom requis");const Fe=[S??"",Qc||""];let et=null;for(const Ye of Fe)try{const ft=await fetch(`${Ye}/api/members/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(T)});if(ft.ok){et=ft;break}}catch{}if(!et)throw new Error("Erreur de sauvegarde");const jt=await et.json();m(jt),A(!1),N({status:"success",title:"Profil mis  jour",description:"Vos informations ont t sauvegardes",duration:3e3})}catch(Fe){N({status:"error",title:"Erreur",description:Fe.message,duration:5e3})}},Pe=async()=>{try{I(!0);const Fe=[S??"",Qc||""];let et=!1;for(const jt of Fe)try{const Ye=await fetch(`${jt}/api/members/me/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ye.ok){const ft=await Ye.json();k(ft?.documents||[]),et=!0;break}}catch{}if(!et)throw new Error("Chargement des documents impossible")}catch(Fe){console.error("Docs error",Fe),k([])}finally{I(!1)}},it=async Fe=>{try{const et=[S??"",Qc||""];let jt=null;for(const qe of et)try{const xt=await fetch(`${qe}/api/documents/${Fe.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(xt.ok){jt=xt;break}}catch{}if(!jt)throw new Error("Tlchargement impossible");const Ye=await jt.blob(),ft=URL.createObjectURL(Ye),Tn=document.createElement("a");Tn.href=ft,Tn.download=Fe.fileName||"document",document.body.appendChild(Tn),Tn.click(),Tn.remove(),URL.revokeObjectURL(ft)}catch(et){N({status:"error",title:"Erreur",description:et.message})}},ot=()=>{A(!1),z({...d})},Qe=async()=>{if($.newPassword!==$.confirmPassword){N({status:"error",title:"Erreur",description:"Les mots de passe ne correspondent pas",duration:3e3});return}if($.newPassword.length<6){N({status:"error",title:"Erreur",description:"Le mot de passe doit faire au moins 6 caractres",duration:3e3});return}try{const Fe=await fetch(`${Qc}/api/members/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({currentPassword:$.currentPassword,newPassword:$.newPassword})});if(!Fe.ok){const et=await Fe.json();throw new Error(et.error||"Erreur de changement de mot de passe")}N({status:"success",title:"Mot de passe modifi",description:"Votre mot de passe a t mis  jour avec succs",duration:3e3}),G({currentPassword:"",newPassword:"",confirmPassword:""}),fe()}catch(Fe){N({status:"error",title:"Erreur",description:Fe.message,duration:5e3})}};if(p)return e.jsx(jn,{h:"400px",children:e.jsx(Sn,{size:"xl"})});const wt=Fe=>{try{const et=typeof Fe=="string"?new Date(Fe):Fe;return et?et.toLocaleDateString("fr-FR"):"-"}catch{return"-"}},$e=(Fe,et)=>{const jt=new Date(Fe.getTime());return jt.setFullYear(jt.getFullYear()+et),jt},Bt=(Fe,et)=>Math.ceil((et.getTime()-Fe.getTime())/(1e3*60*60*24)),ye=d?.membershipStartDate?new Date(d.membershipStartDate):null,Ze=d?.membershipEndDate?new Date(d.membershipEndDate):null,Tt=ye?$e(ye,1):null,ae=Ze||Tt,ge=new Date,Je=ae?ae<ge:!1,bt=ae?Bt(ge,ae):null,An=Fe=>{switch(Fe){case"ACTIVE":return"green";case"PENDING":return"orange";case"EXPIRED":return"red";case"SUSPENDED":return"gray";default:return"gray"}},nr=aJ[d?.membershipStatus]||{label:d?.membershipStatus||"Non dfini",progress:0};return e.jsxs(xe,{p:6,maxW:"4xl",mx:"auto",children:[e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(De,{size:"lg",display:"flex",alignItems:"center",children:[e.jsx(By,{style:{marginRight:"8px"}}),"Mon Adhsion"]}),E?e.jsxs(le,{children:[e.jsx(ne,{leftIcon:e.jsx(gc,{}),colorScheme:"green",onClick:Oe,children:"Sauvegarder"}),e.jsx(ne,{leftIcon:e.jsx(jp,{}),variant:"outline",onClick:ot,children:"Annuler"})]}):e.jsx(ne,{leftIcon:e.jsx(_i,{}),onClick:Le,children:"Modifier"})]}),!d&&e.jsxs(tn,{status:"warning",children:[e.jsx(nn,{}),e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",children:"Profil adhrent introuvable"}),e.jsx(D,{fontSize:"sm",children:x===401?"Vous ntes pas autoris. Veuillez vous reconnecter.":x===404?"Votre profil nest pas encore li. Si vous venez de raliser une liaison, actualisez la page ou reconnectez-vous. Sinon, merci de contacter un administrateur pour lassocier depuis la Gestion des Adhrents.":x===500?"Erreur serveur lors de la rcupration du profil.":x==="network-error"?"Impossible de joindre lAPI. Rseau ou CORS ? Essayez  nouveau.":"Votre profil n'est pas encore li. Merci de contacter un administrateur pour l'associer depuis la Gestion des Adhrents."}),e.jsxs(le,{mt:3,children:[e.jsx(ne,{size:"sm",onClick:re,children:"Ressayer"}),(t?.roles||[]).map(jt=>String(jt).toUpperCase()).some(jt=>["ADMIN","PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(jt))?e.jsx(ne,{size:"sm",variant:"outline",onClick:async()=>{try{B(!0);const jt=[S??"",Qc||""];let Ye=null;for(const ft of jt)try{const Tn=await fetch(`${ft}/api/members?limit=500`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Tn.ok){Ye=await Tn.json();break}}catch{}he(Ye?.members||[]),K()}finally{B(!1)}},isLoading:Se,children:"Associer mon compte"}):null]})]})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(Oo,{variant:"enclosed",colorScheme:"blue",children:[e.jsxs(No,{children:[e.jsx(pn,{children:"Informations personnelles"}),e.jsx(pn,{children:"Informations Adhrent"}),e.jsx(pn,{children:"Documents d'adhsions"})]}),e.jsxs(Io,{children:[e.jsx(mn,{px:0,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Informations personnelles"})}),e.jsx(Ne,{children:e.jsx(oe,{spacing:4,align:"stretch",children:E?e.jsxs(e.Fragment,{children:[e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Prnom"}),e.jsx(je,{value:T.firstName||"",onChange:Fe=>z(et=>({...et,firstName:Fe.target.value}))})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:T.lastName||"",onChange:Fe=>z(et=>({...et,lastName:Fe.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Email"}),e.jsx(je,{type:"email",value:T.email||"",onChange:Fe=>z(et=>({...et,email:Fe.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Tlphone"}),e.jsx(je,{value:T.phone||"",onChange:Fe=>z(et=>({...et,phone:Fe.target.value}))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Adresse"}),e.jsx(je,{value:T.address||"",onChange:Fe=>z(et=>({...et,address:Fe.target.value}))})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Code postal"}),e.jsx(je,{value:T.postalCode||"",onChange:Fe=>z(et=>({...et,postalCode:Fe.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Ville"}),e.jsx(je,{value:T.city||"",onChange:Fe=>z(et=>({...et,city:Fe.target.value}))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date de naissance"}),e.jsx(je,{type:"date",value:T.birthDate?T.birthDate.split("T")[0]:"",onChange:Fe=>z(et=>({...et,birthDate:Fe.target.value}))})]})]}):e.jsxs(ht,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(xe,{children:[e.jsxs(le,{mb:4,children:[e.jsx(By,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Nom complet"}),e.jsxs(D,{fontWeight:"bold",children:[d.firstName," ",d.lastName]})]})]}),d.email&&e.jsxs(le,{mb:4,children:[e.jsx(jc,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Email"}),e.jsx(D,{fontWeight:"bold",children:d.email})]})]}),d.phone&&e.jsxs(le,{mb:4,children:[e.jsx(IR,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Tlphone"}),e.jsx(D,{fontWeight:"bold",children:d.phone})]})]})]}),e.jsxs(xe,{children:[(d.address||d.city)&&e.jsxs(le,{mb:4,children:[e.jsx(mc,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Adresse"}),e.jsxs(D,{fontWeight:"bold",children:[d.address&&`${d.address}, `,d.postalCode," ",d.city]})]})]}),d.birthDate&&e.jsxs(le,{mb:4,children:[e.jsx(ls,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Date de naissance"}),e.jsx(D,{fontWeight:"bold",children:new Date(d.birthDate).toLocaleDateString("fr-FR")})]})]})]})]})})})]})}),e.jsx(mn,{px:0,children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Statut de l'Adhsion"})}),e.jsxs(Ne,{children:[e.jsxs(ht,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:2,children:"Statut actuel"}),e.jsx(nt,{colorScheme:An(d.membershipStatus),fontSize:"md",p:2,children:nr.label}),e.jsx(pc,{value:nr.progress,colorScheme:An(d.membershipStatus),mt:2,size:"sm"})]}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:2,children:"Type d'adhsion"}),e.jsx(D,{fontWeight:"bold",children:Xy[d.membershipType]||d.membershipType})]}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:2,children:"Matricule"}),e.jsx(D,{fontWeight:"bold",color:"blue.600",children:d.matricule}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Utilis pour se connecter au site"})]}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:2,children:"Numro d'adhrent"}),e.jsx(D,{fontWeight:"bold",color:"purple.600",children:d.memberNumber}),e.jsx(D,{fontSize:"xs",color:"gray.500",children:"Numro unique d'adhsion"})]})]}),e.jsx(Ln,{my:4}),e.jsxs(ht,{columns:{base:1,md:3},spacing:{base:4,md:6},children:[e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:1,children:"Dbut d'adhsion"}),e.jsx(D,{fontWeight:"bold",children:ye?wt(ye):"-"})]}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:1,children:"Expiration prvue"}),e.jsx(D,{fontWeight:"bold",color:Je?"red.600":"gray.800",children:ae?wt(ae):"-"}),ae&&e.jsx(D,{fontSize:"xs",color:Je?"red.500":"gray.500",children:Je?"Adhsion expire":`${bt} jour(s) restant(s)`})]}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",mb:1,children:"Dernier paiement"}),e.jsx(D,{fontWeight:"bold",children:ye?wt(ye):"-"}),d?.paymentAmount&&e.jsxs(D,{fontSize:"xs",color:"gray.600",children:[d.paymentAmount," (",Ky[d.paymentMethod]||d.paymentMethod,")"]})]})]}),!Je&&bt!==null&&bt<=60&&e.jsxs(tn,{status:"warning",mt:4,borderRadius:"md",children:[e.jsx(nn,{}),"Votre adhsion arrive  chance dans ",bt," jour(s). Pensez  la renouveler."]}),Je&&e.jsxs(tn,{status:"error",mt:4,borderRadius:"md",children:[e.jsx(nn,{}),"Votre adhsion est expire. Veuillez procder au renouvellement."]})]})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Dtails d'adhsion"})}),e.jsx(Ne,{children:E?e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Type d'adhsion"}),e.jsx(st,{value:T.membershipType||"STANDARD",onChange:Fe=>z(et=>({...et,membershipType:Fe.target.value})),children:Object.entries(Xy).map(([Fe,et])=>e.jsx("option",{value:Fe,children:et},Fe))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Montant cotisation ()"}),e.jsx(je,{type:"number",value:T.paymentAmount||"",onChange:Fe=>z(et=>({...et,paymentAmount:Fe.target.value}))})]})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Mode de paiement"}),e.jsx(st,{value:T.paymentMethod||"CASH",onChange:Fe=>z(et=>({...et,paymentMethod:Fe.target.value})),children:Object.entries(Ky).map(([Fe,et])=>e.jsx("option",{value:Fe,children:et},Fe))})]}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{htmlFor:"newsletter",mb:"0",children:"Newsletter"}),e.jsx(br,{id:"newsletter",isChecked:T.newsletter,onChange:Fe=>z(et=>({...et,newsletter:Fe.target.checked}))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes"}),e.jsx(sn,{value:T.notes||"",onChange:Fe=>z(et=>({...et,notes:Fe.target.value})),placeholder:"Notes personnelles..."})]})]}):e.jsxs(ht,{columns:{base:1,md:2},spacing:{base:4,md:6},children:[e.jsxs(xe,{children:[d.paymentAmount&&e.jsxs(le,{mb:4,children:[e.jsx(aj,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Cotisation"}),e.jsxs(D,{fontWeight:"bold",children:[d.paymentAmount," (",Ky[d.paymentMethod]||d.paymentMethod,")"]})]})]}),e.jsxs(le,{mb:4,children:[e.jsx(By,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Type"}),e.jsx(D,{fontWeight:"bold",children:Xy[d.membershipType]||d.membershipType})]})]}),ye&&e.jsxs(le,{mb:4,children:[e.jsx(ls,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Dbut d'adhsion"}),e.jsx(D,{fontWeight:"bold",children:wt(ye)})]})]})]}),e.jsxs(xe,{children:[e.jsxs(le,{mb:4,children:[e.jsx(vu,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Matricule"}),e.jsx(D,{fontWeight:"bold",color:"blue.600",children:d.matricule})]})]}),e.jsxs(le,{mb:4,children:[e.jsx(vu,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Numro d'adhrent"}),e.jsx(D,{fontWeight:"bold",color:"purple.600",children:d.memberNumber})]})]}),ae&&e.jsxs(le,{mb:4,children:[e.jsx(ls,{}),e.jsxs(xe,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Expiration prvue"}),e.jsx(D,{fontWeight:"bold",color:Je?"red.600":"gray.800",children:wt(ae)})]})]})]})]})})]})]})}),e.jsx(mn,{px:0,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Documents d'adhsions"})}),e.jsx(Ne,{children:O?e.jsx(jn,{children:e.jsx(Sn,{})}):M.length===0?e.jsx(D,{color:"gray.600",children:"Aucun document pour le moment."}):e.jsxs(Rr,{size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Fichier"}),e.jsx(He,{children:"Type"}),e.jsx(He,{children:"Ajout le"}),e.jsx(He,{children:"Expiration"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{})]})}),e.jsx($r,{children:M.map(Fe=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:Fe.fileName}),e.jsx(Ve,{children:Fe.documentType||"-"}),e.jsx(Ve,{children:Fe.uploadedAt?new Date(Fe.uploadedAt).toLocaleString("fr-FR"):"-"}),e.jsx(Ve,{children:Fe.expiryDate?new Date(Fe.expiryDate).toLocaleDateString("fr-FR"):"-"}),e.jsx(Ve,{children:e.jsx(nt,{children:Fe.status||"PENDING"})}),e.jsx(Ve,{textAlign:"right",children:e.jsx(ne,{size:"sm",leftIcon:e.jsx(_l,{}),onClick:()=>it(Fe),children:"Tlcharger"})})]},Fe.id))})]})})]})})]})]}),!E&&e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Actions"})}),e.jsx(Ne,{children:e.jsxs(le,{spacing:4,wrap:"wrap",children:[e.jsx(ne,{leftIcon:e.jsx(vu,{}),onClick:ue,children:"Changer le mot de passe"}),e.jsx(ne,{leftIcon:e.jsx(_l,{}),variant:"outline",children:"Tlcharger ma carte d'adhrent"}),(t?.roles||[]).map(jt=>String(jt).toUpperCase()).some(jt=>["PRESIDENT","VICE_PRESIDENT","TRESORIER","SECRETAIRE_GENERAL"].includes(jt))&&e.jsx(ne,{colorScheme:"red",variant:"outline",onClick:me,children:"Supprimer l'adhsion"})]})})]}),d.notes&&!E&&e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Notes"})}),e.jsx(Ne,{children:e.jsx(D,{children:d.notes})})]})]})]}),e.jsxs(kt,{isOpen:ee,onClose:fe,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Changer le mot de passe"}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Mot de passe actuel"}),e.jsx(je,{type:"password",value:$.currentPassword,onChange:Fe=>G(et=>({...et,currentPassword:Fe.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Nouveau mot de passe"}),e.jsx(je,{type:"password",value:$.newPassword,onChange:Fe=>G(et=>({...et,newPassword:Fe.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Confirmer le nouveau mot de passe"}),e.jsx(je,{type:"password",value:$.confirmPassword,onChange:Fe=>G(et=>({...et,confirmPassword:Fe.target.value}))})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:fe,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Qe,children:"Modifier"})]})]})]}),e.jsxs(kt,{isOpen:X,onClose:Ee,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Supprimer l'adhsion"}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(tn,{status:"warning",children:[e.jsx(nn,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Motif"}),e.jsxs(st,{value:W.reason,onChange:Fe=>H(et=>({...et,reason:Fe.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes (optionnel)"}),e.jsx(sn,{value:W.notes,onChange:Fe=>H(et=>({...et,notes:Fe.target.value}))})]}),W.reason==="EXCLUSION"||W.reason==="DEMISSION"?e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Procs-verbal (PDF/Image)"}),e.jsx(je,{type:"file",accept:"application/pdf,image/*",onChange:Fe=>H(et=>({...et,pv:Fe.target.files?.[0]||null}))})]}):null,W.reason==="DEMISSION"?e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(je,{type:"file",accept:"application/pdf,image/*",onChange:Fe=>H(et=>({...et,resignation:Fe.target.files?.[0]||null}))})]}):null]})}),e.jsx(Gt,{children:e.jsxs(le,{children:[e.jsx(ne,{variant:"ghost",onClick:Ee,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:async()=>{try{if(!W.reason){N({title:"Motif requis",status:"error"});return}if(W.reason==="EXCLUSION"&&!W.pv){N({title:"PV obligatoire",status:"error"});return}if(W.reason==="DEMISSION"&&(!W.pv||!W.resignation)){N({title:"PV et lettre requis",status:"error"});return}const Fe=new FormData;Fe.append("reason",W.reason),W.notes&&Fe.append("notes",W.notes),W.pv&&Fe.append("pv",W.pv),W.resignation&&Fe.append("resignation",W.resignation);let et=null,jt=null;for(const Ye of[S??"",Qc||""])try{const ft=await fetch(`${Ye}/api/members/${d?.id}/terminate`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Fe});if(ft.ok){et=ft,jt=await ft.json();break}else jt=await ft.json().catch(()=>({}))}catch{}if(!et)throw new Error(jt?.error||"Erreur de suppression");N({title:"Adhsion supprime",status:"success",duration:3e3}),Ee(),re()}catch(Fe){N({title:"Erreur",description:Fe.message,status:"error"})}},children:"Confirmer"})]})})]})]}),e.jsxs(kt,{isOpen:pe,onClose:Z,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Associer mon compte  un adhrent"}),e.jsx(Pt,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Slectionnez ladhrent correspondant  votre compte afin dactiver la page Mon Adhsion."}),e.jsxs(J,{children:[e.jsx(Q,{children:"Adhrent"}),e.jsx(st,{value:F,onChange:Fe=>P(Fe.target.value),placeholder:"Choisir",children:ie.map(Fe=>e.jsxs("option",{value:Fe.id,children:[Fe.lastName?.toUpperCase()," ",Fe.firstName,"  ",Fe.email," ",Fe.memberNumber?`(${Fe.memberNumber})`:""]},Fe.id))})]})]})}),e.jsx(Gt,{children:e.jsxs(le,{children:[e.jsx(ne,{variant:"ghost",onClick:Z,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",isDisabled:!F,onClick:async()=>{try{B(!0);let Fe=!1,et=null;for(const jt of[S??"",Qc||""])try{const Ye=await fetch(`${jt}/api/members/${F}/link-access`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:(t?.username||"").toLowerCase()})}),ft=await Ye.json().catch(()=>({}));if(Ye.ok){Fe=!0;break}else et=ft?.error||"Erreur de liaison"}catch{}if(!Fe)throw new Error(et||"Erreur de liaison");N({status:"success",title:"Compte associ"}),Z(),await u(!0)}catch(Fe){N({status:"error",title:"chec",description:Fe.message})}finally{B(!1)}},children:"Associer"})]})})]})]})]})}const KR={"w.belaidi":{password:"Waiyl9134#",prenom:"Waiyl",nom:"BELAIDI",roles:["ADMIN"]},"m.ravichandran":{password:"RBE2025",prenom:"Mthusan",nom:"RAVICHANDRAN",roles:["MEMBER"]},"g.champenois":{password:"RBE2026",prenom:"Galle",nom:"CHAMPENOIS",roles:["MEMBER"]},"n.tetillon":{password:"RBE185C",prenom:"Nathan",nom:"TETILLON",roles:["MEMBER"]}};async function lJ(t,n){const s=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/login`;try{const d=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=KR[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}async function cJ(t,n){const s=`${"https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/+$/,"")}/auth/member-login`;try{const d=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:n})});if(d.ok)return await d.json()}catch{}const l=String(t||"").toLowerCase(),u=KR[l];if(!u||u.password!==n)throw new Error("chec de connexion");return{token:`local-dev-token-${l}`,user:{username:l,prenom:u.prenom,nom:u.nom,firstName:u.prenom,lastName:u.nom,roles:u.roles}}}const uJ="/univers_rbe.png";function dJ(){const[t,n]=b.useState(""),[r,s]=b.useState(""),[l,u]=b.useState(""),[d,m]=b.useState(!1),p=Ro(),{setToken:g,setUser:x}=Ni(),j=gr("rbe.500","rbe.300"),S=gr("gray.100","gray.700"),_=async()=>{if(!t.trim()||!r.trim()){u("Champs requis.");return}m(!0),u("");try{const A=t.trim(),z=/^\d{4}-\d{3}$/i.test(A)||A.includes("@")?await cJ(A,r):await lJ(A.toLowerCase(),r);g(z.token),x(z.user),p("/dashboard")}catch(A){u(A.message)}finally{m(!1)}},E=A=>A.key==="Enter"&&_();return e.jsxs(xe,{minH:"100vh",bg:"white",overflowX:"hidden",children:[e.jsx(xe,{as:"header",w:"100%",bg:"gray.50",borderBottom:"1px solid",borderColor:"gray.200",children:e.jsx(xe,{maxW:"2000px",mx:"auto",children:e.jsx(As,{src:uJ,alt:"Bannire Intranet",w:"100%",h:{base:"100px",md:"200px",lg:"300px"},objectFit:"cover",fallbackSrc:"https://via.placeholder.com/2000x600?text=Intranet+Banner"})})}),e.jsx(xe,{as:"main",px:4,pb:12,children:e.jsx(xe,{maxW:"xs",w:"full",mx:"auto",mt:{base:-12,md:-20},position:"relative",children:e.jsxs(oe,{spacing:3,bg:"white",p:6,borderRadius:"md",shadow:"xl",border:"1px solid",borderColor:S,borderTop:"4px solid",borderTopColor:"rbe.500",children:[e.jsx(D,{fontSize:"xl",fontWeight:"bold",textAlign:"center",children:"Connexion Intranet"}),e.jsx(D,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"Accs rserv aux membres et bnvoles"}),l&&e.jsx(D,{color:"red.500",textAlign:"center",children:l}),e.jsx(je,{size:"sm",placeholder:"Identifiant",value:t,onChange:A=>n(A.target.value),onKeyDown:E,_focus:{borderColor:j,boxShadow:`0 0 0 1px ${j}`}}),e.jsx(je,{size:"sm",placeholder:"Mot de passe",type:"password",value:r,onChange:A=>s(A.target.value),onKeyDown:E,_focus:{borderColor:j,boxShadow:`0 0 0 1px ${j}`}}),e.jsx(ne,{size:"sm",colorScheme:"rbe",w:"full",onClick:_,isLoading:d,loadingText:"Connexion...",children:"Se connecter"})]})})})]})}function hJ(){const[t,n]=b.useState([]),[r,s]=b.useState(!1),[l,u]=b.useState(!1),[d,m]=b.useState(""),[p,g]=b.useState("CONFIRMED"),[x,j]=b.useState(!1),[S,_]=b.useState({total:0,confirmed:0,pending:0}),[E,A]=b.useState(null),[T,z]=b.useState("ALL"),M=Mn(),{token:k,isAuthenticated:O}=Ni(),I=Ro(),{isOpen:$,onOpen:G,onClose:ee}=It(),ue=b.useCallback(async(Z={manual:!1})=>{if(!k){console.log("[Newsletter] Waiting for token...");return}s(!0),j(!1);try{console.log("[Newsletter] Fetching subscribers...");const W=await wg.getAll();console.log("[Newsletter] Received:",W),n(Array.isArray(W)?W:[]);const H=W.length,Se=W.filter(ie=>ie.status==="CONFIRMED").length,B=W.filter(ie=>ie.status==="PENDING").length;_({total:H,confirmed:Se,pending:B})}catch(W){if(console.error("[Newsletter] fetch error:",W),W.status===401){M({status:"error",title:"Session expire",description:"Veuillez vous reconnecter"}),n([]);return}j(!0),Z.manual||M({status:"warning",title:"Mode dgrad",description:"Affichage de donnes de dmonstration (chec API)"}),n([{id:"demo1",email:"demo@example.com",status:"CONFIRMED",createdAt:new Date().toISOString()},{id:"demo2",email:"test@rbe.fr",status:"PENDING",createdAt:new Date().toISOString()}]),_({total:2,confirmed:1,pending:1})}finally{s(!1)}},[k,M]);b.useEffect(()=>{k&&ue()},[k,ue]);const fe=async()=>{if(!d.includes("@")){M({status:"error",title:"Email invalide"});return}if(!k){M({status:"error",title:"Authentification requise"});return}u(!0);try{await wg.create({email:d.trim().toLowerCase(),status:p}),M({status:"success",title:"Abonn ajout avec succs"}),m(""),g("CONFIRMED"),ue({manual:!0})}catch(Z){if(Z.status===401){M({status:"error",title:"Session expire"});return}if(Z.status===409){M({status:"info",title:"Email dj existant",description:"Cet email est dj dans la liste"});return}M({status:"error",title:"Erreur lors de l'ajout"})}finally{u(!1)}},X=async(Z,W)=>{if(confirm(`Supprimer l'abonn ${W} ?`)){if(!k){M({status:"error",title:"Authentification requise"});return}try{await wg.delete(Z),M({status:"success",title:"Abonn supprim"}),n(H=>H.filter(Se=>Se.id!==Z)),_(H=>({...H,total:H.total-1,confirmed:H.confirmed-(t.find(Se=>Se.id===Z)?.status==="CONFIRMED"?1:0),pending:H.pending-(t.find(Se=>Se.id===Z)?.status==="PENDING"?1:0)}))}catch(H){if(H.status===401){M({status:"error",title:"Session expire"});return}M({status:"error",title:"Erreur lors de la suppression"})}}},me=Z=>{A(Z),G()},Ee=async Z=>{if(E)try{await wg.updateStatus(E.id,Z),M({status:"success",title:"Statut mis  jour",description:`${E.email}  ${Z}`}),n(W=>W.map(H=>H.id===E.id?{...H,status:Z}:H)),ee(),ue({manual:!0})}catch{M({status:"error",title:"Erreur lors de la mise  jour"})}},pe=async()=>{try{M({status:"info",title:"Export en cours...",description:"Gnration du fichier CSV"});const Z=t.map(B=>({Email:B.email,Statut:B.status,"Date inscription":new Date(B.createdAt).toLocaleDateString("fr-FR")})),W=[Object.keys(Z[0]).join(";"),...Z.map(B=>Object.values(B).join(";"))].join(`
`),H=new Blob([W],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a");Se.href=URL.createObjectURL(H),Se.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,Se.click(),M({status:"success",title:"Export termin"})}catch{M({status:"error",title:"Erreur lors de l'export"})}},K=T==="ALL"?t:t.filter(Z=>Z.status===T);return O?e.jsx(xe,{p:6,children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"lg",children:" Gestion Newsletter"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Grez les abonnements  la newsletter RtroBus Essonne"})]}),e.jsxs(le,{children:[e.jsx(ne,{leftIcon:e.jsx(Wa,{}),size:"sm",variant:"outline",onClick:()=>ue({manual:!0}),isLoading:r,children:"Rafrachir"}),e.jsx(ne,{leftIcon:e.jsx(_l,{}),size:"sm",colorScheme:"green",variant:"outline",onClick:pe,isDisabled:t.length===0,children:"Exporter CSV"}),e.jsx(ne,{leftIcon:e.jsx(jc,{}),size:"sm",colorScheme:"blue",onClick:()=>I("/dashboard/newsletter-campaigns"),title:"Grer les campagnes de mailing",children:"Campagnes"})]})]}),e.jsxs(o1,{children:[e.jsxs(Ct,{children:[e.jsx(Et,{children:"Total abonns"}),e.jsx(At,{color:"blue.500",children:S.total})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Confirms"}),e.jsx(At,{color:"green.500",children:S.confirmed})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"En attente"}),e.jsx(At,{color:"orange.500",children:S.pending})]})]}),x&&e.jsxs(tn,{status:"warning",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"bold",children:"Mode dgrad"}),e.jsx(D,{fontSize:"sm",children:"Donnes de dmonstration affiches (API indisponible)"})]})]}),e.jsx(xe,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"gray.50",children:e.jsxs(oe,{spacing:4,children:[e.jsx(De,{size:"sm",children:" Ajouter un nouvel abonn"}),e.jsxs(le,{w:"100%",spacing:4,children:[e.jsxs(J,{flex:2,children:[e.jsx(Q,{fontSize:"sm",children:"Email"}),e.jsx(je,{placeholder:"nouvel.abonne@email.com",value:d,onChange:Z=>m(Z.target.value),bg:"white"})]}),e.jsxs(J,{flex:1,children:[e.jsx(Q,{fontSize:"sm",children:"Statut"}),e.jsxs(st,{value:p,onChange:Z=>g(Z.target.value),bg:"white",children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"green",onClick:fe,isLoading:l,alignSelf:"end",children:"Ajouter"})]})]})}),e.jsxs(le,{justify:"space-between",children:[e.jsxs(le,{children:[e.jsx(D,{fontSize:"sm",fontWeight:"medium",children:"Filtrer par statut :"}),e.jsxs(st,{size:"sm",value:T,onChange:Z=>z(Z.target.value),maxW:"150px",children:[e.jsx("option",{value:"ALL",children:"Tous"}),e.jsx("option",{value:"CONFIRMED",children:"Confirms"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]}),e.jsxs(Au,{size:"lg",variant:"subtle",colorScheme:"purple",children:[e.jsxs(Tu,{children:[e.jsx(Qs,{style:{marginRight:"4px"}}),K.length," affich",K.length>1?"s":""]}),t.length>0&&e.jsx(l1,{title:"Vider la liste locale (ne supprime pas en base)",onClick:()=>{confirm("Vider la liste locale affiche ? (ne supprime pas en base)")&&(n([]),_({total:0,confirmed:0,pending:0}))}})]})]}),e.jsx(xe,{borderWidth:"1px",borderRadius:"lg",overflowX:"auto",children:r?e.jsx(jn,{py:10,children:e.jsxs(oe,{children:[e.jsx(Sn,{size:"lg",color:"blue.500"}),e.jsx(D,{color:"gray.600",children:"Chargement des abonns..."})]})}):e.jsxs(Rr,{size:"sm",children:[e.jsx(Fr,{bg:"gray.50",children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Email"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Date d'inscription"}),e.jsx(He,{children:"Actions"})]})}),e.jsxs($r,{children:[K.map(Z=>e.jsxs(Qt,{_hover:{bg:"gray.50"},children:[e.jsx(Ve,{fontWeight:"semibold",maxW:"300px",isTruncated:!0,children:Z.email}),e.jsx(Ve,{children:e.jsx(nt,{colorScheme:Z.status==="CONFIRMED"?"green":"orange",variant:"subtle",fontSize:"xs",px:2,py:1,borderRadius:"md",cursor:"pointer",onClick:()=>me(Z),_hover:{opacity:.8},title:"Cliquer pour modifier",children:Z.status==="CONFIRMED"?" Confirm":" En attente"})}),e.jsx(Ve,{fontSize:"sm",color:"gray.600",children:Z.createdAt?new Date(Z.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"-"}),e.jsx(Ve,{children:e.jsxs(le,{spacing:1,children:[e.jsx(yt,{"aria-label":"Modifier le statut",icon:e.jsx(_i,{}),size:"xs",colorScheme:"blue",variant:"ghost",onClick:()=>me(Z),title:"Modifier le statut"}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"xs",colorScheme:"red",variant:"ghost",onClick:()=>X(Z.id,Z.email),title:"Supprimer cet abonn"})]})})]},Z.id)),K.length===0&&!r&&e.jsx(Qt,{children:e.jsx(Ve,{colSpan:4,children:e.jsx(jn,{py:8,children:e.jsxs(oe,{children:[e.jsx(D,{fontSize:"lg",children:""}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:T==="ALL"?"Aucun abonn pour le moment.":`Aucun abonn avec le statut "${T}".`}),T!=="ALL"&&e.jsx(ne,{size:"sm",variant:"link",onClick:()=>z("ALL"),children:"Voir tous les abonns"})]})})})})]})]})}),e.jsx(xe,{mt:8,p:4,bg:"blue.50",borderRadius:"lg",children:e.jsxs(oe,{align:"start",spacing:3,children:[e.jsx(De,{size:"sm",color:"blue.700",children:" Feuille de route"}),e.jsxs(oe,{align:"start",spacing:1,fontSize:"sm",color:"blue.600",children:[e.jsx(D,{children:" Ajout / suppression manuelle d'abonns"}),e.jsx(D,{children:" Gestion des statuts (confirm / en attente)"}),e.jsx(D,{children:" Export CSV des abonns"}),e.jsx(D,{children:" Statistiques en temps rel"}),e.jsx(D,{children:" Import CSV en masse"}),e.jsx(D,{children:" Double opt-in avec email de confirmation"}),e.jsx(D,{children:" Intgration service de mailing (Sendinblue, Mailjet...)"}),e.jsx(D,{children:" Templates d'emails personnalisables"}),e.jsx(D,{children:" Segmentation avance des abonns"})]})]})}),e.jsxs(kt,{isOpen:$,onClose:ee,isCentered:!0,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Modifier le statut de l'abonn"}),e.jsx($t,{}),e.jsx(Pt,{children:E&&e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Email :"})," ",E.email]}),e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[e.jsx("strong",{children:"Statut actuel :"})," ",E.status]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Nouveau statut"}),e.jsxs(st,{defaultValue:E.status,onChange:Z=>A({...E,newStatus:Z.target.value}),children:[e.jsx("option",{value:"CONFIRMED",children:"Confirm"}),e.jsx("option",{value:"PENDING",children:"En attente"})]})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:ee,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:()=>Ee(E?.newStatus||E?.status),children:"Mettre  jour"})]})]})]})]})}):e.jsx(jn,{minH:"300px",children:e.jsxs(oe,{children:[e.jsx(D,{children:"Veuillez vous connecter pour accder  la gestion newsletter."}),e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Cette section ncessite des droits d'administration."})]})})}const uc="https://attractive-kindness-rbe-serveurs.up.railway.app";function fJ(){const[t,n]=b.useState([]),[r,s]=b.useState(!1),[l,u]=b.useState(null),[d,m]=b.useState(null),[p,g]=b.useState({title:"",subject:"",content:"",scheduledAt:""}),[x,j]=b.useState(""),[S,_]=b.useState(null),[E,A]=b.useState(null),[T,z]=b.useState({}),{token:M}=Ni(),k=Mn(),{isOpen:O,onOpen:I,onClose:$}=It(),{isOpen:G,onOpen:ee,onClose:ue}=It(),{isOpen:fe,onOpen:X,onClose:me}=It(),Ee=async()=>{s(!0);try{const he=await fetch(`${uc}/newsletter/campaigns`,{headers:{Authorization:`Bearer ${M}`}});if(!he.ok)throw new Error("Erreur chargement");const F=await he.json();n(F)}catch{k({status:"error",title:"Erreur",description:"Impossible de charger les campagnes"})}finally{s(!1)}};b.useEffect(()=>{M&&Ee()},[M]);const pe=async()=>{if(!p.title||!p.subject||!p.content){k({status:"error",title:"Erreur",description:"Tous les champs sont requis"});return}try{if(!(await fetch(`${uc}/newsletter/campaigns`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(p)})).ok)throw new Error("Erreur cration");k({status:"success",title:"Succs",description:"Campagne cre avec succs"}),g({title:"",subject:"",content:"",scheduledAt:""}),$(),Ee()}catch{k({status:"error",title:"Erreur",description:"Impossible de crer la campagne"})}},K=async he=>{try{const F=await fetch(`${uc}/newsletter/campaigns/${he}/preview`,{headers:{Authorization:`Bearer ${M}`}});if(!F.ok)throw new Error("Erreur prvisualisation");const P=await F.json();m(he),_(P),ee()}catch{k({status:"error",title:"Erreur",description:"Impossible de prvisualiser"})}},Z=async he=>{if(!x){k({status:"error",title:"Erreur",description:"Email de test requis"});return}try{if(!(await fetch(`${uc}/newsletter/campaigns/${he}/test`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:x})})).ok)throw new Error("Erreur envoi test");k({status:"success",title:"Test envoy",description:`Email de test envoy  ${x}`}),j("")}catch{k({status:"error",title:"Erreur",description:"Impossible d'envoyer le test"})}},W=async he=>{if(confirm("tes-vous sr de vouloir envoyer cette campagne ? Cette action est irrversible.")){A(he);try{const F=await fetch(`${uc}/newsletter/campaigns/${he}/prepare`,{method:"POST",headers:{Authorization:`Bearer ${M}`}});if(!F.ok)throw new Error("Erreur prparation");const P=await F.json();k({status:"info",title:"Prparation termine",description:`${P.preparedSends} emails prpars. Envoi en cours...`});const N=await fetch(`${uc}/newsletter/campaigns/${he}/send`,{method:"POST",headers:{Authorization:`Bearer ${M}`}});if(!N.ok)throw new Error("Erreur envoi");const re=await N.json();k({status:"success",title:"Envoi termin",description:`${re.success} emails envoys avec succs, ${re.errors} erreurs`}),Ee()}catch{k({status:"error",title:"Erreur",description:"Impossible d'envoyer la campagne"})}finally{A(null)}}},H=async he=>{u(he);try{const F=await fetch(`${uc}/newsletter/campaigns/${he.id}/stats`,{headers:{Authorization:`Bearer ${M}`}});if(!F.ok)throw new Error("Erreur stats");const P=await F.json();z(P),X()}catch{k({status:"error",title:"Erreur",description:"Impossible de charger les statistiques"})}},Se=async(he,F)=>{if(confirm(`Supprimer dfinitivement la campagne "${F}" ?`))try{if(!(await fetch(`${uc}/newsletter/campaigns/${he}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`}})).ok)throw new Error("Erreur suppression");k({status:"success",title:"Supprim",description:"Campagne supprime avec succs"}),Ee()}catch{k({status:"error",title:"Erreur",description:"Impossible de supprimer la campagne"})}},B=he=>{const F={DRAFT:{color:"gray",text:"Brouillon"},SENDING:{color:"blue",text:"En cours"},SENT:{color:"green",text:"Envoy"},CANCELLED:{color:"red",text:"Annul"}},P=F[he]||F.DRAFT;return e.jsx(nt,{colorScheme:P.color,children:P.text})},ie={event:{title:"Nouvel vnement",subject:" Nouveau vnement RtroBus Essonne !",content:`
        <h2> Nouvel vnement  ne pas manquer !</h2>
        <p>Chers passionns de vhicules d'poque,</p>
        <p>Nous avons le plaisir de vous annoncer un nouvel vnement organis par l'association RtroBus Essonne :</p>
        
        <h3> [Nom de l'vnement]</h3>
        <p><strong>Date :</strong> [Date]<br>
        <strong>Lieu :</strong> [Lieu]<br>
        <strong>Heure :</strong> [Heure]</p>
        
        <p>[Description de l'vnement]</p>
        
        <a href="#" class="button">S'inscrire  l'vnement</a>
        
        <p>Au plaisir de vous retrouver nombreux !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `},news:{title:"Actualits du parc",subject:" Actualits RtroBus Essonne",content:`
        <h2> Les dernires nouvelles de notre parc</h2>
        <p>Bonjour  tous,</p>
        <p>Voici les dernires actualits de l'association RtroBus Essonne :</p>
        
        <h3> Nouveau vhicule au parc</h3>
        <p>[Informations sur le nouveau vhicule]</p>
        
        <h3> Travaux de restauration</h3>
        <p>[Avancement des travaux]</p>
        
        <h3> Retour en images</h3>
        <p>[Galerie photos rcente]</p>
        
        <a href="#" class="button">Voir toutes les actualits</a>
        
        <p>Merci pour votre soutien !</p>
        <p><strong>L'quipe RtroBus Essonne</strong></p>
      `}};return e.jsxs(xe,{p:6,children:[e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"lg",children:" Campagnes Newsletter"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Crez et grez vos campagnes d'emailing"})]}),e.jsxs(le,{children:[e.jsx(ne,{leftIcon:e.jsx(Wa,{}),onClick:Ee,isLoading:r,variant:"outline",size:"sm",children:"Actualiser"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:I,children:"Nouvelle campagne"})]})]}),e.jsx(xe,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:r?e.jsx(jn,{py:10,children:e.jsx(Sn,{size:"lg"})}):t.length===0?e.jsx(jn,{py:10,children:e.jsxs(oe,{children:[e.jsx(D,{fontSize:"lg",children:""}),e.jsx(D,{color:"gray.500",children:"Aucune campagne cre"}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",size:"sm",onClick:I,children:"Crer votre premire campagne"})]})}):e.jsxs(Rr,{children:[e.jsx(Fr,{bg:"gray.50",children:e.jsxs(Qt,{children:[e.jsx(He,{children:"Campagne"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Cre le"}),e.jsx(He,{children:"Abonns"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:t.map(he=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"semibold",children:he.title}),e.jsx(D,{fontSize:"sm",color:"gray.600",isTruncated:!0,maxW:"300px",children:he.subject})]})}),e.jsx(Ve,{children:B(he.status)}),e.jsx(Ve,{children:e.jsx(D,{fontSize:"sm",children:new Date(he.createdAt).toLocaleDateString("fr-FR")})}),e.jsx(Ve,{children:e.jsx(D,{fontSize:"sm",children:he.totalSent||he._count?.sends||0})}),e.jsx(Ve,{children:e.jsxs(le,{spacing:1,children:[e.jsx(yt,{"aria-label":"Prvisualiser",icon:e.jsx(bp,{}),size:"sm",variant:"ghost",onClick:()=>K(he.id)}),he.status==="DRAFT"&&e.jsxs(e.Fragment,{children:[e.jsx(yt,{"aria-label":"Envoyer",icon:e.jsx(RK,{}),size:"sm",colorScheme:"green",variant:"ghost",onClick:()=>W(he.id),isLoading:E===he.id}),e.jsx(yt,{"aria-label":"Supprimer",icon:e.jsx(dr,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>Se(he.id,he.title)})]}),he.status==="SENT"&&e.jsx(yt,{"aria-label":"Statistiques",icon:e.jsx(vK,{}),size:"sm",colorScheme:"purple",variant:"ghost",onClick:()=>H(he)})]})})]},he.id))})]})})]}),e.jsxs(kt,{isOpen:O,onClose:$,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Mt,{children:" Nouvelle campagne newsletter"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Titre de la campagne"}),e.jsx(je,{placeholder:"ex: Newsletter mensuelle octobre 2025",value:p.title,onChange:he=>g(F=>({...F,title:he.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Sujet de l'email"}),e.jsx(je,{placeholder:"ex:  Actualits RtroBus Essonne - Octobre 2025",value:p.subject,onChange:he=>g(F=>({...F,subject:he.target.value}))})]}),e.jsx(PP,{allowToggle:!0,w:"100%",children:e.jsxs(zP,{children:[e.jsxs(MP,{children:[e.jsx(xe,{flex:"1",textAlign:"left",children:" Utiliser un template prdfini"}),e.jsx(RP,{})]}),e.jsx(DP,{children:e.jsx(oe,{spacing:2,children:Object.entries(ie).map(([he,F])=>e.jsx(ne,{size:"sm",variant:"outline",w:"100%",onClick:()=>g(P=>({...P,title:F.title,subject:F.subject,content:F.content})),children:F.title},he))})})]})}),e.jsxs(J,{children:[e.jsx(Q,{children:"Contenu de la newsletter (HTML)"}),e.jsx(sn,{value:p.content,onChange:he=>g(F=>({...F,content:he.target.value})),minH:"400px",fontFamily:"mono",fontSize:"sm",placeholder:"Entrez votre contenu HTML..."})]}),e.jsxs(tn,{status:"info",fontSize:"sm",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"semibold",children:" Conseils"}),e.jsx(D,{children:" Utilisez des titres avec <h2> et <h3>"}),e.jsx(D,{children:' Ajoutez des liens avec <a href="#" class="button">Texte</a>'}),e.jsx(D,{children:" Sparez les sections avec des paragraphes <p>"})]})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:$,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:pe,children:"Crer la campagne"})]})]})]}),e.jsxs(kt,{isOpen:G,onClose:ue,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",children:[e.jsx(Mt,{children:" Prvisualisation de la campagne"}),e.jsx($t,{}),e.jsx(Pt,{children:S&&e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Sujet"}),e.jsx(ux,{p:2,w:"100%",children:S.subject})]}),e.jsx(Ln,{}),e.jsxs(oe,{spacing:2,children:[e.jsx(D,{fontWeight:"semibold",children:"Aperu de l'email :"}),e.jsx(xe,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",h:"400px",w:"100%",overflow:"auto",children:e.jsx("iframe",{srcDoc:S.html,style:{width:"100%",height:"100%",border:"none"},title:"Prvisualisation email"})})]}),e.jsx(Ln,{}),e.jsxs(J,{children:[e.jsx(Q,{children:"Envoyer un test  :"}),e.jsxs(le,{children:[e.jsx(je,{placeholder:"votre-email@test.com",value:x,onChange:he=>j(he.target.value)}),e.jsx(ne,{leftIcon:e.jsx(jc,{}),colorScheme:"orange",onClick:()=>Z(d),isDisabled:!x||!d,children:"Envoyer le test"})]})]})]})}),e.jsx(Gt,{children:e.jsx(ne,{onClick:ue,children:"Fermer"})})]})]}),e.jsxs(kt,{isOpen:fe,onClose:me,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Statistiques de la campagne"}),e.jsx($t,{}),e.jsx(Pt,{children:l&&e.jsxs(oe,{spacing:6,children:[e.jsxs(oe,{align:"start",w:"100%",children:[e.jsx(D,{fontWeight:"semibold",children:l.title}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:l.subject}),e.jsxs(D,{fontSize:"sm",color:"gray.500",children:["Envoye le ",new Date(l.sentAt).toLocaleDateString("fr-FR")]})]}),e.jsxs(o1,{w:"100%",children:[e.jsxs(Ct,{children:[e.jsx(Et,{children:"Envoys"}),e.jsx(At,{color:"blue.500",children:T.sent||0})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"checs"}),e.jsx(At,{color:"red.500",children:T.failed||0})]}),e.jsxs(Ct,{children:[e.jsx(Et,{children:"Ouvertures"}),e.jsx(At,{color:"green.500",children:T.opened||0})]})]}),T.sent>0&&e.jsxs(xe,{w:"100%",children:[e.jsx(D,{fontSize:"sm",mb:2,children:"Taux de russite"}),e.jsx(pc,{value:T.sent/(T.sent+T.failed)*100,colorScheme:"green",size:"lg"}),e.jsxs(D,{fontSize:"xs",color:"gray.500",mt:1,children:[Math.round(T.sent/(T.sent+T.failed)*100),"% des emails ont t envoys avec succs"]})]})]})}),e.jsx(Gt,{children:e.jsx(ne,{onClick:me,children:"Fermer"})})]})]})]})}const pJ=({label:t,value:n,change:r,icon:s,color:l="brand",loading:u=!1})=>{const d=gr("white","gray.800"),m=gr(`${l}.600`,`${l}.400`);return e.jsx(Ie,{variant:"modern",bg:d,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsxs(le,{justify:"space-between",align:"start",mb:2,children:[e.jsx(Et,{color:"gray.600",fontSize:"sm",fontWeight:"500",children:t}),s&&e.jsx(Kn,{as:s,color:m,boxSize:5})]}),e.jsx(At,{color:m,fontSize:"2xl",fontWeight:"700",children:u?e.jsx(Sn,{size:"sm"}):n}),r&&!u&&e.jsxs(Xs,{mb:0,children:[e.jsx(Ld,{type:r.type}),r.value]})]})})})},mJ=({stats:t,loading:n=!1})=>e.jsx(ht,{columns:{base:1,md:2,lg:4},spacing:6,mb:8,children:t.map((r,s)=>e.jsx(pJ,{...r,loading:n},s))}),wd={STANDARD:{label:"Standard",price:60,description:"Adhsion individuelle classique",color:"blue"},FAMILY:{label:"Famille",price:100,description:"2 adultes + enfants mineurs",color:"green"},STUDENT:{label:"tudiant",price:35,description:"Tarif rduit sur justificatif",color:"purple"},HONORARY:{label:"Honneur",price:0,description:"Membre d'honneur",color:"gold"},LIFETIME:{label:" vie",price:0,description:"Adhsion permanente",color:"red"}},_g={PENDING:{label:"En attente",color:"yellow",icon:h1,description:"Dossier en cours de traitement"},ACTIVE:{label:"Actif",color:"green",icon:c1,description:"Adhsion  jour"},EXPIRED:{label:"Expir",color:"red",icon:IK,description:"Adhsion expire"},SUSPENDED:{label:"Suspendu",color:"orange",icon:zR,description:"Adhsion suspendue"},CANCELLED:{label:"Annul",color:"gray",icon:yx,description:"Adhsion annule"}},Cg={MEMBER:{label:"Adhrent",icon:Qs,color:"blue",description:"Membre standard de l'association",permissions:["participate_events","access_newsletter"]},DRIVER:{label:"Conducteur",icon:xc,color:"green",description:"Autoris  conduire les vhicules",permissions:["drive_vehicles","access_myrbe"]},ADMIN:{label:"Administrateur",icon:BR,color:"red",description:"Accs complet aux fonctions d'administration",permissions:["admin_full_access"]},BUREAU:{label:"Bureau",icon:xK,color:"purple",description:"Membre du bureau de l'association",permissions:["bureau_access","admin_events","admin_members"]}},gJ={CASH:{label:"Espces",icon:Pu,color:"green"},CHECK:{label:"Chque",icon:aj,color:"blue"},TRANSFER:{label:"Virement",icon:So,color:"purple"},HELLOASSO:{label:"HelloAsso",icon:OR,color:"orange"},CARD:{label:"Carte bancaire",icon:aj,color:"teal"}},Qy={IDENTITY_CARD:{label:"Pice d'identit",icon:$R,color:"green",required:!0,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},DRIVING_LICENSE:{label:"Permis de conduire",icon:xc,color:"blue",required:!1,maxSizeMB:5,allowedTypes:["image/jpeg","image/png","application/pdf"]},INSURANCE_RECORD:{label:"Relev d'assurance",icon:BR,color:"orange",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEMBERSHIP_FORM:{label:"Bulletin d'adhsion",icon:lj,color:"purple",required:!0,maxSizeMB:3,allowedTypes:["application/pdf"]},MEDICAL_CERTIFICATE:{label:"Certificat mdical",icon:c1,color:"teal",required:!1,maxSizeMB:3,allowedTypes:["application/pdf"]}};function xJ(){const[t,n]=b.useState([]),[r,s]=b.useState([]),[l,u]=b.useState(null),[d,m]=b.useState(!0),[p,g]=b.useState(!1),[x,j]=b.useState("table"),[S,_]=b.useState([]),[E,A]=b.useState({search:"",status:"ALL",role:"ALL",membershipType:"ALL",hasMyRBEAccess:"ALL",expiringOnly:!1}),{isOpen:T,onOpen:z,onClose:M}=It(),{isOpen:k,onOpen:O,onClose:I}=It(),{isOpen:$,onOpen:G,onClose:ee}=It(),{isOpen:ue,onOpen:fe,onClose:X}=It(),[me,Ee]=b.useState(null),[pe,K]=b.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:"",paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),[Z,W]=b.useState([]),[H,Se]=b.useState({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B=b.useRef(null),ie=Mn();gr("white","gray.800");const he=()=>{const ae=new Date().getFullYear(),ge=Math.floor(Math.random()*900)+100;return`${ae}-${ge}`},F=()=>{const ae="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ge="";for(let Je=0;Je<8;Je++)ge+=ae.charAt(Math.floor(Math.random()*ae.length));return ge},P=(ae,ge)=>{const Je=new Date(ae),bt=new Date(Je);return bt.setFullYear(Je.getFullYear()+1,11,31),bt.toISOString().split("T")[0]},N=(ae,ge=60)=>{if(!ae)return!1;const Je=new Date(ae),bt=new Date(Date.now()+ge*24*60*60*1e3);return Je<=bt},re=b.useCallback(async()=>{try{if(m(!0),console.log(" Chargement des membres..."),!await fl.testConnectivity()){console.warn(" API non accessible, mode dgrad activ"),ie({status:"warning",title:"Mode dgrad",description:"L'API n'est pas accessible. Certaines fonctionnalits peuvent tre limites.",duration:5e3,isClosable:!0}),n([]);return}const ge=await fl.getAll();console.log(" Rponse API membres:",ge);let Je=[];ge?.members?Je=Array.isArray(ge.members)?ge.members:[ge.members]:ge?.data?Je=Array.isArray(ge.data)?ge.data:[ge.data]:Array.isArray(ge)?Je=ge:(console.warn(" Structure de rponse inattendue:",ge),Je=[]),n(Je),console.log(` ${Je.length} membres chargs avec succs`),Je.length===0&&ie({status:"info",title:"Aucun membre",description:"Aucun membre trouv dans la base de donnes",duration:3e3,isClosable:!0})}catch(ae){console.error(" Erreur chargement membres:",ae);let ge="Impossible de charger les membres",Je="error";ae.message.includes("404")?ge="Endpoint membres non trouv. Vrifiez la configuration de l'API.":ae.message.includes("401")?(ge="Session expire. Veuillez vous reconnecter.",setTimeout(()=>{window.location.href="/login"},2e3)):ae.message.includes("500")?ge="Erreur serveur. Contactez l'administrateur.":ae.message.includes("Network")&&(ge="Problme de rseau. Vrifiez votre connexion.",Je="warning"),ie({status:Je,title:"Erreur de chargement",description:ge,duration:8e3,isClosable:!0}),n([])}finally{m(!1)}},[ie]),Le=b.useCallback(async()=>{try{if(t.length===0)return;const ae=new Date,ge=new Date(ae.getTime()-720*60*60*1e3),Je={totalMembers:t.length,activeMembers:t.filter(bt=>bt.membershipStatus==="ACTIVE").length,expiredMembers:t.filter(bt=>bt.membershipStatus==="EXPIRED").length,pendingMembers:t.filter(bt=>bt.membershipStatus==="PENDING").length,driversCount:t.filter(bt=>bt.role==="DRIVER"||bt.driverLicense).length,myRBEEnabled:t.filter(bt=>bt.loginEnabled).length,recentJoins:t.filter(bt=>new Date(bt.joinDate||bt.createdAt)>ge).length,expiringSoon:t.filter(bt=>N(bt.renewalDate)).length,totalRevenue:t.filter(bt=>bt.membershipStatus==="ACTIVE"&&bt.paymentAmount).reduce((bt,An)=>bt+(parseFloat(An.paymentAmount)||0),0)};u(Je)}catch(ae){console.error(" Erreur calcul statistiques:",ae)}},[t]),Oe=b.useCallback(()=>{let ae=[...t];if(E.search){const ge=E.search.toLowerCase();ae=ae.filter(Je=>`${Je.firstName} ${Je.lastName}`.toLowerCase().includes(ge)||Je.email?.toLowerCase().includes(ge)||Je.matricule?.toLowerCase().includes(ge)||Je.phone?.includes(ge))}if(E.status!=="ALL"&&(ae=ae.filter(ge=>ge.membershipStatus===E.status)),E.role!=="ALL"&&(ae=ae.filter(ge=>ge.role===E.role)),E.membershipType!=="ALL"&&(ae=ae.filter(ge=>ge.membershipType===E.membershipType)),E.hasMyRBEAccess!=="ALL"){const ge=E.hasMyRBEAccess==="true";ae=ae.filter(Je=>!!Je.loginEnabled===ge)}E.expiringOnly&&(ae=ae.filter(ge=>N(ge.renewalDate))),s(ae)},[t,E]);b.useEffect(()=>{re()},[re]),b.useEffect(()=>{Le()},[Le]),b.useEffect(()=>{Oe()},[Oe]);const Pe=()=>{K({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"PENDING",joinDate:new Date().toISOString().split("T")[0],renewalDate:"",paymentAmount:wd.STANDARD.price.toString(),paymentMethod:"HELLOASSO",role:"MEMBER",hasExternalAccess:!1,hasInternalAccess:!1,newsletter:!0,matricule:"",loginEnabled:!1,temporaryPassword:"",mustChangePassword:!1,driverLicense:"",licenseExpiryDate:"",medicalCertificateDate:"",emergencyContact:"",emergencyPhone:"",driverCertifications:[],vehicleAuthorizations:[],maxPassengers:"",driverNotes:"",notes:""}),Ee(null)},it=()=>{Pe(),z()},ot=ae=>{K({...ae,joinDate:ae.joinDate?ae.joinDate.split("T")[0]:"",renewalDate:ae.renewalDate?ae.renewalDate.split("T")[0]:"",birthDate:ae.birthDate?ae.birthDate.split("T")[0]:"",licenseExpiryDate:ae.licenseExpiryDate?ae.licenseExpiryDate.split("T")[0]:"",medicalCertificateDate:ae.medicalCertificateDate?ae.medicalCertificateDate.split("T")[0]:"",paymentAmount:ae.paymentAmount?.toString()||"",maxPassengers:ae.maxPassengers?.toString()||"",driverCertifications:ae.driverCertifications||[],vehicleAuthorizations:ae.vehicleAuthorizations||[]}),Ee(ae),O()},Qe=async()=>{try{if(g(!0),!pe.firstName?.trim()||!pe.lastName?.trim()||!pe.email?.trim()){ie({status:"error",title:"Champs requis",description:"Nom, prnom et email sont obligatoires",duration:5e3,isClosable:!0});return}pe.joinDate&&!pe.renewalDate&&(pe.renewalDate=P(pe.joinDate,pe.membershipType)),pe.loginEnabled&&!pe.matricule&&(pe.matricule=he()),pe.loginEnabled&&!pe.temporaryPassword&&(pe.temporaryPassword=F(),pe.mustChangePassword=!0);const ae={...pe,paymentAmount:pe.paymentAmount?parseFloat(pe.paymentAmount):null,maxPassengers:pe.maxPassengers?parseInt(pe.maxPassengers):null};me?(await fl.update(me.id,ae),ie({status:"success",title:"Membre mis  jour",description:`${pe.firstName} ${pe.lastName} a t modifi avec succs`,duration:5e3,isClosable:!0})):(await fl.create(ae),ie({status:"success",title:"Membre cr",description:`${pe.firstName} ${pe.lastName} a t ajout avec succs`,duration:5e3,isClosable:!0})),M(),I(),Pe(),re()}catch(ae){console.error(" Erreur sauvegarde:",ae),ie({status:"error",title:"Erreur de sauvegarde",description:ae.message||"Impossible de sauvegarder le membre",duration:5e3,isClosable:!0})}finally{g(!1)}},wt=()=>l?[{label:"Total adhrents",value:l.totalMembers,icon:Qs,color:"brand",change:l.recentJoins>0?{type:"increase",value:`+${l.recentJoins} ce mois`}:void 0},{label:"Membres actifs",value:l.activeMembers,icon:c1,color:"success",change:{type:"increase",value:`${Math.round(l.activeMembers/l.totalMembers*100)}% du total`}},{label:"Conducteurs habilits",value:l.driversCount,icon:xc,color:"blue"},{label:"Accs MyRBE",value:l.myRBEEnabled,icon:vu,color:"purple"},{label:"Expirant bientt",value:l.expiringSoon,icon:zR,color:"warning"},{label:"Revenus adhsions",value:`${l.totalRevenue||0}`,icon:Pu,color:"green",change:{type:"increase",value:"Cotisations encaisses"}}]:[],$e=ae=>{const ge=_g[ae]||_g.PENDING;return e.jsx(qi,{label:ge.description,children:e.jsx(nt,{colorScheme:ge.color,variant:"subtle",children:e.jsxs(le,{spacing:1,children:[e.jsx(Icon,{as:ge.icon,size:"12px"}),e.jsx(D,{children:ge.label})]})})})},Bt=ae=>{const ge=Cg[ae]||Cg.MEMBER;return e.jsx(qi,{label:ge.description,children:e.jsx(nt,{colorScheme:ge.color,variant:"outline",children:e.jsxs(le,{spacing:1,children:[e.jsx(Icon,{as:ge.icon,size:"12px"}),e.jsx(D,{children:ge.label})]})})})},ye=ae=>{const ge=wd[ae]||wd.STANDARD;return e.jsx(nt,{colorScheme:ge.color,variant:"subtle",children:ge.label})},Ze=ae=>{console.log(`Action en masse: ${ae} sur ${S.length} membres`)},Tt=()=>{console.log("Export des donnes membres")};return d?e.jsx(sh,{title:" Gestion des Adhsions",subtitle:"Chargement des donnes membres...",children:e.jsxs(oe,{spacing:8,py:16,children:[e.jsx(Sn,{size:"xl",color:"brand.500",thickness:"4px"}),e.jsx(D,{color:"gray.600",children:"Synchronisation avec la base de donnes..."})]})}):e.jsxs(sh,{title:" Gestion des Adhsions",subtitle:"Administration complte des membres de l'association RtroBus Essonne",breadcrumbs:[{label:"MyRBE",href:"/dashboard/myrbe"},{label:"Gestion des Adhsions",href:"/dashboard/members-management"}],headerActions:e.jsxs(le,{spacing:3,children:[e.jsx(ne,{leftIcon:e.jsx(_l,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:Tt,children:"Exporter"}),e.jsx(ne,{leftIcon:e.jsx(jA,{}),variant:"secondary",bg:"whiteAlpha.200",color:"white",borderColor:"whiteAlpha.300",onClick:it,children:"Nouvel adhrent"})]}),children:[e.jsxs(oe,{spacing:8,align:"stretch",children:[e.jsx(mJ,{stats:wt(),loading:!l}),e.jsx(dl,{title:"Filtres et recherche",icon:wK,color:"gray",children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(ht,{columns:{base:1,md:2,lg:4},spacing:4,children:[e.jsxs(_u,{children:[e.jsx(Cu,{children:e.jsx(Jx,{color:"gray.400"})}),e.jsx(je,{placeholder:"Rechercher un membre...",value:E.search,onChange:ae=>A(ge=>({...ge,search:ae.target.value}))})]}),e.jsxs(st,{value:E.status,onChange:ae=>A(ge=>({...ge,status:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les statuts"}),Object.entries(_g).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))]}),e.jsxs(st,{value:E.role,onChange:ae=>A(ge=>({...ge,role:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les rles"}),Object.entries(Cg).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))]}),e.jsxs(st,{value:E.membershipType,onChange:ae=>A(ge=>({...ge,membershipType:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les types"}),Object.entries(wd).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))]})]}),e.jsxs(le,{spacing:4,justify:"space-between",children:[e.jsxs(le,{spacing:4,children:[e.jsx(mu,{isChecked:E.expiringOnly,onChange:ae=>A(ge=>({...ge,expiringOnly:ae.target.checked})),children:"Expirant bientt"}),e.jsxs(st,{maxW:"200px",value:E.hasMyRBEAccess,onChange:ae=>A(ge=>({...ge,hasMyRBEAccess:ae.target.value})),children:[e.jsx("option",{value:"ALL",children:"Tous les accs"}),e.jsx("option",{value:"true",children:"Avec MyRBE"}),e.jsx("option",{value:"false",children:"Sans MyRBE"})]})]}),e.jsxs(le,{spacing:2,children:[e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[r.length," membre",r.length>1?"s":""," affich",r.length>1?"s":""]}),e.jsxs($b,{size:"sm",isAttached:!0,variant:"outline",children:[e.jsx(ne,{leftIcon:e.jsx(PK,{}),onClick:()=>j("cards"),colorScheme:x==="cards"?"blue":"gray",children:"Cartes"}),e.jsx(ne,{leftIcon:e.jsx(So,{}),onClick:()=>j("table"),colorScheme:x==="table"?"blue":"gray",children:"Tableau"})]})]})]})]})}),S.length>0&&e.jsxs(tn,{status:"info",borderRadius:"lg",children:[e.jsx(nn,{}),e.jsxs(le,{justify:"space-between",w:"full",children:[e.jsxs(D,{children:[S.length," membre",S.length>1?"s":""," slectionn",S.length>1?"s":""]}),e.jsxs($b,{size:"sm",children:[e.jsx(ne,{onClick:()=>Ze("enable_myrbe"),children:"Activer MyRBE"}),e.jsx(ne,{onClick:()=>Ze("send_renewal"),children:"Envoi renouvellement"}),e.jsx(ne,{colorScheme:"red",onClick:()=>Ze("archive"),children:"Archiver"})]})]})]}),r.length===0?e.jsx(dl,{children:e.jsxs(oe,{spacing:4,py:12,children:[e.jsx(Icon,{as:Qs,size:"48px",color:"gray.300"}),e.jsxs(oe,{spacing:2,children:[e.jsx(D,{fontSize:"lg",fontWeight:"600",color:"gray.500",children:"Aucun membre trouv"}),e.jsx(D,{fontSize:"sm",color:"gray.400",children:E.search||E.status!=="ALL"?"Aucun membre ne correspond aux critres de recherche":"Commencez par crer votre premier membre"})]}),e.jsx(ne,{leftIcon:e.jsx(jA,{}),colorScheme:"blue",onClick:it,children:"Crer un membre"})]})}):x==="cards"?e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map(ae=>e.jsx(dl,{variant:"modern",color:"blue",onClick:()=>ot(ae),children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsxs(D,{fontWeight:"600",fontSize:"lg",children:[ae.firstName," ",ae.lastName]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:ae.email}),ae.matricule&&e.jsx(nt,{colorScheme:"purple",size:"sm",children:ae.matricule})]}),e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(qd,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(_i,{}),onClick:()=>ot(ae),children:"Modifier"}),e.jsx(bn,{icon:e.jsx(lj,{}),onClick:()=>{Ee(ae),fe()},children:"Documents"}),e.jsx(bn,{icon:e.jsx(vu,{}),children:"Rinitialiser mot de passe"}),e.jsx(bn,{icon:e.jsx(jc,{}),children:"Envoyer email"}),e.jsx(Ln,{}),e.jsx(bn,{icon:e.jsx(dr,{}),color:"red.500",children:"Supprimer"})]})]})]}),e.jsxs(le,{spacing:2,wrap:"wrap",children:[$e(ae.membershipStatus),Bt(ae.role),ye(ae.membershipType),ae.loginEnabled&&e.jsx(nt,{colorScheme:"green",variant:"outline",size:"sm",children:"MyRBE"})]}),e.jsxs(oe,{spacing:2,align:"stretch",fontSize:"sm",children:[ae.phone&&e.jsxs(le,{children:[e.jsx(Icon,{as:IR,color:"gray.400"}),e.jsx(D,{children:ae.phone})]}),ae.renewalDate&&e.jsxs(le,{children:[e.jsx(Icon,{as:ls,color:"gray.400"}),e.jsxs(D,{children:["Expire le ",new Date(ae.renewalDate).toLocaleDateString("fr-FR"),N(ae.renewalDate)&&e.jsx(nt,{colorScheme:"orange",size:"sm",ml:2,children:"Bientt"})]})]}),ae.paymentAmount&&e.jsxs(le,{children:[e.jsx(Icon,{as:Pu,color:"gray.400"}),e.jsxs(D,{children:[ae.paymentAmount,""]})]})]})]})},ae.id))}):e.jsx(dl,{children:e.jsx(xe,{overflowX:"auto",children:e.jsxs(Rr,{variant:"simple",size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:e.jsx(mu,{isChecked:S.length===r.length,isIndeterminate:S.length>0&&S.length<r.length,onChange:ae=>{ae.target.checked?_(r.map(ge=>ge.id)):_([])}})}),e.jsx(He,{children:"Membre"}),e.jsx(He,{children:"Contact"}),e.jsx(He,{children:"Statut"}),e.jsx(He,{children:"Rle"}),e.jsx(He,{children:"Type"}),e.jsx(He,{children:"Renouvellement"}),e.jsx(He,{children:"MyRBE"}),e.jsx(He,{children:"Actions"})]})}),e.jsx($r,{children:r.map(ae=>e.jsxs(Qt,{_hover:{bg:"gray.50"},children:[e.jsx(Ve,{children:e.jsx(mu,{isChecked:S.includes(ae.id),onChange:ge=>{ge.target.checked?_(Je=>[...Je,ae.id]):_(Je=>Je.filter(bt=>bt!==ae.id))}})}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:0,children:[e.jsxs(D,{fontWeight:"600",children:[ae.firstName," ",ae.lastName]}),ae.memberNumber&&e.jsxs(D,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:["#",ae.memberNumber]})]})}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",children:ae.email}),ae.phone&&e.jsx(D,{fontSize:"xs",color:"gray.500",children:ae.phone})]})}),e.jsx(Ve,{children:$e(ae.membershipStatus)}),e.jsx(Ve,{children:Bt(ae.role)}),e.jsx(Ve,{children:ye(ae.membershipType)}),e.jsx(Ve,{children:e.jsxs(oe,{align:"start",spacing:0,children:[e.jsx(D,{fontSize:"sm",children:ae.renewalDate?new Date(ae.renewalDate).toLocaleDateString("fr-FR"):""}),N(ae.renewalDate)&&e.jsx(nt,{colorScheme:"orange",size:"sm",children:"Expire bientt"})]})}),e.jsx(Ve,{children:e.jsx(oe,{align:"start",spacing:1,children:ae.loginEnabled?e.jsxs(e.Fragment,{children:[e.jsx(nt,{colorScheme:"green",size:"sm",children:"Activ"}),ae.matricule&&e.jsx(D,{fontSize:"xs",color:"gray.500",fontFamily:"mono",children:ae.matricule}),ae.mustChangePassword&&e.jsx(nt,{colorScheme:"orange",size:"sm",children:"Changer MDP"})]}):e.jsx(nt,{colorScheme:"gray",size:"sm",children:"Dsactiv"})})}),e.jsx(Ve,{children:e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(qd,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(_i,{}),onClick:()=>ot(ae),children:"Modifier"}),e.jsx(bn,{icon:e.jsx(lj,{}),onClick:()=>{Ee(ae),fe()},children:"Documents"}),e.jsx(bn,{icon:e.jsx(vu,{}),children:"Rinitialiser MDP"}),e.jsx(bn,{icon:e.jsx(jc,{}),children:"Envoyer email"}),e.jsx(Ln,{}),e.jsx(bn,{icon:e.jsx(dr,{}),color:"red.500",children:"Supprimer"})]})]})})]},ae.id))})]})})})]}),e.jsxs(kt,{isOpen:T||k,onClose:()=>{M(),I(),Pe()},size:"6xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{maxH:"90vh",overflowY:"auto",children:[e.jsx(Mt,{children:me?`Modifier ${me.firstName} ${me.lastName}`:"Nouveau membre"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(Oo,{variant:"enclosed",children:[e.jsxs(No,{children:[e.jsx(pn,{children:" Informations personnelles"}),e.jsx(pn,{children:" Adhsion"}),e.jsx(pn,{children:" Accs MyRBE"}),e.jsx(pn,{children:" Conduite"}),e.jsx(pn,{children:" Notes"})]}),e.jsxs(Io,{children:[e.jsx(mn,{children:e.jsxs(ht,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Prnom"}),e.jsx(je,{value:pe.firstName,onChange:ae=>K(ge=>({...ge,firstName:ae.target.value})),placeholder:"Prnom"})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:pe.lastName,onChange:ae=>K(ge=>({...ge,lastName:ae.target.value})),placeholder:"Nom"})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Email"}),e.jsx(je,{type:"email",value:pe.email,onChange:ae=>K(ge=>({...ge,email:ae.target.value})),placeholder:"email@exemple.com"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Tlphone"}),e.jsx(je,{type:"tel",value:pe.phone,onChange:ae=>K(ge=>({...ge,phone:ae.target.value})),placeholder:"06 12 34 56 78"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date de naissance"}),e.jsx(je,{type:"date",value:pe.birthDate,onChange:ae=>K(ge=>({...ge,birthDate:ae.target.value}))})]})]}),e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Adresse"}),e.jsx(sn,{value:pe.address,onChange:ae=>K(ge=>({...ge,address:ae.target.value})),placeholder:"Adresse complte",rows:3})]}),e.jsxs(le,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Ville"}),e.jsx(je,{value:pe.city,onChange:ae=>K(ge=>({...ge,city:ae.target.value})),placeholder:"Ville"})]}),e.jsxs(J,{maxW:"150px",children:[e.jsx(Q,{children:"Code postal"}),e.jsx(je,{value:pe.postalCode,onChange:ae=>K(ge=>({...ge,postalCode:ae.target.value})),placeholder:"91000"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Contact d'urgence"}),e.jsx(je,{value:pe.emergencyContact,onChange:ae=>K(ge=>({...ge,emergencyContact:ae.target.value})),placeholder:"Nom et relation"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Tlphone d'urgence"}),e.jsx(je,{type:"tel",value:pe.emergencyPhone,onChange:ae=>K(ge=>({...ge,emergencyPhone:ae.target.value})),placeholder:"06 12 34 56 78"})]})]})]})}),e.jsx(mn,{children:e.jsxs(ht,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Type d'adhsion"}),e.jsx(st,{value:pe.membershipType,onChange:ae=>{const ge=ae.target.value;K(Je=>({...Je,membershipType:ge,paymentAmount:wd[ge].price.toString()}))},children:Object.entries(wd).map(([ae,ge])=>e.jsxs("option",{value:ae,children:[ge.label," - ",ge.price," (",ge.description,")"]},ae))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Statut d'adhsion"}),e.jsx(st,{value:pe.membershipStatus,onChange:ae=>K(ge=>({...ge,membershipStatus:ae.target.value})),children:Object.entries(_g).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Rle"}),e.jsx(st,{value:pe.role,onChange:ae=>K(ge=>({...ge,role:ae.target.value})),children:Object.entries(Cg).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))})]}),e.jsxs(le,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Date d'adhsion"}),e.jsx(je,{type:"date",value:pe.joinDate,onChange:ae=>{const ge=ae.target.value;K(Je=>({...Je,joinDate:ge,renewalDate:P(ge,Je.membershipType)}))}})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Renouvellement"}),e.jsx(je,{type:"date",value:pe.renewalDate,onChange:ae=>K(ge=>({...ge,renewalDate:ae.target.value}))})]})]})]}),e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(le,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Montant pay"}),e.jsxs(_u,{children:[e.jsx(je,{type:"number",step:"0.01",value:pe.paymentAmount,onChange:ae=>K(ge=>({...ge,paymentAmount:ae.target.value})),placeholder:"60.00"}),e.jsx(Cu,{children:""})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Mthode de paiement"}),e.jsx(st,{value:pe.paymentMethod,onChange:ae=>K(ge=>({...ge,paymentMethod:ae.target.value})),children:Object.entries(gJ).map(([ae,ge])=>e.jsx("option",{value:ae,children:ge.label},ae))})]})]}),e.jsx(Ln,{}),e.jsxs(oe,{spacing:3,align:"stretch",children:[e.jsx(D,{fontWeight:"600",color:"gray.700",children:"Accs et prfrences"}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:0,flex:1,children:"Accs site externe"}),e.jsx(br,{isChecked:pe.hasExternalAccess,onChange:ae=>K(ge=>({...ge,hasExternalAccess:ae.target.checked}))})]}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:0,flex:1,children:"Accs interne"}),e.jsx(br,{isChecked:pe.hasInternalAccess,onChange:ae=>K(ge=>({...ge,hasInternalAccess:ae.target.checked}))})]}),e.jsxs(J,{display:"flex",alignItems:"center",children:[e.jsx(Q,{mb:0,flex:1,children:"Newsletter"}),e.jsx(br,{isChecked:pe.newsletter,onChange:ae=>K(ge=>({...ge,newsletter:ae.target.checked}))})]})]})]})]})}),e.jsx(mn,{children:e.jsxs(ht,{columns:{base:1,md:2},spacing:6,children:[e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Numro de permis de conduire"}),e.jsx(je,{value:pe.driverLicense,onChange:ae=>K(ge=>({...ge,driverLicense:ae.target.value})),placeholder:"AB123456"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Catgories"}),e.jsxs(st,{multiple:!0,value:pe.driverCertifications,onChange:ae=>K(ge=>({...ge,driverCertifications:Array.from(ae.target.selectedOptions,Je=>Je.value)})),children:[e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"}),e.jsx("option",{value:"E",children:"E"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date d'expiration du permis"}),e.jsx(je,{type:"date",value:pe.licenseExpiryDate,onChange:ae=>K(ge=>({...ge,licenseExpiryDate:ae.target.value}))})]})]}),e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Vhicules autoriss"}),e.jsxs(st,{multiple:!0,value:pe.vehicleAuthorizations,onChange:ae=>K(ge=>({...ge,vehicleAuthorizations:Array.from(ae.target.selectedOptions,Je=>Je.value)})),children:[e.jsx("option",{value:"VL",children:"Vhicule lger"}),e.jsx("option",{value:"PL",children:"Poids lourd"}),e.jsx("option",{value:"TC",children:"Transport en commun"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Nombre maximum de passagers"}),e.jsx(je,{type:"number",value:pe.maxPassengers,onChange:ae=>K(ge=>({...ge,maxPassengers:ae.target.value})),placeholder:"4"})]})]})]})}),e.jsx(mn,{children:e.jsxs(J,{children:[e.jsx(Q,{children:"Notes internes"}),e.jsx(sn,{value:pe.notes,onChange:ae=>K(ge=>({...ge,notes:ae.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:6})]})})]})]})}),e.jsx(Gt,{children:e.jsxs(le,{spacing:4,children:[e.jsx(ne,{colorScheme:"blue",isLoading:p,onClick:Qe,children:me?"Sauvegarder les modifications":"Crer le membre"}),e.jsx(ne,{variant:"outline",onClick:()=>{M(),I(),Pe()},children:"Annuler"})]})})]})]}),e.jsxs(kt,{isOpen:ue,onClose:()=>{X(),Ee(null)},size:"4xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsxs(Mt,{children:["Documents de ",me?.firstName," ",me?.lastName]}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"600",mb:2,children:"Documents tlchargs"}),e.jsxs(Wx,{spacing:3,children:[Z.length===0&&e.jsx(D,{color:"gray.500",fontSize:"sm",children:"Aucun document trouv pour ce membre."}),Z.map(ae=>e.jsxs(EM,{p:3,borderWidth:"1px",borderRadius:"md",display:"flex",alignItems:"center",children:[e.jsxs(le,{spacing:3,flex:1,children:[e.jsx(Icon,{as:Qy[ae.type]?.icon,boxSize:8,color:Qy[ae.type]?.color}),e.jsxs(oe,{align:"start",spacing:1,flex:1,children:[e.jsxs(D,{fontWeight:"500",children:[ae.type==="IDENTITY_CARD"&&"Pice d'identit",ae.type==="DRIVING_LICENSE"&&"Permis de conduire",ae.type==="INSURANCE_RECORD"&&"Relev d'assurance",ae.type==="MEMBERSHIP_FORM"&&"Bulletin d'adhsion",ae.type==="MEDICAL_CERTIFICATE"&&"Certificat mdical"]}),e.jsxs(le,{spacing:2,children:[e.jsxs(D,{fontSize:"sm",color:"gray.500",children:[ae.size," Mo"]}),e.jsxs(nt,{colorScheme:ae.status==="VALIDATED"?"green":"yellow",variant:"outline",fontSize:"sm",children:[ae.status==="VALIDATED"&&"Valid",ae.status==="PENDING"&&"En attente"]})]})]})]}),e.jsxs(le,{spacing:2,children:[e.jsx(ne,{size:"sm",variant:"outline",leftIcon:e.jsx(_l,{}),onClick:()=>{qy.download(ae.id).then(()=>{ie({status:"success",title:"Tlchargement lanc",description:"Le document est en cours de tlchargement",duration:5e3,isClosable:!0})}).catch(ge=>{console.error(" Erreur tlchargement document:",ge),ie({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})})},children:"Tlcharger"}),e.jsx(ne,{size:"sm",variant:"outline",colorScheme:"red",leftIcon:e.jsx(dr,{}),onClick:async()=>{if(window.confirm("tes-vous sr de vouloir supprimer ce document ?"))try{await qy.remove(ae.id),W(ge=>ge.filter(Je=>Je.id!==ae.id)),ie({status:"success",title:"Document supprim",description:"Le document a t supprim avec succs",duration:5e3,isClosable:!0})}catch(ge){console.error(" Erreur suppression document:",ge),ie({status:"error",title:"Erreur de suppression",description:"Impossible de supprimer le document",duration:5e3,isClosable:!0})}},children:"Supprimer"})]})]},ae.id))]})]}),e.jsx(Ln,{}),e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsx(D,{fontWeight:"600",children:"Tlcharger un nouveau document"}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type de document"}),e.jsx(st,{value:H.type,onChange:ae=>Se(ge=>({...ge,type:ae.target.value})),children:Object.entries(Qy).map(([ae,ge])=>e.jsxs("option",{value:ae,children:[ge.label," (",ge.maxSizeMB," Mo max)"]},ae))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date d'expiration"}),e.jsx(je,{type:"date",value:H.expiryDate,onChange:ae=>Se(ge=>({...ge,expiryDate:ae.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes"}),e.jsx(sn,{value:H.notes,onChange:ae=>Se(ge=>({...ge,notes:ae.target.value})),placeholder:"Remarques ou informations supplmentaires",rows:3})]}),e.jsx(ne,{colorScheme:"blue",isLoading:p,onClick:async()=>{try{if(g(!0),!H.type||!H.expiryDate){ie({status:"error",title:"Champs requis",description:"Type de document et date d'expiration sont obligatoires",duration:5e3,isClosable:!0});return}const ae=new FormData;ae.append("file",B.current.files[0]),ae.append("type",H.type),ae.append("expiryDate",H.expiryDate),ae.append("notes",H.notes);const ge=await qy.upload(ae,me.id),Je=ge?.document||ge?.data;W(bt=>[...bt,Je]),Se({type:"IDENTITY_CARD",expiryDate:"",notes:""}),B.current.value=null,ie({status:"success",title:"Document tlcharg",description:"Le document a t ajout avec succs",duration:5e3,isClosable:!0})}catch(ae){console.error(" Erreur upload document:",ae),ie({status:"error",title:"Erreur de tlchargement",description:"Impossible de tlcharger le document",duration:5e3,isClosable:!0})}finally{g(!1)}},children:"Tlcharger le document"})]})]})})]})]})]})}const vJ={STANDARD:"Adhsion Standard",FAMILY:"Adhsion Famille",STUDENT:"Adhsion tudiant",HONORARY:"Membre d'Honneur",BIENFAITEUR:"Bienfaiteur"},yJ={PENDING:"En attente",ACTIVE:"Actif",EXPIRED:"Expir",SUSPENDED:"Suspendu"};function bJ({isOpen:t,onClose:n,onMemberCreated:r}){const[s,l]=b.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),[u,d]=b.useState(!1),m=Mn(),p=()=>l({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",birthDate:"",membershipType:"STANDARD",membershipStatus:"ACTIVE",paymentAmount:"",paymentMethod:"CASH",notes:"",newsletter:!0}),g=async()=>{if(!s.firstName.trim()||!s.lastName.trim()||!s.email.trim()){m({title:"Champs requis",description:"Prnom, nom et email sont requis",status:"error",duration:3e3});return}try{d(!0);const j={...s},S=await fl.create(j);m({title:"Adhrent cr",status:"success",duration:3e3}),r?.(S),p(),n()}catch(j){m({title:"Erreur",description:j.message,status:"error",duration:5e3})}finally{d(!1)}},x=()=>{p(),n()};return e.jsxs(kt,{isOpen:t,onClose:x,size:"xl",scrollBehavior:"inside",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Crer un adhrent"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Informations personnelles"})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(ht,{columns:2,spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Prnom"}),e.jsx(je,{value:s.firstName,onChange:j=>l(S=>({...S,firstName:j.target.value}))})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:s.lastName,onChange:j=>l(S=>({...S,lastName:j.target.value}))})]})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Email"}),e.jsx(je,{type:"email",value:s.email,onChange:j=>l(S=>({...S,email:j.target.value}))})]}),e.jsxs(ht,{columns:2,spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Tlphone"}),e.jsx(je,{value:s.phone,onChange:j=>l(S=>({...S,phone:j.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date de naissance"}),e.jsx(je,{type:"date",value:s.birthDate,onChange:j=>l(S=>({...S,birthDate:j.target.value}))})]})]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Adresse"})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Adresse"}),e.jsx(je,{value:s.address,onChange:j=>l(S=>({...S,address:j.target.value}))})]}),e.jsxs(ht,{columns:2,spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Code postal"}),e.jsx(je,{value:s.postalCode,onChange:j=>l(S=>({...S,postalCode:j.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Ville"}),e.jsx(je,{value:s.city,onChange:j=>l(S=>({...S,city:j.target.value}))})]})]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Adhsion"})}),e.jsx(Ne,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(ht,{columns:2,spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Type d'adhsion"}),e.jsx(st,{value:s.membershipType,onChange:j=>l(S=>({...S,membershipType:j.target.value})),children:Object.entries(vJ).map(([j,S])=>e.jsx("option",{value:j,children:S},j))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Statut"}),e.jsx(st,{value:s.membershipStatus,onChange:j=>l(S=>({...S,membershipStatus:j.target.value})),children:Object.entries(yJ).map(([j,S])=>e.jsx("option",{value:j,children:S},j))})]})]}),e.jsxs(ht,{columns:2,spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Montant cotisation ()"}),e.jsx(je,{type:"number",value:s.paymentAmount,onChange:j=>l(S=>({...S,paymentAmount:j.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Mode de paiement"}),e.jsxs(st,{value:s.paymentMethod,onChange:j=>l(S=>({...S,paymentMethod:j.target.value})),children:[e.jsx("option",{value:"CASH",children:"Espces"}),e.jsx("option",{value:"CHECK",children:"Chque"}),e.jsx("option",{value:"BANK_TRANSFER",children:"Virement"}),e.jsx("option",{value:"CARD",children:"Carte"}),e.jsx("option",{value:"PAYPAL",children:"PayPal"}),e.jsx("option",{value:"HELLOASSO",children:"HelloAsso"})]})]})]})]})})]}),e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Notes"})}),e.jsx(Ne,{children:e.jsxs(J,{children:[e.jsx(Q,{children:"Notes administratives"}),e.jsx(sn,{value:s.notes,onChange:j=>l(S=>({...S,notes:j.target.value})),placeholder:"Notes internes sur l'adhrent..."})]})})]})]})}),e.jsx(Gt,{children:e.jsxs(le,{spacing:3,children:[e.jsx(ne,{variant:"ghost",onClick:x,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:g,isLoading:u,loadingText:"Cration...",children:"Crer l'adhrent"})]})})]})]})}const RA="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),Eg=t=>RA?`${RA}${t}`:t,mj={PENDING:{label:"En attente",color:"yellow",icon:h1},ACTIVE:{label:"Actif",color:"green",icon:$R},EXPIRED:{label:"Expir",color:"red",icon:yx},SUSPENDED:{label:"Suspendu",color:"orange",icon:Mu},CANCELLED:{label:"Annul",color:"gray",icon:yx}},gj={MEMBER:{label:"Adhrent",color:"blue",permissions:["VIEW_PROFILE"]},DRIVER:{label:"Conducteur",color:"green",permissions:["VIEW_PROFILE","DRIVE_VEHICLES"]},MODERATOR:{label:"Modrateur",color:"purple",permissions:["VIEW_PROFILE","MODERATE_CONTENT"]},ADMIN:{label:"Administrateur",color:"red",permissions:["FULL_ACCESS"]}};function jJ({member:t,onEdit:n,onLinkAccess:r,onTerminate:s,onDeleteMember:l}){const u=gr("white","gray.800"),d=mj[t.membershipStatus]||mj.PENDING,m=gj[t.role]||gj.MEMBER;return e.jsxs(Ie,{bg:u,borderWidth:1,borderColor:"gray.200",children:[e.jsx(Ot,{pb:2,children:e.jsxs(lr,{justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsxs(le,{children:[e.jsxs(D,{fontWeight:"bold",fontSize:"md",children:[t.firstName," ",t.lastName]}),e.jsx(nt,{colorScheme:d.color,size:"sm",children:d.label}),e.jsx(nt,{colorScheme:m.color,variant:"outline",size:"sm",children:m.label})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:t.email}),t.matricule&&e.jsxs(le,{spacing:2,children:[e.jsxs(nt,{colorScheme:"blue",variant:"subtle",children:[" ",t.matricule]}),t.loginEnabled?e.jsx(nt,{colorScheme:"green",size:"sm",children:" Accs activ"}):e.jsx(nt,{colorScheme:"gray",size:"sm",children:" Accs dsactiv"})]})]}),e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(Fp,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{children:[e.jsx(bn,{icon:e.jsx(_i,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(bn,{icon:e.jsx(yx,{}),onClick:()=>s(t),color:"red.500",children:"Terminer l'adhsion"}),e.jsx(bn,{icon:e.jsx(vu,{}),onClick:()=>r(t),children:"Associer  un accs existant"}),t.membershipStatus==="CANCELLED"&&e.jsx(bn,{icon:e.jsx(dr,{}),onClick:()=>l(t),color:"red.600",children:"Effacer l'adhrent"})]})]})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(oe,{align:"start",spacing:2,children:[t.phone&&e.jsxs(D,{fontSize:"sm",children:[" ",t.phone]}),t.lastLoginAt&&e.jsxs(D,{fontSize:"xs",color:"gray.500",children:["Dernire connexion: ",new Date(t.lastLoginAt).toLocaleDateString("fr-FR")]}),t.mustChangePassword&&e.jsx(nt,{colorScheme:"orange",size:"sm",children:" Doit changer le mot de passe"})]})})]})}function SJ(){const[t,n]=b.useState([]),[r,s]=b.useState(!0),[l,u]=b.useState(""),[d,m]=b.useState("ALL"),[p,g]=b.useState("ALL"),[x,j]=b.useState(!1),[S,_]=b.useState(null),[E,A]=b.useState({}),{isOpen:T,onOpen:z,onClose:M}=It(),{isOpen:k,onOpen:O,onClose:I}=It(),{isOpen:$,onOpen:G,onClose:ee}=It(),{isOpen:ue,onOpen:fe,onClose:X}=It(),me=Mn(),Ee=gr("white","gray.800"),[pe,K]=b.useState(null),[Z,W]=b.useState(null),[H,Se]=b.useState({reason:"",notes:"",pv:null,resignation:null}),{isOpen:B,onOpen:ie,onClose:he}=It(),[F,P]=b.useState({username:"",email:""});b.useEffect(()=>{N()},[]);const N=async()=>{try{s(!0);const ye=await fl.getAll();n(ye.members||[]),re(ye.members||[])}catch(ye){console.error("Erreur chargement membres:",ye),me({title:"Erreur",description:"Impossible de charger les membres",status:"error",duration:5e3})}finally{s(!1)}},re=ye=>{const Ze=ye.length,Tt=ye.filter(Je=>Je.loginEnabled).length,ae=ye.filter(Je=>Je.membershipStatus==="ACTIVE").length,ge=ye.filter(Je=>{if(!Je.lastLoginAt)return!1;const bt=new Date(Je.lastLoginAt),An=new Date;return An.setMonth(An.getMonth()-1),bt>An}).length;A({total:Ze,withLogin:Tt,active:ae,recentlyActive:ge})},Le=t.filter(ye=>{const Ze=ye.firstName?.toLowerCase().includes(l.toLowerCase())||ye.lastName?.toLowerCase().includes(l.toLowerCase())||ye.email?.toLowerCase().includes(l.toLowerCase())||ye.matricule?.toLowerCase().includes(l.toLowerCase()),Tt=d==="ALL"||ye.membershipStatus===d,ae=p==="ALL"||ye.role===p,ge=!x||ye.loginEnabled;return Ze&&Tt&&ae&&ge}),Oe=ye=>{_(ye),K({...ye}),G()},Pe=async()=>{try{if(!S)return;const ye=["firstName","lastName","email","phone","address","city","postalCode","membershipType","membershipStatus","paymentAmount","paymentMethod","newsletter","notes"],Ze={};for(const Je of ye)Je in pe&&(Ze[Je]=pe[Je]);const Tt=await fetch(Eg(`/api/members/${S.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Ze)}),ae=await Tt.json().catch(()=>({}));if(!Tt.ok)throw new Error(ae?.error||"chec de la mise  jour");const ge=ae.member||ae;n(Je=>Je.map(bt=>bt.id===S.id?{...bt,...ge}:bt)),me({title:"Membre mis  jour",status:"success"}),ee()}catch(ye){me({title:"Erreur",description:ye.message,status:"error"})}},it=ye=>{W(ye),Se({reason:"",notes:"",pv:null,resignation:null}),fe()},ot=async()=>{try{if(!Z)return;if(!H.reason){me({title:"Motif requis",status:"error"});return}if(H.reason==="EXCLUSION"&&!H.pv){me({title:"PV obligatoire",status:"error"});return}if(H.reason==="DEMISSION"&&(!H.pv||!H.resignation)){me({title:"PV et lettre obligatoires",status:"error"});return}const ye=new FormData;ye.append("reason",H.reason),H.notes&&ye.append("notes",H.notes),H.pv&&ye.append("pv",H.pv),H.resignation&&ye.append("resignation",H.resignation);const Ze=await fetch(Eg(`/api/members/${Z.id}/terminate`),{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:ye}),Tt=await Ze.json().catch(()=>({}));if(!Ze.ok)throw new Error(Tt?.error||"chec de la rsiliation");me({title:"Adhsion termine",status:"success"}),await N(),X()}catch(ye){me({title:"Erreur",description:ye.message,status:"error"})}},Qe=async ye=>{try{if(ye.membershipStatus!=="CANCELLED"){me({title:"Rsiliez d'abord l'adhsion",status:"warning"});return}if(!window.confirm(`Effacer dfinitivement ${ye.firstName} ${ye.lastName} ?`))return;const Ze=await fetch(Eg(`/api/members/${ye.id}`),{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ze.ok&&Ze.status!==204){const Tt=await Ze.json().catch(()=>({}));throw new Error(Tt?.error||"Suppression impossible")}me({title:"Adhrent effac",status:"success"}),n(Tt=>Tt.filter(ae=>ae.id!==ye.id))}catch(Ze){me({title:"Erreur",description:Ze.message,status:"error"})}},wt=ye=>{n(Ze=>[ye,...Ze]),re([ye,...t]),M()},$e=ye=>{_(ye),P({username:"",email:""}),ie()},Bt=async()=>{try{if(!S)return;if(!F.username&&!F.email){me({title:"Renseignez matricule ou email",status:"warning"});return}const ye=await fetch(Eg(`/api/members/${S.id}/link-access`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:F.username||void 0,email:F.email||void 0})}),Ze=await ye.json().catch(()=>({}));if(!ye.ok)throw new Error(Ze?.error||"chec de lassociation");me({title:"Accs associ",status:"success"}),await N(),he()}catch(ye){me({title:"Erreur",description:ye.message,status:"error"})}};return r?e.jsx(ds,{maxW:"container.xl",py:8,children:e.jsxs(oe,{spacing:8,children:[e.jsx(Sn,{size:"xl",color:"blue.500"}),e.jsx(D,{children:"Chargement des membres..."})]})}):e.jsxs(ds,{maxW:"container.xl",py:8,fontFamily:"Montserrat, sans-serif",children:[e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsxs(De,{size:"xl",display:"flex",alignItems:"center",children:[e.jsx(Qs,{style:{marginRight:"12px"}}),"Gestion des Adhsions"]}),e.jsx(D,{color:"gray.600",children:"Crer et grer les adhrents (les identifiants sont grs sparment)"})]}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",size:"lg",onClick:z,children:"Nouvel adhrent"})]}),e.jsxs(ht,{columns:{base:2,md:4},spacing:4,children:[e.jsx(Ie,{bg:Ee,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Total membres"}),e.jsx(At,{color:"blue.500",children:E.total})]})})}),e.jsx(Ie,{bg:Ee,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Avec accs MyRBE"}),e.jsx(At,{color:"green.500",children:E.withLogin}),e.jsxs(Xs,{children:[E.total>0?Math.round(E.withLogin/E.total*100):0,"%"]})]})})}),e.jsx(Ie,{bg:Ee,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Adhsions actives"}),e.jsx(At,{color:"purple.500",children:E.active})]})})}),e.jsx(Ie,{bg:Ee,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{children:"Connexions rcentes"}),e.jsx(At,{color:"orange.500",children:E.recentlyActive}),e.jsx(Xs,{children:"30 derniers jours"})]})})})]}),e.jsx(Ie,{bg:Ee,children:e.jsx(Ne,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(le,{w:"full",spacing:4,children:[e.jsxs(_u,{flex:2,children:[e.jsx(Cu,{children:e.jsx(Jx,{})}),e.jsx(je,{placeholder:"Rechercher par nom, email ou matricule...",value:l,onChange:ye=>u(ye.target.value)})]}),e.jsxs(st,{value:d,onChange:ye=>m(ye.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous statuts"}),Object.entries(mj).map(([ye,Ze])=>e.jsx("option",{value:ye,children:Ze.label},ye))]}),e.jsxs(st,{value:p,onChange:ye=>g(ye.target.value),maxW:"200px",children:[e.jsx("option",{value:"ALL",children:"Tous rles"}),Object.entries(gj).map(([ye,Ze])=>e.jsx("option",{value:ye,children:Ze.label},ye))]})]}),e.jsxs(le,{children:[e.jsx(mu,{isChecked:x,onChange:ye=>j(ye.target.checked),children:"Afficher seulement les membres avec accs MyRBE"}),e.jsx(ne,{leftIcon:e.jsx(Wa,{}),size:"sm",onClick:N,children:"Actualiser"})]})]})})}),e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[Le.length," membre(s) affich(s)"]}),e.jsx(ht,{columns:{base:1,md:2,lg:3},spacing:4,children:Le.map(ye=>e.jsx(jJ,{member:ye,onEdit:Oe,onLinkAccess:$e,onTerminate:it,onDeleteMember:Qe},ye.id))}),Le.length===0&&e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),"Aucun membre ne correspond aux critres de recherche"]})]}),e.jsx(bJ,{isOpen:T,onClose:M,onMemberCreated:wt}),e.jsxs(kt,{isOpen:B,onClose:he,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Associer  un accs existant"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),'La cration daccs se fait dans "Gestion des accs". Ici, vous pouvez lier un accs existant (fusion).']}),e.jsxs(J,{children:[e.jsx(Q,{children:"Matricule (username)"}),e.jsx(je,{value:F.username,onChange:ye=>P(Ze=>({...Ze,username:ye.target.value})),placeholder:"ex: jd2025"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Email"}),e.jsx(je,{type:"email",value:F.email,onChange:ye=>P(Ze=>({...Ze,email:ye.target.value})),placeholder:"utilisateur@domaine.fr"})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Renseignez au moins lun des deux champs."})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:he,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Bt,children:"Associer"})]})]})]}),e.jsxs(kt,{isOpen:$,onClose:ee,size:"xl",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Modifier le membre"}),e.jsx($t,{}),e.jsx(Pt,{children:pe&&e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Prnom"}),e.jsx(je,{value:pe.firstName||"",onChange:ye=>K(Ze=>({...Ze,firstName:ye.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:pe.lastName||"",onChange:ye=>K(Ze=>({...Ze,lastName:ye.target.value}))})]})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Email"}),e.jsx(je,{type:"email",value:pe.email||"",onChange:ye=>K(Ze=>({...Ze,email:ye.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Tlphone"}),e.jsx(je,{value:pe.phone||"",onChange:ye=>K(Ze=>({...Ze,phone:ye.target.value}))})]})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:4,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Statut"}),e.jsxs(st,{value:pe.membershipStatus||"ACTIVE",onChange:ye=>K(Ze=>({...Ze,membershipStatus:ye.target.value})),children:[e.jsx("option",{value:"PENDING",children:"En attente"}),e.jsx("option",{value:"ACTIVE",children:"Actif"}),e.jsx("option",{value:"EXPIRED",children:"Expir"}),e.jsx("option",{value:"SUSPENDED",children:"Suspendu"}),e.jsx("option",{value:"CANCELLED",children:"Annul"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type d'adhsion"}),e.jsxs(st,{value:pe.membershipType||"STANDARD",onChange:ye=>K(Ze=>({...Ze,membershipType:ye.target.value})),children:[e.jsx("option",{value:"STANDARD",children:"Standard"}),e.jsx("option",{value:"FAMILY",children:"Famille"}),e.jsx("option",{value:"STUDENT",children:"tudiant"}),e.jsx("option",{value:"HONORARY",children:"Honneur"})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes"}),e.jsx(sn,{value:pe.notes||"",onChange:ye=>K(Ze=>({...Ze,notes:ye.target.value}))})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:ee,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Pe,children:"Enregistrer"})]})]})]}),e.jsxs(kt,{isOpen:ue,onClose:X,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Terminer l'adhsion"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(tn,{status:"warning",children:[e.jsx(nn,{}),"Cette action met fin  l'adhsion. L'accs site associ sera dsactiv."]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Motif"}),e.jsxs(st,{value:H.reason,onChange:ye=>Se(Ze=>({...Ze,reason:ye.target.value})),children:[e.jsx("option",{value:"",children:"Choisir un motif..."}),e.jsx("option",{value:"FIN",children:"Fin d'adhsion"}),e.jsx("option",{value:"NON_RECONDUITE",children:"Non reconduite"}),e.jsx("option",{value:"EXCLUSION",children:"Exclusion vote (joindre le PV)"}),e.jsx("option",{value:"DEMISSION",children:"Dmission (joindre PV et lettre de dmission)"}),e.jsx("option",{value:"INFORMATIQUE",children:"INFORMATIQUE"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Notes (optionnel)"}),e.jsx(sn,{value:H.notes,onChange:ye=>Se(Ze=>({...Ze,notes:ye.target.value}))})]}),(H.reason==="EXCLUSION"||H.reason==="DEMISSION")&&e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Procs-verbal (PDF/Image)"}),e.jsx(je,{type:"file",accept:"application/pdf,image/*",onChange:ye=>Se(Ze=>({...Ze,pv:ye.target.files?.[0]||null}))})]}),H.reason==="DEMISSION"&&e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Lettre de dmission (PDF/Image)"}),e.jsx(je,{type:"file",accept:"application/pdf,image/*",onChange:ye=>Se(Ze=>({...Ze,resignation:ye.target.files?.[0]||null}))})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:X,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:ot,children:"Confirmer"})]})]})]})]})}function wJ({report:t,onUpdate:n,onComment:r,onStatusChange:s,onDelete:l}){const u=gr("white","gray.800"),d={low:"green",medium:"yellow",high:"orange",critical:"red"},m={open:"blue",in_progress:"orange",resolved:"green",closed:"gray"},p=b.useMemo(()=>{switch(t.priority){case"low":return" Faible";case"medium":return" Moyen";case"high":return" lev";default:return" Critique"}},[t.priority]),g=b.useMemo(()=>{switch(t.status){case"open":return"Ouvert";case"in_progress":return"En cours";case"resolved":return"Rsolu";default:return"Ferm"}},[t.status]),x=t.createdAt?new Date(t.createdAt):null;return e.jsxs(Ie,{bg:u,borderLeftWidth:4,borderLeftColor:`${d[t.priority]||"gray"}.500`,children:[e.jsx(Ot,{pb:3,children:e.jsxs(lr,{justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",spacing:2,children:[e.jsxs(le,{children:[e.jsx(nt,{colorScheme:d[t.priority]||"gray",variant:"solid",size:"sm",children:p}),e.jsx(nt,{colorScheme:m[t.status]||"gray",variant:"subtle",children:g})]}),e.jsx(De,{size:"sm",children:t.title}),e.jsxs(D,{fontSize:"xs",color:"gray.500",children:["Cr par ",t.createdBy," ",x?`le ${x.toLocaleDateString("fr-FR")}`:""]})]}),e.jsxs(To,{children:[e.jsx(ko,{as:yt,icon:e.jsx(qd,{}),variant:"ghost",size:"sm"}),e.jsxs(Po,{zIndex:10,position:"relative",children:[e.jsx(bn,{icon:e.jsx(Lf,{}),onClick:()=>n(t),children:"Modifier"}),e.jsx(bn,{icon:e.jsx(kK,{}),onClick:()=>r(t),children:"Commenter"}),t.status==="open"&&e.jsx(bn,{icon:e.jsx(Wa,{}),onClick:()=>s(t.id,"in_progress"),children:"Marquer en cours"}),(t.status==="open"||t.status==="in_progress")&&e.jsx(bn,{icon:e.jsx(gx,{}),onClick:()=>s(t.id,"resolved"),children:"Marquer comme rsolu"}),t.status==="resolved"&&e.jsx(bn,{icon:e.jsx(jp,{}),onClick:()=>s(t.id,"closed"),children:"Fermer dfinitivement"}),t.status==="closed"&&e.jsx(bn,{icon:e.jsx(Wa,{}),onClick:()=>s(t.id,"open"),children:"Rouvrir"}),e.jsx($M,{}),e.jsx(bn,{icon:e.jsx(dr,{}),onClick:()=>l(t.id),color:"red.500",children:"Supprimer"})]})]})]})}),e.jsx(Ne,{pt:0,children:e.jsxs(oe,{align:"start",spacing:3,children:[e.jsx(D,{fontSize:"sm",children:t.description}),t.category&&e.jsx(Au,{size:"sm",variant:"subtle",children:e.jsx(Tu,{children:t.category})}),t.assignedTo&&e.jsxs(le,{children:[e.jsx(BP,{size:"xs",name:t.assignedTo}),e.jsxs(D,{fontSize:"xs",children:["Assign  ",t.assignedTo]})]}),Array.isArray(t.comments)&&t.comments.length>0&&e.jsxs(oe,{align:"start",spacing:2,w:"full",children:[e.jsx(Ln,{}),e.jsx(le,{children:e.jsxs(D,{fontSize:"xs",fontWeight:"bold",children:[t.comments.length," commentaire(s)"]})}),e.jsxs(xe,{bg:"gray.50",p:2,borderRadius:"md",w:"full",children:[e.jsx(D,{fontSize:"xs",children:t.comments[t.comments.length-1].message}),e.jsxs(D,{fontSize:"xs",color:"gray.500",mt:1,children:["Par ",t.comments[t.comments.length-1].author," - ",new Date(t.comments[t.comments.length-1].createdAt).toLocaleDateString("fr-FR")]})]})]})]})})]})}function _J(){const{user:t}=Ni(),n=Mn(),{isOpen:r,onOpen:s,onClose:l}=It(),{isOpen:u,onOpen:d,onClose:m}=It(),{isOpen:p,onOpen:g,onClose:x}=It(),[j,S]=b.useState(!0),[_,E]=b.useState([]),[A,T]=b.useState(null),[z,M]=b.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[k,O]=b.useState({title:"",description:"",category:"",priority:"medium",type:"bug"}),[I,$]=b.useState({message:"",status:""}),[G,ee]=b.useState([]),ue=gr("white","gray.800"),fe=async()=>{try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),H=await fetch(`${W}/api/retro-reports`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!H.ok)throw new Error("load failed");const Se=await H.json();E(Se.reports||[])}catch(W){console.error("Erreur chargement rtroreports:",W)}};b.useEffect(()=>{(async()=>(S(!0),await fe(),S(!1)))()},[]);const X=async()=>{if(!z.title||!z.description){n({title:"Erreur",description:"Veuillez remplir le titre et la description",status:"error",duration:3e3,isClosable:!0});return}try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),H=new FormData;H.append("title",z.title),H.append("description",z.description),H.append("category",z.category||""),H.append("priority",z.priority||"medium"),H.append("type",z.type||"bug"),G&&G.length>0&&G.forEach(B=>H.append("screenshots",B,B.name));const Se=await fetch(`${W}/api/retro-reports`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:H});if(!Se.ok){const B=await Se.json().catch(()=>({error:"create failed"}));throw new Error(B.error||"create failed")}await fe(),M({title:"",description:"",category:"",priority:"medium",type:"bug"}),ee([]),l(),n({title:"Succs",description:"RtroReport cr avec succs",status:"success",duration:3e3,isClosable:!0})}catch(W){n({title:"Erreur",description:W.message||"Impossible de crer le RtroReport",status:"error",duration:3e3})}},me=async()=>{if(!I.message){n({title:"Erreur",description:"Veuillez crire un commentaire",status:"error",duration:3e3,isClosable:!0});return}try{const W="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),H={message:I.message,author:t?.name||"Administrateur",status:I.status||void 0};let Se=await fetch(`${W}/api/retro-reports/${A.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!Se.ok&&(Se=await fetch(`${W}/api/retro-reports/${A.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({appendComment:{message:H.message,author:H.author},status:H.status})}),!Se.ok))throw new Error("Impossible de persister le commentaire");await fe(),$({message:"",status:""}),m(),n({title:"Succs",description:"Commentaire ajout avec succs",status:"success",duration:3e3,isClosable:!0})}catch(W){console.error(W),n({title:"Erreur",description:"Impossible d'ajouter le commentaire",status:"error",duration:3e3})}},Ee=async(W,H)=>{try{const Se="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,"");let B=await fetch(`${Se}/api/retro-reports/${W}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:H})});if(!B.ok&&(B=await fetch(`${Se}/api/retro-reports/${W}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:H})}),!B.ok))throw new Error("status failed");await fe(),n({title:"Statut mis  jour",description:`RtroReport marqu comme ${{open:"Ouvert",in_progress:"En cours",resolved:"Rsolu",closed:"Ferm"}[H]?.toLowerCase()||H}`,status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Impossible de changer le statut",status:"error",duration:3e3})}},pe=async W=>{if(window.confirm("tes-vous sr de vouloir supprimer ce RtroReport ?"))try{const H="https://attractive-kindness-rbe-serveurs.up.railway.app".replace(/\/$/,""),Se=localStorage.getItem("token");if(!Se){n({title:"Erreur",description:"Token non trouv",status:"error",duration:3e3});return}const B=`${H}/api/retro-reports/${W}`;console.log(" Suppression ticket:",B);const ie=await fetch(B,{method:"DELETE",headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"}});if(console.log("Delete response status:",ie.status),!ie.ok){const F=await ie.text();throw console.error("Delete error:",F),new Error(`HTTP ${ie.status}: ${F}`)}const he=await ie.json();console.log("Delete result:",he),await fe(),n({title:"RtroReport supprim",description:"Le ticket a t supprim avec succs",status:"success",duration:3e3})}catch(H){console.error(" Erreur suppression:",H),n({title:"Erreur",description:`Suppression impossible: ${H.message}`,status:"error",duration:5e3})}},K=W=>{T(W),O({title:W.title,description:W.description,category:W.category||"",priority:W.priority||"medium",type:W.type||"bug"}),g()},Z=async()=>{if(!A?.id||!k.title||!k.description){n({title:"Erreur",description:"Titre et description requis",status:"error",duration:3e3,isClosable:!0});return}try{if(!(await fetch(`https://attractive-kindness-rbe-serveurs.up.railway.app/api/retro-reports/${A.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:k.title,description:k.description,category:k.category||"",priority:k.priority||"medium",type:k.type||"bug"})})).ok)throw new Error("update failed");await fe(),x(),n({title:"Succs",description:"RtroReport mis  jour",status:"success",duration:3e3})}catch{n({title:"Erreur",description:"Mise  jour impossible",status:"error",duration:3e3})}};return j?e.jsx(ds,{maxW:"container.xl",py:8,children:e.jsxs(oe,{spacing:8,children:[e.jsx(Sn,{size:"xl",color:"green.500"}),e.jsx(D,{children:"Chargement du support"})]})}):e.jsxs(ds,{maxW:"container.xl",py:8,children:[e.jsxs(xe,{bgGradient:"linear(to-r, red.500, orange.500)",color:"white",p:8,borderRadius:"xl",mb:8,textAlign:"center",children:[e.jsx(De,{size:"xl",mb:2,children:" Support du site"}),e.jsx(D,{opacity:.9,children:"Tickets: incidents, bugs et amliorations"})]}),e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(le,{justify:"space-between",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"md",children:"Systme de tickets"}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Signalez et suivez les incidents et demandes"})]}),e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"red",onClick:s,children:"Nouveau ticket"})]}),e.jsxs(ht,{columns:{base:1,md:4},spacing:4,children:[e.jsx(Ie,{bg:ue,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{fontSize:"xs",children:"Ouverts"}),e.jsx(At,{color:"red.500",fontSize:"lg",children:_.filter(W=>W.status==="open").length})]})})}),e.jsx(Ie,{bg:ue,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{fontSize:"xs",children:"En cours"}),e.jsx(At,{color:"orange.500",fontSize:"lg",children:_.filter(W=>W.status==="in_progress").length})]})})}),e.jsx(Ie,{bg:ue,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{fontSize:"xs",children:"Rsolus"}),e.jsx(At,{color:"green.500",fontSize:"lg",children:_.filter(W=>W.status==="resolved").length})]})})}),e.jsx(Ie,{bg:ue,children:e.jsx(Ne,{children:e.jsxs(Ct,{children:[e.jsx(Et,{fontSize:"xs",children:"Total"}),e.jsx(At,{color:"blue.500",fontSize:"lg",children:_.length})]})})})]}),e.jsx(oe,{spacing:4,align:"stretch",children:_.length===0?e.jsxs(tn,{status:"info",children:[e.jsx(nn,{}),e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(D,{fontWeight:"bold",fontSize:"sm",children:"Aucun ticket"}),e.jsx(D,{fontSize:"xs",children:"Crez votre premier ticket."})]})]}):_.map(W=>e.jsx(wJ,{report:W,onUpdate:K,onComment:H=>{T(H),d()},onStatusChange:Ee,onDelete:pe},W.id))})]}),e.jsxs(kt,{isOpen:r,onClose:l,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Nouveau ticket"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{value:z.title,onChange:W=>M(H=>({...H,title:W.target.value})),placeholder:"Ex: Problme de connexion, Page lente..."})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:z.description,onChange:W=>M(H=>({...H,description:W.target.value})),rows:4,placeholder:"Dcrivez le problme..."})]}),e.jsxs(ht,{columns:2,spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Type"}),e.jsxs(st,{value:z.type,onChange:W=>M(H=>({...H,type:W.target.value})),children:[e.jsx("option",{value:"bug",children:" Bug"}),e.jsx("option",{value:"feature",children:" Amlioration"}),e.jsx("option",{value:"performance",children:" Performance"}),e.jsx("option",{value:"security",children:" Scurit"}),e.jsx("option",{value:"other",children:" Autre"})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Priorit"}),e.jsxs(st,{value:z.priority,onChange:W=>M(H=>({...H,priority:W.target.value})),children:[e.jsx("option",{value:"low",children:" Faible"}),e.jsx("option",{value:"medium",children:" Moyen"}),e.jsx("option",{value:"high",children:" lev"}),e.jsx("option",{value:"critical",children:" Critique"})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Catgorie"}),e.jsx(je,{value:z.category,onChange:W=>M(H=>({...H,category:W.target.value})),placeholder:"Ex: Technique, Interface, Base de donnes..."})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Captures dcran (optionnel)"}),e.jsx(je,{type:"file",accept:"image/*",multiple:!0,onChange:W=>ee(Array.from(W.target.files||[]))})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:l,children:"Annuler"}),e.jsx(ne,{colorScheme:"red",onClick:X,leftIcon:e.jsx(Bn,{}),children:"Crer"})]})]})]}),e.jsxs(kt,{isOpen:u,onClose:m,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Ajouter un commentaire"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Commentaire"}),e.jsx(sn,{value:I.message,onChange:W=>$(H=>({...H,message:W.target.value})),rows:3})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Changer le statut (optionnel)"}),e.jsxs(st,{value:I.status,onChange:W=>$(H=>({...H,status:W.target.value})),children:[e.jsx("option",{value:"",children:"Ne pas changer"}),e.jsx("option",{value:"open",children:"Ouvert"}),e.jsx("option",{value:"in_progress",children:"En cours"}),e.jsx("option",{value:"resolved",children:"Rsolu"}),e.jsx("option",{value:"closed",children:"Ferm"})]})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:m,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:me,children:"Publier"})]})]})]}),e.jsxs(kt,{isOpen:p,onClose:x,children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:"Modifier le ticket"}),e.jsx($t,{}),e.jsx(Pt,{children:e.jsxs(oe,{spacing:4,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{value:k.title,onChange:W=>O(H=>({...H,title:W.target.value}))})]}),e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{rows:4,value:k.description,onChange:W=>O(H=>({...H,description:W.target.value}))})]}),e.jsxs(ht,{columns:2,spacing:4,w:"full",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Catgorie"}),e.jsx(je,{value:k.category,onChange:W=>O(H=>({...H,category:W.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Priorit"}),e.jsxs(st,{value:k.priority,onChange:W=>O(H=>({...H,priority:W.target.value})),children:[e.jsx("option",{value:"low",children:"Faible"}),e.jsx("option",{value:"medium",children:"Moyen"}),e.jsx("option",{value:"high",children:"lev"}),e.jsx("option",{value:"critical",children:"Critique"})]})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type"}),e.jsxs(st,{value:k.type,onChange:W=>O(H=>({...H,type:W.target.value})),children:[e.jsx("option",{value:"bug",children:"Bug"}),e.jsx("option",{value:"feature",children:"Amlioration"}),e.jsx("option",{value:"performance",children:"Performance"}),e.jsx("option",{value:"security",children:"Scurit"}),e.jsx("option",{value:"other",children:"Autre"})]})]})]})}),e.jsxs(Gt,{children:[e.jsx(ne,{variant:"ghost",mr:3,onClick:x,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:Z,children:"Enregistrer"})]})]})]})]})}function Jy({p:t,onEdit:n,onDelete:r}){return e.jsxs(Ie,{overflow:"hidden",children:[e.jsx(As,{src:t.image||"/assets/fallback/_MG_1006.jpg",alt:t.name,w:"100%",h:"160px",objectFit:"cover"}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:2,children:[e.jsxs(le,{justify:"space-between",align:"start",children:[e.jsxs(xe,{children:[e.jsx(De,{size:"sm",children:t.name}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:t.category})]}),e.jsx(Au,{size:"sm",colorScheme:t.active?"green":"gray",children:e.jsx(Tu,{children:t.active?"Actif":"Masqu"})})]}),e.jsxs(le,{justify:"space-between",children:[e.jsxs(D,{fontWeight:"bold",children:[t.price.toFixed(2)," "]}),e.jsxs(le,{children:[e.jsx(yt,{"aria-label":"diter",size:"sm",icon:e.jsx(_i,{}),onClick:()=>n(t)}),e.jsx(yt,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(dr,{}),onClick:()=>r(t)})]})]})]})})]})}function CJ(){const t=Mn(),[n,r]=b.useState(["Textiles","Goodies","Affiches"]),[s,l]=b.useState([{id:"tee-classic",name:"T-shirt RtroBus Classique",price:20,category:"Textiles",image:"",active:!0},{id:"mug-logo",name:"Mug Logo RBE",price:12,category:"Goodies",image:"",active:!0},{id:"poster-920",name:"Affiche R312 n920",price:15,category:"Affiches",image:"",active:!1}]),[u,d]=b.useState([]),[m,p]=b.useState("Toutes"),[g,x]=b.useState(null),[j,S]=b.useState({id:"",name:"",price:0,category:"Textiles",image:"",active:!0,description:""}),_=It(),E=b.useMemo(()=>m==="Toutes"?s:s.filter(F=>F.category===m),[s,m]),A=()=>S({id:"",name:"",price:0,category:n[0]||"Textiles",image:"",active:!0,description:""}),T=()=>{x(null),A(),_.onOpen()},z=F=>{x(F),S({...F}),_.onOpen()},M=()=>{const F=(j.id||j.name||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-");if(!j.name||!F)return t({status:"warning",title:"Nom requis"});const P={...j,id:F};l(N=>g?N.map(re=>re.id===g.id?P:re):[{...P},...N]),_.onClose(),t({status:"success",title:g?"Produit mis  jour":"Produit ajout"})},k=F=>{confirm(`Supprimer ${F.name} ?`)&&(l(P=>P.filter(N=>N.id!==F.id)),t({status:"info",title:"Produit supprim"}))},O=[{id:"hero-1",type:"banner",colSpan:12,data:{title:"Bienvenue sur RtroMerch",subtitle:"Slection spciale",image:"",ctaText:"Dcouvrir",ctaHref:"/retromerch"}},{id:"promo-1",type:"promo",colSpan:6,data:{label:"Promo",productId:"tee-classic",discount:20}},{id:"product-1",type:"product",colSpan:6,data:{productId:"mug-logo"}},{id:"grid-1",type:"grid",colSpan:12,data:{category:"Textiles",count:4}}],[I,$]=b.useState(()=>{try{const F=localStorage.getItem("retromerch_layout");return F?JSON.parse(F):O}catch{return O}}),[G,ee]=b.useState(null),[ue,fe]=b.useState(!0);b.useEffect(()=>{try{localStorage.setItem("retromerch_layout",JSON.stringify(I))}catch{}},[I]);const X=F=>`${F}-${Date.now().toString(36)}`,me=F=>{const P={colSpan:12,data:{}},N={id:X(F),type:F,...P};F==="banner"&&(N.data={title:"Titre",subtitle:"Sous-titre",image:"",ctaText:"Voir",ctaHref:"/retromerch"}),F==="promo"&&(N.data={label:"Promo",productId:s[0]?.id||"",discount:10}),F==="product"&&(N.data={productId:s[0]?.id||""}),F==="grid"&&(N.data={category:n[0]||"Textiles",count:4}),F==="text"&&(N.data={text:"Texte libre de prsentation"}),F==="spacer"&&(N.data={size:6}),$(re=>[...re,N]),ee(N.id)},Ee=F=>$(P=>P.filter(N=>N.id!==F)),pe=F=>{const P=I.find(Oe=>Oe.id===F);if(!P)return;const N={...P,id:X("copy")},re=I.findIndex(Oe=>Oe.id===F),Le=[...I];Le.splice(re+1,0,N),$(Le),ee(N.id)},K=(F,P)=>$(N=>N.map(re=>re.id===F?{...re,...P,data:{...re.data,...P.data||{}}}:re)),Z=(F,P)=>{const N=I.findIndex(Oe=>Oe.id===F);if(N<0)return;const re=[...I],Le=P==="up"?N-1:N+1;Le<0||Le>=re.length||([re[N],re[Le]]=[re[Le],re[N]],$(re))},W=(F,P)=>K(F,{colSpan:P}),[H,Se]=b.useState(null),B=F=>P=>{Se(F),P.dataTransfer.setData("text/plain",F)},ie=F=>{F.preventDefault()},he=F=>P=>{P.preventDefault();const N=H||P.dataTransfer.getData("text/plain");if(!N||N===F)return;const re=[...I],Le=re.findIndex(it=>it.id===N),Oe=re.findIndex(it=>it.id===F);if(Le===-1||Oe===-1)return;const[Pe]=re.splice(Le,1);re.splice(Oe,0,Pe),$(re),Se(null)};return e.jsxs(xe,{p:6,maxW:"7xl",mx:"auto",children:[e.jsxs(oe,{align:"stretch",spacing:6,children:[e.jsxs(le,{justify:"space-between",align:"center",children:[e.jsxs(De,{size:"lg",display:"flex",alignItems:"center",gap:2,children:[e.jsx(vx,{})," Administration RtroMerch"]}),e.jsxs(le,{children:[e.jsx(ne,{leftIcon:e.jsx(Bn,{}),colorScheme:"blue",onClick:T,children:"Ajouter un produit"}),e.jsx(ne,{leftIcon:e.jsx(Fp,{}),variant:"outline",children:"Paramtres"})]})]}),e.jsxs(Oo,{colorScheme:"red",variant:"enclosed",children:[e.jsxs(No,{children:[e.jsxs(pn,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(vx,{})," Catalogue"]}),e.jsxs(pn,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(zK,{})," Commandes"]}),e.jsx(pn,{children:"Catgories"}),e.jsx(pn,{children:"Mise en page"}),e.jsx(pn,{children:"Paramtres"})]}),e.jsxs(Io,{children:[e.jsx(mn,{px:0,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsxs(le,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"md",children:"Catalogue"}),e.jsxs(le,{children:[e.jsxs(st,{size:"sm",value:m,onChange:F=>p(F.target.value),children:[e.jsx("option",{children:"Toutes"}),n.map(F=>e.jsx("option",{children:F},F))]}),e.jsx(ne,{size:"sm",onClick:T,leftIcon:e.jsx(Bn,{}),children:"Nouveau"})]})]})}),e.jsx(Ne,{children:E.length===0?e.jsx(jn,{py:10,children:e.jsx(D,{color:"gray.600",children:"Aucun produit pour linstant."})}):e.jsx(ht,{columns:{base:1,sm:2,md:3,xl:4},spacing:4,children:E.map(F=>e.jsx(Jy,{p:F,onEdit:z,onDelete:k},F.id))})})]})}),e.jsx(mn,{px:0,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Commandes"})}),e.jsx(Ne,{children:u.length===0?e.jsx(jn,{py:10,children:e.jsx(D,{color:"gray.600",children:"Aucune commande pour le moment."})}):e.jsxs(Rr,{size:"sm",children:[e.jsx(Fr,{children:e.jsxs(Qt,{children:[e.jsx(He,{children:"#"}),e.jsx(He,{children:"Date"}),e.jsx(He,{children:"Client"}),e.jsx(He,{children:"Montant"}),e.jsx(He,{children:"Statut"})]})}),e.jsx($r,{children:u.map(F=>e.jsxs(Qt,{children:[e.jsx(Ve,{children:F.id}),e.jsx(Ve,{children:new Date(F.createdAt).toLocaleString("fr-FR")}),e.jsx(Ve,{children:F.customerName}),e.jsxs(Ve,{children:[F.total.toFixed(2)," "]}),e.jsx(Ve,{children:F.status})]},F.id))})]})})]})}),e.jsx(mn,{px:0,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(le,{justify:"space-between",children:e.jsx(De,{size:"md",children:"Catgories"})})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[n.map((F,P)=>e.jsxs(le,{justify:"space-between",borderWidth:"1px",p:3,borderRadius:"md",children:[e.jsx(D,{children:F}),e.jsxs(le,{children:[e.jsx(yt,{"aria-label":"Renommer",size:"sm",icon:e.jsx(_i,{}),onClick:()=>{const N=prompt("Nouveau nom de catgorie",F);N&&(r(re=>re.map(Le=>Le===F?N:Le)),l(re=>re.map(Le=>Le.category===F?{...Le,category:N}:Le)))}}),e.jsx(yt,{"aria-label":"Supprimer",size:"sm",colorScheme:"red",icon:e.jsx(dr,{}),onClick:()=>{confirm(`Supprimer la catgorie ${F} ?`)&&(r(N=>N.filter(re=>re!==F)),l(N=>N.map(re=>re.category===F?{...re,category:"Autre"}:re)))}})]})]},F)),e.jsxs(le,{children:[e.jsx(je,{placeholder:"Nouvelle catgorie",size:"sm",id:"newCat"}),e.jsx(ne,{size:"sm",onClick:()=>{const F=document.getElementById("newCat"),P=(F?.value||"").trim();if(P){if(n.includes(P))return t({status:"info",title:"Existe dj"});r(N=>[...N,P]),F.value=""}},children:"Ajouter"})]})]})})]})}),e.jsx(mn,{px:0,children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsxs(le,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"md",children:"Mise en page  diteur  puzzle "}),e.jsxs(le,{children:[e.jsxs(ne,{size:"sm",leftIcon:e.jsx(bp,{}),onClick:()=>fe(F=>!F),children:[ue?"Masquer":"Afficher"," laperu"]}),e.jsx(ne,{size:"sm",variant:"outline",leftIcon:e.jsx(bA,{}),onClick:()=>{navigator.clipboard.writeText(JSON.stringify(I,null,2)),t({status:"success",title:"Layout copi"})},children:"Exporter JSON"})]})]}),e.jsxs(ht,{columns:{base:1,xl:3},spacing:4,children:[e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Palette"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:2,children:[e.jsx(ne,{onClick:()=>me("banner"),children:"Bannire"}),e.jsx(ne,{onClick:()=>me("promo"),children:"Produit en promo"}),e.jsx(ne,{onClick:()=>me("product"),children:"Produit (slection)"}),e.jsx(ne,{onClick:()=>me("grid"),children:"Grille par catgorie"}),e.jsx(ne,{onClick:()=>me("text"),children:"Texte"}),e.jsx(ne,{onClick:()=>me("spacer"),children:"Espace"})]})})]}),e.jsxs(Ie,{gridColumn:{base:"auto",xl:"span 2"},children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"diteur"})}),e.jsx(Ne,{children:e.jsx(xe,{borderWidth:"1px",borderRadius:"md",p:3,children:e.jsx(Sa,{templateColumns:"repeat(12, 1fr)",gap:3,gridAutoFlow:"row dense",children:I.map(F=>e.jsxs(xe,{gridColumn:`span ${Math.min(12,Math.max(3,F.colSpan||12))}`,p:0,borderWidth:G===F.id?"2px":"1px",borderColor:G===F.id?"blue.400":"gray.200",borderRadius:"md",bg:G===F.id?"blue.50":"white",draggable:!0,onDragStart:B(F.id),onDragOver:ie,onDrop:he(F.id),onClick:()=>ee(F.id),children:[e.jsxs(le,{justify:"space-between",p:2,bg:"gray.50",borderBottomWidth:"1px",borderTopRadius:"md",children:[e.jsxs(le,{children:[e.jsx(Au,{size:"sm",children:e.jsx(Tu,{children:F.type})}),e.jsx(st,{size:"xs",w:"auto",value:F.colSpan,onChange:P=>W(F.id,parseInt(P.target.value)),children:[12,8,6,4,3].map(P=>e.jsxs("option",{value:P,children:[P,"/12"]},P))})]}),e.jsxs(le,{children:[e.jsx(yt,{"aria-label":"Monter",size:"xs",icon:e.jsx(d1,{}),onClick:P=>{P.stopPropagation(),Z(F.id,"up")}}),e.jsx(yt,{"aria-label":"Descendre",size:"xs",icon:e.jsx(u1,{}),onClick:P=>{P.stopPropagation(),Z(F.id,"down")}}),e.jsx(yt,{"aria-label":"Dupliquer",size:"xs",icon:e.jsx(bA,{}),onClick:P=>{P.stopPropagation(),pe(F.id)}}),e.jsx(yt,{"aria-label":"Supprimer",size:"xs",colorScheme:"red",icon:e.jsx(dr,{}),onClick:P=>{P.stopPropagation(),Ee(F.id)}})]})]}),e.jsxs(xe,{p:3,children:[F.type==="banner"&&e.jsxs(oe,{align:"stretch",spacing:2,children:[e.jsx(je,{size:"sm",placeholder:"Titre",value:F.data.title||"",onChange:P=>K(F.id,{data:{title:P.target.value}})}),e.jsx(je,{size:"sm",placeholder:"Sous-titre",value:F.data.subtitle||"",onChange:P=>K(F.id,{data:{subtitle:P.target.value}})}),e.jsx(je,{size:"sm",placeholder:"Image URL",value:F.data.image||"",onChange:P=>K(F.id,{data:{image:P.target.value}})}),e.jsxs(le,{children:[e.jsx(je,{size:"sm",placeholder:"Texte du bouton",value:F.data.ctaText||"",onChange:P=>K(F.id,{data:{ctaText:P.target.value}})}),e.jsx(je,{size:"sm",placeholder:"Lien",value:F.data.ctaHref||"",onChange:P=>K(F.id,{data:{ctaHref:P.target.value}})})]})]}),F.type==="promo"&&e.jsxs(ht,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(J,{children:[e.jsx(Q,{fontSize:"xs",children:"Produit"}),e.jsx(st,{size:"sm",value:F.data.productId||"",onChange:P=>K(F.id,{data:{productId:P.target.value}}),children:s.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"xs",children:"Label"}),e.jsx(je,{size:"sm",value:F.data.label||"",onChange:P=>K(F.id,{data:{label:P.target.value}})})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"xs",children:"Rduction (%)"}),e.jsx(Yn,{size:"sm",min:0,max:90,value:F.data.discount||0,onChange:(P,N)=>K(F.id,{data:{discount:isNaN(N)?0:N}}),children:e.jsx(Xn,{})})]})]}),F.type==="product"&&e.jsxs(J,{children:[e.jsx(Q,{fontSize:"xs",children:"Produit"}),e.jsx(st,{size:"sm",value:F.data.productId||"",onChange:P=>K(F.id,{data:{productId:P.target.value}}),children:s.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))})]}),F.type==="grid"&&e.jsxs(ht,{columns:{base:1,md:2},spacing:2,children:[e.jsxs(J,{children:[e.jsx(Q,{fontSize:"xs",children:"Catgorie"}),e.jsx(st,{size:"sm",value:F.data.category||"",onChange:P=>K(F.id,{data:{category:P.target.value}}),children:n.map(P=>e.jsx("option",{value:P,children:P},P))})]}),e.jsxs(J,{children:[e.jsx(Q,{fontSize:"xs",children:"Nombre"}),e.jsx(Yn,{size:"sm",min:1,max:12,value:F.data.count||4,onChange:(P,N)=>K(F.id,{data:{count:isNaN(N)?4:N}}),children:e.jsx(Xn,{})})]})]}),F.type==="text"&&e.jsx(sn,{size:"sm",rows:3,value:F.data.text||"",onChange:P=>K(F.id,{data:{text:P.target.value}})}),F.type==="spacer"&&e.jsxs(le,{children:[e.jsx(D,{fontSize:"sm",color:"gray.600",children:"Espace (px)"}),e.jsx(Yn,{size:"sm",min:8,max:96,value:F.data.size||24,onChange:(P,N)=>K(F.id,{data:{size:isNaN(N)?24:N}}),children:e.jsx(Xn,{})})]})]})]},F.id))})})})]})]}),ue&&e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"sm",children:"Aperu dynamique"})}),e.jsx(Ne,{children:e.jsx(xe,{children:e.jsx(Sa,{templateColumns:{base:"1fr",md:"repeat(12, 1fr)"},gap:4,gridAutoFlow:"row dense",children:I.map(F=>e.jsxs(xe,{gridColumn:{base:"auto",md:`span ${Math.min(12,Math.max(3,F.colSpan||12))}`},children:[F.type==="banner"&&e.jsx(lr,{bgImage:F.data.image||void 0,bgSize:"cover",bgPos:"center",borderRadius:"md",p:10,minH:"160px",align:"center",justify:"space-between",bg:F.data.image?void 0:"gray.100",children:e.jsxs(oe,{align:"start",spacing:2,children:[e.jsx(De,{size:"lg",children:F.data.title||"Titre"}),e.jsx(D,{color:"gray.700",children:F.data.subtitle||"Sous-titre"}),F.data.ctaText&&e.jsx(ne,{colorScheme:"blue",size:"sm",children:F.data.ctaText})]})}),F.type==="promo"&&(()=>{const P=s.find(N=>N.id===F.data.productId);return P?e.jsxs(Ie,{overflow:"hidden",borderColor:"red.200",borderWidth:"1px",children:[e.jsx(As,{src:P.image||"/assets/fallback/_MG_1006.jpg",alt:P.name,h:"160px",w:"100%",objectFit:"cover"}),e.jsxs(Ne,{children:[e.jsxs(le,{justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",spacing:1,children:[e.jsx(De,{size:"sm",children:P.name}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:P.category})]}),e.jsx(Au,{colorScheme:"red",children:e.jsxs(Tu,{children:[F.data.label||"Promo"," -",F.data.discount||0,"%"]})})]}),e.jsxs(le,{justify:"space-between",pt:2,children:[e.jsxs(D,{fontWeight:"bold",children:[(P.price*(1-(F.data.discount||0)/100)).toFixed(2),"  ",e.jsxs(D,{as:"span",color:"gray.500",textDecor:"line-through",ml:2,children:[P.price.toFixed(2)," "]})]}),e.jsx(ne,{size:"sm",colorScheme:"blue",children:"Voir"})]})]})]}):e.jsx(xe,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),F.type==="product"&&(()=>{const P=s.find(N=>N.id===F.data.productId);return P?e.jsx(Jy,{p:P,onEdit:()=>{},onDelete:()=>{}}):e.jsx(xe,{borderWidth:"1px",p:3,borderRadius:"md",children:"Produit introuvable"})})(),F.type==="grid"&&(()=>{const P=s.filter(N=>N.active&&(F.data.category?N.category===F.data.category:!0)).slice(0,F.data.count||4);return e.jsx(ht,{columns:{base:1,sm:2,md:2,lg:3,xl:4},spacing:4,children:P.map(N=>e.jsx(Jy,{p:N,onEdit:()=>{},onDelete:()=>{}},N.id))})})(),F.type==="text"&&e.jsx(xe,{p:3,borderWidth:"1px",borderRadius:"md",bg:"gray.50",children:e.jsx(D,{children:F.data.text||""})}),F.type==="spacer"&&e.jsx(xe,{h:`${F.data.size||24}px`})]},F.id))})})})]})]})}),e.jsx(mn,{px:0,children:e.jsxs(Ie,{children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:"Paramtres"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:4,children:[e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{children:"Activer la boutique"}),e.jsx(br,{defaultChecked:!0,isDisabled:!0})]}),e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{children:"Mode test (paiements simuls)"}),e.jsx(br,{isDisabled:!0})]}),e.jsx(D,{color:"gray.600",children:"Connecteurs (HelloAsso/Stripe), TVA, frais de port, etc. seront configurables ici."})]})})]})})]})]})]}),_.isOpen&&e.jsx(xe,{position:"fixed",inset:0,bg:"blackAlpha.600",zIndex:1e3,onClick:_.onClose,children:e.jsx(xe,{as:"dialog",onClick:F=>F.stopPropagation(),style:{border:0},children:e.jsxs(Ie,{position:"fixed",top:"10%",left:"50%",transform:"translateX(-50%)",w:{base:"95%",md:"560px"},children:[e.jsx(Ot,{children:e.jsx(De,{size:"md",children:g?"Modifier le produit":"Nouveau produit"})}),e.jsx(Ne,{children:e.jsxs(oe,{align:"stretch",spacing:3,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Nom"}),e.jsx(je,{value:j.name,onChange:F=>S(P=>({...P,name:F.target.value}))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Identifiant (URL)"}),e.jsx(je,{value:j.id,onChange:F=>S(P=>({...P,id:F.target.value})),placeholder:"auto depuis le nom"})]}),e.jsxs(ht,{columns:{base:1,md:2},spacing:3,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Prix ()"}),e.jsx(Yn,{min:0,value:j.price,onChange:(F,P)=>S(N=>({...N,price:isNaN(P)?0:P})),children:e.jsx(Xn,{})})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Catgorie"}),e.jsx(st,{value:j.category,onChange:F=>S(P=>({...P,category:F.target.value})),children:n.map(F=>e.jsx("option",{children:F},F))})]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Image (URL)"}),e.jsx(je,{value:j.image,onChange:F=>S(P=>({...P,image:F.target.value})),placeholder:"https://"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{value:j.description,onChange:F=>S(P=>({...P,description:F.target.value})),rows:3})]}),e.jsxs(le,{justify:"space-between",children:[e.jsx(D,{children:"Actif"}),e.jsx(br,{isChecked:j.active,onChange:F=>S(P=>({...P,active:F.target.checked}))})]}),e.jsxs(le,{justify:"flex-end",pt:2,children:[e.jsx(ne,{variant:"ghost",onClick:_.onClose,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:M,children:g?"Enregistrer":"Crer"})]})]})})]})})})]})}const EJ=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173"),AJ=(EJ?"https://attractive-kindness-rbe-serveurs.up.railway.app":"").replace(/\/$/,"");function TJ(){try{const t=localStorage.getItem("accessToken")||localStorage.getItem("token")||localStorage.getItem("jwt");return t?{Authorization:`Bearer ${t}`}:{}}catch{return{}}}const ru=async(t,n={})=>{const r=`${AJ}${t.startsWith("/")?"":"/"}${t}`,s={Accept:"application/json",...TJ(),...n.headers||{}},l=p=>{const g=p.toLowerCase();for(const x of Object.keys(s))if(x.toLowerCase()===g)return!0;return!1};let u=n.body;(p=>p&&typeof p=="object"&&!(p instanceof FormData)&&!(p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(p instanceof URLSearchParams))(u)?(u=JSON.stringify(u),l("Content-Type")||(s["Content-Type"]="application/json")):typeof u=="string"&&(l("Content-Type")||(s["Content-Type"]="application/json"));const m=await fetch(r,{credentials:"include",headers:s,...n,...u!==void 0?{body:u}:{}});if(m.status===404)return{notFound:!0};if(m.status===204)return null;if(!m.ok){const p=await m.text().catch(()=>"");throw new Error(`HTTP ${m.status} ${m.statusText} - ${p}`)}return m.json()},y1=[{value:"tournee",label:"Tourne",color:"orange"},{value:"campagne",label:"Campagne",color:"purple"},{value:"maintenance",label:"Maintenance",color:"red"},{value:"evenement",label:"vnement",color:"green"},{value:"livraison",label:"Livraison",color:"cyan"},{value:"cotisation",label:"Cotisation",color:"yellow"}];function kJ({events:t,currentDate:n,onDateClick:r,onPrevMonth:s,onNextMonth:l}){const u=n.getFullYear(),d=n.getMonth(),m=new Date(u,d,1).getDay(),p=new Date(u,d+1,0).getDate(),g=new Date(u,d,0).getDate(),x=[];for(let _=m-1;_>=0;_--)x.push({day:g-_,isCurrentMonth:!1});for(let _=1;_<=p;_++)x.push({day:_,isCurrentMonth:!0});const j=42-x.length;for(let _=1;_<=j;_++)x.push({day:_,isCurrentMonth:!1});const S=_=>t.filter(E=>{const A=new Date(E.startDate);return A.getDate()===_&&A.getMonth()===d&&A.getFullYear()===u});return e.jsx(Ie,{mb:6,children:e.jsx(Ne,{children:e.jsxs(oe,{spacing:4,align:"stretch",children:[e.jsxs(lr,{justify:"space-between",align:"center",children:[e.jsx(De,{size:"md",children:n.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}),e.jsxs(le,{children:[e.jsx(yt,{icon:e.jsx(mX,{}),onClick:s,variant:"ghost","aria-label":"Mois prcdent"}),e.jsx(yt,{icon:e.jsx(gX,{}),onClick:l,variant:"ghost","aria-label":"Mois suivant"})]})]}),e.jsxs(Sa,{templateColumns:"repeat(7, 1fr)",gap:2,children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(_=>e.jsx(xe,{textAlign:"center",fontWeight:"bold",fontSize:"sm",children:_},_)),x.map((_,E)=>{const A=_.isCurrentMonth?S(_.day):[];return e.jsxs(xe,{p:2,border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"100px",bg:_.isCurrentMonth?"white":"gray.50",cursor:_.isCurrentMonth?"pointer":"default",onClick:()=>_.isCurrentMonth&&r(_.day),_hover:_.isCurrentMonth?{bg:"blue.50"}:{},children:[e.jsx(D,{fontSize:"xs",fontWeight:"bold",mb:1,children:_.day}),e.jsx(oe,{spacing:1,align:"stretch",children:A.map(T=>e.jsx(nt,{fontSize:"2xs",colorScheme:xj(T.type),cursor:"pointer",title:T.title,noOfLines:1,children:T.title},T.id))})]},E)})]})]})})})}const xj=t=>y1.find(r=>r.value===t)?.color||"gray",zA=t=>y1.find(r=>r.value===t)?.label||t,eb=t=>t?new Date(t).toLocaleDateString("fr-FR"):"";function PJ(){const t=Mn(),{isOpen:n,onOpen:r,onClose:s}=It(),{isOpen:l,onOpen:u,onClose:d}=It(),[m,p]=b.useState([]),[g,x]=b.useState(null),[j,S]=b.useState(new Date),[_,E]=b.useState([]),[A,T]=b.useState(!0),[z,M]=b.useState([]),[k,O]=b.useState(!0),[I,$]=b.useState({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""});b.useEffect(()=>{ue(),G(),ee()},[]);const G=async()=>{try{T(!0);const H=await ru("/api/members");if(Array.isArray(H)){const Se=H.map(B=>({id:B.id,name:`${B.firstName} ${B.lastName}`,email:B.email,membershipStatus:B.membershipStatus}));E(Se)}else console.warn("Unexpected members response format:",H),E([])}catch(H){console.error("Erreur chargement membres:",H),E([]),t({title:"Attention",description:"Impossible de charger la liste des membres",status:"warning",duration:3})}finally{T(!1)}},ee=async()=>{try{O(!0);const H=await ru("/api/vehicles");Array.isArray(H)?M(H):(console.warn("Unexpected vehicles response format:",H),M([]))}catch(H){console.error("Erreur chargement vhicules:",H),M([])}finally{O(!1)}},ue=async()=>{try{const H=await ru("/api/planning/events");Array.isArray(H)?p(H):H&&typeof H=="object"&&H.data&&Array.isArray(H.data)?p(H.data):(console.warn("Unexpected response format, using demo data:",H),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}]))}catch(H){console.error("Erreur chargement:",H),p([{id:"1",title:"Tourne fvrier",type:"tournee",description:"Collecte standard fvrier",startDate:new Date().toISOString(),vehicleId:"bus-1",driverId:"driver-1"}])}},fe=H=>{const{name:Se,value:B}=H.target;$(ie=>({...ie,[Se]:B}))},X=H=>{$(Se=>({...Se,selectedMembers:H}))},me=async()=>{if(!I.title||!I.startDate){t({title:"Erreur",description:"Veuillez remplir au minimum le titre et la date",status:"error",duration:3});return}try{const H={title:I.title,type:I.type,description:I.description,startDate:new Date(`${I.startDate}T${I.startTime||"08:00"}`).toISOString(),endDate:I.endDate?new Date(`${I.endDate}T${I.endTime||"17:00"}`).toISOString():null,startTime:I.startTime||"08:00",endTime:I.endTime||"17:00",location:I.location,vehicleId:I.vehicleId||null,driverId:I.driverId||null,selectedMembers:I.selectedMembers,externalEmails:I.externalEmails},Se=await ru("/api/planning/events",{method:"POST",body:JSON.stringify(H)});if(Se.success||Se.event)await ue(),t({title:"Succs",description:`vnement cr et ${Se.emailsSent?.members||0} invitation(s) envoye(s)`,status:"success",duration:3}),$({title:"",description:"",type:"tournee",startDate:"",startTime:"08:00",endDate:"",endTime:"17:00",location:"",vehicleId:"",driverId:"",selectedMembers:[],externalEmails:""}),s();else throw new Error(Se.error||"Erreur inconnue")}catch(H){console.error("Erreur cration vnement:",H),t({title:"Erreur",description:H.message||"Impossible de crer l'vnement",status:"error",duration:3})}},Ee=H=>{x(H),u()},pe=async H=>{try{const Se=await ru(`/api/planning/events/${H}`,{method:"DELETE"});if(Se.success)await ue(),t({title:"Succs",description:"vnement supprim",status:"success",duration:3}),d();else throw new Error(Se.error||"Erreur inconnue")}catch(Se){console.error("Erreur suppression:",Se),t({title:"Erreur",description:Se.message||"Impossible de supprimer l'vnement",status:"error",duration:3})}},K=()=>{S(H=>new Date(H.getFullYear(),H.getMonth()-1,1))},Z=()=>{S(H=>new Date(H.getFullYear(),H.getMonth()+1,1))},W=H=>{const Se=new Date(j.getFullYear(),j.getMonth(),H);$(B=>({...B,startDate:Se.toISOString().split("T")[0]})),r()};return e.jsx(sh,{children:e.jsxs(ds,{maxW:"container.xl",py:8,children:[e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(lr,{justify:"space-between",align:"center",children:[e.jsx(De,{as:"h1",size:"lg",children:" RtroPlanning"}),e.jsx(ne,{colorScheme:"blue",onClick:r,children:" Ajouter un vnement"})]}),e.jsx(kJ,{events:m,currentDate:j,onDateClick:W,onPrevMonth:K,onNextMonth:Z}),e.jsxs(xe,{children:[e.jsx(De,{size:"md",mb:4,children:" vnements prvus"}),!Array.isArray(m)||m.length===0?e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsx(D,{textAlign:"center",color:"gray.500",children:"Aucun vnement prvu pour le moment"})})}):e.jsx(Sa,{templateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:4,children:m.map(H=>e.jsx(Ie,{cursor:"pointer",onClick:()=>Ee(H),_hover:{shadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",children:e.jsx(Ne,{children:e.jsxs(oe,{align:"start",spacing:3,children:[e.jsxs(le,{justify:"space-between",w:"full",children:[e.jsx(De,{size:"sm",children:H.title}),e.jsx(nt,{colorScheme:xj(H.type),children:zA(H.type)})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:H.description}),e.jsxs(le,{fontSize:"xs",color:"gray.500",spacing:4,children:[e.jsxs(D,{children:[" ",eb(H.startDate)]}),H.vehicleId&&e.jsxs(D,{children:[" ",H.vehicleId]})]})]})})},H.id))})]})]}),e.jsxs(kt,{isOpen:n,onClose:s,size:"xl",scrollBehavior:"inside",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:" Crer un nouvel vnement"}),e.jsx($t,{}),e.jsx(Pt,{pb:6,children:e.jsxs(oe,{spacing:4,children:[e.jsxs(xe,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Dtails"}),e.jsxs(oe,{spacing:3,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Titre"}),e.jsx(je,{name:"title",value:I.title,onChange:fe,placeholder:"Titre de l'vnement"})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Type"}),e.jsx(st,{name:"type",value:I.type,onChange:fe,children:y1.map(H=>e.jsx("option",{value:H.value,children:H.label},H.value))})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Description"}),e.jsx(sn,{name:"description",value:I.description,onChange:fe,placeholder:"Dtails de l'vnement",rows:3})]})]})]}),e.jsx(Ln,{}),e.jsxs(xe,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Date et Heure"}),e.jsxs(Sa,{templateColumns:"repeat(2, 1fr)",gap:3,children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Date dbut"}),e.jsx(je,{type:"date",name:"startDate",value:I.startDate,onChange:fe})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Heure dbut"}),e.jsx(je,{type:"time",name:"startTime",value:I.startTime,onChange:fe})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Date fin"}),e.jsx(je,{type:"date",name:"endDate",value:I.endDate,onChange:fe})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Heure fin"}),e.jsx(je,{type:"time",name:"endTime",value:I.endTime,onChange:fe})]})]})]}),e.jsx(Ln,{}),e.jsxs(xe,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Affectations"}),e.jsxs(oe,{spacing:3,children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Vhicule"}),k?e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Chargement des vhicules..."}):z.length===0?e.jsx(D,{fontSize:"sm",color:"red.500",children:"Aucun vhicule disponible"}):e.jsxs(st,{name:"vehicleId",value:I.vehicleId,onChange:fe,children:[e.jsx("option",{value:"",children:"-- Slectionner un vhicule --"}),z.map(H=>e.jsxs("option",{value:H.id,children:[H.parc," - ",H.modele," (",H.marque,")"]},H.id))]})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Chauffeur (Membre)"}),A?e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Chargement des chauffeurs..."}):_.length===0?e.jsx(D,{fontSize:"sm",color:"red.500",children:"Aucun membre disponible"}):e.jsxs(st,{name:"driverId",value:I.driverId,onChange:fe,children:[e.jsx("option",{value:"",children:"-- Slectionner un chauffeur --"}),_.map(H=>e.jsx("option",{value:H.id,children:H.name},H.id))]})]})]})]}),e.jsx(Ln,{}),e.jsxs(xe,{w:"full",children:[e.jsx(De,{size:"sm",mb:3,children:" Participants"}),e.jsxs(oe,{spacing:3,align:"start",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Membres de l'association"}),A?e.jsx(D,{fontSize:"sm",color:"gray.500",children:"Chargement des membres..."}):_.length===0?e.jsx(D,{fontSize:"sm",color:"orange.500",children:"Aucun membre disponible"}):e.jsx(UP,{value:I.selectedMembers,onChange:X,children:e.jsx(Lo,{spacing:2,children:_.map(H=>e.jsxs(mu,{value:H.id,children:[H.name," (",H.email,")"]},H.id))})})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Invitations externes"}),e.jsx(sn,{name:"externalEmails",value:I.externalEmails,onChange:fe,placeholder:`Adresses emails spares par des virgules
exemple@mail.com, autre@mail.com`,rows:3}),e.jsx(D,{fontSize:"xs",color:"gray.500",mt:1,children:"Sparez les adresses par des virgules pour envoyer des invitations par email"})]})]})]}),e.jsx(Ln,{}),e.jsxs(le,{justify:"flex-end",w:"full",pt:4,children:[e.jsx(ne,{variant:"ghost",onClick:s,children:"Annuler"}),e.jsx(ne,{colorScheme:"blue",onClick:me,children:" Crer l'vnement"})]})]})})]})]}),e.jsxs(kt,{isOpen:l,onClose:d,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:g?.title}),e.jsx($t,{}),e.jsx(Pt,{pb:6,children:g&&e.jsxs(oe,{spacing:4,align:"start",children:[e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:1,children:"Type:"}),e.jsx(nt,{colorScheme:xj(g.type),children:zA(g.type)})]}),e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:1,children:"Description:"}),e.jsx(D,{children:g.description||"-"})]}),e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:1,children:"Date dbut:"}),e.jsx(D,{children:eb(g.startDate)})]}),g.endDate&&e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:1,children:"Date fin:"}),e.jsx(D,{children:eb(g.endDate)})]}),g.vehicleId&&e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:1,children:"Vhicule:"}),e.jsx(D,{children:g.vehicleId})]}),g.driverId&&e.jsxs(xe,{children:[e.jsx(D,{fontWeight:"bold",mb:1,children:"Chauffeur:"}),e.jsx(D,{children:g.driverId})]}),e.jsxs(le,{spacing:3,w:"full",pt:4,children:[e.jsx(ne,{colorScheme:"red",flex:1,onClick:()=>pe(g.id),children:" Supprimer"}),e.jsx(ne,{variant:"ghost",flex:1,onClick:d,children:"Fermer"})]})]})})]})]})]})})}const MJ="https://attractive-kindness-rbe-serveurs.up.railway.app";function RJ(){const{eventId:t,memberId:n}=jx(),r=Ro(),s=Mn(),l=gr("white","gray.800"),[u,d]=b.useState(!0),[m,p]=b.useState(null),[g,x]=b.useState(null),[j,S]=b.useState(!1),[_,E]=b.useState(null);b.useEffect(()=>{A()},[t,n]);const A=async()=>{try{d(!0),p({id:t,title:"Tourne collecte fvrier",date:new Date(2025,1,15).toISOString(),description:"Tourne de collecte bi-mensuelle",type:"TOURNEE"}),x({id:n,prenom:"Jean",nom:"Dupont",email:"jean@retrobus.fr"})}catch(M){console.error("Fetch error:",M),E("Impossible de charger les informations")}finally{d(!1)}},T=async M=>{try{if(d(!0),!(await fetch(`${MJ}/api/planning/attendance/${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmed:M})})).ok)throw new Error("Failed");S(!0),s({status:"success",title:M?"Prsence confirme !":"Absence enregistre",duration:3e3}),setTimeout(()=>r("/"),2e3)}catch(k){s({status:"error",title:"Erreur",description:k.message})}finally{d(!1)}};if(u)return e.jsx(jn,{p:6,children:e.jsx(Sn,{size:"xl"})});if(_)return e.jsx(jn,{p:6,minH:"100vh",children:e.jsxs(tn,{status:"error",borderRadius:"lg",children:[e.jsx(nn,{}),_]})});if(j)return e.jsx(jn,{p:6,minH:"100vh",children:e.jsx(Ie,{bg:l,maxW:"500px",w:"100%",children:e.jsxs(Ne,{textAlign:"center",py:10,children:[e.jsxs(xe,{mb:4,children:[e.jsx(xe,{fontSize:"60px",mb:4,children:""}),e.jsx(De,{size:"lg",mb:2,children:"Merci !"}),e.jsx(D,{color:"gray.600",children:"Votre rponse a t enregistre."})]}),e.jsx(ne,{mt:6,onClick:()=>r("/"),children:"Retourner  l'accueil"})]})})});const z=new Date(m.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(jn,{p:6,minH:"100vh",bg:"gray.50",children:e.jsxs(Ie,{bg:l,maxW:"600px",w:"100%",boxShadow:"xl",borderRadius:"xl",children:[e.jsx(Ot,{p:8,borderBottomWidth:"1px",children:e.jsxs(oe,{spacing:4,align:"center",children:[e.jsx(xe,{fontSize:"48px",children:""}),e.jsx(De,{size:"lg",textAlign:"center",children:"Confirmation de prsence"}),e.jsxs(D,{color:"gray.600",textAlign:"center",children:["Bonjour ",g?.prenom," ",g?.nom]})]})}),e.jsx(Ne,{p:8,children:e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(xe,{bg:"blue.50",p:4,borderRadius:"lg",borderLeft:"4px",borderLeftColor:"blue.500",children:[e.jsxs(le,{spacing:3,mb:2,children:[e.jsx(ls,{size:20,color:"#3b82f6"}),e.jsx(De,{size:"sm",children:m?.title})]}),e.jsx(D,{fontSize:"sm",color:"gray.600",mb:2,children:z}),m?.description&&e.jsx(D,{fontSize:"sm",children:m.description})]}),e.jsxs(oe,{spacing:3,pt:4,children:[e.jsx(D,{fontWeight:"600",textAlign:"center",children:"Confirmer votre prsence ?"}),e.jsxs(le,{spacing:3,w:"100%",children:[e.jsx(ne,{leftIcon:e.jsx(gx,{}),colorScheme:"green",size:"lg",flex:"1",onClick:()=>T(!0),isLoading:u,children:" Je serai prsent"}),e.jsx(ne,{leftIcon:e.jsx(jp,{}),colorScheme:"red",size:"lg",flex:"1",variant:"outline",onClick:()=>T(!1),isLoading:u,children:" Je ne pourrai pas"})]})]}),e.jsx(xe,{pt:4,borderTopWidth:"1px",children:e.jsxs(D,{fontSize:"xs",color:"gray.500",textAlign:"center",children:["Votre email: ",g?.email]})})]})})]})})}const DA={confirmed:{label:"Confirmer ma prsence",color:"green",icon:""},declined:{label:"Refuser",color:"red",icon:""},proposed_reschedule:{label:"Proposer un report",color:"orange",icon:""}};function zJ(){const t=Mn(),{isOpen:n,onOpen:r,onClose:s}=It(),[l,u]=b.useState([]),[d,m]=b.useState(!0),[p,g]=b.useState(null),[x,j]=b.useState("confirmed"),[S,_]=b.useState(""),[E,A]=b.useState(""),[T,z]=b.useState(!1);b.useEffect(()=>{M()},[]);const M=async()=>{try{m(!0);const $=await ru("/api/planning/my-invitations");Array.isArray($)?u($):u([])}catch($){console.error("Erreur chargement invitations:",$),t({title:"Erreur",description:"Impossible de charger les invitations",status:"error",duration:3}),u([])}finally{m(!1)}},k=async()=>{if(p)try{z(!0);const $={participantId:p.participantId,status:x,rescheduleProposal:x==="proposed_reschedule"?S:null,rescheduleReason:x==="proposed_reschedule"?E:null},G=await ru(`/api/planning/respond-invitation/${p.planningId}/${p.participantId}`,{method:"POST",body:JSON.stringify($)});if(G.success)t({title:"Succs",description:`Votre rponse a t enregistre: ${DA[x].label}`,status:"success",duration:3}),u(ee=>ee.map(ue=>ue.participantId===p.participantId?{...ue,status:x}:ue)),s();else throw new Error(G.error||"Erreur lors de la soumission")}catch($){console.error("Erreur rponse:",$),t({title:"Erreur",description:$.message||"Impossible de soumettre votre rponse",status:"error",duration:3})}finally{z(!1)}},O=$=>({pending:"yellow",confirmed:"green",declined:"red",proposed_reschedule:"orange"})[$]||"gray",I=$=>({pending:"En attente de rponse",confirmed:"Confirm",declined:"Refus",proposed_reschedule:"Report propos"})[$]||$;return e.jsx(sh,{children:e.jsxs(ds,{maxW:"container.lg",py:8,children:[e.jsxs(oe,{spacing:6,align:"stretch",children:[e.jsxs(xe,{children:[e.jsx(De,{size:"lg",mb:2,children:" Mes Invitations"}),e.jsxs(D,{color:"gray.600",children:["Vous avez ",l.length," invitation",l.length!==1?"s":""]})]}),d?e.jsx(D,{children:"Chargement..."}):l.length===0?e.jsx(Ie,{children:e.jsx(Ne,{children:e.jsx(D,{textAlign:"center",color:"gray.500",children:"Vous n'avez pas d'invitations en attente"})})}):e.jsx(oe,{spacing:4,children:l.map($=>e.jsx(Ie,{w:"full",children:e.jsx(Ne,{children:e.jsxs(oe,{align:"start",spacing:3,w:"full",children:[e.jsxs(lr,{w:"full",justify:"space-between",align:"start",children:[e.jsxs(oe,{align:"start",flex:1,spacing:2,children:[e.jsx(De,{size:"md",children:$.eventTitle}),e.jsx(D,{fontSize:"sm",color:"gray.600",children:$.eventType?`Type: ${$.eventType}`:""}),e.jsxs(le,{spacing:4,fontSize:"sm",children:[e.jsxs(D,{children:[" ",new Date($.eventDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),e.jsxs(D,{children:[" ",$.eventStartTime||"Heure non dfinie"]})]}),$.eventLocation&&e.jsxs(D,{fontSize:"sm",color:"gray.600",children:[" ",$.eventLocation]}),$.eventDescription&&e.jsx(D,{fontSize:"sm",color:"gray.600",noOfLines:2,children:$.eventDescription})]}),e.jsx(nt,{colorScheme:O($.status),ml:4,textTransform:"capitalize",children:I($.status)})]}),$.status==="pending"&&e.jsxs(le,{spacing:2,pt:2,borderTop:"1px solid",borderColor:"gray.200",w:"full",children:[e.jsx(ne,{size:"sm",colorScheme:"green",onClick:()=>{g($),j("confirmed"),r()},children:" Confirmer"}),e.jsx(ne,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{g($),j("declined"),r()},children:" Refuser"}),e.jsx(ne,{size:"sm",colorScheme:"orange",variant:"outline",onClick:()=>{g($),j("proposed_reschedule"),r()},children:" Reporter"})]}),$.status==="proposed_reschedule"&&$.rescheduleProposal&&e.jsxs(xe,{fontSize:"sm",p:2,bg:"orange.50",borderRadius:"md",w:"full",children:[e.jsxs(D,{fontWeight:"bold",color:"orange.700",children:["Report propos au: ",new Date($.rescheduleProposal).toLocaleDateString("fr-FR")]}),$.rescheduleReason&&e.jsx(D,{color:"orange.700",children:$.rescheduleReason})]})]})})},$.participantId))})]}),e.jsxs(kt,{isOpen:n,onClose:s,size:"lg",children:[e.jsx(Rt,{}),e.jsxs(Dt,{children:[e.jsx(Mt,{children:p&&`Rpondre : ${p.eventTitle}`}),e.jsx($t,{}),e.jsx(Pt,{pb:6,children:e.jsxs(oe,{spacing:4,children:[x==="proposed_reschedule"&&e.jsxs(e.Fragment,{children:[e.jsxs(J,{isRequired:!0,children:[e.jsx(Q,{children:"Date propose"}),e.jsx(je,{type:"date",value:S,onChange:$=>_($.target.value)})]}),e.jsxs(J,{children:[e.jsx(Q,{children:"Raison du report"}),e.jsx(sn,{value:E,onChange:$=>A($.target.value),placeholder:"Expliquez pourquoi vous proposez ce report...",rows:4})]})]}),x==="declined"&&e.jsxs(J,{children:[e.jsx(Q,{children:"Motif du refus (optionnel)"}),e.jsx(sn,{value:E,onChange:$=>A($.target.value),placeholder:"Expliquez pourquoi vous refusez cette invitation...",rows:4})]}),e.jsxs(le,{w:"full",pt:4,children:[e.jsx(ne,{flex:1,colorScheme:x==="confirmed"?"green":x==="declined"?"red":"orange",isLoading:T,onClick:k,children:DA[x].label}),e.jsx(ne,{flex:1,variant:"outline",onClick:s,isDisabled:T,children:"Annuler"})]})]})})]})]})]})})}function DJ(){const{isAuthenticated:t}=Ni(),n=Za();console.log(" Current route:",n.pathname);const r=t&&n.pathname!=="/login";return e.jsxs(e.Fragment,{children:[r&&e.jsx(KX,{}),e.jsxs(hL,{children:[e.jsx(Zn,{path:"/login",element:e.jsx(dJ,{})}),e.jsx(Zn,{path:"/dashboard/home",element:e.jsx(Mr,{children:e.jsx(Fy,{})})}),e.jsx(Zn,{path:"/dashboard/myrbe",element:e.jsx(Mr,{children:e.jsx(KK,{})})}),e.jsx(Zn,{path:"/dashboard/myrbe/:parc",element:e.jsx(Mr,{children:e.jsx(JK,{})})}),e.jsx(Zn,{path:"/admin/finance",element:e.jsx(Mr,{children:e.jsx(sQ,{})})}),e.jsx(Zn,{path:"/dashboard/vehicules",element:e.jsx(Mr,{children:e.jsx(BK,{})})}),e.jsx(Zn,{path:"/dashboard/vehicules/ajouter",element:e.jsx(Mr,{children:e.jsx(QX,{children:e.jsx(qK,{})})})}),e.jsx(Zn,{path:"/dashboard/vehicules/:parc",element:e.jsx(Mr,{children:e.jsx(XK,{})})}),e.jsx(Zn,{path:"/dashboard/evenements",element:e.jsx(Mr,{children:e.jsx(aQ,{})})}),e.jsx(Zn,{path:"/dashboard/events-management",element:e.jsx(Mr,{children:e.jsx(NQ,{})})}),e.jsx(Zn,{path:"/dashboard/events-creation",element:e.jsx(Mr,{children:e.jsx(BQ,{})})}),e.jsx(Zn,{path:"/dashboard/test-events",element:e.jsx(Mr,{children:e.jsx($Q,{})})}),e.jsx(Zn,{path:"/dashboard/site-management",element:e.jsx(yg,{resource:Zr.SITE_MANAGEMENT,children:e.jsx(nJ,{})})}),e.jsx(Zn,{path:"/dashboard/flash-management",element:e.jsx(Mr,{children:e.jsx(sJ,{})})}),e.jsx(Zn,{path:"/dashboard/retromerch",element:e.jsx(Mr,{children:e.jsx(CJ,{})})}),e.jsx(Zn,{path:"/dashboard/stock-management",element:e.jsx(Mr,{children:e.jsx(iJ,{})})}),e.jsx(Zn,{path:"/dashboard/members-management",element:e.jsx(Mr,{children:e.jsx(SJ,{})})}),e.jsx(Zn,{path:"/members",element:e.jsx(Mr,{children:e.jsx(xJ,{})})}),e.jsx(Zn,{path:"/adhesion",element:e.jsx(Mr,{children:e.jsx(oJ,{})})}),e.jsx(Zn,{path:"/dashboard/newsletter",element:e.jsx(Mr,{children:e.jsx(hJ,{})})}),e.jsx(Zn,{path:"/dashboard/newsletter-campaigns",element:e.jsx(Mr,{children:e.jsx(fJ,{})})}),e.jsx(Zn,{path:"/dashboard/retroplanning",element:e.jsx(yg,{resource:Zr.RETROPLANNING,children:e.jsx(PJ,{})})}),e.jsx(Zn,{path:"/planning/attendance/:eventId/:memberId",element:e.jsx(RJ,{})}),e.jsx(Zn,{path:"/planning/my-invitations",element:e.jsx(yg,{resource:Zr.RETROPLANNING_RESPOND,children:e.jsx(zJ,{})})}),e.jsx(Zn,{path:"/dashboard/support",element:e.jsx(yg,{resource:Zr.RETROSUPPORT,children:e.jsx(_J,{})})}),e.jsx(Zn,{path:"/retromail",element:e.jsx(Mr,{children:e.jsx(rQ,{})})}),e.jsx(Zn,{path:"/mobile/v/:parc",element:e.jsx(Mr,{children:e.jsx(UK,{})})}),e.jsx(Zn,{path:"/",element:e.jsx(Mr,{children:e.jsx(Fy,{})})}),e.jsx(Zn,{path:"*",element:e.jsx(Mr,{children:e.jsx(Fy,{})})})]})]})}SD.createRoot(document.getElementById("root")).render(e.jsx(cn.StrictMode,{children:e.jsx(TU,{theme:aX,children:e.jsx(OL,{children:e.jsx(vX,{children:e.jsx(DJ,{})})})})}));
